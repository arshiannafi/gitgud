Update README.md, 38279022, 40, 8, 40
Update README.md  fix typo, 38279022, 40, 8, 40
Initial checkin of 3-in-1 Dock maker files, 38279022, 40, 8, 40
Update README.md, 38279022, 40, 8, 40
Initial commit, 38279022, 40, 8, 40
Merge branch 'master' of https://github.com/Microsoft/AADConnectConfigDocumenter.git, 57305206, 27, 7, 27
Added capability to define table sizes (standard large and huge)., 57305206, 27, 7, 27
Minor updates to ReadMe.md, 57305206, 27, 7, 27
Minor updates to ReadMe.md, 57305206, 27, 7, 27
attributeInfo Null object check for any misconfig as reported in GitHub Issue #4 for directory schema extension, 57305206, 27, 7, 27
Fixed issue where the "Selected Attributes" section of a connector may display incorrect attribute type information., 57305206, 27, 7, 27
Variablized $syncRuleId and $syncRulePrecedence to improve portability of sync rule changes script., 57305206, 27, 7, 27
Code refactoring syncup with MIMConfigDocumenter., 57305206, 27, 7, 27
minor updates to ReadMe wiki., 57305206, 27, 7, 27
minor highlighting in ReadMe wiki., 57305206, 27, 7, 27
Merge branch 'master' of https://github.com/Microsoft/AADConnectConfigDocumenter.git, 57305206, 27, 7, 27
Added support for GSQL GLDAP WebServices connectors. Additional code refactoring., 57305206, 27, 7, 27
Updated with notes on how to "prep" the files if the connector names don't match between enviorments, 57305206, 27, 7, 27
Incremented version number., 57305206, 27, 7, 27
Fixed broken TOC Level 3 jumps, 57305206, 27, 7, 27
Code Refactoring. TOC formatting updated to make Additions /Deletions color coded., 57305206, 27, 7, 27
Merge branch 'master' of https://github.com/Microsoft/AADConnectConfigDocumenter.git, 57305206, 27, 7, 27
Bugfix in SyncRule changes script when the Expression has dependency on more than on attribute, 57305206, 27, 7, 27
Bugfix in SyncRule changes script, 57305206, 27, 7, 27
Changes to make download script functionality compatible with IE., 57305206, 27, 7, 27
Updated ReadMe.md, 57305206, 27, 7, 27
Corrected assembly version info., 57305206, 27, 7, 27
Minor improvements to the sync rule download script., 57305206, 27, 7, 27
finalised code changes for the capability to create differential sync rule scripts., 57305206, 27, 7, 27
Merge branch 'master' of https://github.com/Microsoft/AADConnectConfigDocumenter.git, 57305206, 27, 7, 27
Added capability to create differential sync rule scripts., 57305206, 27, 7, 27
minor update to ReadMe.md., 57305206, 27, 7, 27
BUGFIX for missing Outbound SR Summary sections, 57305206, 27, 7, 27
Updated ChangeLog for Version 1.16.0915.0, 57305206, 27, 7, 27
Corrected XPath condition for filtering out disabled sync rules so that it's backward compatible to the AADSync versions which did not have this capability. Also fixed the issue of Selected Attributes section not showing Import/Export status in the "Flows Configured?" column. Changes for allowing more than one instances running concurrently., 57305206, 27, 7, 27
Fixed - Active Directory connector showing false positives for inclusion / exclusion OUs in some cases., 57305206, 27, 7, 27
fixed another typo in ChangeLog.md, 57305206, 27, 7, 27
fixed typos in ChangeLog.md, 57305206, 27, 7, 27
Updated change log for v1.16.0812.0, 57305206, 27, 7, 27
Bugfix for AD Inclusion/Exclusion OU information reporting false positives in the change report in some cases. Now Sorting DN's first.  Not printing Disabled sync rules in the Metaverse Precedence section or Rules Summary sections., 57305206, 27, 7, 27
Added support to show only changes between "pilot" and "production" environment config., 57305206, 27, 7, 27
Merge branch 'master' of https://github.com/Microsoft/AADConnectConfigDocumenter.git, 57305206, 27, 7, 27
Change for proper closing of some of the html span and tr tags., 57305206, 27, 7, 27
Adding Code of Conduct info  Adding Code of Conduct, 57305206, 27, 7, 27
BUGFIX - In MV Object Type section precendence on attribute was getting sorted as string instead of int. BUGIFX - In Join Rules in Outbound sync rules the source and target attribute were swapped., 57305206, 27, 7, 27
Merge branch 'master' of https://github.com/Microsoft/AADConnectConfigDocumenter.git, 57305206, 27, 7, 27
Enhancement - Do not print the vanity row of an empty table if it appears as a deleted row in the diffram., 57305206, 27, 7, 27
Improvements to printed report header to include details of pilot/prod config used and version of the sync engine. Moved Global Settings from Metaverse Config to it's own section. BUGFIX in Selected Attribute sections to correctly list Import/Export flows. Fixed Metaverse Object Deletion Rule PrintColumn settings not to show unnecessarily update., 57305206, 27, 7, 27
Minor update to ReadMe.md, 57305206, 27, 7, 27
Updated ReadMe.md to add link to a sample report, 57305206, 27, 7, 27
Minor updates to ReadMe.md, 57305206, 27, 7, 27
Corrected the link to the "releases" tab., 57305206, 27, 7, 27
Update README.md, 57305206, 27, 7, 27
Added short Link to ReadMe, 57305206, 27, 7, 27
Updates to Usage Instructions., 57305206, 27, 7, 27
Minor Edits to ReadMe.md and ChangeLog.md., 57305206, 27, 7, 27
Baseline check-in of existing AADSyncConfigDocumenter v1.15.1030.0, 57305206, 27, 7, 27
Initial commit, 57305206, 27, 7, 27
corrected the tenon io link  corrected the tenon io link, 32419990, 7, 5, 7
Adding the Readme file  Readme, 32419990, 7, 5, 7
Source code upload  Tenon Accessibility checker source code upload to github, 32419990, 7, 5, 7
Revert "Test upload"  This reverts commit 7a933de65ea23d7db747e7657288c074c7fd4d7b., 32419990, 7, 5, 7
Test upload  Test. commit to master, 32419990, 7, 5, 7
Initial commit, 32419990, 7, 5, 7
Review and minor changes, 81911108, 36, 22, 36
Do not default to clean!!! This wipes out all generated files  that are also in git. Do not remove README.md at all as it is not a generated file., 81911108, 36, 22, 36
Review and minor changes, 81911108, 36, 22, 36
Spell check, 81911108, 36, 22, 36
Review dataset descriptions., 81911108, 36, 22, 36
Add intro and begin description of the third dataset., 81911108, 36, 22, 36
Add motivation., 81911108, 36, 22, 36
Review and refine., 81911108, 36, 22, 36
Add CreditRiskPrediction/Code/CreditRiskDeploy2.Rmd, 81911108, 36, 22, 36
update, 81911108, 36, 22, 36
Update a new version of CreditRiskScale which could build multiple models in parallel using rxExec, 81911108, 36, 22, 36
Upload the jupyter notebook for CreditRiskShinyApp, 81911108, 36, 22, 36
Update the README, 81911108, 36, 22, 36
Update CreditRiskShinyApp, 81911108, 36, 22, 36
Upload the CreditRiskShinyApp, 81911108, 36, 22, 36
Updates README, 81911108, 36, 22, 36
Updates README, 81911108, 36, 22, 36
Upload presentation at MLDSS in Korea, 81911108, 36, 22, 36
Merge branch 'master' of github.com:Microsoft/acceleratoRs, 81911108, 36, 22, 36
Rewrote SparkR data manipulation, 81911108, 36, 22, 36
A bunch of changes..., 81911108, 36, 22, 36
Remove old jupyter notebook, 81911108, 36, 22, 36
Don't need to save model, 81911108, 36, 22, 36
Uploaded the jupyter notebooks, 81911108, 36, 22, 36
upload the pre-trained fast tree model, 81911108, 36, 22, 36
Update README file, 81911108, 36, 22, 36
Updated README file, 81911108, 36, 22, 36
Update CreditRiskScale and CreditRiskDeploy, 81911108, 36, 22, 36
Updated the README file, 81911108, 36, 22, 36
Uploaded CreditRiskScale  Build faster and scalable credit risk models by using MicrosoftML., 81911108, 36, 22, 36
Upload the jupyter notebook for credit risk deploy, 81911108, 36, 22, 36
Updated the README files, 81911108, 36, 22, 36
Upload the CreditRiskDeploy  Deploy a credit risk model as a web service by using mrsdeploy, 81911108, 36, 22, 36
Merge branch 'master' of github.com:Microsoft/acceleratoRs, 81911108, 36, 22, 36
Update demo cdoes, 81911108, 36, 22, 36
Ensure {} aligned in formatting. Other minor format.  Considered changing bad_flag to target but decide not to - bad is descriptive!, 81911108, 36, 22, 36
Add library scales for comma()  Always echo dimensions on reading a dataset. Add example in-line R code. Formatting updates., 81911108, 36, 22, 36
Updated README file, 81911108, 36, 22, 36
Updates of files, 81911108, 36, 22, 36
Merge branch 'master' of github.com:Microsoft/acceleratoRs, 81911108, 36, 22, 36
Added DSVM demo with air delay prediction, 81911108, 36, 22, 36
Uploaded the ipynb for creditriskprediction, 81911108, 36, 22, 36
Uploaded the R accelerator for credit risk prediction, 81911108, 36, 22, 36
Updated the blog for education analytics, 81911108, 36, 22, 36
updated Readme, 81911108, 36, 22, 36
move R code to code folder, 81911108, 36, 22, 36
clean up, 81911108, 36, 22, 36
Updated html files for EducationAnalytics, 81911108, 36, 22, 36
add slide deck, 81911108, 36, 22, 36
Add backup files to be ignored., 81911108, 36, 22, 36
Add a generic Makefile to generate all types of documents., 81911108, 36, 22, 36
Remove FSelector - too many Java problems. Remove hard coded  reference to ZhouF file system., 81911108, 36, 22, 36
Remove placholder, 81911108, 36, 22, 36
Remove placholder, 81911108, 36, 22, 36
Merge branch 'master' of https://github.com/Microsoft/acceleratoRs, 81911108, 36, 22, 36
Updated ipynb and html accordingly, 81911108, 36, 22, 36
Merge branch 'master' of github.com:Microsoft/acceleratoRs, 81911108, 36, 22, 36
now msLanguageR instead of languageR  To avoid naming conflict with another CRAN package "languageR", 81911108, 36, 22, 36
project files, 81911108, 36, 22, 36
documentation tweak, 81911108, 36, 22, 36
refactor for RTVS compat, 81911108, 36, 22, 36
Merge pull request #1 from benmarwick/patch-1  fix a few typos, 81911108, 36, 22, 36
Added caption of framework and Github url for presentation., 81911108, 36, 22, 36
Some other text edits..., 81911108, 36, 22, 36
An html for convenience presentation., 81911108, 36, 22, 36
Text edits, 81911108, 36, 22, 36
fix a few typos  Great read thanks!, 81911108, 36, 22, 36
Updated charts, 81911108, 36, 22, 36
Added framework illustration, 81911108, 36, 22, 36
Text edits, 81911108, 36, 22, 36
Updated files, 81911108, 36, 22, 36
Table of leave reasons, 81911108, 36, 22, 36
Added exhaustive list of leave reasons., 81911108, 36, 22, 36
Added trainControl for meta model to avoid resampling issues., 81911108, 36, 22, 36
Uploaded FOSSAsia presentation, 81911108, 36, 22, 36
Updated notebook html preview, 81911108, 36, 22, 36
Aligned label with chart content., 81911108, 36, 22, 36
Updated README, 81911108, 36, 22, 36
Updated blog post, 81911108, 36, 22, 36
Added FOSSAsia meetup presentation of employee attrition prediction, 81911108, 36, 22, 36
add galaxy classification workflow, 81911108, 36, 22, 36
Added hyperlinks to data source, 81911108, 36, 22, 36
Not to exec codes containing confidential info. Generated Jupyter notebook, 81911108, 36, 22, 36
html PDF and ipynb available for R markdown, 81911108, 36, 22, 36
Polished top-level README, 81911108, 36, 22, 36
Uploaded R accelerator for Education Analytics  This is an initial version of R accelerator for Education Analytics now covering student drop out and student performance modeling., 81911108, 36, 22, 36
Text and format, 81911108, 36, 22, 36
Rewrote some text, 81911108, 36, 22, 36
Initialize the repo. Added GeneralTemplate and EmployeeAttritionPrediction use case, 81911108, 36, 22, 36
Initial commit, 81911108, 36, 22, 36
Initial commit, 81911108, 36, 22, 36
Initial commit, 81911108, 36, 22, 36
Adding a note that calls out this repo is no longer maintained, 50415500, 720, 97, 720
Adjust footer spacing, 50415500, 720, 97, 720
Footer and documentation tweaks, 50415500, 720, 97, 720
Footer tweak, 50415500, 720, 97, 720
Footer tweak, 50415500, 720, 97, 720
Merge documentation into master branch, 50415500, 720, 97, 720
0.1.2, 50415500, 720, 97, 720
Expose ace.android.startActivity to JS  Cutting down on the app code needed, 50415500, 720, 97, 720
Merge pull request #59 from frederikbosch/patch-4  onInitializeFailed AND String.prototype.startsWith, 50415500, 720, 97, 720
onInitializeFailed AND String.prototype.startsWith, 50415500, 720, 97, 720
Merge pull request #56 from frederikbosch/patch-3  Upgrade fs-extra to latest version, 50415500, 720, 97, 720
Merge pull request #55 from frederikbosch/patch-2  Remove alert, 50415500, 720, 97, 720
0.1.1, 50415500, 720, 97, 720
Fixes #57: Array extensions shouldn't be enumerable, 50415500, 720, 97, 720
Upgrade fs-extra to latest version, 50415500, 720, 97, 720
Remove alert  We should not use `alert`. Error popups in production apps is not what we want. For debugging purposes `adb logcat` and similar is the tools we need., 50415500, 720, 97, 720
Merge pull request #53 from frederikbosch/patch-1  Fixes #37, 50415500, 720, 97, 720
Fixes #37, 50415500, 720, 97, 720
0.1.0, 50415500, 720, 97, 720
Fix for iOS Cordova version check  Older environments don’t have __CORDOVA_4_0_0 defined resulting in a build error., 50415500, 720, 97, 720
0.0.17, 50415500, 720, 97, 720
iOS: Fix DatePicker.getDate & TimePicker.getTime (the rest of the fix for #49), 50415500, 720, 97, 720
iOS: Fix DatePicker.setDate & TimePicker.setTime (partial fix for #49), 50415500, 720, 97, 720
0.0.16, 50415500, 720, 97, 720
Fixes #35: Doesn't work with Cordova Lib 4.0.1+  shouldOverrideLoadWithRequest must return true for normal HTML requests although on earlier versions it must still return false!, 50415500, 720, 97, 720
Merge pull request #41 from frederikbosch/progressive-enhancement  Progressive enhancement for supported devices, 50415500, 720, 97, 720
return true for android kitkat and newer, 50415500, 720, 97, 720
Merge pull request #44 from frederikbosch/android-tab-bar-icon-only  android: allow icon only tab bar button (no text), 50415500, 720, 97, 720
Merge pull request #38 from frederikbosch/master  Create javascript accessor for TopAppBar, 50415500, 720, 97, 720
Merge pull request #40 from frederikbosch/secondary-buttons  Support secondary buttons in iOS (leftBarButtonItems), 50415500, 720, 97, 720
Merge pull request #45 from frederikbosch/ios-bar-tint  Allow to set navigation bar colors, 50415500, 720, 97, 720
fix merge error, 50415500, 720, 97, 720
fix merge error, 50415500, 720, 97, 720
implement bar tint and tint color for android, 50415500, 720, 97, 720
navigation bar colors, 50415500, 720, 97, 720
a little margin around the icons, 50415500, 720, 97, 720
allow icon only tab bar button (no text), 50415500, 720, 97, 720
drop support for ios7 and below, 50415500, 720, 97, 720
fix return boolean for android, 50415500, 720, 97, 720
return whether ace is supported or not, 50415500, 720, 97, 720
Support secondarry buttons in iOS, 50415500, 720, 97, 720
Create javascript accessor for TopAppBar, 50415500, 720, 97, 720
0.0.15, 50415500, 720, 97, 720
Fix for issue #25: Xcode 7.3 build error, 50415500, 720, 97, 720
Merge pull request #24 from krik/fix/add-android-webview-sources-to-plugin-xml  Include sources for Android webview in plugin.xml, 50415500, 720, 97, 720
Include sources for Android webview in plugin.xml, 50415500, 720, 97, 720
0.0.14, 50415500, 720, 97, 720
Map Uid to accessibilityIdentifier on iOS, 50415500, 720, 97, 720
Map Uid to contentDescription on Android, 50415500, 720, 97, 720
Readjust ToggleSwitch margins on iOS, 50415500, 720, 97, 720
Android LinearGradientBrush fix, 50415500, 720, 97, 720
Adjust default padding on some Android controls, 50415500, 720, 97, 720
Android support for setting Image source to network-based image, 50415500, 720, 97, 720
Android: Allow null values for BottomAppBar, 50415500, 720, 97, 720
Android: Handle showing empty command bars and tab bars, 50415500, 720, 97, 720
iOS: Adjust page layout for AceViewController vs. MainViewController, 50415500, 720, 97, 720
iOS visual tweaks, 50415500, 720, 97, 720
Bug fix for ace.load of XIB, 50415500, 720, 97, 720
iOS workaround for event handler args marshaling limitations, 50415500, 720, 97, 720
Initial JS geometry-related classes, 50415500, 720, 97, 720
iOS SelectionChanged event: pass item + index, 50415500, 720, 97, 720
Android SelectionChanged event: pass item + index, 50415500, 720, 97, 720
Null children checks added to Canvas/StackPanel onLayout (Android), 50415500, 720, 97, 720
0.0.13, 50415500, 720, 97, 720
Android Path rendering fix, 50415500, 720, 97, 720
ListBox SelectionChanged event (Android), 50415500, 720, 97, 720
Invalidate Path on iOS after Data is updated, 50415500, 720, 97, 720
ListBox SelectionChanged event (iOS), 50415500, 720, 97, 720
Fix issue #18: iOS Build error with Cordova 6.0.0, 50415500, 720, 97, 720
Initial TableView abstraction (iOS only for now), 50415500, 720, 97, 720
Expose content alignment properties on Control, 50415500, 720, 97, 720
Android GeometryParser, 50415500, 720, 97, 720
Android version update, 50415500, 720, 97, 720
Android GeometryContext, 50415500, 720, 97, 720
0.0.12, 50415500, 720, 97, 720
Android vector graphics tweaks, 50415500, 720, 97, 720
Restore commented-out parts of an example, 50415500, 720, 97, 720
Make AceExamples on Android not require Lollipop+, 50415500, 720, 97, 720
Android version check helper for JavaScript, 50415500, 720, 97, 720
Android KitKat support, 50415500, 720, 97, 720
iOS VerticalContentAlignment placeholder, 50415500, 720, 97, 720
iOS HorizontalContentAlignment, 50415500, 720, 97, 720
ColumnSpan bug fix (iOS), 50415500, 720, 97, 720
ColumnSpan bug fix (Android), 50415500, 720, 97, 720
Convenience constructors for RowDefinition/ColumnDefinition, 50415500, 720, 97, 720
Android support for content alignment, 50415500, 720, 97, 720
Fix Android stretch-sizing issues in Grid, 50415500, 720, 97, 720
Handle horizontal/vertical alignment in Grid (Android), 50415500, 720, 97, 720
HorizontalAlignment/VerticalAlignment JavaScript properties, 50415500, 720, 97, 720
Account for padding in Grid layout (Android), 50415500, 720, 97, 720
Handle horizontal/vertical alignment in StackPanel (Android), 50415500, 720, 97, 720
0.0.11, 50415500, 720, 97, 720
Android: respect margins in Grid + tweaks to handling of layout properties, 50415500, 720, 97, 720
Android: respect margins in Canvas, 50415500, 720, 97, 720
Android: respect margins in StackPanel, 50415500, 720, 97, 720
Merge pull request #13 from elad-lachmi/master  Exception when setting 'location=no' optional setting, 50415500, 720, 97, 720
Android getTag/setTag helpers + handling null padding, 50415500, 720, 97, 720
Android: Support string thicknesses specified in JS, 50415500, 720, 97, 720
Handle all horizontal/vertical alignment values in Grid (iOS), 50415500, 720, 97, 720
Handle all horizontal/vertical alignment values in StackPanel (iOS), 50415500, 720, 97, 720
external.getPluginAsync for iOS, 50415500, 720, 97, 720
Grabbing a button on the location bar assumes that a location bar exists. Grabbing the webview of the inappbrowser works in any case., 50415500, 720, 97, 720
New example: Adding native UI to existing InAppBrowser plugin, 50415500, 720, 97, 720
Android: Support plain CommandBar as BottomAppBar, 50415500, 720, 97, 720
Android: external.getPluginAsync + get private field, 50415500, 720, 97, 720
Android fix for programmatically setting a GridLength to "*", 50415500, 720, 97, 720
Merge pull request #11 from CodeMooseUS/eventdispatchfix  Fix raiseEvent by cloning handler list closes #10, 50415500, 720, 97, 720
Fix raiseEvent by cloning handler list closes #10, 50415500, 720, 97, 720
Move two classes to a different package to match expectations from compiled markup, 50415500, 720, 97, 720
Adjust handling of external navigation controllers, 50415500, 720, 97, 720
New ace.external APIs for manipulating modal content placed by other plugins, 50415500, 720, 97, 720
iOS fix for programmatically setting a GridLength to "*", 50415500, 720, 97, 720
Update URLs, 50415500, 720, 97, 720
Add info about downloading Android emulators, 50415500, 720, 97, 720
0.0.10, 50415500, 720, 97, 720
Add Android requirements, 50415500, 720, 97, 720
Alert if running on Android version < 5.0, 50415500, 720, 97, 720
iOS minor cleanup, 50415500, 720, 97, 720
iOS JS helpers for getting the current NavigationController or presented ViewController, 50415500, 720, 97, 720
iOS: Allow native methods to return nil when invoked directly, 50415500, 720, 97, 720
Fix iOS toolbar button centering, 50415500, 720, 97, 720
Fix iOS toolbar button centering, 50415500, 720, 97, 720
Add PrimaryCommands property to JS CommandBar definition, 50415500, 720, 97, 720
0.0.9, 50415500, 720, 97, 720
Accept VerticalAlignment (iOS), 50415500, 720, 97, 720
Margin support within iOS Grid, 50415500, 720, 97, 720
iOS layout improvements  Includes: - Padding support on StackPanel and Grid - Margin support inside Canvas - Popup positioning fixes - Many layout bug fixes, 50415500, 720, 97, 720
iOS TabBar size fix, 50415500, 720, 97, 720
Tweak output of compiled markup dump, 50415500, 720, 97, 720
Set default Image size to natural size on iOS (like on Android), 50415500, 720, 97, 720
@throw -> throw + Image error handling, 50415500, 720, 97, 720
Remove unprintable character from some JS files, 50415500, 720, 97, 720
x-plat utility for dumping compiled markup + XbfReader tweaks, 50415500, 720, 97, 720
iOS width/height adjustments + helpers for CGRect, 50415500, 720, 97, 720
More Android vector graphics classes, 50415500, 720, 97, 720
iOS Margin and Padding updates, 50415500, 720, 97, 720
Link updates in README, 50415500, 720, 97, 720
0.0.8, 50415500, 720, 97, 720
URL updates, 50415500, 720, 97, 720
Copyright headers, 50415500, 720, 97, 720
Most of Android vector graphics classes + color refactoring, 50415500, 720, 97, 720
Add JS Image class, 50415500, 720, 97, 720
Image support for Android  Brings this to parity with iOS, 50415500, 720, 97, 720
iOS vector graphics classes + refactor color handling, 50415500, 720, 97, 720
Move the rest of the .m files over to .mm, 50415500, 720, 97, 720
Image support for iOS, 50415500, 720, 97, 720
0.0.7, 50415500, 720, 97, 720
Support JSON styles, 50415500, 720, 97, 720
Examples update: Show navigation bar when navigating to xib, 50415500, 720, 97, 720
Ensure dependencies are installed when doing before_compile plugin hook on Android., 50415500, 720, 97, 720
Ensure dependencies are installed when doing after_prepare iOS plugin hook, 50415500, 720, 97, 720
Add .xib to examples to demonstrate HTML link, 50415500, 720, 97, 720
Tweak to after_plugin_install hook to avoid iOS issue, 50415500, 720, 97, 720
Update examples with HTML link to Android XML, 50415500, 720, 97, 720
Merge with earlier changes, 50415500, 720, 97, 720
Support for iOS resources (.xib)  This also moves the plugin_hooks folder under src., 50415500, 720, 97, 720
README tweak, 50415500, 720, 97, 720
README quick start update, 50415500, 720, 97, 720
Fixes issue #2: JavaScript definition of TabBar is missing, 50415500, 720, 97, 720
Development notes in README, 50415500, 720, 97, 720
Map controls in the ace namespace to Javascript wrappers in the same namespace.  This is to support controls that aren't in the default XAML namespace (like TabBar) but are still "built-in" from the perspective of JavaScript., 50415500, 720, 97, 720
Merge pull request #4 from MisShellyMac/master  Fix issue #3: JavaScript definition of Grid is missing some APIs, 50415500, 720, 97, 720
Fix issue #3: JavaScript definition of Grid is missing some APIs  Add Grid APIs for configuring rows/columns + test in examples app, 50415500, 720, 97, 720
Add more info to README, 50415500, 720, 97, 720
Make it easier to run examples from command line, 50415500, 720, 97, 720
Better error reporting, 50415500, 720, 97, 720
Overlay example fix for iOS, 50415500, 720, 97, 720
Add more to overlay examples, 50415500, 720, 97, 720
0.0.6, 50415500, 720, 97, 720
Examples fixes, 50415500, 720, 97, 720
Fix ToggleSwitch sizing with Header + adjust DatePicker padding, 50415500, 720, 97, 720
Enhance the after_plugin_install plugin hook, 50415500, 720, 97, 720
0.0.5, 50415500, 720, 97, 720
examples tweaks, 50415500, 720, 97, 720
Fix iOS auto-sized Popups, 50415500, 720, 97, 720
examples updates, 50415500, 720, 97, 720
overlay examples, 50415500, 720, 97, 720
custom code examples, 50415500, 720, 97, 720
Add code invocation examples, 50415500, 720, 97, 720
Update CONTRIBUTING.md, 50415500, 720, 97, 720
0.0.4, 50415500, 720, 97, 720
Give better error message about title for CommandBar as well, 50415500, 720, 97, 720
Give better error message if title is attempted to be shown on Android when ShowTitle=false, 50415500, 720, 97, 720
example updates, 50415500, 720, 97, 720
0.0.3, 50415500, 720, 97, 720
0.0.3, 50415500, 720, 97, 720
0.0.2, 50415500, 720, 97, 720
0.0.1, 50415500, 720, 97, 720
Revert incorrect edit, 50415500, 720, 97, 720
examples, 50415500, 720, 97, 720
Remove dependency on appcompat, 50415500, 720, 97, 720
examples, 50415500, 720, 97, 720
examples, 50415500, 720, 97, 720
markupcompiler, 50415500, 720, 97, 720
README update, 50415500, 720, 97, 720
initial commit, 50415500, 720, 97, 720
readme tweak, 50415500, 720, 97, 720
add CONTRIBUTING.md, 50415500, 720, 97, 720
readme + license, 50415500, 720, 97, 720
readme, 50415500, 720, 97, 720
Initial commit, 50415500, 720, 97, 720
Batch update, 23141872, 10, 6, 10
Create README.md, 23141872, 10, 6, 10
Initial commit, 23141872, 10, 6, 10
Initial commit to add default .gitIgnore and .gitAttribute files., 23141872, 10, 6, 10
Minor updates to Readme, 21122049, 17, 11, 17
Update README.md with source files from latest release, 21122049, 17, 11, 17
Merge pull request #3 from kartelan/master  Refactor SensorCore sample to show use of ActivitySensor and Pedometer in OS APIs, 21122049, 17, 11, 17
Minor change to rename a variable in UpdateSummaryAsync., 21122049, 17, 11, 17
Bumping the sample to version 2.0.0.0 and removing ValidateSettingsAsync() from IActivitySensor. This is only applicable to LumiaActivitySensor. It's used by ActivitySensorFactory to check if all the settings are valid before getting the ActivityMonitor instance.  Also removed extra line feeds in ActivitySensor.cs, 21122049, 17, 11, 17
Update the sample to address the following:  - Before this fix the app was accessing activity sensor APIs through ActivitSensorInstance. This is a base class that talks to OS ActivitySensor APIs. But on devices without a sensorcore the GetInstance() method of this class creates LumiaActivitySensor (that wraps SensorCore APIs). We are now moving from inheritance to interface based wrappers. IActivitySensor is a common interface that will be implemented by both the wrappers. A factory is used to create the appropriate sensor. - Moved SensorCore API exception handling to LumiaActivitySensor Class. - Fixed an edge case in history retreival., 21122049, 17, 11, 17
Initial changes of the refactor, 21122049, 17, 11, 17
Optimized the code, 21122049, 17, 11, 17
Updated to use latest Lumia SensorCore SDK 1.1 Preview, 21122049, 17, 11, 17
Bug fiexes+coding format included, 21122049, 17, 11, 17
Update README.md, 21122049, 17, 11, 17
Batch update, 21122049, 17, 11, 17
Small UI tweaks  The layout is now scaling on devices with high resolution displays but the font may be to small, 21122049, 17, 11, 17
Updated Lumia SensorCore SDK  Now using version 1.0 of the SDK., 21122049, 17, 11, 17
About page update  Updated strings in about page and added reading of the version number from the manifest file., 21122049, 17, 11, 17
Updated activity data parsing  The total duration of each activity is calculated starting from 0:00 of the current day. Last activity is calculated until current time (today) or 00:00 of the next day., 21122049, 17, 11, 17
Added day view navigation  You can now look at up to 10 days of recorded data (if available) by using arrow buttons to navigate back and forth., 21122049, 17, 11, 17
Update README.md, 21122049, 17, 11, 17
Update README.md, 21122049, 17, 11, 17
Let SDK docs be part of the project  This is because the NuGet does not actually install the packages it restores so if we don't include the file it will not be visible unless the SDK in cleanly installed again., 21122049, 17, 11, 17
Updated Readme.md, 21122049, 17, 11, 17
The real "initial commit", 21122049, 17, 11, 17
Initial commit, 21122049, 17, 11, 17
Update package.json (#435), 75978731, 87, 10, 87
Adaptive cards objc (#423)  * Added OBJC TXT BLK and C++ shared lib as framework  * Finished Demo & fixed unix style path  * added hostconfig options and implemented Image  * Refactored UIMapping to HostConfig Class  * Updated .gitignore for Xcode  * Fixed clear text block  * added comments and cosmatic changes  * code reivew changes added  * changed preifx  * cosmetic changes  * code review changes updated  * removed revision artifacts  * removed unecessary objc wrapper  * corrected initializer to support storyboard  * removed unused function, 75978731, 87, 10, 87
Host Config Deserialize for shared model and UWP renderer (#402)  * Shared model HostConfig Deserialization  * Hook up host config Deserialize to UWP renderer, 75978731, 87, 10, 87
Re-generate swig wrappers (#428), 75978731, 87, 10, 87
Serialize shared model (#410)  * Serialize shared model  * UWP AdaptiveCard Serialization, 75978731, 87, 10, 87
Add IsRequired property to inputs in shared model/UWP renderer(#417), 75978731, 87, 10, 87
Rename shared model AdaptiveCard files (#415), 75978731, 87, 10, 87
Add a way to pre-expand a single ShowCardAction in HostConfig (#409)  * Some minor fixes and introduce actionStyle It is now possible to explicitly select the button style ("link" or "button") in ActionSet elements and on the card itself.  * Fix ChoiceSetInput.value throwing in unrendered ShowCardAction cards  * Add a way to pre-expand a single ShowCardAction, 75978731, 87, 10, 87
Add HorizontalAlignment and Separation to ICardElement (#396)  * allow json in css output  * allow json in css output  * add horizontalAlignment and separation to ICardElement  * fix nullRef when regex has no matches  * ready to publish  * fix for no param, 75978731, 87, 10, 87
Fix ChoiceSetInput.value throwing in unrendered ShowCardAction cards (#407)  * Some minor fixes and introduce actionStyle It is now possible to explicitly select the button style ("link" or "button") in ActionSet elements and on the card itself.  * Fix ChoiceSetInput.value throwing in unrendered ShowCardAction cards, 75978731, 87, 10, 87
Fix AdaptiveCard statics (#403), 75978731, 87, 10, 87
Some minor fixes and introduce actionStyle (#405)  It is now possible to explicitly select the button style ("link" or "button") in ActionSet elements and on the card itself., 75978731, 87, 10, 87
Fixed UWP column auto/stretch behavior (#401)  The boolean logic for auto/stretch was inverted. When dev specified stretch auto was being assigned and vice versa.  Fixed the boolean logic (also added check to invalidate negative star size entries) and verified changes using UWP Visualizer and Notifications Visualizer with all of the sample payloads, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Ignore macOS .DS_Store files (#348), 75978731, 87, 10, 87
UWP: Added DataJson property to Action.Submit (#388)  * UWP: Added DataJson property to Action.Submit  Added the DataJson property to the UWP object model. DataJson returns a string of the JSON consistent with the .NET version of the library that has a DataJson property.  Tested with visualizer app and Notifications Visualizer confirmed that the "data" property is now being passed through and accessible by renderer hosts.  * Fixed spacing, 75978731, 87, 10, 87
Update HostConfig naming to match current schema (#386), 75978731, 87, 10, 87
Rename Input* to *Input for naming consistency (#385), 75978731, 87, 10, 87
Merge pull request #384 from Microsoft/finalize-html  Fix time input not using preset value, 75978731, 87, 10, 87
Fix time input not using preset value, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Merge pull request #343 from dsanvita/html-renderer-date-input-default-value  Set default value of date input in html renderer, 75978731, 87, 10, 87
Merge pull request #383 from Microsoft/finalize-html  Fix single line text input showing scrollbar and accepting Enter, 75978731, 87, 10, 87
Update visualizer in website, 75978731, 87, 10, 87
Fix single line text input showing scrollbar and accepting Enter Single line inputs now use input["text"] instead of textarea, 75978731, 87, 10, 87
Serialize inputs to return as part of action events. (#369)  Serialize inputs to return as part of action events., 75978731, 87, 10, 87
Fix Action Titles in shared model (#375), 75978731, 87, 10, 87
Add Enum map generation functions (#376)  * Add Enum map generation functions, 75978731, 87, 10, 87
Add handling of separation options for input types (#373), 75978731, 87, 10, 87
Merge pull request #374 from WilliamHolmes/HTML_README.md_typo  Fix /source/html/README.md type [pacakge > package], 75978731, 87, 10, 87
Fix /source/html/README.md type [pacakge > package], 75978731, 87, 10, 87
Merge pull request #326 from Microsoft/xamarin-placeholder-entry  Placeholder now works for Xamarin, 75978731, 87, 10, 87
Merge pull request #370 from Microsoft/finalize-html  Fix exception when a card render turns out empty., 75978731, 87, 10, 87
Fix exception when a card render turns out empty., 75978731, 87, 10, 87
Fix DeserealizeFromString (#359), 75978731, 87, 10, 87
Shared Parser now understands Optional and required values (#365), 75978731, 87, 10, 87
Add emphasis property to container in shared model and add renderer support in UWP. (#364), 75978731, 87, 10, 87
Merge pull request #366 from Microsoft/finalize-html  Fix broken visualizer editor, 75978731, 87, 10, 87
Fix broken visualizer editor ACE editor uses divs and spans on the editing surface and requires the font for these to be fixed size. We cannot overrride the font globally for these elements., 75978731, 87, 10, 87
Force visualizer editor font, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
fix fonts for visualizer panel, 75978731, 87, 10, 87
Fix UWP ComboBox not stretching width (#353)  The UWP ComboBox defaults horizontal alignment to left whereas in the compact ChoiceSet picker it's desired that the picker displays full-width just like text boxes as described in issue #337  Simply assigned HorizontalAlignment to Stretch on the ComboBox to fix this., 75978731, 87, 10, 87
Ensure UWP text elements are perfectly left aligned (#358)  Enabling TrimSideBearings to ensure that regardless of the font size the left of the text is consistently in line with each other fixing issue #357  Simply had to assign that property (and moved the code to obtain ITextBlock2 to the top since it's used in two places now), 75978731, 87, 10, 87
added hostConfig tools for SCSS (#341)  * added hostConfig tools for SCSS  * removed console.log  * add types for node  * add background color to normal to prevent empty object  * add byte order mark  * json.stringify result  * rename to sample.scss  * use stringToCssColor  * remove color-string dependency  * use alpha in test  * handle named CSS colors  * convert css color names to hex  * add backgroundColor to normal to prevent it from being empty, 75978731, 87, 10, 87
Add fontweight styling to xaml textblocks (for UWP textblock and factSet) (#360), 75978731, 87, 10, 87
Handle Popup action mode and styling for ShowCard Actions. (#351)  Handle Popup action mode and styling for ShowCard Actions., 75978731, 87, 10, 87
Add inputs to valid container/column items (#335)  Adds the different input types to the allowed parsable items for container and columns fixes #334, 75978731, 87, 10, 87
misc doc fixe, 75978731, 87, 10, 87
Merge pull request #356 from Microsoft/samples  Samples fixes, 75978731, 87, 10, 87
Merge branch 'master' into samples, 75978731, 87, 10, 87
sample fixes. closes #339, 75978731, 87, 10, 87
Fix UWP person images that don't have size set (#355)  In the UWP renderer if you're using an image with "person" style and you don't manually specify the size of the image it was failing to render as described in issue #331. Non-person images render fine without the style provided.  Code was forgetting to set the stretch behavior when image size was set to Default inside the person logic branch of the code. Just had to add that line so it included Default size., 75978731, 87, 10, 87
Fix UWP padding in first column (#352)  UWP was accidently adding a column spacer before the first column in column sets resulting in incorrect padding appearing on the left of the first column as described in issue #340  Simply added an if check that skips adding the spacer if a column hasn't been added yet. Tested and verified changes using Visualizer., 75978731, 87, 10, 87
downgrade html library to v1.3, 75978731, 87, 10, 87
Merge pull request #350 from Microsoft/finalize-html  Fix default value not being honored in Input.ChoiceSet, 75978731, 87, 10, 87
Fix default value not being honored for Input.ChoiceSet, 75978731, 87, 10, 87
Merge pull request #349 from Microsoft/samples  sample fixes, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
lower samples version to 0.5, 75978731, 87, 10, 87
formatting, 75978731, 87, 10, 87
sample fixes, 75978731, 87, 10, 87
Set default value of date input in html renderer, 75978731, 87, 10, 87
Merge pull request #338 from Microsoft/androidlib  Refactor Android project so it generates an adaptive cards library adaptivecards-(release/debug).aar.  The sample app then consumes this library., 75978731, 87, 10, 87
Refactor Android project so it generates an adaptive cards library adaptivecards-(release/debug).aar.  The sample app then consumes this library., 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Merge pull request #336 from Microsoft/finalize-html  Allow empty containers, 75978731, 87, 10, 87
Allow empty containers, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Android readonly (#325)  Support for rendering read only card elements in Android, 75978731, 87, 10, 87
Add events to the uwp renderer interface which trigger when action buttons are pressed. (#329), 75978731, 87, 10, 87
Create Input Form.json, 75978731, 87, 10, 87
Merge pull request #327 from Microsoft/finalize-html  Fix Image.selectAction not working with Action.ShowCard, 75978731, 87, 10, 87
Merge branch 'master' into finalize-html, 75978731, 87, 10, 87
Fix Image.selectAction not working with Action.ShowCard Fix selectAction being ignore on images in an ImageSet Fix popu card container not sizing properly in visualizer, 75978731, 87, 10, 87
Removed placeholder setting for UWP, 75978731, 87, 10, 87
Placeholder now works for Xamarin, 75978731, 87, 10, 87
fix background image, 75978731, 87, 10, 87
add timeline, 75978731, 87, 10, 87
card height300, 75978731, 87, 10, 87
it's all responsive now..., 75978731, 87, 10, 87
fix kik, 75978731, 87, 10, 87
wubble with javascript, 75978731, 87, 10, 87
tweak layout, 75978731, 87, 10, 87
add connect tab, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
fix action..XXX markdown links, 75978731, 87, 10, 87
move docs -> source/website, 75978731, 87, 10, 87
Revert "move from docs to source/website"  This reverts commit e21fe774ec6b910389a00f5f0cdde590e23d8d2f., 75978731, 87, 10, 87
Merge pull request #324 from Microsoft/finalize-html  Update doc site's visualizer, 75978731, 87, 10, 87
Update doc site's visualizer, 75978731, 87, 10, 87
Merge pull request #323 from Microsoft/finalize-html  Bring back backgroundImage, 75978731, 87, 10, 87
Bring back backgroundImage, 75978731, 87, 10, 87
Merge pull request #322 from Microsoft/xamarin-deps  remove xfcontrols, 75978731, 87, 10, 87
remove xfcontrols, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
contributing doc, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
fix icon for edge, 75978731, 87, 10, 87
add favicon and bogus script link, 75978731, 87, 10, 87
fix broken npm module name, 75978731, 87, 10, 87
fix mispellings in nuget package, 75978731, 87, 10, 87
Update ImageSet.json  Fix typo, 75978731, 87, 10, 87
Create README.md, 75978731, 87, 10, 87
Delete empty.txt, 75978731, 87, 10, 87
Delete empty.txt, 75978731, 87, 10, 87
Create README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update BotFrameworkSimple.json, 75978731, 87, 10, 87
Create README.md, 75978731, 87, 10, 87
Merge pull request #320 from Microsoft/showcardaction  Add handling for ShowCard actions, 75978731, 87, 10, 87
slight tweaks on new docs, 75978731, 87, 10, 87
Merge pull request #318 from JaymeMPerlman/master  Editing and content updates, 75978731, 87, 10, 87
Merge branch 'master' into master, 75978731, 87, 10, 87
Update UWP.md (#316)  Update UWP.md, 75978731, 87, 10, 87
add app insights, 75978731, 87, 10, 87
Add handling for ShowCard actions, 75978731, 87, 10, 87
tweak blue (Again), 75978731, 87, 10, 87
update packages and smaller sizzle video, 75978731, 87, 10, 87
update package names, 75978731, 87, 10, 87
Parse Actions and render buttons for them (uwp) (#311)  Parse Actions and render buttons for them (uwp), 75978731, 87, 10, 87
add tags, 75978731, 87, 10, 87
update nuspec, 75978731, 87, 10, 87
add title to every page, 75978731, 87, 10, 87
make video drop out when narrow, 75978731, 87, 10, 87
fix blue background on edge and put "Coming soon" on ios android uwp sections, 75978731, 87, 10, 87
added toc in case it was wanted, 75978731, 87, 10, 87
Merge https://github.com/Microsoft/AdaptiveCards, 75978731, 87, 10, 87
proofing and link fixing pass, 75978731, 87, 10, 87
fixing jump links, 75978731, 87, 10, 87
headers and ing pass, 75978731, 87, 10, 87
spellchecking pass, 75978731, 87, 10, 87
editing, 75978731, 87, 10, 87
finishing libraries, 75978731, 87, 10, 87
fixing link and emoji, 75978731, 87, 10, 87
editing and linking, 75978731, 87, 10, 87
generated sample files, 75978731, 87, 10, 87
editing and linking, 75978731, 87, 10, 87
Merge pull request #317 from Microsoft/scuba  Scuba, 75978731, 87, 10, 87
docs and samples cleanup, 75978731, 87, 10, 87
merging source, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into scuba, 75978731, 87, 10, 87
update icons with jeremys latest, 75978731, 87, 10, 87
update hostconfig colors, 75978731, 87, 10, 87
add sizzle, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into scuba, 75978731, 87, 10, 87
remove delay sign, 75978731, 87, 10, 87
update versions, 75978731, 87, 10, 87
clean up visualizer links to adaptivecards.io, 75978731, 87, 10, 87
remove some stuff from home page, 75978731, 87, 10, 87
Delete ScaffoldingReadMe.txt, 75978731, 87, 10, 87
remove duplicate samples, 75978731, 87, 10, 87
point all json schema in samples to future url, 75978731, 87, 10, 87
Merge pull request #312 from Microsoft/scuba  initial scuba bot, 75978731, 87, 10, 87
samples cleanup and docs, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into scuba, 75978731, 87, 10, 87
add bot framework channels in, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into scuba, 75978731, 87, 10, 87
editing, 75978731, 87, 10, 87
editing, 75978731, 87, 10, 87
fix visualizer font, 75978731, 87, 10, 87
merging in Tom's recent edits, 75978731, 87, 10, 87
editing, 75978731, 87, 10, 87
added partner section, 75978731, 87, 10, 87
update overview, 75978731, 87, 10, 87
added overview and tools section, 75978731, 87, 10, 87
clean up fonts, 75978731, 87, 10, 87
fix icon links, 75978731, 87, 10, 87
Merge pull request #315 from danmarshall/master  add webfonts to docs, 75978731, 87, 10, 87
cleanup content, 75978731, 87, 10, 87
fix table styles, 75978731, 87, 10, 87
add webfonts, 75978731, 87, 10, 87
Merge pull request #314 from Microsoft/finalize-html  Update doc site's visualizer code, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Update doc site's visualizer code, 75978731, 87, 10, 87
Merge pull request #313 from Microsoft/finalize-html  Fix inputs not being gathered through ColumnSet, 75978731, 87, 10, 87
Fix inputs not being gathered through ColumnSet, 75978731, 87, 10, 87
fix documentation nav layout, 75978731, 87, 10, 87
remove dead pages, 75978731, 87, 10, 87
initial scuba bot, 75978731, 87, 10, 87
add logo back in., 75978731, 87, 10, 87
add display library definitions, 75978731, 87, 10, 87
add renderer documentation and code markup, 75978731, 87, 10, 87
update create libraries, 75978731, 87, 10, 87
add more content, 75978731, 87, 10, 87
fix image style, 75978731, 87, 10, 87
Merge pull request #310 from Microsoft/finalize-html  Update doc site's visualizer to latest bits, 75978731, 87, 10, 87
Update doc site's visualizer to latest bits, 75978731, 87, 10, 87
Merge pull request #309 from Microsoft/finalize-html  Prevent doc site's visualizer from redirecting to dev.html, 75978731, 87, 10, 87
Prevent Doc site's visualizer from redirecting to dev.html, 75978731, 87, 10, 87
fix card loading, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Merge pull request #308 from Microsoft/finalize-html  Update Doc site's visualizer, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html  # Conflicts: #	docs/wwwroot/visualizer/built/visualizer-with-renderer.js, 75978731, 87, 10, 87
Update Doc site's visualizer Use latest renderer Use latest CSS Cleanup containers, 75978731, 87, 10, 87
Merge pull request #307 from Microsoft/finalize-html  More visualizer layout updates in Doc site, 75978731, 87, 10, 87
More visualizer layout updates in Doc site, 75978731, 87, 10, 87
Merge pull request #291 from danmarshall/html-optional  optional font-family in HTML, 75978731, 87, 10, 87
add reference selection, 75978731, 87, 10, 87
Merge pull request #306 from Microsoft/finalize-html  Fix Doc site's visualizer layout, 75978731, 87, 10, 87
Fix Doc site's visualizer layout Top navbar was introducing a vertical scrollbar on the whole page, 75978731, 87, 10, 87
more content, 75978731, 87, 10, 87
more updates to docs, 75978731, 87, 10, 87
fix documentation to use hashtags, 75978731, 87, 10, 87
fix samples link, 75978731, 87, 10, 87
Drop of content, 75978731, 87, 10, 87
some content, 75978731, 87, 10, 87
Style TextBlock and FactSet via Host Configuration (#293)  Style TextBlock and FactSet xaml textblocks via HostConfig, 75978731, 87, 10, 87
Add styling for AdaptiveCard (#295)  Update HostOptions, 75978731, 87, 10, 87
Merge pull request #305 from Microsoft/finalize-html  Fix emphasis border color not working, 75978731, 87, 10, 87
Fix emphasis border color not working For the most incredible of reasons. You have to love HTML., 75978731, 87, 10, 87
Merge pull request #304 from Microsoft/finalize-html  Use relative instead of explicit weights for Column.size, 75978731, 87, 10, 87
Use relative instead of explicit weights for Column.size, 75978731, 87, 10, 87
Parse column size as number or string (#303), 75978731, 87, 10, 87
Merge branch 'finalize-html' of https://github.com/Microsoft/AdaptiveCards into finalize-html, 75978731, 87, 10, 87
clean up some styling, 75978731, 87, 10, 87
update visualizer, 75978731, 87, 10, 87
Merge pull request #302 from Microsoft/finalize-html  Remove pre-expansion for single Action.ShiowCard, 75978731, 87, 10, 87
Remove pre-expansion for single Action.ShowCard Better parsing logic for Column.size (and better error messages in visualizer) Fix visualizer which didn't switch back to card editor after sample was loaded from file, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
move the documentation markdown files into documentation folder, 75978731, 87, 10, 87
remove extra foo from csproj, 75978731, 87, 10, 87
fix button clicks, 75978731, 87, 10, 87
tweak some basic layout, 75978731, 87, 10, 87
dump old files and old scenarios2 folder, 75978731, 87, 10, 87
rename samples cull out stuff we don't want, 75978731, 87, 10, 87
pulll samples and markdown into project and hook up samples tab, 75978731, 87, 10, 87
add cardbot, 75978731, 87, 10, 87
remove crazy rules that got added to project, 75978731, 87, 10, 87
fix refresh to honor bookmarks in explorer, 75978731, 87, 10, 87
change schema explorer to use bookmarks to nav, 75978731, 87, 10, 87
rename to schema explorer, 75978731, 87, 10, 87
Adding consistent casing in nav, 75978731, 87, 10, 87
Updating README for typos, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
fleshed out information architecture, 75978731, 87, 10, 87
slight styling tweaks, 75978731, 87, 10, 87
add cats and assets, 75978731, 87, 10, 87
data bind home page, 75978731, 87, 10, 87
more style fun, 75978731, 87, 10, 87
pull styling out into files clean up styling to match comp, 75978731, 87, 10, 87
update explorer to use npm adaptive-cards, 75978731, 87, 10, 87
get explorer working again, 75978731, 87, 10, 87
moved sln into docs folder, 75978731, 87, 10, 87
put logo in navbar, 75978731, 87, 10, 87
placeholder for about page and documentation page, 75978731, 87, 10, 87
hook up visualizer link, 75978731, 87, 10, 87
move content to root /content, 75978731, 87, 10, 87
add visualizer back in, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
apply backgroundImage to adaptive card (#300)  * add background image url to shared object model * apply background Image to adaptive card, 75978731, 87, 10, 87
fix .netcore for static files, 75978731, 87, 10, 87
switch to aspnetcore, 75978731, 87, 10, 87
Fix column sizing (#299), 75978731, 87, 10, 87
Implement TextInputStyle (#294), 75978731, 87, 10, 87
Added script and made things work, 75978731, 87, 10, 87
Scaffolding nav, 75978731, 87, 10, 87
reset version to 0.1.0, 75978731, 87, 10, 87
Add markdown handler, 75978731, 87, 10, 87
Fix crash in image size code (#298), 75978731, 87, 10, 87
drop jekyl write w3, 75978731, 87, 10, 87
Blasting jekyll out, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Merge pull request #297 from Microsoft/finalize-html  More container cleanup, 75978731, 87, 10, 87
More container cleanup, 75978731, 87, 10, 87
Merge pull request #296 from Microsoft/finalize-html  Clean up containers, 75978731, 87, 10, 87
Clean up containers, 75978731, 87, 10, 87
Adding new docs site, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Set theme jekyll-theme-minimal, 75978731, 87, 10, 87
Adding README, 75978731, 87, 10, 87
remove docs, 75978731, 87, 10, 87
remove docs, 75978731, 87, 10, 87
Moving old docs to /pages, 75978731, 87, 10, 87
Moving old docs to pages, 75978731, 87, 10, 87
Rename index.html to index-whoops.html, 75978731, 87, 10, 87
Set theme jekyll-theme-minimal, 75978731, 87, 10, 87
Rearrange all the things. Break all the things, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Cleanup integer signing (#292)  Cleanup integer signing The parser was not handling signed integers leading to failures parsing negative values for Input.Number in the Inputs.json sample.  Added Int parsing and cleanued up signed vs unsigned integer usage to be consistent.  Also fixed Input.Number's value to be a number rather than a string per the schema., 75978731, 87, 10, 87
Add Input.Number to UWP renderer (#286)  Add Input.Number to UWP renderer, 75978731, 87, 10, 87
remove style tag, 75978731, 87, 10, 87
handle optional fontFamily, 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Fix TextInput.value always being null in Chrome, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Merge pull request #289 from Microsoft/tomlm  add logo assets, 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Merge pull request #288 from Microsoft/finalize-html  Fix Image not rendering properly in Chrome, 75978731, 87, 10, 87
Fix Image not rendering properly in Chrome, 75978731, 87, 10, 87
removed hostConfig, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
add logo assets, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
Update RenderingCards.md, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Merge pull request #287 from Microsoft/finalize-html  Much better alignment support, 75978731, 87, 10, 87
Much better alignment support Make buttons <button> tags Remove supportedElementTypes and supportedActionTypes Make hostConfig.fontFamily optional, 75978731, 87, 10, 87
Merge pull request #285 from Microsoft/tomlm  removed aspnet core depdency, 75978731, 87, 10, 87
Add Input.ChoiceSet (#282)  Add Input.ChoiceSet, 75978731, 87, 10, 87
removed aspnet core depdency, 75978731, 87, 10, 87
Handle ImageSet Size Option (#283), 75978731, 87, 10, 87
Merge pull request #284 from Microsoft/tomlm  make font family optional, 75978731, 87, 10, 87
make font family optional, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
UWP renderer supports separation via HostConfig (#275), 75978731, 87, 10, 87
Merge pull request #281 from Microsoft/tomlm  rewrite of htmlrenderer using hostconfig, 75978731, 87, 10, 87
update versions, 75978731, 87, 10, 87
rewrite of html renderer complete, 75978731, 87, 10, 87
Merge pull request #242 from Microsoft/Xamarin_TextBlock  Seperated TextBlock into seperate files. Xamarin now does font color, 75978731, 87, 10, 87
Merge pull request #280 from Microsoft/finalize-html  Fix ColumnSet alignment again, 75978731, 87, 10, 87
Fix ColumnSet alignment again Tweak Skype Toast and Tile styles, 75978731, 87, 10, 87
Merge pull request #279 from Microsoft/finalize-html  Fix ColumnSet not aligning center or right, 75978731, 87, 10, 87
Fix ColumnSet not aligning center or right Note that if there is at least one column in the set that has its size property set to stretch horizontalAlignment is ignored, 75978731, 87, 10, 87
tweak, 75978731, 87, 10, 87
merge master, 75978731, 87, 10, 87
refactor html renderer to new structure, 75978731, 87, 10, 87
Merge pull request #276 from Microsoft/finalize-html  Revert TextBlock.wrap to false by default, 75978731, 87, 10, 87
Revert TextBlock.wrap to false by default, 75978731, 87, 10, 87
Merge pull request #274 from Microsoft/tomlm  move stretch to ActionAlignement, 75978731, 87, 10, 87
move stretch to ActionAlignement, 75978731, 87, 10, 87
Merge pull request #273 from Microsoft/finalize-html  Remove actions.stretch, 75978731, 87, 10, 87
Remove actions.stretch Add actions.actionAlignment = stretch Bring back navigation history in visualizer, 75978731, 87, 10, 87
Merge pull request #270 from Microsoft/tomlm  fix explorer, 75978731, 87, 10, 87
fix explorer, 75978731, 87, 10, 87
Add basic handling for Text Time Date and Toggle inputs (#254)  Add Input.Text Input.Toggle Input.Date and Input.Time, 75978731, 87, 10, 87
Merge pull request #269 from Microsoft/finalize-html  Fix "undefined" being displayed when placeholder isn't specified on an Input.ChoiceSet, 75978731, 87, 10, 87
Fix "undefined" being displayed when placeholder isn't specified on an Input.ChoiceSet, 75978731, 87, 10, 87
Merge pull request #268 from Microsoft/finalize-html  Add onInlineCardExpanded event, 75978731, 87, 10, 87
Add onInlineCardExpanded event, 75978731, 87, 10, 87
Add HostConfig to the UWP renderer (#266)  Add HostConfig to the UWP renderer, 75978731, 87, 10, 87
Merge pull request #267 from Microsoft/tomlm  added ability to load/edit/save hostconfig in wpf, 75978731, 87, 10, 87
update hostconfig.json files, 75978731, 87, 10, 87
fix background color, 75978731, 87, 10, 87
Fix links, 75978731, 87, 10, 87
added ability to load/save hostconfig, 75978731, 87, 10, 87
bump version, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Merge pull request #265 from Microsoft/tomlm  syncup final actions config, 75978731, 87, 10, 87
snap to actions config and correctly implement stretch/vertical/horizontal alignments, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Merge pull request #264 from Microsoft/finalize-html  Add WebChat host to visualizer, 75978731, 87, 10, 87
Add WebChat host to visualizer hostConfig.actions.inlineCardSpacing -> hostConfig.actions.inlineTopMargin, 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
Merge pull request #263 from Microsoft/finalize-html  Update hostConfig.factSet, 75978731, 87, 10, 87
Update hostConfig.factSet Add title.wrap title.maxWidth and value.wrap Fix some CSS for better action button scaling, 75978731, 87, 10, 87
revert button spacing, 75978731, 87, 10, 87
align on button spacing, 75978731, 87, 10, 87
make config alphabetical, 75978731, 87, 10, 87
add configuration files, 75978731, 87, 10, 87
add json attributes for serialization, 75978731, 87, 10, 87
Merge pull request #262 from Microsoft/finalize-html  Fix images not sizing properly in ColumnSet, 75978731, 87, 10, 87
Fix images not sizing properly in ColumnSet XXXConfiguration -> XXXConfig Fix bottom padding for ShowCard when mode is Inline Fix Weather sample Fix visualizer crashing when adaptiveCard.renderSpeech returns null, 75978731, 87, 10, 87
arrange all config options in documentation alphabetically, 75978731, 87, 10, 87
rename folder, 75978731, 87, 10, 87
rename HostOptions et al -> HostConfig etc., 75978731, 87, 10, 87
Merge pull request #261 from Microsoft/tomlm  Sync hostOptions to David's hostOptions, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
remove supportedActionTypes, 75978731, 87, 10, 87
update schema files with container style, 75978731, 87, 10, 87
cleanup some definitions, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
add factset options, 75978731, 87, 10, 87
tweak containerstyleoptions, 75978731, 87, 10, 87
add container style, 75978731, 87, 10, 87
update hostoptions doc, 75978731, 87, 10, 87
change int to number, 75978731, 87, 10, 87
move maxActions -> actions.maxActions, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
add card to metadata, 75978731, 87, 10, 87
Merge pull request #260 from danmarshall/master  Update VsCode preview visx, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
update VsCode extension, 75978731, 87, 10, 87
updated example.html (#259)  * updated example using configuration * bump major version, 75978731, 87, 10, 87
Add default subtle colors to shared HostOptions, 75978731, 87, 10, 87
bump major version, 75978731, 87, 10, 87
updated example using configuration, 75978731, 87, 10, 87
rev major version, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Add HostOptions to shared model (#251)  Add HostOptions to shared model, 75978731, 87, 10, 87
Merge pull request #255 from Microsoft/AndroidProjectFiles  A few changes:, 75978731, 87, 10, 87
A few changes:   1. Add build.gradle files so Android Studio can properly generate project files (*.iml)   2. Regenerated marshalling layer between Shared Model (C++) and Java   3. Add ImageSet to CMakeLists.txt, 75978731, 87, 10, 87
Merge pull request #252 from Microsoft/finalize-html  CSS cleanup and maxLines support, 75978731, 87, 10, 87
Remove some commented out CSS, 75978731, 87, 10, 87
More CSS tweaks especially for toast Updated a couple samples, 75978731, 87, 10, 87
Prefix all CSS style names with "ac-" Further simplify CSS, 75978731, 87, 10, 87
Some CSS cleanup Fix broken Action orientation and alignment, 75978731, 87, 10, 87
Add maxLines support Add check for non-standalone elements, 75978731, 87, 10, 87
Code review feedback for handle missing properties change (#250)  Code Review feedback, 75978731, 87, 10, 87
Handlemissingproperties (#248)  * Handle MaxLines and HorizontalAlignment  * Handle Image Alignment  * Add person style handling to image, 75978731, 87, 10, 87
Merge pull request #249 from Microsoft/finalize-html  Adds config editor in visualizer, 75978731, 87, 10, 87
Adds config editor in visualizer This changes also replaces most enumeration with constrained string types for enumeration are very impractical to parse and serialize, 75978731, 87, 10, 87
Merge pull request #247 from Microsoft/finalize-html  Add host config parsing, 75978731, 87, 10, 87
Add host config parsing Make supportedActionTypes and supportedElementTypes optional. When not specified all action/element types are supported, 75978731, 87, 10, 87
Merge pull request #246 from Microsoft/finalize-html  Update Outlook host config, 75978731, 87, 10, 87
Update Outlook host config, 75978731, 87, 10, 87
Merge pull request #245 from Microsoft/tomlm  update markdown support, 75978731, 87, 10, 87
Fix TextBlock not wrapping in ColumnSet Remove wrap size and weight from TextBlock host config Tweak toast host config, 75978731, 87, 10, 87
Add ImageSet to shared code and UWP renderer. (#240)  Add ImageSet to shared code and UWP renderer., 75978731, 87, 10, 87
Fix typo, 75978731, 87, 10, 87
Host config support, 75978731, 87, 10, 87
HostConfig - one step closer, 75978731, 87, 10, 87
More host config implementation (still unfinished) Introduce Container.Style, 75978731, 87, 10, 87
Host config support (work in progress), 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
rev nuget packages and naming for markdown renderer, 75978731, 87, 10, 87
Set the debug symbols to Full for Xamarin, 75978731, 87, 10, 87
Merge pull request #243 from Microsoft/tomlm  refactor a ton of hostoptions, 75978731, 87, 10, 87
new version, 75978731, 87, 10, 87
Merge pull request #244 from Microsoft/finalize-html  Host config support, 75978731, 87, 10, 87
Fix TextBlock not wrapping in ColumnSet Remove wrap size and weight from TextBlock host config Tweak toast host config, 75978731, 87, 10, 87
Add ImageSet to shared code and UWP renderer. (#240)  Add ImageSet to shared code and UWP renderer., 75978731, 87, 10, 87
Fix typo, 75978731, 87, 10, 87
Host config support, 75978731, 87, 10, 87
Content Button now properly shows content, 75978731, 87, 10, 87
Removed extra code and #IF#DEF, 75978731, 87, 10, 87
Set the debug symbols to Full for Xamarin, 75978731, 87, 10, 87
fix image render and add command line card2image tool, 75978731, 87, 10, 87
HostConfig - one step closer, 75978731, 87, 10, 87
Butttons now set some style in Xamarin, 75978731, 87, 10, 87
Seperator now works for Xamarin, 75978731, 87, 10, 87
Seperator now works for Xamarin, 75978731, 87, 10, 87
Cleaned up the using statements, 75978731, 87, 10, 87
More host config implementation (still unfinished) Introduce Container.Style, 75978731, 87, 10, 87
update hostconfig.json sample, 75978731, 87, 10, 87
remove delaysign, 75978731, 87, 10, 87
Merge branch 'Clancey-Xamarin_Simplification_2' into tomlm, 75978731, 87, 10, 87
Refactor for latest host changes move options out and integrated Microsoft.MarkedNet, 75978731, 87, 10, 87
rev package version, 75978731, 87, 10, 87
Seperated TextBlock into seperate files. Xamarin now does font color, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Host config support (work in progress), 75978731, 87, 10, 87
Merge pull request #241 from Clancey/master  Content button now shows content in Xamarin, 75978731, 87, 10, 87
Content Button now properly shows content, 75978731, 87, 10, 87
Merge remote-tracking branch 'Microsoft/master', 75978731, 87, 10, 87
Merge pull request #226 from Clancey/full-pdb  Set the debug symbols to Full for Xamarin, 75978731, 87, 10, 87
Merge pull request #238 from Clancey/master  Removed redundant code and #if#def, 75978731, 87, 10, 87
Merge pull request #239 from Microsoft/Clancey-Xamarin_Simplification_2  Clancey xamarin simplification 2, 75978731, 87, 10, 87
add attribute, 75978731, 87, 10, 87
Merge pull request #233 from Microsoft/tomlm  refactor hostconfig per conversations with david, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/tomlm' into Clancey-Xamarin_Simplification_2, 75978731, 87, 10, 87
Removed extra code and #IF#DEF, 75978731, 87, 10, 87
Added extensions for Images, 75978731, 87, 10, 87
Seperated XamlActionSet into platform specific files, 75978731, 87, 10, 87
fix some missed camel casing, 75978731, 87, 10, 87
update docs, 75978731, 87, 10, 87
column.separation hostconfig tweaks, 75978731, 87, 10, 87
Update HostOptions.md, 75978731, 87, 10, 87
one more broken link, 75978731, 87, 10, 87
fix links, 75978731, 87, 10, 87
fix scripts, 75978731, 87, 10, 87
Add hostOptions.md and fix factSet style, 75978731, 87, 10, 87
fix bad merge on hostconfig, 75978731, 87, 10, 87
merge, 75978731, 87, 10, 87
update config, 75978731, 87, 10, 87
cleanup utilties, 75978731, 87, 10, 87
add factset spacing, 75978731, 87, 10, 87
fix factset options, 75978731, 87, 10, 87
Merge remote-tracking branch 'Microsoft/master', 75978731, 87, 10, 87
Cleaned up more controls, 75978731, 87, 10, 87
Added Extensions to make the API's similar, 75978731, 87, 10, 87
Removed FrameworkElement from Xamarin, 75978731, 87, 10, 87
bump revision and add snk for signing, 75978731, 87, 10, 87
Add DeserializeFromString to Shared object model, 75978731, 87, 10, 87
update hostconfig, 75978731, 87, 10, 87
merge, 75978731, 87, 10, 87
Merge pull request #232 from Microsoft/finalize-html  Additional cleanup for validation flow, 75978731, 87, 10, 87
Additional cleanup for validation flow, 75978731, 87, 10, 87
Merge pull request #230 from Microsoft/finalize-html  ShowCardAction.card as AdaptiveCard, 75978731, 87, 10, 87
Much batter validation Slight refactor to clean things up, 75978731, 87, 10, 87
Merge pull request #231 from Microsoft/schemarefactor  Refactor Schema and HostConfig for latest, 75978731, 87, 10, 87
fix borderthickness, 75978731, 87, 10, 87
tweak restaurant, 75978731, 87, 10, 87
Merge branch 'master' into schemarefactor, 75978731, 87, 10, 87
split render off from OM, 75978731, 87, 10, 87
ShowCardAction.card as AdaptiveCard (finalized), 75978731, 87, 10, 87
cleanup string type references, 75978731, 87, 10, 87
resource bug fix, 75978731, 87, 10, 87
build config tweaks, 75978731, 87, 10, 87
rename automargin to autopadding, 75978731, 87, 10, 87
fix for input noninteractive, 75978731, 87, 10, 87
refactor code so that we use type registry and remove depdency on rich controls, 75978731, 87, 10, 87
Make ShowCard.card and AdaptiveCard (unfinished), 75978731, 87, 10, 87
Merge pull request #229 from Microsoft/finalize-html  Remove actions from Container, 75978731, 87, 10, 87
Remove actions from Container, 75978731, 87, 10, 87
rename InputXXX and ActionXXX to XXXInput and XXXAction class names, 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
Merge pull request #227 from Microsoft/finalize-html  Introduce elementTypeRegistry and actionTypeRegistry, 75978731, 87, 10, 87
Introduce ActionSet, 75978731, 87, 10, 87
cleanup showcard samples, 75978731, 87, 10, 87
Introduce elementTypeRegistry and actionTypeRegistry, 75978731, 87, 10, 87
Change Showcard to use Card type, 75978731, 87, 10, 87
put ColumnSet back in, 75978731, 87, 10, 87
latest update around paddning/margins, 75978731, 87, 10, 87
Merge remote-tracking branch 'Microsoft/master', 75978731, 87, 10, 87
Rename Constants.ts to constants.ts, 75978731, 87, 10, 87
Merge pull request #224 from Microsoft/finalize-html  Remove JsonParser, 75978731, 87, 10, 87
Set the debug symbols to Full for Xamarin, 75978731, 87, 10, 87
change to make color Normal and Subtl, 75978731, 87, 10, 87
renamed supportedactions to supportedActionTypes, 75978731, 87, 10, 87
cleanup actionset options and color options, 75978731, 87, 10, 87
Merge branch 'master' into schemarefactor, 75978731, 87, 10, 87
disabled htmlrenderer, 75978731, 87, 10, 87
schema refactoring, 75978731, 87, 10, 87
Remove JsonParser Move parsing logic back into the element classes, 75978731, 87, 10, 87
margins change, 75978731, 87, 10, 87
Merge pull request #223 from Microsoft/hostconfig  removed old experiments, 75978731, 87, 10, 87
removed old experiments, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
timeline tweak, 75978731, 87, 10, 87
typo, 75978731, 87, 10, 87
Merge pull request #222 from Microsoft/hostconfig  schema experiments, 75978731, 87, 10, 87
Merge branch 'master' into hostconfig, 75978731, 87, 10, 87
schema experiments, 75978731, 87, 10, 87
Add Fact and FactSet to shared model and UWP renderer, 75978731, 87, 10, 87
Fix Windows build break because of strncasecmp, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
Remove leftover Android code from root dir, 75978731, 87, 10, 87
Fixed shared object model compilation and include Column ColumnSet and Image, 75978731, 87, 10, 87
Moving Android code to Master, 75978731, 87, 10, 87
Remove leftover Android code from root dir, 75978731, 87, 10, 87
Fixed shared object model compilation and include Column ColumnSet and Image, 75978731, 87, 10, 87
Moving Android code to Master, 75978731, 87, 10, 87
Enum fixes for xplat c++, 75978731, 87, 10, 87
cleanup marked, 75978731, 87, 10, 87
add typed element registry, 75978731, 87, 10, 87
Merge pull request #219 from Microsoft/tomlm  downgrade to 4.52 and cleanup schema, 75978731, 87, 10, 87
cleanup samples and schema, 75978731, 87, 10, 87
Enum fixes for xplat c++, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
downgrade to .net4.5.2, 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
Merge pull request #216 from Microsoft/tomlm  cleaned up nuget package generation, 75978731, 87, 10, 87
cleanup versioning and nuspec descriptions, 75978731, 87, 10, 87
add packaging versions, 75978731, 87, 10, 87
add signing info, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
rename RendererOptions to HostOptions, 75978731, 87, 10, 87
update.wpf solution, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Merge pull request #214 from Microsoft/fody  some style rearranging + the fody, 75978731, 87, 10, 87
add inline showcard behavior NOTE: Added some properties to Options.Actions.ShowCard around inline style stuff (like background color margin and padding), 75978731, 87, 10, 87
some style rearranging + the fody, 75978731, 87, 10, 87
Merge pull request #209 from danmarshall/master  Build CSS from SCSS source files, 75978731, 87, 10, 87
remove vendor prefixes, 75978731, 87, 10, 87
update to latest css, 75978731, 87, 10, 87
merge upstream, 75978731, 87, 10, 87
Merge pull request #213 from Microsoft/finalize-html  A bunch of HTML renderer/visualizer changes/fixes, 75978731, 87, 10, 87
Updates validation handling Adds support for supportsInteractivity Removes the need to pass a container to render Fixes ImageSet layout Renames action classes Renames input classes Simplified action execution handlers Updated visualizer: Action.ShowCard will now actually popup, 75978731, 87, 10, 87
flex 100% for teams buttons, 75978731, 87, 10, 87
added actiongroup margin, 75978731, 87, 10, 87
fix action-card-container padding, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
build CSS from base SCSS, 75978731, 87, 10, 87
Merge pull request #207 from Microsoft/tomlm  implement actions vertical, 75978731, 87, 10, 87
implement vertical action bar, 75978731, 87, 10, 87
stubbed out jsonschema for options format, 75978731, 87, 10, 87
Merge pull request #206 from Microsoft/tomlm  add default theme file, 75978731, 87, 10, 87
add sample theme, 75978731, 87, 10, 87
Validation handling (unfinished), 75978731, 87, 10, 87
Merge pull request #204 from Microsoft/tomlm  fix several styling bugs, 75978731, 87, 10, 87
fix  defaultoptions initialization bug, 75978731, 87, 10, 87
fix color and margines on actions, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into finalize-html, 75978731, 87, 10, 87
Merge pull request #201 from Microsoft/tomlm  misc updates to configuration, 75978731, 87, 10, 87
update to have explicit columnsetoptions and columnoptions, 75978731, 87, 10, 87
Merge pull request #200 from Microsoft/tomlm  refactor to hierrchy rendereroptions, 75978731, 87, 10, 87
fix maxactions for containers, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
refactor rendereroptions into hierachy of element styles, 75978731, 87, 10, 87
add speak tags to sample, 75978731, 87, 10, 87
fix adaptive card rendering for buttons, 75978731, 87, 10, 87
Merge pull request #198 from Microsoft/stylingfix  Stylingfix, 75978731, 87, 10, 87
add speak tags to sample, 75978731, 87, 10, 87
fix adaptive card rendering for buttons, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
un-collapse pushButton & linkButton, 75978731, 87, 10, 87
collapse whitespace, 75978731, 87, 10, 87
align with base style sheet, 75978731, 87, 10, 87
Add Column and ColumnSet to shared object model (#157)  Add column and ColumnSet to shared model Fix Container and Column Rendering from JSON, 75978731, 87, 10, 87
tweak opening statement, 75978731, 87, 10, 87
Merge pull request #194 from Microsoft/experiments  moving some samples, 75978731, 87, 10, 87
moving some samples, 75978731, 87, 10, 87
fix explorer link, 75978731, 87, 10, 87
add element explorer, 75978731, 87, 10, 87
move how to build, 75978731, 87, 10, 87
rearrange, 75978731, 87, 10, 87
fix link, 75978731, 87, 10, 87
more images, 75978731, 87, 10, 87
more sample cards, 75978731, 87, 10, 87
update images, 75978731, 87, 10, 87
more assets, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Merge pull request #191 from Microsoft/styling  fix regression in separation for columns, 75978731, 87, 10, 87
fix regression in separation for columns, 75978731, 87, 10, 87
Merge pull request #190 from Microsoft/styling  Styling on explorer, 75978731, 87, 10, 87
fix up styling, 75978731, 87, 10, 87
change to use node_modules, 75978731, 87, 10, 87
elements needs to be upper case, 75978731, 87, 10, 87
link tweaks, 75978731, 87, 10, 87
tweak link, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into styling, 75978731, 87, 10, 87
Merge pull request #186 from Microsoft/styling  Styling, 75978731, 87, 10, 87
move schema files, 75978731, 87, 10, 87
update generator with links to try it, 75978731, 87, 10, 87
add ability to request by url json payload for visualizer, 75978731, 87, 10, 87
xamarin fixes, 75978731, 87, 10, 87
proj fixes, 75978731, 87, 10, 87
Refactoring styling out of resource sheets, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update RendererImplementation.md, 75978731, 87, 10, 87
Update RendererImplementation.md, 75978731, 87, 10, 87
cleanup some deviations from the schema.md, 75978731, 87, 10, 87
cleanup inconsistencies of documentation or schema files, 75978731, 87, 10, 87
change adaptivecards.html to be standard lib so it can be used in aspcore, 75978731, 87, 10, 87
switched to 4.6, 75978731, 87, 10, 87
added a bunch of element samples, 75978731, 87, 10, 87
Rename RendererImplementation to RendererImplementation.md, 75978731, 87, 10, 87
Create RendererImplementation, 75978731, 87, 10, 87
separated input, 75978731, 87, 10, 87
doc update, 75978731, 87, 10, 87
doc update, 75978731, 87, 10, 87
Merge pull request #175 from Microsoft/tomlm  add vscode preview for adaptive cards, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
Merge pull request #180 from Microsoft/scripts  dotnet refactoring, 75978731, 87, 10, 87
fix up all of the broken things, 75978731, 87, 10, 87
Merge pull request #177 from Microsoft/remove-html-folder  Remove root dir html folder from cleanup merge, 75978731, 87, 10, 87
Merge pull request #179 from danmarshall/master  Better Intellisense, 75978731, 87, 10, 87
project renames, 75978731, 87, 10, 87
add types to package.json, 75978731, 87, 10, 87
remove baseUrl from tsconfig, 75978731, 87, 10, 87
gitignore dist, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Remove root dir html folder from cleanup merge, 75978731, 87, 10, 87
Port changes from Source Depot., 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
cleanup, 75978731, 87, 10, 87
fixing usings, 75978731, 87, 10, 87
add vscode renderer, 75978731, 87, 10, 87
bump patch version, 75978731, 87, 10, 87
added basic implementation example, 75978731, 87, 10, 87
version bump for publish, 75978731, 87, 10, 87
ignore .npmrc, 75978731, 87, 10, 87
merge master, 75978731, 87, 10, 87
solution refactor, 75978731, 87, 10, 87
fixed compilation symbol, 75978731, 87, 10, 87
remove unused files, 75978731, 87, 10, 87
cleanup, 75978731, 87, 10, 87
version bump, 75978731, 87, 10, 87
object is a keyword in TS2.2, 75978731, 87, 10, 87
Merge pull request #173 from danmarshall/master  enable publishing to private registry / minimal example, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
Merge pull request #174 from Microsoft/tomlm  updated package tools, 75978731, 87, 10, 87
add package tools, 75978731, 87, 10, 87
add stock css, 75978731, 87, 10, 87
bump patch version, 75978731, 87, 10, 87
added basic implementation example, 75978731, 87, 10, 87
Merge remote-tracking branch 'upstream/master', 75978731, 87, 10, 87
Merge pull request #172 from Microsoft/tomlm  change to make adaptivecards multi target, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
update package references so cross platform works, 75978731, 87, 10, 87
version bump for publish, 75978731, 87, 10, 87
ignore .npmrc, 75978731, 87, 10, 87
change to make adaptivecards multi target, 75978731, 87, 10, 87
UWP renderer (#171)  * Merge Dev into Master test. (#170)  * Initial framework for the UWP Xaml renderer (#72)  * Initial framework for the UWP Xaml renderer  This change adds the basic framework of the UWP Xaml renderer component. Ignore the actual methods defined in the idl they exist to enable hooking up and calling from a future test application.  * Remove accidentally committed file  AdaptiveCards.XamlCardRenderer.h is generated from the idl so the header itself shouldn't be checked in.  * Update component version to NTDDI_WIN10_RS1  Update component version to NTDDI_WIN10_RS1  * Add TextBlock to model. (#73)  * Add TextBlock to model and renderer  * Dev cwhytock (#78)  * Initial framework for the UWP Xaml renderer  This change add the basic framework of the UWP Xaml renderer component. Ignore the actual methods defined in the idl they exist to enable hooking up and calling from a future test application.  * Remove accidentally committed file  AdaptiveCards.XamlCardRenderer.h is generated from the idl so the header itself shouldn't be checked in.  * Update component version to NTDDI_WIN10_RS1  Update component version to NTDDI_WIN10_RS1  * Update renderer to current dev spec  Update renderer to current dev spec  * Add UWP card visualizer  This change adds the UWP application that will eventually load json and use the UWP card renderer to display the generated xaml/image.  The visualizer in this change wires up the current renderer and displays it's xaml output which is hardcoded to a blue square.  Also included in this change are the code changes to allow the renderer component to be instantiated from its winmd including proper calling of mdmerge and the hinting in the consuming csproj.  * Additions to object model. (#77)  * Restructure Project Add Parser. Split library. Add additional properties to object model.  * UWP renderer textblock support (#90)  * XamlTileRenderer:Render Text elements  Adds renderer support for processing and creating TextBlock elements. As this is the first control type supported this also adds some of the general code paths and helper functions that will be used by other controls.  * Code review feedbacl  CR feedback on the previous commit  * Add Image visual properties to object model (#92)  * Add Image visual properties to object model Add Container properties Add missing TextBlock property  Add Image projection Change Image Uri to Uri class instead of string  * Fix Container constructor because android does not like the default parameter vector  * XamlTileRenderer:Render Image elements (#98)  This change adds the basic rendering of image element to the xaml card renderer.  While the element creation follows the same pattern as the existing text blocks there's a chunk of extra logic dedicated to tracking the actual loading of the image pixels.  While not currently used this will be used by task 10826542 to ensure all images are loaded before rendering the xaml tree to a single image.  * enabling image parsing (#102)  * Add Container Projection (#104)  * Add Container Projection  * Fix formatting  * Implement size property  * fix final formatting error  * XamlTileRenderer:Delay rendering completion until images are fully available (#109)  This change creates a RenderCardAsXamlAsync that returns an async operation which only completes once all the images have been downloaded and are ready to be displayed.  There are a couple of main pieces to this changes: 1) Image loading is now done manually instead of letting BitmapImage::SetSource do it.  This is because Xaml delays image loading until the control is being rendered in the tree.  Since that will never happen the ImageLoaded event neve fires it the source is set this way. 2) I created a common async operation base class which will be reused to provide the same functionality for the implementation of the RenderCardAsImageAsync operation. 3) Both the ImageLoadTracker and the XamlBuilder now expose a callback interface to notify clients when all images have been loaded.  I also implemented a few bits of the default resource dictionary and the usage of resource just to verify that strategy will work.  * Add columnSet and Column projections (#111)  * Add columnSet and Column projections  * CR Comments  * CR Comments V2  * add entries to manifest file  * Dev cwhytock uwpjsonparsing (#118)  * XamlTileRenderer:Integrate JSON parser  This change projects the parser through the projection object model and provides component methods to perform direct json -> Xaml/image.  I also flushed out some more of the styling of text elements.  * Code review feedback  code review feedback  * Cwhytock dev componentize (#146)  * XamlTileRenderer:Render Container elements  Implement support for the ColumnSet primitive for the UWP Renderer.  * Componnet refactor  Refactor the UWP renderer appropriately  * Fix solution build  * Update schema pt 1: Shared Object Model (#149)  * Update Shared Object Model to current schema specifications  * CR Comments  * Update UWP projections and Renderer to current schema (#156)  * Update UWP Projections to match current schema  * Update Renderer to current schema  * CR Comments  * Fix SAL annotations  * Move Shared and UWP files to new structure  * Get everything UWP building again.  * sln fixes  * sln fixes, 75978731, 87, 10, 87
Merge pull request #166 from Microsoft/tomlm  fix off screen rendering, 75978731, 87, 10, 87
refactor image resolver to rendercontext allowing renderer to be singleton, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
Merge pull request #163 from Microsoft/finalize-html  Adds input value handling in actions, 75978731, 87, 10, 87
html only needs json.net 9.01, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
fix image loading for off screen rendering, 75978731, 87, 10, 87
Merge pull request #164 from bnookala/fixing-http-server-startup  Fixing visualizer startup, 75978731, 87, 10, 87
update versions new 46 based packages, 75978731, 87, 10, 87
readme fix, 75978731, 87, 10, 87
build updates, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
Merge pull request #165 from Microsoft/xforms  Xamarin working!, 75978731, 87, 10, 87
lowered to .net 46, 75978731, 87, 10, 87
lowered lib to .net standard 1.3, 75978731, 87, 10, 87
xamarin working!, 75978731, 87, 10, 87
Fixing visualier startup, 75978731, 87, 10, 87
Adds auto input value substitution in Action.Http Adds emission of input values in Action.Submit Updates samples to use {{xxx.value}} syntax, 75978731, 87, 10, 87
whoops, 75978731, 87, 10, 87
Merge pull request #160 from Microsoft/work  rewrite dotnet libraries, 75978731, 87, 10, 87
removed package deps for now, 75978731, 87, 10, 87
cleanup nuget package names and versions, 75978731, 87, 10, 87
rename all of the projects AGAIN, 75978731, 87, 10, 87
add todo, 75978731, 87, 10, 87
Merge branch 'work' of https://github.com/Microsoft/AdaptiveCards into work, 75978731, 87, 10, 87
change separator to grid, 75978731, 87, 10, 87
fixed date formatting, 75978731, 87, 10, 87
xamarin forms WORKING! but ugly, 75978731, 87, 10, 87
xamarin uwp runs but crashes, 75978731, 87, 10, 87
xamarin forms building, 75978731, 87, 10, 87
getting xamarin going, 75978731, 87, 10, 87
fixing xamarin, 75978731, 87, 10, 87
proj cleanup, 75978731, 87, 10, 87
fix showcard, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
update of dotnet rewrite to master, 75978731, 87, 10, 87
move folders, 75978731, 87, 10, 87
Allow retrieval of Inputs in action exec event Fix parser for inputs, 75978731, 87, 10, 87
Merge pull request #159 from Microsoft/cleanup  HTML refactor, 75978731, 87, 10, 87
dotnet fix, 75978731, 87, 10, 87
updated built instructions, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
file fixes, 75978731, 87, 10, 87
file fixes, 75978731, 87, 10, 87
fixes, 75978731, 87, 10, 87
merge master, 75978731, 87, 10, 87
everything building, 75978731, 87, 10, 87
fixed file names, 75978731, 87, 10, 87
config tweaks, 75978731, 87, 10, 87
renderer working visualized not resolving yet, 75978731, 87, 10, 87
Fixes horizontalAlignment for Image, 75978731, 87, 10, 87
Fix JsonParser JsonParser was reverted to an older version for some reason and the renderer wouldn't compile anymore., 75978731, 87, 10, 87
change mimetype, 75978731, 87, 10, 87
fix view render for elements with selectaction, 75978731, 87, 10, 87
added constant for adaptive card content-type, 75978731, 87, 10, 87
Merge branch 'danmarshall-cleanup' into cleanup, 75978731, 87, 10, 87
Merge branch 'cleanup' of https://github.com/danmarshall/AdaptiveCards into danmarshall-cleanup, 75978731, 87, 10, 87
folder moves, 75978731, 87, 10, 87
Merge pull request #152 from Microsoft/tomlm  fix typo showcard, 75978731, 87, 10, 87
fix typo showcard, 75978731, 87, 10, 87
Merge pull request #151 from Microsoft/tomlm  clean up of xml serialization, 75978731, 87, 10, 87
clean up xml  names and xsd, 75978731, 87, 10, 87
fix type names, 75978731, 87, 10, 87
Merge remote-tracking branch 'origin/master' into tomlm, 75978731, 87, 10, 87
json clenaup, 75978731, 87, 10, 87
fix required display -> title mistake, 75978731, 87, 10, 87
More cleanup, 75978731, 87, 10, 87
migrated wpf renderer into shared dotnet, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into cleanup  # Conflicts: #	source/html/visualizer/containers/OutlookConnectorContainer.ts #	source/shared/dotnet/AdaptiveCards.Model/AdaptiveCards.Model.csproj, 75978731, 87, 10, 87
Merge pull request #148 from Microsoft/tomlm  Support for non-interactive cards, 75978731, 87, 10, 87
only render actions in interaction mode, 75978731, 87, 10, 87
Some cleanup, 75978731, 87, 10, 87
update versions, 75978731, 87, 10, 87
Bug fixes and style updates, 75978731, 87, 10, 87
Merge remote-tracking branch 'origin/master' into tomlm, 75978731, 87, 10, 87
add fallback text for input controls, 75978731, 87, 10, 87
Remove need to pass Container in CardElement ctor This change makes the API much easier to use directly No nesting check temporarily disabled, 75978731, 87, 10, 87
Makes rendering of inline cards much more generic Some bug fixes, 75978731, 87, 10, 87
fix visualizer link, 75978731, 87, 10, 87
fix resource on showcard, 75978731, 87, 10, 87
fix margin on cards, 75978731, 87, 10, 87
split build into npm and cdn versions, 75978731, 87, 10, 87
npmignore itself, 75978731, 87, 10, 87
Merge pull request #144 from Microsoft/tomlm  Tomlm, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
fix display -> title for choice, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
Merge pull request #143 from Microsoft/tomlm  misc cleanup, 75978731, 87, 10, 87
More code cleanup, 75978731, 87, 10, 87
misc cleanup, 75978731, 87, 10, 87
remove isParagraphStart   this wasn't supposed to be in here., 75978731, 87, 10, 87
fix display -> title for choice, 75978731, 87, 10, 87
allow ctrl-shift-b to build both projects, 75978731, 87, 10, 87
Merge pull request #141 from Microsoft/tomlm  Add STA off screen rendering with valid images, 75978731, 87, 10, 87
refactor code to support calling on STA Thread in non-wpf environments, 75978731, 87, 10, 87
More code cleanup, 75978731, 87, 10, 87
add off screen rendering prerender command for images loading, 75978731, 87, 10, 87
removed comment, 75978731, 87, 10, 87
use index.js, 75978731, 87, 10, 87
build / webpack renderer and visualizer separately, 75978731, 87, 10, 87
Update Default.json, 75978731, 87, 10, 87
Code cleanup, 75978731, 87, 10, 87
Merge pull request #133 from Microsoft/tomlm  Add nuspec package definitions, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
add nuget packages, 75978731, 87, 10, 87
merge master, 75978731, 87, 10, 87
Merge pull request #131 from Microsoft/input-forms  Updates eventing model to be mono-cast, 75978731, 87, 10, 87
Updates eventing model to be mono-cast Adds getAllInputs on container, 75978731, 87, 10, 87
Merge pull request #130 from Microsoft/input-forms  Fix for editor generating exceptions, 75978731, 87, 10, 87
Merge branch 'input-forms' of https://github.com/Microsoft/AdaptiveCards into input-forms, 75978731, 87, 10, 87
Fix for editor generating exceptions, 75978731, 87, 10, 87
Merge pull request #129 from Microsoft/input-forms  Adds Separation support, 75978731, 87, 10, 87
Merge branch 'master' into input-forms, 75978731, 87, 10, 87
Remove choice.isSelected, 75978731, 87, 10, 87
Change choice.display into choice.title per spec, 75978731, 87, 10, 87
Adds Separation support Adds render options (which I'll insist should be parse options we'll have to discuss this again) Cleans up visualizer app, 75978731, 87, 10, 87
Merge pull request #128 from Microsoft/fix  fix date in payload, 75978731, 87, 10, 87
fix date in payload, 75978731, 87, 10, 87
Merge pull request #127 from Microsoft/fix  fix default payload, 75978731, 87, 10, 87
fix default payload, 75978731, 87, 10, 87
Merge pull request #126 from Microsoft/fix  fix build, 75978731, 87, 10, 87
fix build, 75978731, 87, 10, 87
fixed date in default payload, 75978731, 87, 10, 87
Work in progress: adds Separation and other things Other commit will come soon, 75978731, 87, 10, 87
update schema.md for showcard.card being a container, 75978731, 87, 10, 87
Merge pull request #125 from Microsoft/tomlm  Rewrite to use separtion default pattern, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
typo, 75978731, 87, 10, 87
update with API options, 75978731, 87, 10, 87
Revert "fix casing of renderers folder", 75978731, 87, 10, 87
Change to use separation default model and ShowCard.Card type of container, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into cleanup, 75978731, 87, 10, 87
added scripts folder, 75978731, 87, 10, 87
moved source into platform folders, 75978731, 87, 10, 87
typo, 75978731, 87, 10, 87
update with API options, 75978731, 87, 10, 87
define RenderOptions class, 75978731, 87, 10, 87
more platform folder, 75978731, 87, 10, 87
source re-structure in progress, 75978731, 87, 10, 87
Merge pull request #124 from Microsoft/revert-122-master  Revert "fix casing of renderers folder", 75978731, 87, 10, 87
Revert "fix casing of renderers folder", 75978731, 87, 10, 87
Merge pull request #123 from Microsoft/tomlm  added Input.isRequiredInput, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
fix path to renderers/xaml, 75978731, 87, 10, 87
fix path to renderers/xaml, 75978731, 87, 10, 87
remove underscore from _renderers folder, 75978731, 87, 10, 87
move to case-correct folder, 75978731, 87, 10, 87
add support for isRequired on input fields, 75978731, 87, 10, 87
Merge pull request #122 from danmarshall/master  fix casing of renderers folder, 75978731, 87, 10, 87
fix path to renderers/xaml, 75978731, 87, 10, 87
fix path to renderers/xaml, 75978731, 87, 10, 87
remove underscore from _renderers folder, 75978731, 87, 10, 87
move to case-correct folder, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into cleanup, 75978731, 87, 10, 87
Add card.fallbackText, 75978731, 87, 10, 87
Merge pull request #121 from Microsoft/tomlm  change startGroup to separation on cardElement, 75978731, 87, 10, 87
clean up some styles, 75978731, 87, 10, 87
update samples for version, 75978731, 87, 10, 87
Add version and minVersion to card, 75978731, 87, 10, 87
change startGroup to seperation on cardElement, 75978731, 87, 10, 87
folder cleanup, 75978731, 87, 10, 87
fix maxlines for textblock, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
Merge pull request #119 from Microsoft/tomlm  fix collection names, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
Merge pull request #117 from Microsoft/tomlm  Tomlm, 75978731, 87, 10, 87
fix collection names, 75978731, 87, 10, 87
Adds new options - defaultTextBlockIsParagraphStart - forbiddenElementTypes - forbiddenActionTypes - forbiddenActionTypesInContainers - ignoreForbiddenElementAndActions Plus bug fixes sample fixes css fixes, 75978731, 87, 10, 87
add render overrides and sample HTTP POST action to inputs card, 75978731, 87, 10, 87
fix name, 75978731, 87, 10, 87
fix name, 75978731, 87, 10, 87
Merge pull request #115 from Microsoft/tomlm  it should be choice.title not choice.display, 75978731, 87, 10, 87
it should be choice.title not choice.display, 75978731, 87, 10, 87
Merge pull request #113 from Microsoft/input-forms  Input forms, 75978731, 87, 10, 87
Merge pull request #114 from Microsoft/tomlm  Tomlm, 75978731, 87, 10, 87
cleaned up array syntax and added .xsd, 75978731, 87, 10, 87
fix object properties for xml, 75978731, 87, 10, 87
Finish support for selectAction including styling, 75978731, 87, 10, 87
Adds centralized mechanism to popup ActionShowCard Adds AdaptiveCard.options Updates visualizer to showcase ActionShowCard in popup for Cortana card and Skype, 75978731, 87, 10, 87
Adds centralized action eventing system Adds date/time formatting, 75978731, 87, 10, 87
Add Xml Attribute to support serialization to and from xml, 75978731, 87, 10, 87
cleanup structure, 75978731, 87, 10, 87
add default ctor for fact, 75978731, 87, 10, 87
Add support for startGroup in ColumnSet, 75978731, 87, 10, 87
add csproj which ws mistakenly deleted, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
removed bogus name requirement on fact, 75978731, 87, 10, 87
Update RenderingCards.md, 75978731, 87, 10, 87
Update RenderingCards.md, 75978731, 87, 10, 87
fix samples link, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
update links in documentation, 75978731, 87, 10, 87
removed bogus name requirement on fact, 75978731, 87, 10, 87
Implements most of the latest TODO list: - Moved parsing logic outside main class library - Added missing input types - Added placeholder for some input types - Removed Separator - Added Container.StartGroup - Removed CardElement.size - Added Container.selectAction and Image.selectAction (no associated visuals yet) - Updated OpenUrl and Http actions - Restored the built-in expand/collapse for Action.ShowCard, 75978731, 87, 10, 87
change default for column to stretch so that text will wrap in a column, 75978731, 87, 10, 87
Update RenderingCards.md, 75978731, 87, 10, 87
Update RenderingCards.md, 75978731, 87, 10, 87
fix samples link, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
update links in documentation, 75978731, 87, 10, 87
add avaloneditor, 75978731, 87, 10, 87
add better error and perf to render path, 75978731, 87, 10, 87
Update RenderingCards.md, 75978731, 87, 10, 87
Update RenderingCards.md, 75978731, 87, 10, 87
fix samples link, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
update links in documentation, 75978731, 87, 10, 87
Merge pull request #105 from Microsoft/tomlm  rewrite to be class render() method based sharing property definitions with builder library, 75978731, 87, 10, 87
removed old unused class files, 75978731, 87, 10, 87
schema cleanup, 75978731, 87, 10, 87
rewrite to be class render() method based sharing property definitions with builder library, 75978731, 87, 10, 87
Merge remote-tracking branch 'origin/input-forms' into input-forms, 75978731, 87, 10, 87
schema tweaks from meeting, 75978731, 87, 10, 87
Merge pull request #80 from Microsoft/input-forms  Major refactor of HTML renderer, 75978731, 87, 10, 87
rewrite to use object .assign, 75978731, 87, 10, 87
Added schema builder classes for typescript, 75978731, 87, 10, 87
more sample cleanup, 75978731, 87, 10, 87
fix fact.name rename to title, 75978731, 87, 10, 87
more sample tweaks, 75978731, 87, 10, 87
Fix naming so samples can load in html, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
marge of master into input-forms, 75978731, 87, 10, 87
Merge pull request #103 from Microsoft/tomlm  Updated for latest schema round, 75978731, 87, 10, 87
update to last round of changes, 75978731, 87, 10, 87
added speech, 75978731, 87, 10, 87
put background image back in, 75978731, 87, 10, 87
fix some more sampels, 75978731, 87, 10, 87
everything except toggleSet, 75978731, 87, 10, 87
Merge pull request #101 from Microsoft/tomlm  add maxLines to jsonschema, 75978731, 87, 10, 87
add maxLines to jsonschema, 75978731, 87, 10, 87
Merge pull request #100 from Microsoft/tomlm  Add TextBlock.MaxLines, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
add TextBlock.maxLines and cleanup schema docs, 75978731, 87, 10, 87
Merge pull request #99 from Microsoft/tomlm  Normalization of group names, 75978731, 87, 10, 87
Rename CardElement->CardItem Rename FactGroup -> FactSet Rename ImageGallery -> ImageSet Rename ColumnGroup -> ColumnSet Rename "action" property to "selectAction", 75978731, 87, 10, 87
Merge pull request #95 from Microsoft/tomlm  update schema id, 75978731, 87, 10, 87
update schema id, 75978731, 87, 10, 87
Merge pull request #94 from Microsoft/tomlm  Pull latest schema changes and json-schema file, 75978731, 87, 10, 87
resolve merge on adapitve-card schema, 75978731, 87, 10, 87
define json schema and rename all size props, 75978731, 87, 10, 87
Update adaptive-card.json, 75978731, 87, 10, 87
Delete simple.json, 75978731, 87, 10, 87
Update simple.json, 75978731, 87, 10, 87
Update simple.json, 75978731, 87, 10, 87
Update simple.json, 75978731, 87, 10, 87
Update simple.json, 75978731, 87, 10, 87
Update simple.json, 75978731, 87, 10, 87
Add files via upload, 75978731, 87, 10, 87
Merge pull request #93 from Microsoft/tomlm  Code-complete on V.9 Adaptive Schema, 75978731, 87, 10, 87
renamed Size to ImageSize, 75978731, 87, 10, 87
old files, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/tomlm' into input-forms, 75978731, 87, 10, 87
merge master, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
renamed all of the size elements made tap clicks work, 75978731, 87, 10, 87
added date/time format functions, 75978731, 87, 10, 87
implement data binding for HttpAction, 75978731, 87, 10, 87
remove old comment, 75978731, 87, 10, 87
image gallery httpaction submit cleanup, 75978731, 87, 10, 87
refactored style to be hierachy via GetStyle(), 75978731, 87, 10, 87
refactor into seperate assemby, 75978731, 87, 10, 87
add offscreen render, 75978731, 87, 10, 87
Merge pull request #91 from Microsoft/tomlm  Actions work on xaml, 75978731, 87, 10, 87
merge schema change, 75978731, 87, 10, 87
fixed buttons, 75978731, 87, 10, 87
align buttons to right, 75978731, 87, 10, 87
All buttons work except for Http, 75978731, 87, 10, 87
added initial implementation of actions, 75978731, 87, 10, 87
add sample file, 75978731, 87, 10, 87
choices work, 75978731, 87, 10, 87
textinput is working, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Merge pull request #89 from Microsoft/tomlm  one more missing dash in documentation, 75978731, 87, 10, 87
one more missing dash, 75978731, 87, 10, 87
Merge pull request #88 from Microsoft/tomlm  fix table trplie dash, 75978731, 87, 10, 87
fix table trplie dash, 75978731, 87, 10, 87
Merge pull request #87 from Microsoft/tomlm  Updated .net schema to match new definitions, 75978731, 87, 10, 87
rename and organize to match schema, 75978731, 87, 10, 87
fix note, 75978731, 87, 10, 87
Merge pull request #86 from Microsoft/tomlm  fix separate misspellings, 75978731, 87, 10, 87
fix separate misspellings, 75978731, 87, 10, 87
Merge pull request #85 from Microsoft/tomlm  more cleanup of docs, 75978731, 87, 10, 87
more cleanup of docs, 75978731, 87, 10, 87
Merge pull request #84 from Microsoft/tomlm  add table of contents, 75978731, 87, 10, 87
add table of contents, 75978731, 87, 10, 87
Merge pull request #83 from Microsoft/tomlm  more schema doc tweaks, 75978731, 87, 10, 87
more schema doc tweaks, 75978731, 87, 10, 87
Merge pull request #82 from Microsoft/tomlm  update schema, 75978731, 87, 10, 87
Merge branch 'master' into tomlm, 75978731, 87, 10, 87
update schema, 75978731, 87, 10, 87
Update Schema.md, 75978731, 87, 10, 87
Merge pull request #81 from Microsoft/tomlm  Tomlm, 75978731, 87, 10, 87
update stock, 75978731, 87, 10, 87
Update Schema for latest understanding, 75978731, 87, 10, 87
remove uncessary file, 75978731, 87, 10, 87
merged master, 75978731, 87, 10, 87
large refactor to modularize typescript files, 75978731, 87, 10, 87
action bar schema revisions, 75978731, 87, 10, 87
added ctor, 75978731, 87, 10, 87
Added markdown support, 75978731, 87, 10, 87
update json stub out actions weather works, 75978731, 87, 10, 87
renamed items to names collections, 75978731, 87, 10, 87
moved everything into resources, 75978731, 87, 10, 87
works with style resources, 75978731, 87, 10, 87
rename items, 75978731, 87, 10, 87
basic xaml rendering works, 75978731, 87, 10, 87
folder structure cleanup, 75978731, 87, 10, 87
partial implementation xaml, 75978731, 87, 10, 87
rename, 75978731, 87, 10, 87
rename, 75978731, 87, 10, 87
rename, 75978731, 87, 10, 87
refactor ts files into modules, 75978731, 87, 10, 87
update deps, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into tomlm, 75978731, 87, 10, 87
Samples updates from latest meeting, 75978731, 87, 10, 87
refactor containers into separate files, 75978731, 87, 10, 87
Merge pull request #74 from Microsoft/tomlm  Tomlm, 75978731, 87, 10, 87
Cortana in the car initial release, 75978731, 87, 10, 87
Changes to support Cortana in the Car cards, 75978731, 87, 10, 87
added Cortana Car to Visualizer, 75978731, 87, 10, 87
create .net library for schema, 75978731, 87, 10, 87
add form schema, 75978731, 87, 10, 87
Merge pull request #70 from Microsoft/tomlm  more doc updates, 75978731, 87, 10, 87
more doc updates, 75978731, 87, 10, 87
Merge pull request #69 from Microsoft/tomlm  pull in updated markdown files, 75978731, 87, 10, 87
add ssml link, 75978731, 87, 10, 87
update schema docs, 75978731, 87, 10, 87
Merge pull request #68 from Microsoft/tomlm  add links to samples, 75978731, 87, 10, 87
add links to samples, 75978731, 87, 10, 87
Merge pull request #67 from Microsoft/savas  Merged Cortana Car visualizer, 75978731, 87, 10, 87
Cortana in the car initial release, 75978731, 87, 10, 87
Changes to support Cortana in the Car cards, 75978731, 87, 10, 87
Merge pull request #66 from Microsoft/cortana  added Cortana Car to Visualizer, 75978731, 87, 10, 87
added Cortana Car to Visualizer, 75978731, 87, 10, 87
action refactoring not finished yet, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into input-forms, 75978731, 87, 10, 87
Merge pull request #65 from Microsoft/tomlm  Closes #64, 75978731, 87, 10, 87
refactor so you there is speak button on every card page, 75978731, 87, 10, 87
Merge pull request #63 from Microsoft/tomlm  update samples with speak patterns, 75978731, 87, 10, 87
update samples with speak patterns, 75978731, 87, 10, 87
Merge pull request #62 from Microsoft/tomlm  ds add speak properties with SSML and speech target, 75978731, 87, 10, 87
added typescript definition for vkbeautify, 75978731, 87, 10, 87
add speak properties with SSML and speech target, 75978731, 87, 10, 87
Merge pull request #61 from Microsoft/schema  Schema updates, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/schema' into input-forms, 75978731, 87, 10, 87
sample cleanup, 75978731, 87, 10, 87
Schema revisions from latest meeting, 75978731, 87, 10, 87
Merge remote-tracking branch 'refs/remotes/origin/master' into schema, 75978731, 87, 10, 87
Merge pull request #59 from Microsoft/bing-answers  Bing in visualizer, 75978731, 87, 10, 87
renamed bing visualizer, 75978731, 87, 10, 87
payload fixes, 75978731, 87, 10, 87
added bing answer to visualizer, 75978731, 87, 10, 87
Merge pull request #49 from Microsoft/schema  sample file updates, 75978731, 87, 10, 87
Merge branch 'schema' of https://github.com/Microsoft/AdaptiveCards into schema, 75978731, 87, 10, 87
removed old flight, 75978731, 87, 10, 87
textblock sample fixes, 75978731, 87, 10, 87
sample file updates, 75978731, 87, 10, 87
textblock sample fixes, 75978731, 87, 10, 87
sample file updates, 75978731, 87, 10, 87
sample cleanup, 75978731, 87, 10, 87
Merge branch 'dclaux', 75978731, 87, 10, 87
added debugger in case of exceptions, 75978731, 87, 10, 87
Merge branch 'master' into dclaux, 75978731, 87, 10, 87
schema experiments, 75978731, 87, 10, 87
Remove mandatory root sections AdaptiveCard.sections replaced with AdaptiveCard.body which is a collection of any card element Updated templates, 75978731, 87, 10, 87
rename file, 75978731, 87, 10, 87
update readme, 75978731, 87, 10, 87
added diagram, 75978731, 87, 10, 87
Merge pull request #20 from Microsoft/matthidinger-patch-2  Update readme, 75978731, 87, 10, 87
Merge pull request #21 from Microsoft/matthidinger-patch-1  Docs for Speech and Advanced Customization, 75978731, 87, 10, 87
Update readme, 75978731, 87, 10, 87
Create SpeechAndAdvancedCustomization, 75978731, 87, 10, 87
Merge pull request #18 from Microsoft/riarenas/schema-validation  Fixes #4 Add script to validate json schema, 75978731, 87, 10, 87
Fixes #4 Add new folder structure to samples.  This commit changes the structure of the samples folder. Experimental: This is for samples that are not yet ready and don't have to be valid json payloads when validated against the schema. Proposed: This folder holds valid samples that are yet to be approved. The payloads here should be valid. Approved: This holds the official samples. Once the samples in the proposed folder are approved it's just a matter of moving them to the approved folder. The schema validation script will only run against the proposed and approved folder structures., 75978731, 87, 10, 87
Move ExperimentalSamples folder, 75978731, 87, 10, 87
Fixes #4 Add script to validate json schema npm run validate-schema. This will both validate that the schema is well formed as well as testing that every example in the samples folder matches the schema. The schema as of now is not valid so the task is expected to fail., 75978731, 87, 10, 87
Merge pull request #1 from Microsoft/license-fix  license update, 75978731, 87, 10, 87
license update, 75978731, 87, 10, 87
Merge pull request #50 from matthidinger/riarenas/buildScript  Riarenas/build script, 75978731, 87, 10, 87
Merge pull request #49 from matthidinger/dclaux  Simplifying spacing, 75978731, 87, 10, 87
Update README.md, 75978731, 87, 10, 87
Build script now runs webpack instead of tsc. (Webpack itself runs tsc), 75978731, 87, 10, 87
Merge pull request #48 from matthidinger/package-updates  Package updates, 75978731, 87, 10, 87
Simplifying spacing Remove topSpacing property Now spacing is solely controlled by using sections, 75978731, 87, 10, 87
removed unncessary files, 75978731, 87, 10, 87
package config updates, 75978731, 87, 10, 87
package config updates, 75978731, 87, 10, 87
Merge pull request #47 from matthidinger/riarenas/webpack  Replace browserify with webpack., 75978731, 87, 10, 87
Replace browserify with webpack., 75978731, 87, 10, 87
Merge pull request #46 from matthidinger/dclaux  Fix "Load sample", 75978731, 87, 10, 87
Fix "Load sample", 75978731, 87, 10, 87
Package updates, 75978731, 87, 10, 87
Merge pull request #45 from matthidinger/edge-fix  fixed for edge, 75978731, 87, 10, 87
fixed for edge, 75978731, 87, 10, 87
Merge branch 'refresh-support', 75978731, 87, 10, 87
Merge branch 'master' of https://github.com/matthidinger/AdaptiveCardToolkit into refresh-support, 75978731, 87, 10, 87
Merge pull request #43 from matthidinger/riarenas/refactor  Rename Picture to Image., 75978731, 87, 10, 87
Merge pull request #42 from matthidinger/removed-dist  Excluded compiled js from git, 75978731, 87, 10, 87
visualizer caches payloads and container app between refreshes, 75978731, 87, 10, 87
Excluded compiled js from git, 75978731, 87, 10, 87
Rename Picture to Image. Actually remove generated files from source control. Build task now shows when it has finished in the following format: 1034318 bytes written to visualizer/dist/bundle.js (0.04 seconds), 75978731, 87, 10, 87
Merge pull request #39 from matthidinger/riarenas/refactor  Refactoring (Part Two), 75978731, 87, 10, 87
Export AdaptiveCard.ts members. Consume AdaptiveCard module from app.ts. Generate typings files. Add simple http server task: npm run server. Remove generated files from source control. Stop using gulp tasks and move to npm scripts. Update build task: Now transpiles bundles and makes the result browser friendly., 75978731, 87, 10, 87
Merge pull request #40 from matthidinger/semantic-text  added semantic text coloring: good warning attention, 75978731, 87, 10, 87
added semantic text coloring: good warning attention, 75978731, 87, 10, 87
Merge pull request #38 from matthidinger/blue-airplane  added semantic card, 75978731, 87, 10, 87
renames, 75978731, 87, 10, 87
added semantic card, 75978731, 87, 10, 87
Merge pull request #37 from matthidinger/blue-airplane  fixed payload, 75978731, 87, 10, 87
fixed payload, 75978731, 87, 10, 87
Merge pull request #36 from matthidinger/blue-airplane  flight update tweaks, 75978731, 87, 10, 87
flight update tweaks, 75978731, 87, 10, 87
Merge branch 'dclaux', 75978731, 87, 10, 87
'merge', 75978731, 87, 10, 87
Merge pull request #34 from matthidinger/skype-card  Skype card tweaks, 75978731, 87, 10, 87
Make Outlook/Teams cards look good by default Add Trello sample Make Trello sample the default Remove Tile hosts other than "Large tile" for now, 75978731, 87, 10, 87
Merge branch 'dclaux', 75978731, 87, 10, 87
'merged', 75978731, 87, 10, 87
payload tweaks, 75978731, 87, 10, 87
Merge pull request #31 from matthidinger/skype-card  hostApp query string param to specify client app, 75978731, 87, 10, 87
added flight update card with improved skype css, 75978731, 87, 10, 87
Prettier UI Better Fact styling, 75978731, 87, 10, 87
added skype actions rendering, 75978731, 87, 10, 87
skype card with bot logo and more accurate look, 75978731, 87, 10, 87
hostApp query string param to specify client app, 75978731, 87, 10, 87
Merge pull request #30 from matthidinger/dclaux  Updated VSTS sample, 75978731, 87, 10, 87
Updated VSTS sample Text rendering fix, 75978731, 87, 10, 87
Merge pull request #29 from matthidinger/dclaux  Adding VSTS connector card sample, 75978731, 87, 10, 87
New host container and stylesheet for Teams, 75978731, 87, 10, 87
Adding VSTS connector card sample Fix FactGroup rendering bug, 75978731, 87, 10, 87
Merge branch 'master' of https://github.com/matthidinger/AdaptiveCardToolkit into dclaux, 75978731, 87, 10, 87
Merge pull request #28 from matthidinger/riarenas/refactor-html  Add starter package.json for renderers project, 75978731, 87, 10, 87
Add starter package.json for renderers project Fix tasks.json, 75978731, 87, 10, 87
Remove messageCard leftovers, 75978731, 87, 10, 87
Merge pull request #27 from matthidinger/riarenas/refactor-html  Move Visualizer and Renderers projects to repository root., 75978731, 87, 10, 87
Move Visualizer and Renderers projects to repository root., 75978731, 87, 10, 87
Merge pull request #26 from matthidinger/dclaux  Styling changes simplifying Size, 75978731, 87, 10, 87
Styling changes simplifying Size Remove messageCard stuff, 75978731, 87, 10, 87
Merge pull request #25 from matthidinger/dclaux  More styling changes, 75978731, 87, 10, 87
More styling changes Added very accurate calendar reminder toast sample, 75978731, 87, 10, 87
Merge pull request #24 from matthidinger/dclaux  Update toast stylesheet, 75978731, 87, 10, 87
Update toast stylesheet Further styling enhancements, 75978731, 87, 10, 87
Merge pull request #23 from matthidinger/dclaux  Refactor button handling, 75978731, 87, 10, 87
Remove test buttons, 75978731, 87, 10, 87
Refactor button handling Make button easily stylable Add a stylesheet for toast (TODO: adjust styles), 75978731, 87, 10, 87
Merge pull request #22 from matthidinger/samples-updates  Updated readme, 75978731, 87, 10, 87
Updated readme, 75978731, 87, 10, 87
Merge pull request #20 from matthidinger/samples-updates  Samples updates, 75978731, 87, 10, 87
updated README, 75978731, 87, 10, 87
updated Samples structure, 75978731, 87, 10, 87
Merge pull request #19 from matthidinger/dclaux  Complete refactor of topSpacing, 75978731, 87, 10, 87
Adjusted default spacing for live tiles, 75978731, 87, 10, 87
Complete refactor of topSpacing Now top spacing is specified in CSS for each element type and by default all elements are spaced accordingly It is however possible to remove spacing by setting an element's topSpacing to None in JSON All in all this allows for "default spacing" or "no spacing" Added support for switching stylesheets when selecting a host Added explicit stylesheets for Connectors Live tiles and Skype, 75978731, 87, 10, 87
Merge pull request #18 from matthidinger/dclaux  Fix broken MessageCard Playground, 75978731, 87, 10, 87
Fix broken MessageCard Playground, 75978731, 87, 10, 87
Merge pull request #17 from matthidinger/dclaux  Add support for multiple host containers, 75978731, 87, 10, 87
Add support for multiple host containers: Connector card Large live tile Wide live tile Medium live tile Small live tile Skype card, 75978731, 87, 10, 87
Merge pull request #16 from matthidinger/dclauxperso-patch-1  Update spec to reflect text color model changes., 75978731, 87, 10, 87
Update spec to reflect text color model changes., 75978731, 87, 10, 87
Merge pull request #15 from matthidinger/dclaux  Change text color model, 75978731, 87, 10, 87
Change text color model Remove TextContrast add Dark and Light text colors. This allows for having light and dark CSS themes while still making it possible to explicitly have light text on a dark background., 75978731, 87, 10, 87
Merge pull request #14 from matthidinger/dclaux  Make Spacing and Size customizable, 75978731, 87, 10, 87
Make spacing and size customizable, 75978731, 87, 10, 87
Merge pull request #13 from riarenas/master  Adding javascript build infrastructure, 75978731, 87, 10, 87
Making some settings configurable., 75978731, 87, 10, 87
fix package versions, 75978731, 87, 10, 87
Merge pull request #5 from riarenas/riarenas/build  Riarenas/build, 75978731, 87, 10, 87
Jenkins Test, 75978731, 87, 10, 87
Change package.json info, 75978731, 87, 10, 87
Merge pull request #1 from riarenas/riarenas/build  Add Gulp for Javascript tasks, 75978731, 87, 10, 87
Merge pull request #11 from matthidinger/dclaux  Fix text top alignment, 75978731, 87, 10, 87
Merge pull request #10 from matthidinger/dclauxperso-spec-1  Update spec.md, 75978731, 87, 10, 87
Add Gulp for Javascript tasks  Add TsLint, 75978731, 87, 10, 87
Fixes big bad bug, 75978731, 87, 10, 87
Fix text top alignment By default text doesn't align well with the tope of images. This change fixes the margins for all text sizes to have perfect alignment., 75978731, 87, 10, 87
Update spec.md, 75978731, 87, 10, 87
Merge pull request #9 from matthidinger/dclauxperso-spec  Create spec.md, 75978731, 87, 10, 87
Create spec.md, 75978731, 87, 10, 87
Merge pull request #8 from matthidinger/dclaux  Bug fixes, 75978731, 87, 10, 87
Bug fixes Layout was broken for MessageCard, 75978731, 87, 10, 87
Merge pull request #7 from matthidinger/dclaux  Adding a StyleSheet sample, 75978731, 87, 10, 87
Adding a StyleSheet sample Better font size range, 75978731, 87, 10, 87
exclude bin and obj from vscode, 75978731, 87, 10, 87
Merge pull request #6 from matthidinger/dclaux  Change the text color model use accent color instead, 75978731, 87, 10, 87
Replacing text color model with accent color Adding image assets Fix auto column sizing, 75978731, 87, 10, 87
Add wrap property to TextBlock false by default Some refactoring, 75978731, 87, 10, 87
Merge pull request #5 from matthidinger/dclaux  Fix for textWeight, 75978731, 87, 10, 87
Change to no spacing by default Add Flight.json sample, 75978731, 87, 10, 87
Fix for textWeight, 75978731, 87, 10, 87
Merge pull request #4 from matthidinger/dclaux  Fixes spacing with FactGroup and ColumnGroup, 75978731, 87, 10, 87
Fixes spacing with FactGroup and ColumnGroup, 75978731, 87, 10, 87
Merge pull request #1 from matthidinger/dclaux  Removing text styles, 75978731, 87, 10, 87
Removing text styles Add textSize textWeight and textColor, 75978731, 87, 10, 87
Remove ActionCardContainer not needed, 75978731, 87, 10, 87
Merge branch 'master' of https://github.com/matthidinger/AdaptiveCardToolkit, 75978731, 87, 10, 87
More CSS cleanup Adds support for text contrast, 75978731, 87, 10, 87
updated contribution guidelines, 75978731, 87, 10, 87
CSS cleanup Gets rid of styles that control layout., 75978731, 87, 10, 87
Adding assets Adding weather sample Changing page title for playground app, 75978731, 87, 10, 87
Bringing code to latest version Re-adding MessageCard support, 75978731, 87, 10, 87
project structure cleanup, 75978731, 87, 10, 87
renamed to AdaptiveCard changed @type to type, 75978731, 87, 10, 87
Added early version of visualizer supporting, 75978731, 87, 10, 87
readme updates, 75978731, 87, 10, 87
Added README's for each major toolkit area, 75978731, 87, 10, 87
added license and gitignore, 75978731, 87, 10, 87
initial commit, 75978731, 87, 10, 87
Merge pull request #10 from ibonilm/intelligent  Rename from DocumentDB to Cosmos DB, 54745974, 35, 19, 35
Rename documentDB to Cosmos DB, 54745974, 35, 19, 35
Update 01.CreateAzureResources.md, 54745974, 35, 19, 35
Improve the power bi report integration (#9), 54745974, 35, 19, 35
Improve documentation using md format (#8), 54745974, 35, 19, 35
Update powerbi report, 54745974, 35, 19, 35
Add dependencies between resources, 54745974, 35, 19, 35
Add steps to create a powerbi embed token, 54745974, 35, 19, 35
Integrating PowerBI (#7)  Fix detected issues and integrate powerbi, 54745974, 35, 19, 35
Fix an issue with the default URI, 54745974, 35, 19, 35
Xamarin Forms application (#6)  * Xamarin for Android iOS and UWP running on .NET Standard Library.  * Working on Home page  * Added MasterDetailPage WIP  * Working on Weather Widget View  Working on Android missing config and iOS resources  * Some adjustements to Weather view  * Refactor WeatherWidgetItem style  * Refactor existing pages style and organization  * Working on MainMenu  * MainPage -> HomePage created LiftStatusPage  * Working on Lift Status page  Also updated csproj of iOS project after update  * Working on Lift Status  * Weather Widget gets real data  * Fixed binding problem on WeatherWidgetItem  * Adding SplashScreens and Icons  * Added splash logo  * Added tinier splash image  * working on the documentdb integration  * Working on Lift Status List  * Fix loading in LiftStatus page in iOS  * Working on rentals  * modify the backend services to use DocumentDB  * Working on rentals page  * Working on Dining also created some Solution Folders  * Integrate documentDB  * Fix issues  * Working on Dining also created some Solution Folders  * More work on dining page  * Stars and dollars signs  * New default user geolocation some config  * Apply some feedback  Add marker icon  * Image loading and listview optimizations  * Working on new NavigationService  * Dining and Lift detail  * Recover cachingstrategy in DiningPage  * Remove unused var  * DistanceFormattedText converter  * DistanceFormattedText converter  * Lift Detail map marker  * Rental tabs and created rental form view  * SkiApp data generator update  * Update database views  * AppSettings update real keys have been replced by variables  * Changed Recommendations API from DataMarket to Cognitive Services  * Working on Dining View  * FIxed sorting  * Changed Anomaly Detection API from DataMarket to AzureML  * Updated deployment script  * Updated setup doc  * Navigation fixed  * tokenize the XamarinApp config  * Fix an issue with the store procedure  * Delete .suo  * Tabbed Page icons for iOS  * Working on rental form  * Working on rental form  * Working on the batch scoring  * working on the batch scoring feature  * Change the SA logic to start/stop the existing jobs  * Fix the query  * Working on forms  * automate powebi cognetive services & azureml  * Form actually saves data  * Rental form saves and navigates back to the list  * Move data initializers to a new method in rental form  * Rental DTO for creation fixed issue with missing JSON serializations  * Improve the doc  * add the sample app to import the powerbi report  * Update the app  * Change pickuphour to TimeSpan  * Added loading state  * fix deployments issues  * Fix date select and data initialization  * Sorting icon in dinner optimize PNG  * Optimize PNG iOS resources  * Fix issues  * Fix issues  * update advanced app  * Better UI in Lifts page  * High demand  * Add scrollview  * Update image for better resolution  * Similar restaurants recommendations  * Better HTTP handling working on Auth  * Working on Login  * User info fetching  * Login complete  * update docs, 54745974, 35, 19, 35
Merge pull request #4 from TeamIntergen/add-demo-telemetry  Add demo telemetry snippet, 54745974, 35, 19, 35
Add demo telemetry snippet, 54745974, 35, 19, 35
Update the setup doc, 54745974, 35, 19, 35
Tokenize the config file, 54745974, 35, 19, 35
Updated Setup.docx, 54745974, 35, 19, 35
Updated Readme, 54745974, 35, 19, 35
Readme Document, 54745974, 35, 19, 35
Merge branch 'intelligent' of https://github.com/Microsoft/AdventureWorksSkiApp.git, 54745974, 35, 19, 35
Fix incorrect token validation middleware, 54745974, 35, 19, 35
Fix an issue creating the search service sample data, 54745974, 35, 19, 35
update deployment packages to use the core 1.0, 54745974, 35, 19, 35
Update the web app to use the core 1.0 version, 54745974, 35, 19, 35
Update R connection string, 54745974, 35, 19, 35
update web deployment package, 54745974, 35, 19, 35
update intelligent version web package, 54745974, 35, 19, 35
Update sample pictures, 54745974, 35, 19, 35
Update docs, 54745974, 35, 19, 35
Fix an issue related to the search service sample data, 54745974, 35, 19, 35
fix an issue related to the search service sample data, 54745974, 35, 19, 35
Improve Search Service sample data, 54745974, 35, 19, 35
Merge pull request #3 from PlainConcepts/intelligent  Fix some issues related to rental listing login navigation and date picker., 54745974, 35, 19, 35
Fix problem related to date dropdowns, 54745974, 35, 19, 35
Fixed two bugs related to reservation listing and login navigation, 54745974, 35, 19, 35
Merge branch 'intelligent' of https://github.com/Microsoft/AdventureWorksSkiApp.git, 54745974, 35, 19, 35
Update the sample data to be more deterministic in a demo, 54745974, 35, 19, 35
Fix an issue related to the web deployment, 54745974, 35, 19, 35
update setup tasks, 54745974, 35, 19, 35
Use relative URLs, 54745974, 35, 19, 35
add typings files, 54745974, 35, 19, 35
update doc, 54745974, 35, 19, 35
Add "basic" skuCapacity, 54745974, 35, 19, 35
update template to use the SQL Server 2016 RTM image, 54745974, 35, 19, 35
Update the setup tasks to open Visual Studio with admin rights, 54745974, 35, 19, 35
Remove unnecessary files, 54745974, 35, 19, 35
Update the docs, 54745974, 35, 19, 35
Fix typo issues, 54745974, 35, 19, 35
Update docs, 54745974, 35, 19, 35
Change sample data, 54745974, 35, 19, 35
Fix some issues related to the search service, 54745974, 35, 19, 35
Fix an issue with the anomaly service, 54745974, 35, 19, 35
fix an issue mergin the index, 54745974, 35, 19, 35
Merge branch 'master' of https://github.com/Microsoft/AdventureWorksSkiApp.git, 54745974, 35, 19, 35
Update README.md, 54745974, 35, 19, 35
Update README.md, 54745974, 35, 19, 35
Intelligent app, 54745974, 35, 19, 35
Merge branch 'master' of https://github.com/Microsoft/AdventureWorksSkiApp.git, 54745974, 35, 19, 35
Change default picture, 54745974, 35, 19, 35
Update build.json, 54745974, 35, 19, 35
Delete skiresort-release-key.keystore, 54745974, 35, 19, 35
Merge branch 'master' of https://github.com/Microsoft/AdventureWorksSkiApp.git, 54745974, 35, 19, 35
Fix the config file, 54745974, 35, 19, 35
Add license file, 54745974, 35, 19, 35
Merge pull request #2 from ibonilm/master  AdventureWorks SkiResort, 54745974, 35, 19, 35
AdventureWorks SkiResort, 54745974, 35, 19, 35
Initial commit, 54745974, 35, 19, 35
Update README.md, 88499076, 36, 20, 36
Add files via upload, 88499076, 36, 20, 36
Delete Test.txt, 88499076, 36, 20, 36
Add files via upload, 88499076, 36, 20, 36
added Daniel's slides, 88499076, 36, 20, 36
added a link to the slides to the Readme file, 88499076, 36, 20, 36
Slide Deck, 88499076, 36, 20, 36
Readme.md, 88499076, 36, 20, 36
deleted test file, 88499076, 36, 20, 36
adding common file, 88499076, 36, 20, 36
removing, 88499076, 36, 20, 36
Merge of branch 'master' before final changes for AI Immersion workshop, 88499076, 36, 20, 36
Final changes for AI Immersion, 88499076, 36, 20, 36
changed name, 88499076, 36, 20, 36
updated without animal, 88499076, 36, 20, 36
Set 301 device to GPU, 88499076, 36, 20, 36
Create README.md, 88499076, 36, 20, 36
Fixed image paths, 88499076, 36, 20, 36
updated notebook, 88499076, 36, 20, 36
conflict resolved, 88499076, 36, 20, 36
Extended readme with windows shell alternatives. Also slide deck edit, 88499076, 36, 20, 36
Updates the modified files, 88499076, 36, 20, 36
Fix typo, 88499076, 36, 20, 36
Merge branch 'miguel', 88499076, 36, 20, 36
Migrate to East US  - Load distribute Docker image between two repos as well - Save/load storage alias, 88499076, 36, 20, 36
re-updated, 88499076, 36, 20, 36
removing, 88499076, 36, 20, 36
updated 201B, 88499076, 36, 20, 36
updated 201B, 88499076, 36, 20, 36
Create README.md, 88499076, 36, 20, 36
updated 301, 88499076, 36, 20, 36
fixed links, 88499076, 36, 20, 36
fixed pic links in linux.md and added a reference to it from Readme.md, 88499076, 36, 20, 36
Merge branch 'master' of https://github.com/Microsoft/AI-Immersion-Workshop before pushing readme updates., 88499076, 36, 20, 36
Added notebook files for CNTK on PySpark, 88499076, 36, 20, 36
Additional readme contents for ssh alternatives to connect to DSVM, 88499076, 36, 20, 36
pushing a pretrained mode & updated SetComputeContext.r, 88499076, 36, 20, 36
Merge branch 'master' of https://github.com/Microsoft/AI-Immersion-Workshop, 88499076, 36, 20, 36
added tutorial link to the slides, 88499076, 36, 20, 36
Merge pull request #9 from noodlefrenzy/cognitive-services-track-initial-commit  Adding Cognitive Services track as Git submodule., 88499076, 36, 20, 36
Adding Cognitive Services track as Git submodule., 88499076, 36, 20, 36
updated, 88499076, 36, 20, 36
updated, 88499076, 36, 20, 36
updates paths and files, 88499076, 36, 20, 36
final run, 88499076, 36, 20, 36
removed batch operation, 88499076, 36, 20, 36
Several updates for distributed example, 88499076, 36, 20, 36
Merge pull request #8 from Microsoft/thdeltei  Thomas ACS notebook, 88499076, 36, 20, 36
Thomas ACS notebook, 88499076, 36, 20, 36
Added files via upload  CNTK Tutorials only. Code to bypass gpu lock., 88499076, 36, 20, 36
lung cancer notebook, 88499076, 36, 20, 36
1st, 88499076, 36, 20, 36
Merge branch 'master' of https://github.com/Microsoft/AI-Immersion-Workshop, 88499076, 36, 20, 36
switched to manual setup of mrs deploy configuration, 88499076, 36, 20, 36
Fix clean up link, 88499076, 36, 20, 36
Updated nvidia-smi instructions and TensorBoard writer usage, 88499076, 36, 20, 36
Several updates for the README, 88499076, 36, 20, 36
Clarifications for task completion wait, 88499076, 36, 20, 36
Merge branch 'master' of https://github.com/Microsoft/AI-Immersion-Workshop, 88499076, 36, 20, 36
added readme for object detection, 88499076, 36, 20, 36
Fixed README formatting, 88499076, 36, 20, 36
Added initial README, 88499076, 36, 20, 36
Removed the 103D notebook; use the CNTK Tutorial one, 88499076, 36, 20, 36
Fixed a couple of steps, 88499076, 36, 20, 36
Merge pull request #5 from vDonGlover/master  Markdown conversion, 88499076, 36, 20, 36
Merge branch 'master' of https://github.com/Microsoft/AI-Immersion-Workshop, 88499076, 36, 20, 36
Put Chainer downloads in the current directory, 88499076, 36, 20, 36
removed the saved logit model, 88499076, 36, 20, 36
modified logit formula in spark demo, 88499076, 36, 20, 36
simplified marios spark demo, 88499076, 36, 20, 36
Added clarifying comment for auto device selection, 88499076, 36, 20, 36
103D sample, 88499076, 36, 20, 36
Add distributed CNTK example, 88499076, 36, 20, 36
Added file to download DIGITS data, 88499076, 36, 20, 36
Added OpenCV example, 88499076, 36, 20, 36
Added Chainer files, 88499076, 36, 20, 36
Removed Test file, 88499076, 36, 20, 36
Markdown conversion, 88499076, 36, 20, 36
Merge pull request #4 from Microsoft/alpark  Remove manual nvidia downloads, 88499076, 36, 20, 36
Remove manual nvidia downloads, 88499076, 36, 20, 36
added wifi info to slides, 88499076, 36, 20, 36
fixed links broken due to the repo restructering, 88499076, 36, 20, 36
Merge branch 'master' of https://github.com/Microsoft/AI-Immersion-Workshop, 88499076, 36, 20, 36
minor slide changes, 88499076, 36, 20, 36
Last track folder added., 88499076, 36, 20, 36
Changes to folder structure, 88499076, 36, 20, 36
Changes to folder structure.  Organizing folder as per each track., 88499076, 36, 20, 36
fixed link to the small manhattan data set, 88499076, 36, 20, 36
Merge pull request #3 from Microsoft/vapaunic  Vapaunic, 88499076, 36, 20, 36
Merge branch 'master' of https://github.com/Microsoft/AI-Immersion-Workshop into vapaunic, 88499076, 36, 20, 36
changed links to point to the github repo, 88499076, 36, 20, 36
Merge pull request #2 from Microsoft/vapaunic  merging vapaunic into master, 88499076, 36, 20, 36
Merge pull request #1 from Microsoft/alpark  Add Deep Learning at Scale notebooks, 88499076, 36, 20, 36
deleted a few slides on spark, 88499076, 36, 20, 36
modified slides with more on SQL Server R Services and MRS, 88499076, 36, 20, 36
fixed image link, 88499076, 36, 20, 36
updated the Readme small changes elsewhere, 88499076, 36, 20, 36
Add RP registration, 88499076, 36, 20, 36
Add navigation links in 04-09, 88499076, 36, 20, 36
changes to README small changes other places too, 88499076, 36, 20, 36
changed working dirs in marios scripts, 88499076, 36, 20, 36
Add Deep Learning at Scale notebooks, 88499076, 36, 20, 36
scripts for spark configuration and mrs configuration added, 88499076, 36, 20, 36
added a readme - need to modify it further, 88499076, 36, 20, 36
modified dplyr rmd, 88499076, 36, 20, 36
cleaned up the presentation, 88499076, 36, 20, 36
code here tested R intro and AzureML, 88499076, 36, 20, 36
initial commit - started slides and outlined resources, 88499076, 36, 20, 36
Individual Track folders created., 88499076, 36, 20, 36
Initial commit, 88499076, 36, 20, 36
Initial commit, 88499076, 36, 20, 36
Initial commit, 88499076, 36, 20, 36
simple_flight yaw working, 81887991, 2728, 502, 2728
pitch/roll rate working, 81887991, 2728, 502, 2728
simple_flight ready to test, 81887991, 2728, 502, 2728
simple_flight mixer ready, 81887991, 2728, 502, 2728
fix const in overrides, 81887991, 2728, 502, 2728
initial simple_flight, 81887991, 2728, 502, 2728
fix CmakeLists for deleted Log.cpp, 81887991, 2728, 502, 2728
Merge pull request #292 from hamishwillee/patch-1  Minor typo fixes, 81887991, 2728, 502, 2728
Updated with new available settings, 81887991, 2728, 502, 2728
settings to hide debug messages record button initial view mode, 81887991, 2728, 502, 2728
init settings in game mode fix mutex issue in settings causing segfault, 81887991, 2728, 502, 2728
removal of ground lock improved redirectable debug logging, 81887991, 2728, 502, 2728
Minor typo fixes, 81887991, 2728, 502, 2728
add lock to protect access of Settings.json file., 81887991, 2728, 502, 2728
use local coordinates in collison response, 81887991, 2728, 502, 2728
moved major changes from col branch (mainly drag vertices concept), 81887991, 2728, 502, 2728
fix build script, 81887991, 2728, 502, 2728
fix gcc build script, 81887991, 2728, 502, 2728
Doc update., 81887991, 2728, 502, 2728
fix serial port stop bit code bug on windows., 81887991, 2728, 502, 2728
fix bugs, 81887991, 2728, 502, 2728
Merge remote-tracking branch 'origin/VehicleCamera', 81887991, 2728, 502, 2728
fix typo, 81887991, 2728, 502, 2728
fix bugs, 81887991, 2728, 502, 2728
simplify python getImageForCamera API add point_cloud helper., 81887991, 2728, 502, 2728
add doc about the subview performance impact.., 81887991, 2728, 502, 2728
update screenshot., 81887991, 2728, 502, 2728
Update setup instructions for blocks environment., 81887991, 2728, 502, 2728
Merge branch 'VehicleCamera', 81887991, 2728, 502, 2728
Merge commit '424c4e28060114ac9715e097bdc2d52a79a9eba9', 81887991, 2728, 502, 2728
Fix LogViewer for other cultures., 81887991, 2728, 502, 2728
fix empty vector case., 81887991, 2728, 502, 2728
Fix getImageForCamera so that it automatically turns on the required view if it is not visible already., 81887991, 2728, 502, 2728
fix clang compiler warnings., 81887991, 2728, 502, 2728
Fix bugs in python scripts., 81887991, 2728, 502, 2728
fix getrssi bug., 81887991, 2728, 502, 2728
Merge remote-tracking branch 'origin' into VehicleCamera, 81887991, 2728, 502, 2728
Simplify DroneControllerBase::getImageForCamera API and fix implementation so it shares the same Unreal API that the recording thread was using (ReadSurfaceData). This also makes it possible now to continually get multiple types of images (depth segmentation scene)., 81887991, 2728, 502, 2728
Merge pull request #253 from nacho-carnicero/OSX_UDP_socket_fix  Fix OSX specific UDP socket issue, 81887991, 2728, 502, 2728
Use write() and read() functions for UDP connections when socket is already connected on OSX, 81887991, 2728, 502, 2728
Added Kerry's Linux docker container reference, 81887991, 2728, 502, 2728
fix hellodrone sample., 81887991, 2728, 502, 2728
update python docs., 81887991, 2728, 502, 2728
restore baro noise., 81887991, 2728, 502, 2728
cleanup documentation on remote controls., 81887991, 2728, 502, 2728
python fixes., 81887991, 2728, 502, 2728
fix compiler warnings., 81887991, 2728, 502, 2728
move offboard commands to a separate thread so that they can be interrupted by rpc client and so that rpc client can call them repeatedly at high speed (like moveByVelocity) efficiently., 81887991, 2728, 502, 2728
fix bug in toEulerianAngle, 81887991, 2728, 502, 2728
Add some Python samples., 81887991, 2728, 502, 2728
Fix bug in how timeout happens while monitoring HIL and SITL communications.  Add diagram explaining how AirSim is loaded and initialized in Unreal., 81887991, 2728, 502, 2728
add back animated GIF that is used by top level readme., 81887991, 2728, 502, 2728
Added ref to preprint paper, 81887991, 2728, 502, 2728
Add new info about building pixhawk firwmare using BashOnWindows., 81887991, 2728, 502, 2728
fix crash that happens when you manually place the BP_FlyingPawn BP_CameraDirector BP_PIPCamera., 81887991, 2728, 502, 2728
update info about px4 parameters, 81887991, 2728, 502, 2728
switch to unused() template., 81887991, 2728, 502, 2728
fix remaining compiler warnings., 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
Use WaitUntilTaskCompletes to wait for image save to complete instead of spinning the RecordingThread on a busy while loop., 81887991, 2728, 502, 2728
fix old references to SimGameMode., 81887991, 2728, 502, 2728
docs for env minor changes, 81887991, 2728, 502, 2728
move hexacopter docs to wiki., 81887991, 2728, 502, 2728
docs update for new AirSimGameMode and Blocks env, 81887991, 2728, 502, 2728
Add MoveOnPath command that takes a sequence of points as an argument., 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
improve the instructions around getlibcxx., 81887991, 2728, 502, 2728
Merge pull request #200 from andre-nguyen/unused_params  Fix unused parameter warnings in AirLib, 81887991, 2728, 502, 2728
added light weight environment, 81887991, 2728, 502, 2728
moved BP code to C++ resolved thread contention issue, 81887991, 2728, 502, 2728
fix shutdown problems to do with blueprintlog., 81887991, 2728, 502, 2728
fix some typos., 81887991, 2728, 502, 2728
new video of hex, 81887991, 2728, 502, 2728
Documentation on building hexacopter model., 81887991, 2728, 502, 2728
fix unused params warning, 81887991, 2728, 502, 2728
rename px4quadx to px4multirotor., 81887991, 2728, 502, 2728
Add physics model for PX4 hexacotper (no blueprint yet)., 81887991, 2728, 502, 2728
make reference to settings file a bit more clear., 81887991, 2728, 502, 2728
fix typo, 81887991, 2728, 502, 2728
fix typo, 81887991, 2728, 502, 2728
update build docs., 81887991, 2728, 502, 2728
use 'rotor_count' constant instead of hard coded '4'., 81887991, 2728, 502, 2728
arm/disarm via remote working, 81887991, 2728, 502, 2728
joystick buttons accessible via APIs, 81887991, 2728, 502, 2728
include all RC buttons in joystick, 81887991, 2728, 502, 2728
Make drone loiter when offboard control messages stop coming., 81887991, 2728, 502, 2728
align default location of eigen library across windows and linux., 81887991, 2728, 502, 2728
Turn off 3 subviews by default for performance reasons., 81887991, 2728, 502, 2728
move vehicle name from FlyingPawn to settings, 81887991, 2728, 502, 2728
updated rpclib clean removed rpclib build, 81887991, 2728, 502, 2728
moved rotor boost from base to derived class, 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
Change 'long' to 'uint32_t' in MavLinkTelemetry., 81887991, 2728, 502, 2728
add test for fakegps., 81887991, 2728, 502, 2728
use fixed ints instead of long init time for physics body, 81887991, 2728, 502, 2728
Merge pull request #193 from andre-nguyen/patch-1  fix typo in proposed rsync path, 81887991, 2728, 502, 2728
fix typo in proposed rsync path, 81887991, 2728, 502, 2728
fixes to how we enable/disable hil mode., 81887991, 2728, 502, 2728
fixed crash in Develop Editor configuration, 81887991, 2728, 502, 2728
add mavlink2 new files., 81887991, 2728, 502, 2728
update mavlinkcom to support mavlink2 protocol., 81887991, 2728, 502, 2728
removed unnecessory thread includes, 81887991, 2728, 502, 2728
use simclock for thread sleep avoid OS clocks, 81887991, 2728, 502, 2728
fix hidden compilation errors, 81887991, 2728, 502, 2728
Utils clock API changes, 81887991, 2728, 502, 2728
fix timestampnow and other timing related members, 81887991, 2728, 502, 2728
signature change for update(), 81887991, 2728, 502, 2728
clock re-design, 81887991, 2728, 502, 2728
Don't throw unhandled exception if subscriber fails., 81887991, 2728, 502, 2728
fix compiler warnings., 81887991, 2728, 502, 2728
Add some unit test code for HIL mode., 81887991, 2728, 502, 2728
Add a bit more checking of message traffic to DroneShell/DroneServer., 81887991, 2728, 502, 2728
ignore cmake files., 81887991, 2728, 502, 2728
Update docs for settings., 81887991, 2728, 502, 2728
make build script executable., 81887991, 2728, 502, 2728
change default to Pixhawk, 81887991, 2728, 502, 2728
ROSFlight plumbing done, 81887991, 2728, 502, 2728
add Unreal plugin files to the solution so it is easier to see their history., 81887991, 2728, 502, 2728
initial settings in one place remove settings dependency from connector, 81887991, 2728, 502, 2728
give tiny clip to throttle so props don't always spin., 81887991, 2728, 502, 2728
Fix compile warnings, 81887991, 2728, 502, 2728
Fix GCC compile errors., 81887991, 2728, 502, 2728
Add more docs on using xbox controller., 81887991, 2728, 502, 2728
Switch back to build.cmd powershell requires setting unrestricted execution policy which is a hassle., 81887991, 2728, 502, 2728
fix case of #include., 81887991, 2728, 502, 2728
fix windows build., 81887991, 2728, 502, 2728
Fix windows clean build (installs cmake if we need it)., 81887991, 2728, 502, 2728
cleanup boost relics in CommonSetup.cmake. Fix bugs found by clang, 81887991, 2728, 502, 2728
fix build, 81887991, 2728, 502, 2728
don't allow failures., 81887991, 2728, 502, 2728
stop allowing build failures, 81887991, 2728, 502, 2728
remove tabs, 81887991, 2728, 502, 2728
fix syntax, 81887991, 2728, 502, 2728
install libc++-dev., 81887991, 2728, 502, 2728
add c++abi target library, 81887991, 2728, 502, 2728
Fix unix build., 81887991, 2728, 502, 2728
resolved compile errors, 81887991, 2728, 502, 2728
Fix bugs add some docs., 81887991, 2728, 502, 2728
rectoring choise of firmware to json setting, 81887991, 2728, 502, 2728
clean up before json driven vehicle selection move Sim* files in to folder, 81887991, 2728, 502, 2728
add some error handling., 81887991, 2728, 502, 2728
undo the attempted "unused parameter" compiler fix since it breaks the unreal build on linux., 81887991, 2728, 502, 2728
Fix some comments.  Make "land" return immediately so DroneSHell user can change their mind and do something else while landing. Perf fix in DroneShell., 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
fix conditional compile error for the case when __cpp_lib_experimental_filesystem is not defined., 81887991, 2728, 502, 2728
Merge branch 'saihv-master', 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/saihv/AirSim into saihv-master, 81887991, 2728, 502, 2728
Added right permission to getlibcxx.sh otherwise one has to add +x each time., 81887991, 2728, 502, 2728
Update rpclib to latest bits., 81887991, 2728, 502, 2728
fix compiler warnings and a bug was hiding in there also., 81887991, 2728, 502, 2728
Add a settings switch to disable RPC server., 81887991, 2728, 502, 2728
Separate thread for recording, 81887991, 2728, 502, 2728
Update, 81887991, 2728, 502, 2728
Merge with upstream, 81887991, 2728, 502, 2728
Make F1 help easier to read., 81887991, 2728, 502, 2728
better fix for takeoff bug., 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
publish., 81887991, 2728, 502, 2728
Fixes to *.ulg log file support. Add tracking back of mouse position on charts to a pushpin location on GPS map., 81887991, 2728, 502, 2728
add doc links., 81887991, 2728, 502, 2728
fix typo., 81887991, 2728, 502, 2728
Add link to log playback feature., 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
Add documentation of the log playback feature., 81887991, 2728, 502, 2728
Publish., 81887991, 2728, 502, 2728
Add stats., 81887991, 2728, 502, 2728
document tested pixhawk hardware., 81887991, 2728, 502, 2728
Fix zoom., 81887991, 2728, 502, 2728
Fix bugs in scaling under zoom.  Add schema to exported .csv files.  Support merging schema from multiple log files., 81887991, 2728, 502, 2728
fix compile errors., 81887991, 2728, 502, 2728
Fix some linux compile errors., 81887991, 2728, 502, 2728
Support paste to set background image., 81887991, 2728, 502, 2728
Wait for valid GPS position at beginning of DroneShell., 81887991, 2728, 502, 2728
add test for vehicles., 81887991, 2728, 502, 2728
Add beginning of a unit test and fix linux compile errors., 81887991, 2728, 502, 2728
fix offboard mode bug., 81887991, 2728, 502, 2728
add unit test project., 81887991, 2728, 502, 2728
add unit tests., 81887991, 2728, 502, 2728
Joystick support for three MAVs, 81887991, 2728, 502, 2728
Merge pull request #149 from mgielda/patch-1  Add note on libjsoncpp0 to linux build for Ubuntu 16.04, 81887991, 2728, 502, 2728
Add note on libjsoncpp0 to linux build for Ubuntu 16.04  Working from a stock Ubuntu 16.04 machine libjsoncpp0 has no installation candidate - add note to the linux build instructions, 81887991, 2728, 502, 2728
add MavLinkLog interface that can be overridden. add Log class that can redirect Utils::logMessage output. Fix various bugs., 81887991, 2728, 502, 2728
add documentation on the camera views., 81887991, 2728, 502, 2728
Added three vehicles; individual camera setup, 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
Change magnetometer scale to match hmc5883 sensor., 81887991, 2728, 502, 2728
use Utils::logMessage instead of printf., 81887991, 2728, 502, 2728
Fix LogViewer bug to do with managing multi_id data streams., 81887991, 2728, 502, 2728
Fix issue 141: update docs on xbox controller., 81887991, 2728, 502, 2728
fix bug in build.sh, 81887991, 2728, 502, 2728
Add mkdir/rmdir to MavLinkFtpClient., 81887991, 2728, 502, 2728
update docs., 81887991, 2728, 502, 2728
remove the releaseControl call in endOffboardMode because it makes back-to-back move operations not work so well on PX4 drones., 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
add -filter option to MavLinkTest for exporting a single message type from mavlink logfile as .csv.  Add csv headers to example sensor output., 81887991, 2728, 502, 2728
Add more comments and documentation around use of SITL mode and move commands., 81887991, 2728, 502, 2728
minor fixes., 81887991, 2728, 502, 2728
sync MC pid parameters when playing back a recorded log., 81887991, 2728, 502, 2728
relax ssd prereq., 81887991, 2728, 502, 2728
Linux build fixes from madratman., 81887991, 2728, 502, 2728
Fix various small bugs., 81887991, 2728, 502, 2728
fix manual keyboard control of camera director so that left right up down honor the current rotation that is in effect., 81887991, 2728, 502, 2728
Spawn and control two drones, 81887991, 2728, 502, 2728
Make log playback "sync location" when you press 'T' so that the playback trace aligns with the simulated trace., 81887991, 2728, 502, 2728
Reduce barometric weather change some more. Skip unimportant parts of log during PlayLog command., 81887991, 2728, 502, 2728
Add .csv export menu item on charts., 81887991, 2728, 502, 2728
fixed baro back and forth example), 81887991, 2728, 502, 2728
changed mag to use dynamic model added baro noise example code for sensors, 81887991, 2728, 502, 2728
Fix PlayLog so the yellow ribbon draws correctly., 81887991, 2728, 502, 2728
zoom the trend and mean lines to just the values that are visible., 81887991, 2728, 502, 2728
work on themes, 81887991, 2728, 502, 2728
update docs., 81887991, 2728, 502, 2728
Add page on collecting logs, 81887991, 2728, 502, 2728
Fix bugs in offboard mode., 81887991, 2728, 502, 2728
Add check for offboard control in the wiggle command., 81887991, 2728, 502, 2728
Fix PlayLog bugs., 81887991, 2728, 502, 2728
Add window caption to logviewer., 81887991, 2728, 502, 2728
minor fix., 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
added plotting code, 81887991, 2728, 502, 2728
added dumplogcommands, 81887991, 2728, 502, 2728
manual view mode, 81887991, 2728, 502, 2728
Flamesheel config, 81887991, 2728, 502, 2728
added manual view mode, 81887991, 2728, 502, 2728
Add support for reading the new PX4 .ulg format., 81887991, 2728, 502, 2728
Fix locked tooltips so they reposition when window is resized.  Shorten some of the px4 tooltips.  Add "clear all" adornments.  Fix initial positioning of locked tooltips., 81887991, 2728, 502, 2728
Fix bugs., 81887991, 2728, 502, 2728
fix linux compile warning. fix ftp bugs., 81887991, 2728, 502, 2728
fix FTP file name max length., 81887991, 2728, 502, 2728
side-by-side trajectories showing up, 81887991, 2728, 502, 2728
mocap changes, 81887991, 2728, 502, 2728
fixed bug in switch, 81887991, 2728, 502, 2728
add a bit more debug output., 81887991, 2728, 502, 2728
fix some CLang compile warnings., 81887991, 2728, 502, 2728
add const to parse param, 81887991, 2728, 502, 2728
added exception for mocap message, 81887991, 2728, 502, 2728
command playback working, 81887991, 2728, 502, 2728
added mocap messages, 81887991, 2728, 502, 2728
playlog command added, 81887991, 2728, 502, 2728
add comments., 81887991, 2728, 502, 2728
add wildcards to ftp get/put commands to make it easier to download px4 logs., 81887991, 2728, 502, 2728
Add some retry logic to ensure all parameters are fetched in the getParamList method. Minor corrections to Linux build instructions., 81887991, 2728, 502, 2728
move unreal setup info to it's own page., 81887991, 2728, 502, 2728
fix image link., 81887991, 2728, 502, 2728
Add detailed unreal step by step setup instructions, 81887991, 2728, 502, 2728
simplify libc++ script., 81887991, 2728, 502, 2728
easier way to get clang 3.9, 81887991, 2728, 502, 2728
Fixes to clang build., 81887991, 2728, 502, 2728
Add timestamp to json mavlink message format., 81887991, 2728, 502, 2728
change paths for build, 81887991, 2728, 502, 2728
force fixed precision in sensor log example, 81887991, 2728, 502, 2728
Added standalone sensor example, 81887991, 2728, 502, 2728
fix bugs, 81887991, 2728, 502, 2728
Add mavlinktest commands into the mavlink log generated., 81887991, 2728, 502, 2728
add mavlinktest command WaitForAltitudeCommand, 81887991, 2728, 502, 2728
Add some parameter safety checks. Fix some bugs, 81887991, 2728, 502, 2728
Add a 'battery' command to MavLinkTest., 81887991, 2728, 502, 2728
Fix bugs, 81887991, 2728, 502, 2728
switch SITL mode to use 'ekf2' instead of 'lpe'., 81887991, 2728, 502, 2728
Add .mavlink to .json log file converter (in MavLinkTest) Fix bugs in MavLinkLog read method. Add unit test for this. Beginnings of json support in LogViewer (not done yet)., 81887991, 2728, 502, 2728
Merge pull request #119 from ghexp/master  Initial working version of mac and linux travis build., 81887991, 2728, 502, 2728
Fix json formatting bug., 81887991, 2728, 502, 2728
Initial working version of mac and linux travis build., 81887991, 2728, 502, 2728
fix bugs., 81887991, 2728, 502, 2728
fix compile warnings., 81887991, 2728, 502, 2728
Fix bugs in offboard mode. Fix persistence of new settings., 81887991, 2728, 502, 2728
integrated start/end offboard mode, 81887991, 2728, 502, 2728
more fixes in DroneServer as well as MavLinkDroneController, 81887991, 2728, 502, 2728
added validation checks in DroneServer, 81887991, 2728, 502, 2728
implemented pre and post for action commands, 81887991, 2728, 502, 2728
add faq on connecting pixhawk., 81887991, 2728, 502, 2728
Fx px4 version info and fix a bug in telemetry msg handling., 81887991, 2728, 502, 2728
make udp server scenario less fussy., 81887991, 2728, 502, 2728
add sanity check on local/remote ip addresses., 81887991, 2728, 502, 2728
Fixed issue #113 (random vector issue), 81887991, 2728, 502, 2728
docs update and cleanup, 81887991, 2728, 502, 2728
avoid unnecessory joystick messages check engine version scale joystick inputs, 81887991, 2728, 502, 2728
publish new version., 81887991, 2728, 502, 2728
Add ChartGroup.cs, 81887991, 2728, 502, 2728
Add scale independent switch on chart groups., 81887991, 2728, 502, 2728
fixed compile issue in DevelopmentEditor config, 81887991, 2728, 502, 2728
added joystick support, 81887991, 2728, 502, 2728
Add setmessageinterval command., 81887991, 2728, 502, 2728
Add more info on how to fix the LPE_FAKE_ORIGIN., 81887991, 2728, 502, 2728
Upgrade to Unreal 4.15, 81887991, 2728, 502, 2728
Fixed event dependency issues with 4.15, 81887991, 2728, 502, 2728
make settings work again if file didn't exist, 81887991, 2728, 502, 2728
ROSFlight integration, 81887991, 2728, 502, 2728
Add wifi RSSI to the telemetry that is captured by MavLinkConnection., 81887991, 2728, 502, 2728
fix LogViewer when running in SITL mode., 81887991, 2728, 502, 2728
Add FAQ about Pixhawk serial ports., 81887991, 2728, 502, 2728
Fix Blacksheep arm length (22 cm not 22 meters!)., 81887991, 2728, 502, 2728
Merge pull request #110 from meee1/settings-fix  DroneServer: Fix settings load, 81887991, 2728, 502, 2728
Merge pull request #109 from crubier/master  Fix MacOs linking problem., 81887991, 2728, 502, 2728
DroneServer: Fix settings load, 81887991, 2728, 502, 2728
add missing heartbeat., 81887991, 2728, 502, 2728
Try to fix #107, 81887991, 2728, 502, 2728
update docs relating to px4 sitl build., 81887991, 2728, 502, 2728
noop, 81887991, 2728, 502, 2728
Add support for Team Blacksheep Discovery quadrocopter physics model (3D asset to come)., 81887991, 2728, 502, 2728
Make DroneServer use ~/Documents/AirSim/settings.json so it can be used to control a real drone., 81887991, 2728, 502, 2728
update px4 setup docs., 81887991, 2728, 502, 2728
add more info about building px4., 81887991, 2728, 502, 2728
Fix some error handling and update some docs., 81887991, 2728, 502, 2728
Merge pull request #103 from jamuus/bugfix/orientation  Fix magnetometer reference value to match initial gps position, 81887991, 2728, 502, 2728
Fix magnetometer reference value to match initial gps position  Value sourced from: https://github.com/Microsoft/AirSim/blob/master/AirLib/include/sensors/magnetometer/MagnetometerSimple.hpp, 81887991, 2728, 502, 2728
add build script., 81887991, 2728, 502, 2728
Add ability to download eigen and unzip in the msbuild targets., 81887991, 2728, 502, 2728
Beginnings of Team BlackSheep Drone configuration., 81887991, 2728, 502, 2728
Add LogViewer support for viewing mavlink_hil_actuator_controls message., 81887991, 2728, 502, 2728
Merge pull request #102 from inkjet/master  Updated Linux build script to place libraries in correct directories …, 81887991, 2728, 502, 2728
Updated Linux build script to place libraries in correct directories and change filename case issue and typo, 81887991, 2728, 502, 2728
fix sitl settings bugs., 81887991, 2728, 502, 2728
Fix OSX compile error., 81887991, 2728, 502, 2728
Fix PX4 SITL mode where two separate mavlink connections are required., 81887991, 2728, 502, 2728
Fix bug in UDP client code., 81887991, 2728, 502, 2728
add heartbeat for SITL mode., 81887991, 2728, 502, 2728
Add auto-sync and build of eigen library to the AirLib.vcxproj., 81887991, 2728, 502, 2728
fix typo, 81887991, 2728, 502, 2728
Update error message., 81887991, 2728, 502, 2728
remove boost dependency and fix some other bugs., 81887991, 2728, 502, 2728
Merge pull request #86 from Timebutt/patch-2  PS3 controller information, 81887991, 2728, 502, 2728
Fix linux build., 81887991, 2728, 502, 2728
Add json format option to MavLinkLog. Add -logformat:json option to MavLinkTest., 81887991, 2728, 502, 2728
remove last remnants of boost., 81887991, 2728, 502, 2728
Remove boost dependency entirely., 81887991, 2728, 502, 2728
Add doxygen style comments to DroneControlBase., 81887991, 2728, 502, 2728
add Semaphore class., 81887991, 2728, 502, 2728
Add some documentation of the main API., 81887991, 2728, 502, 2728
Add droneshell "pos" command and add -r option to move commands so you can make movements "relative" to current location., 81887991, 2728, 502, 2728
Rename MavLinkSemaphore to just Semaphore and add Apple OSX implementaiton., 81887991, 2728, 502, 2728
PS3 controller information  Added confirmation that a Playstation 3 controller can be used as an AirSim controller. The required driver is also linked., 81887991, 2728, 502, 2728
new files., 81887991, 2728, 502, 2728
remove dependency on Boost., 81887991, 2728, 502, 2728
Merge pull request #80 from ghexp/master  Workaround for missing sem_timedwait on os x, 81887991, 2728, 502, 2728
Workaround for missing sem_timedwait on os x, 81887991, 2728, 502, 2728
Remove dependency on boost udp sockets.  Fix posix build of serialport., 81887991, 2728, 502, 2728
remove dependency on boost::lexical_cast., 81887991, 2728, 502, 2728
Moving away from Boost.  This removes dependency on boost interprocess_semaphore., 81887991, 2728, 502, 2728
remove getTextureRenderTarget call, 81887991, 2728, 502, 2728
Add FileSystem path "combine" method. Move log files to a dated folder. Fix crashes in getImageForCamera. Add ability to get series of images using DroneShell., 81887991, 2728, 502, 2728
Fix settings bugs, 81887991, 2728, 502, 2728
Fix random serial port issues., 81887991, 2728, 502, 2728
Fix code link., 81887991, 2728, 502, 2728
Merge pull request #72 from bkueng/fix_linux_build  Fix linux build, 81887991, 2728, 502, 2728
fix connection to SITL., 81887991, 2728, 502, 2728
Add FileSystem wrapper., 81887991, 2728, 502, 2728
Fix linux build errors., 81887991, 2728, 502, 2728
Add FileSystem class to encapsulate platform differences in handling of unicode file names.  Move log files and image capture files to ~/Documens/AirSIm.  Add "GetImage" command to DroneShell., 81887991, 2728, 502, 2728
build.sh: update paths after other updates, 81887991, 2728, 502, 2728
cmake: add -libstd=libc++ for linux clang build  This is needed to match the compile flags of the Unreal Engine, 81887991, 2728, 502, 2728
update some comments and documentation, 81887991, 2728, 502, 2728
Controller interface refactoring, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim.git, 81887991, 2728, 502, 2728
Add new FAQ, 81887991, 2728, 502, 2728
fixed rm command, 81887991, 2728, 502, 2728
fix bugs and add unreal position to the report info., 81887991, 2728, 502, 2728
reduce thread priority., 81887991, 2728, 502, 2728
Merge pull request #67 from patrickelectric/build.sh  Some updates in build.sh, 81887991, 2728, 502, 2728
Check if clang is installed  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
Correct download location  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
Check if libc++ is installed  libc++ is necessary to compile boost library  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
Sensor refactoring lower freq to 300HZ fix report updates, 81887991, 2728, 502, 2728
Fix AsyncTasker.  Fix restart of RpcLibServer., 81887991, 2728, 502, 2728
Increase priority of serial IO so that it does not get starved by the unreal engine., 81887991, 2728, 502, 2728
Merge pull request #61 from JiamingSuen/master  Resolve #60: clang 'default initialization of an object of const type' error, 81887991, 2728, 502, 2728
Merge pull request #62 from Timebutt/patch-1  Update sitl.md, 81887991, 2728, 502, 2728
Merge pull request #63 from RichLewis007/master  Correct typo in spelling of English text, 81887991, 2728, 502, 2728
Fix bullet numbering., 81887991, 2728, 502, 2728
Add links to new setup video., 81887991, 2728, 502, 2728
Merge pull request #1 from RichLewis007/RichLewis007-patch-1  fix typo, 81887991, 2728, 502, 2728
fix typo  Corrected spelling of word "contribution", 81887991, 2728, 502, 2728
Make it real clear that we need Unreal version 4.14., 81887991, 2728, 502, 2728
Update sitl.md  Edited formatting to make it clearer what needs to be done. Readers could confuse 'set UseSerial to false 5.', 81887991, 2728, 502, 2728
Fix clang ‘default initialization of an object of const type’ compilation error., 81887991, 2728, 502, 2728
Add clarification around how to get unreal 4.14. and add the fact that windows build is now dependent on cmake for building the rpclib., 81887991, 2728, 502, 2728
noop, 81887991, 2728, 502, 2728
Fix unix build., 81887991, 2728, 502, 2728
fix build to update the git submodules., 81887991, 2728, 502, 2728
Merge pull request #55 from 8W9aG/add-osx-cmake-2  Fixes OS X issues when attempting to build, 81887991, 2728, 502, 2728
MavLinkCom: Add Utils.cpp as a mavlink source  * MavLinkCom fails to link because this isn’t compiled, 81887991, 2728, 502, 2728
MavLinkCom: Use message in vsnprintf  * The format argument doesn’t exist and will break UNIX builds, 81887991, 2728, 502, 2728
MavLinkCom: Fix APPLE not supporting thread priorities  * Going to make this a no-op for now the only way to go around this might be using NSThread, 81887991, 2728, 502, 2728
AirLib: Include rpc headers as a package  * RPC headers no longer live in this package, 81887991, 2728, 502, 2728
Link to rpclib in various projects  * Link directly to the rpclib created by the rpclib submodule, 81887991, 2728, 502, 2728
Specify the binary direction for rpclib  * Cmake does not let you define a target without this outside of the folders scope, 81887991, 2728, 502, 2728
Refactor controllers design, 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
Move some stuff to private implementation., 81887991, 2728, 502, 2728
Add some debug output., 81887991, 2728, 502, 2728
settings doc update new doc on plugin contents, 81887991, 2728, 502, 2728
added TODO comment to add back Werror later, 81887991, 2728, 502, 2728
Merge branch 'bkueng-linux_build', 81887991, 2728, 502, 2728
resolved merge conflict with PR43, 81887991, 2728, 502, 2728
deleted deps folder (not used any longer), 81887991, 2728, 502, 2728
Merge branch 'bkueng-build_fixes', 81887991, 2728, 502, 2728
resolved conflicts from pull request, 81887991, 2728, 502, 2728
use rpclib from git submodule, 81887991, 2728, 502, 2728
added rpclib submodule, 81887991, 2728, 502, 2728
fix linux build., 81887991, 2728, 502, 2728
Add ThreadUtils., 81887991, 2728, 502, 2728
Bump up the priority of the mavlink threads so that they don't get starved by the Unreal rendering engine., 81887991, 2728, 502, 2728
Always use connectRemoteUdp when using UdpIp connection to remote HIL.  This sould also work in the localhost case., 81887991, 2728, 502, 2728
Increase rate of telemetry logging., 81887991, 2728, 502, 2728
Fix compile warnings., 81887991, 2728, 502, 2728
publish, 81887991, 2728, 502, 2728
build.sh: add build script for Linux  This also takes care of eigen & boost dependency and uses the clang compiler.  Note: this is incomplete yet (missing proper handing of rpclib), 81887991, 2728, 502, 2728
cmake: build with -stdlib=libc++  We cannot use GCC's default libstdc++ because Unreal builds with libc++ and there are symbol inconsistencies between the two libs (see GCC dual ABI).  This also removes the Werror since there were simply too many errors. This can be added again later once it's more stable., 81887991, 2728, 502, 2728
cmake: set CMAKE_POSITION_INDEPENDENT_CODE to ON on Unix  This is needed because we're using the static libraries in a dynamic library (the Unreal Plugin).  Fixes the error: relocation R_X86_64_32 against `.bss' can not be used when making a shared object; recompile with -fPIC, 81887991, 2728, 502, 2728
AirSim.Build.cs: add Linux support, 81887991, 2728, 502, 2728
AirSim.Build.cs: add rpclib dependency  On linux there are undefined symbols to rpc::server::* otherwise, 81887991, 2728, 502, 2728
Fix typos., 81887991, 2728, 502, 2728
strip html from .md, 81887991, 2728, 502, 2728
add faq, 81887991, 2728, 502, 2728
Remove unreachable code and fix some bugs., 81887991, 2728, 502, 2728
Fix mismatching delete[], 81887991, 2728, 502, 2728
fix delete: mismatched new[] / delete, 81887991, 2728, 502, 2728
fix MavLinkDroneControl: explicit call to constructor  GCC 6.3.1 did not like it otherwise, 81887991, 2728, 502, 2728
fix DroneShell: return type is string not bool, 81887991, 2728, 502, 2728
AirBlueprintLib: fix compile error  - explicit template declaration must be after the GetActorComponent   method definition - GCC failed to induce the template type of FindAllActor so make it   explicit, 81887991, 2728, 502, 2728
rename AirBluePrintLib to AirBlueprintLib  Needed for case-sensitive file systems, 81887991, 2728, 502, 2728
CommonSetup.cmake: add find_package(Threads REQUIRED)  Without this I got a cmake configuration error (cmake 3.6.2), 81887991, 2728, 502, 2728
OnlineStats.hpp: fix ifdef guard, 81887991, 2728, 502, 2728
gitignore: add eclipse files, 81887991, 2728, 502, 2728
fix FindEigen3.cmake: proper evaluation if $EIGEN_ROOT is not set, 81887991, 2728, 502, 2728
AirSim: remove duplicated typedef for Vector3r, 81887991, 2728, 502, 2728
Add some mavlink telemetry for debugging., 81887991, 2728, 502, 2728
minor doc updates, 81887991, 2728, 502, 2728
Fix logviewer and qgc connection when remote UdpIp is being used., 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
Some more instructions for Linux build. Sort GCC diagnostic ignore lines. Update SITL instructions for remote PX4., 81887991, 2728, 502, 2728
Unix build - force use of $EIGEN_ROOT version of Eigen rather than picking up some random bits from /usr/include/eigen3., 81887991, 2728, 502, 2728
Minor fixes for Linux build., 81887991, 2728, 502, 2728
Fix required delete[] calls., 81887991, 2728, 502, 2728
Update docs for remote SITL connection, 81887991, 2728, 502, 2728
Fix remote HIL mode and some compiler warnings., 81887991, 2728, 502, 2728
Merge pull request #31 from morrisonbrett/logviewer-project-reference-fix  Fixed package reference to LogViewer solution, 81887991, 2728, 502, 2728
Fixed package reference to LogViewer solution, 81887991, 2728, 502, 2728
minor changes in Boost install code structure, 81887991, 2728, 502, 2728
Merge branch 'morrisonbrett-master', 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/morrisonbrett/AirSim into morrisonbrett-master, 81887991, 2728, 502, 2728
added typedef for uint, 81887991, 2728, 502, 2728
Merge branch 'patrickelectric-corrections', 81887991, 2728, 502, 2728
Updated code structure document for grammar / clarity, 81887991, 2728, 502, 2728
Modified Boost and Eigen install documents to be more consistent and clear., 81887991, 2728, 502, 2728
Solve strict-overflow  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
Remove some warnings in STRICT_MODE_OFF  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
Stop sim from crashing if PX4 is not plugged in., 81887991, 2728, 502, 2728
add more instructions for setting map, 81887991, 2728, 502, 2728
minor code style clarifications, 81887991, 2728, 502, 2728
add some more, 81887991, 2728, 502, 2728
Clean build on Linux using GCC 6, 81887991, 2728, 502, 2728
moved out strict mode macros in separate file added back some of the missing changes after bad pull added back pedantic included better contribution guidelines, 81887991, 2728, 502, 2728
putting back changes to Settings.h, 81887991, 2728, 502, 2728
removed commit c23d0fc9c059abffa7c6c317c92c927218733bfa, 81887991, 2728, 502, 2728
Remove outdated readme.md, 81887991, 2728, 502, 2728
link fix, 81887991, 2728, 502, 2728
Update coding_guidelines.md, 81887991, 2728, 502, 2728
Fixed grammer, 81887991, 2728, 502, 2728
added coding guidelines, 81887991, 2728, 502, 2728
Fix some sample code., 81887991, 2728, 502, 2728
Fix Linux build, 81887991, 2728, 502, 2728
Merge pull request #15 from 8W9aG/add-osx-compiler-support  Add OSX compiler support, 81887991, 2728, 502, 2728
Merge branch 'master' into add-osx-compiler-support, 81887991, 2728, 502, 2728
Add link to demo setup video, 81887991, 2728, 502, 2728
Add default constructor for VehicleParams  * AppleClang will error when this not provided, 81887991, 2728, 502, 2728
Support unicode paths in Unix  * Unix supports UTF8 paths which the converter will handle * Unix does not have support for wstring initializations of ofstream or ifstream, 81887991, 2728, 502, 2728
Add include for stat.h  * Apple requires this for mkdir, 81887991, 2728, 502, 2728
Merge pull request #13 from patrickelectric/style  Style correction, 81887991, 2728, 502, 2728
Identify AppleClang compiler and use different arguments, 81887991, 2728, 502, 2728
add info on contribution guidelines., 81887991, 2728, 502, 2728
Move to Google code style, 81887991, 2728, 502, 2728
Some Linux build fixes., 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
Fix async task execution and add exception handling to that., 81887991, 2728, 502, 2728
Merge pull request #10 from patrickelectric/typos  Solve some random typos, 81887991, 2728, 502, 2728
 sitl.md: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 prereq.md: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 hard_drive.md: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 VehiclePawnBase.h: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 VehiclePawnBase.cpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 SimModeWorldBase.cpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 SimModeBase.cpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 AirSim.Build.cs: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 README.md: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 MavLinkVideoStreamImpl.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 mavlink_helpers.h: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 common.h: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 MavLinkMessages.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 type_utils.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 README.md: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 MavlinkTypes.cs: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 PX4BinaryLog.cs: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 MainWindow.xaml.cs: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 main.cpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 linenoise.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 SimpleShell.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 SafetyEval.cpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 DroneControlBase.cpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 GpsSimple.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 World.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 FastPhysicsEngine.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 DroneControlServer.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 DroneControlBase.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 type_utils.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 FirstOrderFilter.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 EarthUtils.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 endian.h: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 ext.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 optional.hpp: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
 pimpl.h: Solve typos  Signed-off-by: Patrick José Pereira <patrickelectric@gmail.com>, 81887991, 2728, 502, 2728
all images same size in readme, 81887991, 2728, 502, 2728
added DL manual flight gif, 81887991, 2728, 502, 2728
Bug fixes for connecting remote drone shell., 81887991, 2728, 502, 2728
Add support for controlling the DroneServer ip address so we can talk to it across machines., 81887991, 2728, 502, 2728
minor fixes., 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
Fix bugs in DroneControlBase control of mavlink vehicle., 81887991, 2728, 502, 2728
Merge pull request #8 from crowchirp/master  corrected spelling errors in docs, 81887991, 2728, 502, 2728
Merge pull request #7 from gawela/fix/enum  Fixed enum declaration., 81887991, 2728, 502, 2728
corrected spelling errors in docs, 81887991, 2728, 502, 2728
Fixed enum declaration., 81887991, 2728, 502, 2728
more info on linux build., 81887991, 2728, 502, 2728
update mavlinkcom bits., 81887991, 2728, 502, 2728
Add info on Linux build progress..., 81887991, 2728, 502, 2728
Merge pull request #4 from pierriko/patch-1  Rename readm.md to readme.md, 81887991, 2728, 502, 2728
Merge pull request #5 from akkatracker/patch-1  Grammatical Issues in sitl.md, 81887991, 2728, 502, 2728
Grammatical Issues in sitl.md, 81887991, 2728, 502, 2728
Update readme.md  fix md syntax, 81887991, 2728, 502, 2728
Rename readm.md to readme.md, 81887991, 2728, 502, 2728
add docs., 81887991, 2728, 502, 2728
Add documentation on log viewer and hard drive performance., 81887991, 2728, 502, 2728
Fix links., 81887991, 2728, 502, 2728
Update cmake version info & readme., 81887991, 2728, 502, 2728
Mavlink cleanup structure (move test into MavLinkCom). Fix Linux build errors in MavLinkCom. MavLinkCom builds with cmake on Linux., 81887991, 2728, 502, 2728
Some Linux cmake build fixes., 81887991, 2728, 502, 2728
record data image, 81887991, 2728, 502, 2728
record data iamge, 81887991, 2728, 502, 2728
record data iamge, 81887991, 2728, 502, 2728
record data iamge, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim, 81887991, 2728, 502, 2728
record data iamge, 81887991, 2728, 502, 2728
Remove record data image, 81887991, 2728, 502, 2728
Fix crop issue, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim, 81887991, 2728, 502, 2728
cropped record data image, 81887991, 2728, 502, 2728
new record data image, 81887991, 2728, 502, 2728
record data image, 81887991, 2728, 502, 2728
Added issues link, 81887991, 2728, 502, 2728
Missing image and other minor changes, 81887991, 2728, 502, 2728
fixed issues link, 81887991, 2728, 502, 2728
Title, 81887991, 2728, 502, 2728
Fix markup formatting for image, 81887991, 2728, 502, 2728
merge readme, 81887991, 2728, 502, 2728
rotor normalization merge readme, 81887991, 2728, 502, 2728
Alt demo video link, 81887991, 2728, 502, 2728
added back changes in settings for pixhawk detection, 81887991, 2728, 502, 2728
merge, 81887991, 2728, 502, 2728
detect Pixhawk on startup, 81887991, 2728, 502, 2728
fix build to use AirSim.sln., 81887991, 2728, 502, 2728
fix broken link., 81887991, 2728, 502, 2728
fix some typos., 81887991, 2728, 502, 2728
Merge and fix broken doc links., 81887991, 2728, 502, 2728
Merge, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim, 81887991, 2728, 502, 2728
updated licensing info, 81887991, 2728, 502, 2728
Make settings.json work again and add documentation., 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Added link to paper, 81887991, 2728, 502, 2728
Added citation, 81887991, 2728, 502, 2728
Added paper, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim, 81887991, 2728, 502, 2728
renamed sln, 81887991, 2728, 502, 2728
Fixed issues link, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim, 81887991, 2728, 502, 2728
Update code_structure.md, 81887991, 2728, 502, 2728
adding StarterContent that was missing, 81887991, 2728, 502, 2728
Update apis.md, 81887991, 2728, 502, 2728
Update apis.md, 81887991, 2728, 502, 2728
update docs, 81887991, 2728, 502, 2728
Update manual_flight.md, 81887991, 2728, 502, 2728
Update use_precompiled.md, 81887991, 2728, 502, 2728
Update apis.md, 81887991, 2728, 502, 2728
merge, 81887991, 2728, 502, 2728
update docs, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
Update build.md, 81887991, 2728, 502, 2728
Merge branch 'master' of https://github.com/Microsoft/AirSim, 81887991, 2728, 502, 2728
update docs, 81887991, 2728, 502, 2728
Update prereq.md, 81887991, 2728, 502, 2728
Update README.md, 81887991, 2728, 502, 2728
update docs, 81887991, 2728, 502, 2728
update docs, 81887991, 2728, 502, 2728
Merge branch 'master' of github.com:Microsoft/AirSim, 81887991, 2728, 502, 2728
docs update, 81887991, 2728, 502, 2728
update build script, 81887991, 2728, 502, 2728
readme and license update, 81887991, 2728, 502, 2728
fix some typos., 81887991, 2728, 502, 2728
Add LogViewer., 81887991, 2728, 502, 2728
add mavlink includes to build.cmd and add cmake files., 81887991, 2728, 502, 2728
initial release, 81887991, 2728, 502, 2728
Initial commit, 81887991, 2728, 502, 2728
Initial commit, 81887991, 2728, 502, 2728
Initial commit, 81887991, 2728, 502, 2728
Update the readme for June Update release, 74768993, 81, 58, 81
Updates to launch.json and app.json syntax for Dev Preview June Update, 74768993, 81, 58, 81
Merge pull request #275 from Notora/master  Added Option Caption ML snippet., 74768993, 81, 58, 81
Added Option Caption ML snippet., 74768993, 81, 58, 81
Fixed typos, 74768993, 81, 58, 81
Fixed typos, 74768993, 81, 58, 81
adding links to code of conduct, 74768993, 81, 58, 81
Merge pull request #258 from Gallimathias/feature/update_readme  Improve the readme, 74768993, 81, 58, 81
Description updated (https://github.com/Microsoft/AL/pull/258)  Refresh the description because the preview is publicly accessible., 74768993, 81, 58, 81
Changed on request by @SusanneWindfeldPedersen [Microsoft/AL #258](https://github.com/Microsoft/AL/pull/258)  The section of the Code of Conduct was moved to the end of the file, 74768993, 81, 58, 81
Update text  Text has been adapted to current circumstances, 74768993, 81, 58, 81
Update readme  Added more information Better appearance added, 74768993, 81, 58, 81
Merge branch 'master' of https://github.com/Microsoft/AL, 74768993, 81, 58, 81
Syncronized and splitted the snippets., 74768993, 81, 58, 81
Merge pull request #251 from kaspermoerch/patch-1  Added snippet for Business and Integration Events., 74768993, 81, 58, 81
Syntax changes to match teventsub snippet, 74768993, 81, 58, 81
Procedures in added Event snippets should be local, 74768993, 81, 58, 81
Added snippet for Business and Integration Events., 74768993, 81, 58, 81
Merge pull request #243 from yrest/patch-1  Add Irish translation, 74768993, 81, 58, 81
Removed blank line 1, 74768993, 81, 58, 81
Removed CRLF on line 50, 74768993, 81, 58, 81
Add Irish translation, 74768993, 81, 58, 81
Merge pull request #242 from gunnargestsson/patch-1  Add Icelandic, 74768993, 81, 58, 81
Add Icelandic, 74768993, 81, 58, 81
Merge pull request #234 from saward/patch-1  Corrected mis-spelling of 'county', 74768993, 81, 58, 81
Corrected mis-spelling of 'county', 74768993, 81, 58, 81
Merge pull request #232 from ajkauffmann/master  Correction on teventsub snippet, 74768993, 81, 58, 81
Correction on teventsub snippet, 74768993, 81, 58, 81
Merge branch 'master' of https://github.com/Microsoft/AL, 74768993, 81, 58, 81
Merge pull request #193 from NavBitsAndBytes/master  Create basic PageList snippet; rename existing page snippet to PageCard for clarity, 74768993, 81, 58, 81
Create basic list page snippet; rename existing page snippet to CardPage for clarity, 74768993, 81, 58, 81
Merge branch 'master' of https://github.com/Microsoft/AL, 74768993, 81, 58, 81
Merge pull request #108 from eknraw/master  Field Snippets with predefined Type, 74768993, 81, 58, 81
Merge pull request #2 from Microsoft/master  And the second one, 74768993, 81, 58, 81
Change of format for variable references in launch.json, 74768993, 81, 58, 81
Add snippets to check for empty tables  Add two snippets to check for empty tables either with or without an else branch. Inspired by http://vjeko.com/are-there-any-records-there/, 74768993, 81, 58, 81
Added Action snippet, 74768993, 81, 58, 81
Fixed quotes added placeholders, 74768993, 81, 58, 81
CaptionML snipped corrected (missing ), 74768993, 81, 58, 81
Add CaptionML Snippet, 74768993, 81, 58, 81
Adding AL snippets, 74768993, 81, 58, 81
Add Get Address Service sample, 74768993, 81, 58, 81
Change of format for variable references in launch.json, 74768993, 81, 58, 81
Resovle Merge Conflict, 74768993, 81, 58, 81
Merge pull request #107 from tfenster/master  Add snippets to check for empty tables, 74768993, 81, 58, 81
Fix typos, 74768993, 81, 58, 81
Cleanup Spacing, 74768993, 81, 58, 81
Table Fields with Data Types  Additonal snippets with predefined data types, 74768993, 81, 58, 81
Add snippets to check for empty tables  Add two snippets to check for empty tables either with or without an else branch. Inspired by http://vjeko.com/are-there-any-records-there/, 74768993, 81, 58, 81
Merge pull request #106 from kine/master  Added Action snippet, 74768993, 81, 58, 81
Added Action snippet, 74768993, 81, 58, 81
Merge pull request #105 from kine/master  CaptionML snippet, 74768993, 81, 58, 81
Fixed quotes added placeholders, 74768993, 81, 58, 81
CaptionML snipped corrected (missing ), 74768993, 81, 58, 81
Add CaptionML Snippet, 74768993, 81, 58, 81
Adding AL snippets, 74768993, 81, 58, 81
Add Get Address Service sample, 74768993, 81, 58, 81
Merge pull request #42 from JosepPages/master  Added Catalan, 74768993, 81, 58, 81
Update GreetingsManagement.al, 74768993, 81, 58, 81
Update GreetingsManagement.al, 74768993, 81, 58, 81
Fix single quote, 74768993, 81, 58, 81
Merge pull request #31 from TheDoubleH/master  Swahili Greeting Added, 74768993, 81, 58, 81
Updated Random Factor to include the Swahili Greeting, 74768993, 81, 58, 81
Added Swahili, 74768993, 81, 58, 81
Merge pull request #30 from nareshwar/patch-2  Update Tamil and Sinhalese Languages in GreetingsManagement.al., 74768993, 81, 58, 81
Update Tamil and Sinhalese Languages., 74768993, 81, 58, 81
Merge pull request #29 from Microsoft/us-locale  switching to US locale, 74768993, 81, 58, 81
switching to US locale, 74768993, 81, 58, 81
Merge pull request #28 from omerfaruknav/patch-2  Greetings in Turkish, 74768993, 81, 58, 81
Update GreetingsManagement.al, 74768993, 81, 58, 81
Merge pull request #27 from altin7m/patch-2  Albanian Update, 74768993, 81, 58, 81
ALbanian Update, 74768993, 81, 58, 81
Merge pull request #25 from achecac/master  Spanish update, 74768993, 81, 58, 81
Spanish update, 74768993, 81, 58, 81
Merge pull request #21 from niku-live/original  Some changes for fun - Braille Morse code and other interesting greetings, 74768993, 81, 58, 81
Greetings in some interesting languages/codes - Braille Morse 1337 Hacker language and etc., 74768993, 81, 58, 81
Merge pull request #20 from freddydk/master  Support Multitenancy as well as Singletenancy Add a language and improve readability, 74768993, 81, 58, 81
Add a language and increase the readability  All of this random(something)-1 is just confusing. Why not use the simplicity of NAV - there are 23 strings - so Random(23) it is - and then let the list start with 1., 74768993, 81, 58, 81
Support Multitenancy as well as Singletenancy  In Single Tenancy the single tenant is called default. In Multi Tenancy this shows how to specify a tenant (and works with a default tenant out-of-the-box), 74768993, 81, 58, 81
Merge pull request #18 from niku-live/master  Added greeting from Lithuania, 74768993, 81, 58, 81
Merge remote-tracking branch 'upstream/master', 74768993, 81, 58, 81
Small fix - incremented Random argument, 74768993, 81, 58, 81
Added greeting from Lithuania, 74768993, 81, 58, 81
Merge pull request #17 from achim-t/master  Added German language, 74768993, 81, 58, 81
Incremented Random Call, 74768993, 81, 58, 81
Added German language, 74768993, 81, 58, 81
Merge pull request #15 from kine/Czech  Added Czech language... :-), 74768993, 81, 58, 81
Merge remote-tracking branch 'refs/remotes/Microsoft/master' into Czech, 74768993, 81, 58, 81
Merge pull request #16 from AlexanderErmakovAwara/patch-1  Added greetings in Russian, 74768993, 81, 58, 81
Merge pull request #14 from kine/master  Modified Message to follow more the standard syntax "Text"Param1Par…, 74768993, 81, 58, 81
Update from master, 74768993, 81, 58, 81
Added spaces after '' in parameters, 74768993, 81, 58, 81
Update GreetingsManagement.al, 74768993, 81, 58, 81
Update GreetingsManagement.al  Proposed Russian as well, 74768993, 81, 58, 81
Merge pull request #13 from waldo1001/master  New languages and 1-based "random" solved a different way., 74768993, 81, 58, 81
Merged new version of Microsoft/Master branch, 74768993, 81, 58, 81
Forgot to increase the random number, 74768993, 81, 58, 81
In Hungarian too :), 74768993, 81, 58, 81
Added Czech language... :-), 74768993, 81, 58, 81
Modified Message to follow more the standard syntax "Text"Param1Param2..., 74768993, 81, 58, 81
The 1-based array should be solved at the Random-statement. When calling the "GetHelloWorldText" procedure you need to be able to get back the actual value not the value-1., 74768993, 81, 58, 81
Added a few more languages, 74768993, 81, 58, 81
Merge pull request #10 from TheDenSter/master  Added Pig Latin greeting, 74768993, 81, 58, 81
Merge pull request #9 from hougaard/master  Random(int) is 1-based afrikaan would never be selected., 74768993, 81, 58, 81
Added Pig Latin greeting, 74768993, 81, 58, 81
Fixed bug where Akrikaans would never be selected since Random(int) 1 -based, 74768993, 81, 58, 81
Update GreetingsManagement.al (#1)  Polish version added., 74768993, 81, 58, 81
Merge pull request #8 from gierszewski/patch-1  Update GreetingsManagement.al, 74768993, 81, 58, 81
Update GreetingsManagement.al  Polish version added., 74768993, 81, 58, 81
Merge pull request #6 from hougaard/master  Added danish greeting, 74768993, 81, 58, 81
Added danish greeting, 74768993, 81, 58, 81
Update README.MD, 74768993, 81, 58, 81
Merge pull request #5 from SusanneWindfeldPedersen/master  update, 74768993, 81, 58, 81
update, 74768993, 81, 58, 81
Merge remote-tracking branch 'refs/remotes/Microsoft/master', 74768993, 81, 58, 81
Merge pull request #4 from SusanneWindfeldPedersen/master  line breaks to make it readable, 74768993, 81, 58, 81
line breaks to make it readable, 74768993, 81, 58, 81
Merge remote-tracking branch 'refs/remotes/Microsoft/master', 74768993, 81, 58, 81
Merge pull request #3 from SusanneWindfeldPedersen/master  changed link text, 74768993, 81, 58, 81
changed link text, 74768993, 81, 58, 81
Merge remote-tracking branch 'refs/remotes/Microsoft/master', 74768993, 81, 58, 81
Merge pull request #2 from SusanneWindfeldPedersen/master  readme, 74768993, 81, 58, 81
readme, 74768993, 81, 58, 81
Merge remote-tracking branch 'refs/remotes/Microsoft/master', 74768993, 81, 58, 81
Merge pull request #1 from SusanneWindfeldPedersen/master  license.txt, 74768993, 81, 58, 81
license.txt, 74768993, 81, 58, 81
OSS license headers, 74768993, 81, 58, 81
Hello World sample, 74768993, 81, 58, 81
Merge pull request #22 from Microsoft/sachin/vstsgit  Sachin/vstsgit, 80564356, 12, 4, 12
fixing typos, 80564356, 12, 4, 12
fixing broken link, 80564356, 12, 4, 12
Updating images, 80564356, 12, 4, 12
changing target to open in a new tab, 80564356, 12, 4, 12
Update readme.md, 80564356, 12, 4, 12
Update readme.md, 80564356, 12, 4, 12
Update readme.md, 80564356, 12, 4, 12
Update readme.md, 80564356, 12, 4, 12
Merge pull request #17 from Microsoft/create-vatsa/teams  adding VSTSDemoGenerator script, 80564356, 12, 4, 12
Merge pull request #18 from Microsoft/cd  Updating Continuous Deployment Script for VSTS, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Update content, 80564356, 12, 4, 12
changes, 80564356, 12, 4, 12
changes, 80564356, 12, 4, 12
Updating content, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
updated changes, 80564356, 12, 4, 12
Update content, 80564356, 12, 4, 12
fixing the header, 80564356, 12, 4, 12
aligning images, 80564356, 12, 4, 12
aligning text, 80564356, 12, 4, 12
aligning images, 80564356, 12, 4, 12
aligning the images, 80564356, 12, 4, 12
adding Microsoft Teams script for VSTS, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
adding VSTSDemoGenerator script, 80564356, 12, 4, 12
Merge branch 'sachin/vstsgit' of https://github.com/Microsoft/ALMVM into sachin/vstsgit, 80564356, 12, 4, 12
updating git, 80564356, 12, 4, 12
updating CI lab, 80564356, 12, 4, 12
updating contributors page, 80564356, 12, 4, 12
Merge pull request #16 from Microsoft/sachin/vstsgit  update git labs, 80564356, 12, 4, 12
adding links to test management, 80564356, 12, 4, 12
updated test lab, 80564356, 12, 4, 12
fixing the homepage, 80564356, 12, 4, 12
adding width, 80564356, 12, 4, 12
removing padding, 80564356, 12, 4, 12
aligning text, 80564356, 12, 4, 12
update test lab, 80564356, 12, 4, 12
removing empty divs, 80564356, 12, 4, 12
Merge pull request #14 from Microsoft/vatsa/vstsTestlab  updating test lab, 80564356, 12, 4, 12
changing the topnav layout, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Merge pull request #15 from Microsoft/bspann  Fixed grammatical mistakes., 80564356, 12, 4, 12
test lab update - test manager extension, 80564356, 12, 4, 12
updating test mgmt lab, 80564356, 12, 4, 12
Fixed grammatical mistakes., 80564356, 12, 4, 12
Merge pull request #13 from Microsoft/bspann  Bspann, 80564356, 12, 4, 12
u[dating test lab, 80564356, 12, 4, 12
removing width, 80564356, 12, 4, 12
Added context to exercise 7 and update a few screen shots to reflect the instructions., 80564356, 12, 4, 12
fixing search unicode chars, 80564356, 12, 4, 12
fixing width, 80564356, 12, 4, 12
Updated exercise 6 to include more steps and explaination with updated screen shots., 80564356, 12, 4, 12
Merge pull request #9 from Microsoft/vatsa/vstsTestlab  adding vsts testlab, 80564356, 12, 4, 12
adding bootstrap, 80564356, 12, 4, 12
adding responsive, 80564356, 12, 4, 12
test, 80564356, 12, 4, 12
fixing search.json, 80564356, 12, 4, 12
Merge pull request #12 from Microsoft/bspann  Updated exercise 4 and made some formatting fixes for previous exerci…, 80564356, 12, 4, 12
Added an image showing the drag-n-drop of a feature and grammatically corrected some text., 80564356, 12, 4, 12
Updated exercise 4 and made some formatting fixes for previous exercises., 80564356, 12, 4, 12
removing redirects from tfs and vsts, 80564356, 12, 4, 12
adding default, 80564356, 12, 4, 12
reverting all the changes, 80564356, 12, 4, 12
testing changes, 80564356, 12, 4, 12
test, 80564356, 12, 4, 12
reverting changes and adding redirect_from in readme, 80564356, 12, 4, 12
test, 80564356, 12, 4, 12
adding redirect_to gem, 80564356, 12, 4, 12
test, 80564356, 12, 4, 12
testing, 80564356, 12, 4, 12
testing, 80564356, 12, 4, 12
commenting config base URL, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/almvm, 80564356, 12, 4, 12
adding the redirect link, 80564356, 12, 4, 12
Delete CNAME, 80564356, 12, 4, 12
Create CNAME, 80564356, 12, 4, 12
removing links, 80564356, 12, 4, 12
changes, 80564356, 12, 4, 12
changes, 80564356, 12, 4, 12
changes, 80564356, 12, 4, 12
adding redirect, 80564356, 12, 4, 12
removing redirects, 80564356, 12, 4, 12
changing AI labs, 80564356, 12, 4, 12
removing comment from header, 80564356, 12, 4, 12
re-adding redirect, 80564356, 12, 4, 12
update, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
adding redirects, 80564356, 12, 4, 12
Merge pull request #10 from Microsoft/bspann  Changed Exercise 3 with more details and updated screen shots for Kan…, 80564356, 12, 4, 12
adding redir to tfs and vsts labs, 80564356, 12, 4, 12
updating readme, 80564356, 12, 4, 12
moving to almvm, 80564356, 12, 4, 12
removing metatag, 80564356, 12, 4, 12
re-adding https, 80564356, 12, 4, 12
changing site, 80564356, 12, 4, 12
adding redirects, 80564356, 12, 4, 12
reverting to site1, 80564356, 12, 4, 12
adding baseurl, 80564356, 12, 4, 12
removing redirect_to, 80564356, 12, 4, 12
changing to https, 80564356, 12, 4, 12
changing to https, 80564356, 12, 4, 12
moving to almvm, 80564356, 12, 4, 12
adding metatag, 80564356, 12, 4, 12
adding redirect gems, 80564356, 12, 4, 12
fixing redirect, 80564356, 12, 4, 12
adding redirects, 80564356, 12, 4, 12
adding redirect, 80564356, 12, 4, 12
Update _config.yml, 80564356, 12, 4, 12
Merge pull request #11 from Microsoft/sachin/redgateinstallinstructions  adding azure deploy, 80564356, 12, 4, 12
adding azure deploy, 80564356, 12, 4, 12
Merge pull request #8 from Microsoft/bspann  Updated exercise 1 to include the creation of teams/areas and setting…, 80564356, 12, 4, 12
Changed Exercise 3 with more details and updated screen shots for Kanban customizations., 80564356, 12, 4, 12
Made suggested changes per review., 80564356, 12, 4, 12
updated the content, 80564356, 12, 4, 12
update git labs, 80564356, 12, 4, 12
adding vsts testlab, 80564356, 12, 4, 12
Added grammatical change for a missing comma., 80564356, 12, 4, 12
Updated exercise 1 to include the creation of teams/areas and setting management areas., 80564356, 12, 4, 12
updating git and redgate labs, 80564356, 12, 4, 12
Update readme.md, 80564356, 12, 4, 12
Merge pull request #7 from Microsoft/sachin/redgateinstallinstructions  adding redgate install instructions, 80564356, 12, 4, 12
adding redgate install instructions, 80564356, 12, 4, 12
updating vsts git lab, 80564356, 12, 4, 12
fixing technet link, 80564356, 12, 4, 12
Adding TechNet lab links, 80564356, 12, 4, 12
Updating homepage, 80564356, 12, 4, 12
Update vsts readme and git, 80564356, 12, 4, 12
update links and change posts, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Update main page, 80564356, 12, 4, 12
Update readme.md, 80564356, 12, 4, 12
Merge pull request #6 from Microsoft/sample  changing title, 80564356, 12, 4, 12
changing title, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Update, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
Updated lab, 80564356, 12, 4, 12
Updating TechNet, 80564356, 12, 4, 12
fixing link, 80564356, 12, 4, 12
Updating home and TechNet labs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
updating feed formats, 80564356, 12, 4, 12
content update, 80564356, 12, 4, 12
Update readme.md, 80564356, 12, 4, 12
Tweaked header, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New lab, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
re-ordering the labs, 80564356, 12, 4, 12
changed feedback text, 80564356, 12, 4, 12
Fixing typo and missing link, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
fixing typos, 80564356, 12, 4, 12
fixing the URl for VSTS Demo generator, 80564356, 12, 4, 12
moving docs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Update labs and word docs, 80564356, 12, 4, 12
Adding Smartword4TFS word document, 80564356, 12, 4, 12
Changing ALM URLs, 80564356, 12, 4, 12
appending search url, 80564356, 12, 4, 12
fixing search urls, 80564356, 12, 4, 12
fixing search, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Updating vsts readme, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Adding technet and updating RR, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
updating CI script in VSTS, 80564356, 12, 4, 12
Changing storage links, 80564356, 12, 4, 12
removing empty line from download url, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
adding VM download links, 80564356, 12, 4, 12
Update content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
Updated paragraph style to add spacing, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
changing favicon, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
Tweaked format and added more features, 80564356, 12, 4, 12
Updated working with doc and sidebar, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
Merge branches 'master' and 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
formatted labs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
fixing nav, 80564356, 12, 4, 12
replacing Live Unit Testing script, 80564356, 12, 4, 12
RTM update, 80564356, 12, 4, 12
RTM update, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
RTM update. Removed WMIv1 details., 80564356, 12, 4, 12
Merge pull request #3 from Microsoft/labs/rtm  RTM labs, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
updating TFS sidebar, 80564356, 12, 4, 12
updating VSTS side bar, 80564356, 12, 4, 12
Merge pull request #2 from hkamel/master  Updating TechDebt Lab, 80564356, 12, 4, 12
Updating TechDebt lab, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
changing sidebar, 80564356, 12, 4, 12
moving Package Management under Build Section, 80564356, 12, 4, 12
adding IntelliTest script for TFS, 80564356, 12, 4, 12
updating vsts scripts with pre-requisites, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update google analytics, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Update content, 80564356, 12, 4, 12
RTM labs, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Update content, 80564356, 12, 4, 12
Merge branches 'master' and 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Update TechDebt lab, 80564356, 12, 4, 12
Updating TFS labs, 80564356, 12, 4, 12
Updating TechDebt Lab, 80564356, 12, 4, 12
Updating TFS readme, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
updated storyboard script for tfs, 80564356, 12, 4, 12
updated agile script for tfs, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update search, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
adding GA, 80564356, 12, 4, 12
updated javascript tooltip, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
update nav contents, 80564356, 12, 4, 12
Merge pull request #1 from Microsoft/labs/rtm  Labs/rtm, 80564356, 12, 4, 12
Updated sidebar, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
updates content, 80564356, 12, 4, 12
update topnav, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
adding load test script for vsts, 80564356, 12, 4, 12
updating lab versions, 80564356, 12, 4, 12
adding LUT script for TFS, 80564356, 12, 4, 12
upddate topnav images size, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
Updated Azure labs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
updating navigation and rss feeds, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
RTM update, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Updating content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
adding posts, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New guide, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
adding links, 80564356, 12, 4, 12
adding appinsights for tfs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New lab, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
updating readme, 80564356, 12, 4, 12
Update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
updating rm script for tfs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Update for agile VSTS script, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
Updated lab with VS 2017 and deployment slot content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
adding selenium scripts, 80564356, 12, 4, 12
adding exploratory testing for vsts, 80564356, 12, 4, 12
removing exploratory testing, 80564356, 12, 4, 12
adding package management script for tfs, 80564356, 12, 4, 12
adding smartword4tfs script, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New lab, 80564356, 12, 4, 12
adding package management script for vsts, 80564356, 12, 4, 12
adding new script for tfs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
content update for readyroll script, 80564356, 12, 4, 12
Added link for .NET code style extensions, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New lab, 80564356, 12, 4, 12
update topnavigation content, 80564356, 12, 4, 12
adding Intellitrace demoscript, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New lab, 80564356, 12, 4, 12
addin load test scripts, 80564356, 12, 4, 12
adding azure labs, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New labs, 80564356, 12, 4, 12
adding app insights script, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
adding continuous deployment script to vsts, 80564356, 12, 4, 12
Initial techdebt lab files, 80564356, 12, 4, 12
adding continuous integration script for vsts, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
adding git vsts demo script, 80564356, 12, 4, 12
Removing the old script, 80564356, 12, 4, 12
updates for contributors page, 80564356, 12, 4, 12
updates for contributors, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
New VS productivity lab; added live unit testing; tweaks to agile, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
adding contrib, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update sidebar, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
adding agile script for vsts, 80564356, 12, 4, 12
Updated readme, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
adding exploratory testing to vsts, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
update sidebar contents, 80564356, 12, 4, 12
adding code analysis script, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
adding contributors, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM.git, 80564356, 12, 4, 12
Updated with new TFS 2017 features, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Updates content, 80564356, 12, 4, 12
format css, 80564356, 12, 4, 12
Update content, 80564356, 12, 4, 12
With new homepage, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
Adding ReadyRoll Script, 80564356, 12, 4, 12
Adding SQL Prompt script, 80564356, 12, 4, 12
updated sidebar content topics, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
Moving Word labs to ALMVM repo, 80564356, 12, 4, 12
update feed, 80564356, 12, 4, 12
updating readme, 80564356, 12, 4, 12
update search, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
added feeds, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
Updated contents, 80564356, 12, 4, 12
updates for search box, 80564356, 12, 4, 12
updates for search box, 80564356, 12, 4, 12
updates for search box, 80564356, 12, 4, 12
updating image, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
updating the banner, 80564356, 12, 4, 12
moving coded ui lab under Test category, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
updates for search box, 80564356, 12, 4, 12
updates content, 80564356, 12, 4, 12
removing unwanted images, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
fixing disqus, 80564356, 12, 4, 12
adding disqus, 80564356, 12, 4, 12
adding disqus, 80564356, 12, 4, 12
merged contents, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
fixed search, 80564356, 12, 4, 12
fixing search box, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
clean up, 80564356, 12, 4, 12
removed CodedUI.md, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
adding unit test lab, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
adding vs productivity lab, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
adding manual testing, 80564356, 12, 4, 12
removing the image, 80564356, 12, 4, 12
adding intellitrace, 80564356, 12, 4, 12
adding intellitest, 80564356, 12, 4, 12
updating readme, 80564356, 12, 4, 12
updating contents in arch validation, 80564356, 12, 4, 12
updateing readme, 80564356, 12, 4, 12
updating readme, 80564356, 12, 4, 12
adding coded ui lab, 80564356, 12, 4, 12
updates, 80564356, 12, 4, 12
changed search bar, 80564356, 12, 4, 12
adding arch validation, 80564356, 12, 4, 12
adding build lab, 80564356, 12, 4, 12
adding release management, 80564356, 12, 4, 12
Changing the heading of Exploratory Testing, 80564356, 12, 4, 12
fixing sidebar, 80564356, 12, 4, 12
sidebar fix, 80564356, 12, 4, 12
content update, 80564356, 12, 4, 12
Adding content, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
updated content, 80564356, 12, 4, 12
Updated content, 80564356, 12, 4, 12
update content, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
content update, 80564356, 12, 4, 12
Merge branch 'master' of https://github.com/Microsoft/ALMVM, 80564356, 12, 4, 12
Adding line breaks, 80564356, 12, 4, 12
template format, 80564356, 12, 4, 12
Update to render notes, 80564356, 12, 4, 12
Tweaked markdown, 80564356, 12, 4, 12
Testing agile planning lab markdown rendering, 80564356, 12, 4, 12
Adding tfs and vsts folders, 80564356, 12, 4, 12
Fixing github edit btn link, 80564356, 12, 4, 12
organizing labs, 80564356, 12, 4, 12
Initial commit of labs, 80564356, 12, 4, 12
Adding config dev, 80564356, 12, 4, 12
removing tooltips, 80564356, 12, 4, 12
removing the html pages, 80564356, 12, 4, 12
changes, 80564356, 12, 4, 12
changes for curved search bar, 80564356, 12, 4, 12
added style, 80564356, 12, 4, 12
Adding slash to baseurl, 80564356, 12, 4, 12
Formatting home, 80564356, 12, 4, 12
Changes to the labs, 80564356, 12, 4, 12
changes, 80564356, 12, 4, 12
Changes, 80564356, 12, 4, 12
Merging, 80564356, 12, 4, 12
Removing Docker file pdf's, 80564356, 12, 4, 12
Adding some pages, 80564356, 12, 4, 12
changing sidebar nav, 80564356, 12, 4, 12
Updating TopNav, 80564356, 12, 4, 12
Changing font, 80564356, 12, 4, 12
Initial commit, 80564356, 12, 4, 12
Delete README.md, 80564356, 12, 4, 12
Initial commit, 80564356, 12, 4, 12
Initial commit, 80564356, 12, 4, 12
Update README.md, 87104276, 0, 0, 0
Removed outdated files, 87104276, 0, 0, 0
Updated Lab Guide, 87104276, 0, 0, 0
added a screenshot, 87104276, 0, 0, 0
added a screen shot, 87104276, 0, 0, 0
Added screenshot, 87104276, 0, 0, 0
added screenshot, 87104276, 0, 0, 0
added screenshots, 87104276, 0, 0, 0
added screenshots, 87104276, 0, 0, 0
Added Lab1 - step4 image, 87104276, 0, 0, 0
Lab Guide - Initial draft, 87104276, 0, 0, 0
New image, 87104276, 0, 0, 0
Screenshot, 87104276, 0, 0, 0
Uploaded an image, 87104276, 0, 0, 0
Added python notebook - feature engineering, 87104276, 0, 0, 0
Renamded folders, 87104276, 0, 0, 0
Created intermediate data sets, 87104276, 0, 0, 0
Created features.csv, 87104276, 0, 0, 0
Initial draft of Feature Engineering R Notebook, 87104276, 0, 0, 0
removed duplicates, 87104276, 0, 0, 0
rename failuretimes, 87104276, 0, 0, 0
renamed failuretimes to failures, 87104276, 0, 0, 0
initial draft, 87104276, 0, 0, 0
Initial commit, 87104276, 0, 0, 0
Initial commit, 87104276, 0, 0, 0
Initial commit, 87104276, 0, 0, 0
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
1400 v3, 75332122, 20, 15, 20
1400 v2, 75332122, 20, 15, 20
cleanup, 75332122, 20, 15, 20
1400 v1, 75332122, 20, 15, 20
References to 14, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.xml, 75332122, 20, 15, 20
Delete Microsoft.SqlServer.XEvent.Linq.dll, 75332122, 20, 15, 20
Delete TracingSample.exe.config, 75332122, 20, 15, 20
Delete TracingSample.pdb, 75332122, 20, 15, 20
Delete TracingSample.exe, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.Tabular.xml, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.Tabular.dll, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.Tabular.Json.dll, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.DLL, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.Core.xml, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.Core.DLL, 75332122, 20, 15, 20
Delete Microsoft.AnalysisServices.AdomdClient.dll, 75332122, 20, 15, 20
Delete TracingSample.pdb, 75332122, 20, 15, 20
Delete TracingSample.csprojResolveAssemblyReference.cache, 75332122, 20, 15, 20
Delete TracingSample.exe, 75332122, 20, 15, 20
Delete TracingSample.csproj.FileListAbsolute.txt, 75332122, 20, 15, 20
Delete DesignTimeResolveAssemblyReferencesInput.cache, 75332122, 20, 15, 20
Delete CoreCompileInputs.cache, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
ModelConfigurationIDs command-line parameter, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
fix for merging with new source queries, 75332122, 20, 15, 20
Generic queries for different data sources, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Delete DesignTimeResolveAssemblyReferencesInput.cache, 75332122, 20, 15, 20
Delete ASTrace2014.csprojResolveAssemblyReference.cache, 75332122, 20, 15, 20
Delete ASTrace2014.csproj.GenerateResource.Cache, 75332122, 20, 15, 20
Delete ASTrace2014.csproj.FileListAbsolute.txt, 75332122, 20, 15, 20
Delete ASTrace2012.csprojResolveAssemblyReference.cache, 75332122, 20, 15, 20
Delete ASTrace2012.csproj.GenerateResource.Cache, 75332122, 20, 15, 20
Delete ASTrace2012.csproj.FileListAbsolute.txt, 75332122, 20, 15, 20
Delete ASTrace.pdb, 75332122, 20, 15, 20
Delete ASTrace.exe, 75332122, 20, 15, 20
Delete ASTrace.ProjectInstaller.resources, 75332122, 20, 15, 20
Delete ASTrace.vshost.exe.manifest, 75332122, 20, 15, 20
Delete ASTrace.vshost.exe.config, 75332122, 20, 15, 20
Delete ASTrace.vshost.exe, 75332122, 20, 15, 20
Delete ASTrace.pdb, 75332122, 20, 15, 20
Delete ASTrace.exe.config, 75332122, 20, 15, 20
Delete ASTrace.exe, 75332122, 20, 15, 20
Delete DesignTimeResolveAssemblyReferencesInput.cache, 75332122, 20, 15, 20
Delete ASTrace2014.csprojResolveAssemblyReference.cache, 75332122, 20, 15, 20
Delete ASTrace2014.csproj.GenerateResource.Cache, 75332122, 20, 15, 20
Delete ASTrace2014.csproj.FileListAbsolute.txt, 75332122, 20, 15, 20
Delete ASTrace2012.csprojResolveAssemblyReference.cache, 75332122, 20, 15, 20
Delete ASTrace2012.csproj.GenerateResource.Cache, 75332122, 20, 15, 20
Delete ASTrace2012.csproj.FileListAbsolute.txt, 75332122, 20, 15, 20
Delete ASTrace.pdb, 75332122, 20, 15, 20
Delete ASTrace.exe, 75332122, 20, 15, 20
Delete ASTrace.ProjectInstaller.resources, 75332122, 20, 15, 20
Delete ASTrace.vshost.exe.manifest, 75332122, 20, 15, 20
Delete ASTrace.vshost.exe.config, 75332122, 20, 15, 20
Delete ASTrace.vshost.exe, 75332122, 20, 15, 20
Delete ASTrace.pdb, 75332122, 20, 15, 20
Delete ASTrace.exe.config, 75332122, 20, 15, 20
Delete ASTrace.exe, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Delete LICENSE, 75332122, 20, 15, 20
Delete temp, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
CommandLine NuGet, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
Command line args enhancement, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
Command line execution and more readable logic for _executionMode, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
MaxParallelism, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
CommitTimeout, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Defrag and other stuff, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
cleanup, 75332122, 20, 15, 20
Cleanup, 75332122, 20, 15, 20
merge partitions, 75332122, 20, 15, 20
Merge v0, 75332122, 20, 15, 20
Delete TemporaryGeneratedFile_E7A71F73-0F8D-4B9B-B56E-8E70B10BC5D3.cs, 75332122, 20, 15, 20
Delete TemporaryGeneratedFile_5937a670-0e60-4077-877b-f7221da3dda1.cs, 75332122, 20, 15, 20
Delete TemporaryGeneratedFile_036C0B5B-1481-4323-8D20-8F5ADCB23D92.cs, 75332122, 20, 15, 20
Delete DesignTimeResolveAssemblyReferencesInput.cache, 75332122, 20, 15, 20
Delete ASPerfMon.csproj.FileListAbsolute.txt, 75332122, 20, 15, 20
Delete ASPerfMon.vshost.exe.manifest, 75332122, 20, 15, 20
Delete ASPerfMon.vshost.exe.config, 75332122, 20, 15, 20
Delete ASPerfMon.vshost.exe, 75332122, 20, 15, 20
Delete ASPerfMon.exe.config, 75332122, 20, 15, 20
DoNotProcess & Lower/Upper Boundary, 75332122, 20, 15, 20
Delete AsPartitionProcessing.sln, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Create temp, 75332122, 20, 15, 20
Delete temp, 75332122, 20, 15, 20
Create temp, 75332122, 20, 15, 20
pull, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Delete Automated Partition Management for Analysis Services Tabular Models.pdf, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
license, 75332122, 20, 15, 20
AsPartitionProcessing, 75332122, 20, 15, 20
Create LICENSE, 75332122, 20, 15, 20
Delete LICENSE, 75332122, 20, 15, 20
Update LICENSE, 75332122, 20, 15, 20
Add files via upload, 75332122, 20, 15, 20
Delete LICENSE, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services.git, 75332122, 20, 15, 20
AsPerfMon, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Merge branch 'master' of https://github.com/Microsoft/Analysis-Services.git, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Update README.md, 75332122, 20, 15, 20
Create README.md, 75332122, 20, 15, 20
temp, 75332122, 20, 15, 20
Init, 75332122, 20, 15, 20
temp, 75332122, 20, 15, 20
AsPartitionProcessing, 75332122, 20, 15, 20
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Update README.md, 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Adding YAML header., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Initializing repository files., 15457502, 5, 5, 5
Updating repository initial files., 15457502, 5, 5, 5
Update LICENSE, 15457502, 5, 5, 5
Setting picture size  Changing up how picture size is set so it will work with "all" Android devices.  This will hopefully ensure pictures are not too large and cause app failures until I have time to further research the issue., 15457502, 5, 5, 5
Updating logout to remove local data, 15457502, 5, 5, 5
Fixing import statements in RecordActivity  Missed a couple import statements in last checkin., 15457502, 5, 5, 5
Setting picture size (temp fix)  Adding a quick fix to set the picture size to 960 x 720 if it's a valid size for the camera.  This is to fix pictures being too large when taken by the S3.  Need to create an issue to go back and set the size for all cameras to be something reasonable., 15457502, 5, 5, 5
Updating to LensRocket, 15457502, 5, 5, 5
Updating readme to not set values, 15457502, 5, 5, 5
Update scripts to use environment variables, 15457502, 5, 5, 5
Fixed null equality checks, 15457502, 5, 5, 5
Merge branch 'master' of github.com:WindowsAzure-Samples/Android-PikShare, 15457502, 5, 5, 5
Updating scripts to pull post values out of members property (for Android), 15457502, 5, 5, 5
Update README.md, 15457502, 5, 5, 5
Update to use config for master key, 15457502, 5, 5, 5
Update to use config for master key, 15457502, 5, 5, 5
Update Readme.md, 15457502, 5, 5, 5
Initial checkin, 15457502, 5, 5, 5
Initial commit, 15457502, 5, 5, 5
Updating versions, 50737436, 13, 8, 13
Using idd 1.4.x, 50737436, 13, 8, 13
Introduces Angara.Html.Console. Uses IDD 1.3.x., 50737436, 13, 8, 13
Providing explicit version ranges for dependencies, 50737436, 13, 8, 13
Updating references versions, 50737436, 13, 8, 13
Uses IDD 1.2.1, 50737436, 13, 8, 13
Merge branch 'master' of https://github.com/Microsoft/Angara, 50737436, 13, 8, 13
Removing obsolete packages.config, 50737436, 13, 8, 13
Update paket.dependencies, 50737436, 13, 8, 13
Using paket and new folder structure, 50737436, 13, 8, 13
Fixing bug with stack overflow exception in record view serializer., 50737436, 13, 8, 13
Uses Angara.Table v0.1.1, 50737436, 13, 8, 13
Release 0.1.4, 50737436, 13, 8, 13
Moving gruntfile to the root of the repo; making this repo a bower component angara.html. Embeddable html uses git as cdn., 50737436, 13, 8, 13
Angara.Html supports for Tables, 50737436, 13, 8, 13
Preparing tests for Angara.html, 50737436, 13, 8, 13
Removing unused external scripts, 50737436, 13, 8, 13
Angara.Base depends on Angara.Statistics, 50737436, 13, 8, 13
Preparing version 0.1.3, 50737436, 13, 8, 13
Introducing Angara.Html.MakeEmbeddable, 50737436, 13, 8, 13
Preparing scripts required for embeddable html, 50737436, 13, 8, 13
Adding changelog, 50737436, 13, 8, 13
Version 0.1.2, 50737436, 13, 8, 13
Renaming Angara.Html.UISerializers to Angara.Html.Serializers, 50737436, 13, 8, 13
Angara.Html uses prebuild.cmd to run grunt tasks. RecordViewSerializers supports index properties; enumerables; dictionaries., 50737436, 13, 8, 13
Angara.Html generrates pages showing items' types, 50737436, 13, 8, 13
Updating versions 0.1.1., 50737436, 13, 8, 13
Referencing Angara.Serialization and Angara.Serialization.Json  versions 0.1.2, 50737436, 13, 8, 13
Update README.md, 50737436, 13, 8, 13
Angara.Html: build includes removing of .Web directory, 50737436, 13, 8, 13
Adding npm install to the Angara.Html pre-build action, 50737436, 13, 8, 13
Merge, 50737436, 13, 8, 13
Updating Angara.Chart and removing obsolete file., 50737436, 13, 8, 13
Update README.md, 50737436, 13, 8, 13
Configuring release configurations, 50737436, 13, 8, 13
Configuring bower + preen, 50737436, 13, 8, 13
Using grunt-preen to clear bower components, 50737436, 13, 8, 13
fix .umd path, 50737436, 13, 8, 13
Angara.Html depending on Chart, 50737436, 13, 8, 13
Updating AssemblyInfo and adding NuGet package specification, 50737436, 13, 8, 13
Reinstate unit tests., 50737436, 13, 8, 13
Initial source drop for Angara.Reinstate project, 50737436, 13, 8, 13
Release notes, 51010656, 8, 8, 8
Proper shapes for uncertain markers; uses `sizePalette`, 51010656, 8, 8, 8
Explicit versions of deps, 51010656, 8, 8, 8
Using IDD 1.3.0, 51010656, 8, 8, 8
Merge, 51010656, 8, 8, 8
Using recent version of IDD, 51010656, 8, 8, 8
Using recent IDD ^1.2.0, 51010656, 8, 8, 8
Development infrastructure, 51010656, 8, 8, 8
Package version is updated to 0.1.2, 51010656, 8, 8, 8
Merge pull request #2 from Iguanaco/master  Users can specify titles for charts., 51010656, 8, 8, 8
Added titles settings, 51010656, 8, 8, 8
Merge branch 'master' of https://github.com/Microsoft/Angara.Chart, 51010656, 8, 8, 8
Release 0.1.1, 51010656, 8, 8, 8
Fixed line kind, 51010656, 8, 8, 8
Update bower.json, 51010656, 8, 8, 8
Update bower.json, 51010656, 8, 8, 8
Fixes main element of the bower.json, 51010656, 8, 8, 8
Removing unnecessary files, 51010656, 8, 8, 8
Name of publish script, 51010656, 8, 8, 8
Configuring scripts to publish nuget packages, 51010656, 8, 8, 8
Configuring release scripts, 51010656, 8, 8, 8
Configuring release scripts, 51010656, 8, 8, 8
Adding Chart.js, 51010656, 8, 8, 8
Initial source drop, 51010656, 8, 8, 8
Initial commit, 51010656, 8, 8, 8
Test for pausing methods, 55406720, 6, 3, 6
Renamings, 55406720, 6, 3, 6
Resuming a paused method, 55406720, 6, 3, 6
Test for empty vector, 55406720, 6, 3, 6
Test for vector flow, 55406720, 6, 3, 6
Test for iterative method, 55406720, 6, 3, 6
Execution of two chained methods, 55406720, 6, 3, 6
First successful execution of Angara flow, 55406720, 6, 3, 6
Execution test, 55406720, 6, 3, 6
Methods execution, 55406720, 6, 3, 6
Adds signatures for state machine, 55406720, 6, 3, 6
Adds `normalize` function; all tests pass, 55406720, 6, 3, 6
Updates state machine base on the mockup, 55406720, 6, 3, 6
Support for scattering of an empty array, 55406720, 6, 3, 6
Updating state machine signatures, 55406720, 6, 3, 6
StateMachine transition produces changes as well, 55406720, 6, 3, 6
Reduce, 55406720, 6, 3, 6
Vector operations support in the state machine, 55406720, 6, 3, 6
Tests for transient methods, 55406720, 6, 3, 6
node1 now represents a graph node any number of inputs and a single output, 55406720, 6, 3, 6
upstream start or reproduce, 55406720, 6, 3, 6
iteration and succeeded operations include timestamps to check if it is obsolete. Renaming tests., 55406720, 6, 3, 6
'stop' transition, 55406720, 6, 3, 6
Tests for transient states, 55406720, 6, 3, 6
More tests for StateMachine mock up, 55406720, 6, 3, 6
StateMachine mock-up, 55406720, 6, 3, 6
Implementing methods, 55406720, 6, 3, 6
StateMachine and Method are based on a method which uses checkpoints, 55406720, 6, 3, 6
Advances SM and Engine, 55406720, 6, 3, 6
Adds Method.fs, 55406720, 6, 3, 6
Adding Flow and Methods. New approach to Method execution: ExecuteFrom and Reproduce, 55406720, 6, 3, 6
Implementing Engine, 55406720, 6, 3, 6
Advancing flow, 55406720, 6, 3, 6
Updating StateMachin signatures and adding Angara.Execution module, 55406720, 6, 3, 6
More tests, 55406720, 6, 3, 6
Adding test project, 55406720, 6, 3, 6
Using paket, 55406720, 6, 3, 6
StateMachine implemented., 55406720, 6, 3, 6
StateMachine: message 'Succeeded' implemented, 55406720, 6, 3, 6
Advancing StateMachine, 55406720, 6, 3, 6
StatMachine handles 'Stop' message, 55406720, 6, 3, 6
StateMachine handles the message 'Start', 55406720, 6, 3, 6
Implementing StateMachine, 55406720, 6, 3, 6
StateMachine.normalize is implemented, 55406720, 6, 3, 6
Implementing StateMachine, 55406720, 6, 3, 6
Implementing StateMachine, 55406720, 6, 3, 6
Refactoring MdMap, 55406720, 6, 3, 6
Adding state and state machine, 55406720, 6, 3, 6
Adding MdMap and DataFlowGraph, 55406720, 6, 3, 6
Initial commit, 55406720, 6, 3, 6
Uses newest Newtonsoft.Json 9.0.1, 50031013, 7, 5, 7
Bump version to 0.2.0, 50031013, 7, 5, 7
Changing framework to 4.5.2. Breaking changed in serializer library API. Updating README, 50031013, 7, 5, 7
Fixing issues #1 and #2, 50031013, 7, 5, 7
Adding main and moduleType properties to bower.json, 50031013, 7, 5, 7
Updating package versions, 50031013, 7, 5, 7
Adding LICENSE file, 50031013, 7, 5, 7
Project targeted to .NET 4.6.1. Updated descriptions of packages., 50031013, 7, 5, 7
Initial source drop., 50031013, 7, 5, 7
Initial commit, 50031013, 7, 5, 7
Renamed SamplerResult to SamplerCheckpoint and added burnInTrace to the structure Changed signature of continuemcmc, 47690497, 8, 6, 8
adding fromPiecewise method, 47690497, 8, 6, 8
Adding "linear" distribution, 47690497, 8, 6, 8
Updated RELEASE_NOTES, 47690497, 8, 6, 8
logistic function and tests, 47690497, 8, 6, 8
Changed parameterization of Exponential. Documentation comments of all Distribution cases., 47690497, 8, 6, 8
Fixed a bug in Gamma random number generator., 47690497, 8, 6, 8
Merge pull request #3 from vassilyl/master  Serialization, 47690497, 8, 6, 8
return a copy of burnedIn sampler in SamplerResults and implement continuemcmc., 47690497, 8, 6, 8
Sampler serializer, 47690497, 8, 6, 8
address warning messages, 47690497, 8, 6, 8
Add basic Sampler tests, 47690497, 8, 6, 8
fix MT copy constructor, 47690497, 8, 6, 8
Mersenne twister serialization tests, 47690497, 8, 6, 8
MersenneTwister serializer, 47690497, 8, 6, 8
Remove log_likelihood field from Sampler to enable serialization of the latter, 47690497, 8, 6, 8
Add tests with full serialization roundtrip, 47690497, 8, 6, 8
serialize/deserialize parameters, 47690497, 8, 6, 8
serialize/deserialize Distribution, 47690497, 8, 6, 8
Include prior distribution object into Parameter definition to enable its exact serialization., 47690497, 8, 6, 8
Switch to F#4.0, 47690497, 8, 6, 8
Add dependency on Angara.Serialization, 47690497, 8, 6, 8
Include generated AssemblyInfo.fs to fsproj., 47690497, 8, 6, 8
Change layout (ProjectScaffold) and add documentation. Fix ridders., 47690497, 8, 6, 8
ParameterDefinition prior is now a function. Redesign Parameter.Add overloads., 47690497, 8, 6, 8
Changed the MCMC sampler so that it does exactly the same as the original Filzbach code during burn-in. It better handles parameter boundaries during sampling phase., 47690497, 8, 6, 8
new Parameters.Add signature, 47690497, 8, 6, 8
Removes obsolete nuspec file, 47690497, 8, 6, 8
Removes nuget packaging, 47690497, 8, 6, 8
Configuring release environment, 47690497, 8, 6, 8
switch to records for runmcmc output, 47690497, 8, 6, 8
qsummary tests, 47690497, 8, 6, 8
upgrade platform to 4.6.1/F#4, 47690497, 8, 6, 8
Fix a bug in sampling with unalterable parameters, 47690497, 8, 6, 8
more comments in filzbach sample, 47690497, 8, 6, 8
Fix log scale sampling & boundary misses, 47690497, 8, 6, 8
Filzbach sampler ready to start checking, 47690497, 8, 6, 8
burnin part 1, 47690497, 8, 6, 8
Filzbach Parameters, 47690497, 8, 6, 8
ridders test increased code coverage, 47690497, 8, 6, 8
ridders implementation, 47690497, 8, 6, 8
within implementation, 47690497, 8, 6, 8
Fix kde to next-power-two correction, 47690497, 8, 6, 8
Adding some tests, 47690497, 8, 6, 8
Code clean up and more explicit references to MathNet.Numerics and Haskel Statistics, 47690497, 8, 6, 8
Changing target framework from 4.5.2 to 4.5 and F# core from 4.4 to 4.3.1, 47690497, 8, 6, 8
License.txt is moved to the solution directory, 47690497, 8, 6, 8
Project build in Release produces a nuget package, 47690497, 8, 6, 8
Adding Angara.Statistics project, 47690497, 8, 6, 8
Initial commit, 47690497, 8, 6, 8
idd 1.4.x, 51010410, 5, 6, 5
Merge branch 'master' of https://github.com/Microsoft/Angara.Table, 51010410, 5, 6, 5
Angara.Table uses IDD 1.3.0, 51010410, 5, 6, 5
Update README.md, 51010410, 5, 6, 5
Updating CI services settings, 51010410, 5, 6, 5
Cleaning Microsoft/Angara.Table repo, 51010410, 5, 6, 5
Build includes NPM and Grunt targets, 51010410, 5, 6, 5
Moving to F# Scaffold, 51010410, 5, 6, 5
Grunt cleans 'dist' before copy, 51010410, 5, 6, 5
Updating license, 51010410, 5, 6, 5
Release 0.1.1, 51010410, 5, 6, 5
Merge branch 'master' of https://github.com/Microsoft/Angara.Table, 51010410, 5, 6, 5
Updating styles and images, 51010410, 5, 6, 5
Fixes argument name in require callback, 51010410, 5, 6, 5
Release 0.1.0, 51010410, 5, 6, 5
Update README.md, 51010410, 5, 6, 5
Preparing releasing infrastructure, 51010410, 5, 6, 5
Adding Table.js to be used by Angara.Html, 51010410, 5, 6, 5
Fixes Table.Mapi, 51010410, 5, 6, 5
Removing obsolete comments, 51010410, 5, 6, 5
Updates documentation, 51010410, 5, 6, 5
Reorders parameters of the MapToColumn and MapiToColumn functions. Updates documentation., 51010410, 5, 6, 5
Renaming to Column.Create Column.CreateLazy. Updating documentation., 51010410, 5, 6, 5
RowsToColumns uses typed Delegate.Invoke instead of PropertyInfo.GetValue, 51010410, 5, 6, 5
Updating docs, 51010410, 5, 6, 5
Test of conversion of Table to Table<'r>, 51010410, 5, 6, 5
Table API refactoring, 51010410, 5, 6, 5
Removing obsolete tests, 51010410, 5, 6, 5
Introducing MatrixTable<'v>, 51010410, 5, 6, 5
Adding test for Table.AddRow(s), 51010410, 5, 6, 5
Adding typed Table<'r> which stores typed rows of the table and computes columns on demand., 51010410, 5, 6, 5
Table.OfColumns instead of public constructor., 51010410, 5, 6, 5
Html serializers restored, 51010410, 5, 6, 5
Correlation of columns test, 51010410, 5, 6, 5
Adding TableStatistics module, 51010410, 5, 6, 5
Tests for Table.ToRows and OfRows, 51010410, 5, 6, 5
Removing TestsC (obsolete) and docs (automatically generated), 51010410, 5, 6, 5
Fixes test property:, 51010410, 5, 6, 5
Table.FromRows (returns untyped table), 51010410, 5, 6, 5
Developing Table.FromRows, 51010410, 5, 6, 5
Fixing unit tests, 51010410, 5, 6, 5
F# tests for table now compile, 51010410, 5, 6, 5
Updating documentation, 51010410, 5, 6, 5
Refactoring Table.Load and Table.Save. Updating documentation., 51010410, 5, 6, 5
Updating documentation, 51010410, 5, 6, 5
Updating serializers, 51010410, 5, 6, 5
Table refactoring, 51010410, 5, 6, 5
Refactoring table, 51010410, 5, 6, 5
Refactoring cols and tables, 51010410, 5, 6, 5
Docs, 51010410, 5, 6, 5
Lazy immutable columns & docs, 51010410, 5, 6, 5
Updating docs, 51010410, 5, 6, 5
Updating docs, 51010410, 5, 6, 5
Adding documentation of Angara.Data.Column, 51010410, 5, 6, 5
Merge, 51010410, 5, 6, 5
Updating docs, 51010410, 5, 6, 5
Updating table docs, 51010410, 5, 6, 5
Updating table documentation, 51010410, 5, 6, 5
Table.Map(i) functions return a sequence instead of array, 51010410, 5, 6, 5
Fixed bug with replacing existing column in MapToColumn methods. Extending documentation., 51010410, 5, 6, 5
Updating docs, 51010410, 5, 6, 5
Table: separating Read and ReadStream; Write and WriteStream, 51010410, 5, 6, 5
Adding literal programming scripts and making Table.Filter lazy, 51010410, 5, 6, 5
Table.MapiToColumn has no explicit generic type arguments  Updating table read/write test to support case when a string column has all values that look like numbers.  Updating inline documentation for Table API. Removing Column.MinimumCount function., 51010410, 5, 6, 5
Updates comments & docs, 51010410, 5, 6, 5
Angara.Table.MapToColumn no more has explicit generic type arguments, 51010410, 5, 6, 5
Introduce Angara.Data.DelimitedFile namespace, 51010410, 5, 6, 5
Renaming/splitting csv files, 51010410, 5, 6, 5
Fixing nuget packages infrastructure for the solution., 51010410, 5, 6, 5
Updated TableViewer.show() to satisfy the TableHtmlSerializer output format, 51010410, 5, 6, 5
Angara.Table uses Angara.Serialization from nuget.org, 51010410, 5, 6, 5
Angara.Table uses .NET 4.6.1. Serializers are moved to Angara.Data.TableSerializers-fd, 51010410, 5, 6, 5
Tests for Column.New and fix for Column.New<System.Array>, 51010410, 5, 6, 5
Fixes Table.FromArrays, 51010410, 5, 6, 5
Using Angara.Serialization package, 51010410, 5, 6, 5
Fixing settings, 51010410, 5, 6, 5
Merge branch 'master' of https://github.com/Microsoft/Angara.Table, 51010410, 5, 6, 5
Fixed nuget packages references, 51010410, 5, 6, 5
Update README.md, 51010410, 5, 6, 5
Renames .d.ts file, 51010410, 5, 6, 5
Removing length of test data, 51010410, 5, 6, 5
Updating README, 51010410, 5, 6, 5
Merge branch 'master' of https://github.com/Microsoft/Angara.Table, 51010410, 5, 6, 5
Drop of TableJS, 51010410, 5, 6, 5
Update README.md, 51010410, 5, 6, 5
Update README.md, 51010410, 5, 6, 5
Update README.md, 51010410, 5, 6, 5
Update README.md, 51010410, 5, 6, 5
Initial drop of Angara.Table, 51010410, 5, 6, 5
Initial commit, 51010410, 5, 6, 5
Various minor ANGLE fixes (fix DDS loader remove bad projects/SLNs), 15312978, 382, 105, 382
Add dxgi1_3.h to platform.h to fix desktop compilation  Change-Id: Ibed7cb0feef27e90a5a0162214a0acabb9718139, 15312978, 382, 105, 382
Workaround D3D bug that can cause 2 second delay while resizing window, 15312978, 382, 105, 382
Merge branch 'master' into ms-master, 15312978, 382, 105, 382
Remove UNUSED_ASSERTION_VARIABLE  Change-Id: I77e914fbeffa1d4e0a15c6dd00b45abc40940a26, 15312978, 382, 105, 382
Fix error message spacing in "EGL_ANGLE_DISPLAY_ALLOW_RENDER_TO_BACK_BUFFER is deprecated..."  Change-Id: Ifdfbb1b809292089c932242e57952111482a53d5, 15312978, 382, 105, 382
More projects regenerated  Change-Id: I01f6e21de04d1ceb464fff941ddbdc1c04e1620d, 15312978, 382, 105, 382
Regenerate projects after last merge  Change-Id: I08ad1d497e65c89996f3794b71956b0ee7f322f8, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into ms-master  Conflicts: 	.gitignore 	gyp/gyp_angle 	src/libGLESv2/entry_points_egl_ext.cpp  Change-Id: Ic7826f0e2ef99dca12775cc9b6942e4d9209c7d5, 15312978, 382, 105, 382
Fix ability to recover EGL Display after D3D11 device lost  BUG=angleproject:1463  Change-Id: I9f3e1190cc42e0cb37d80b94c35b61e88203dd32 Reviewed-on: https://chromium-review.googlesource.com/420475 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix memory leaks in WinRT InspectableNativeWindow  Change-Id: If88ac23ef5dbb67176bcc4b111100a0126269d08 Reviewed-on: https://chromium-review.googlesource.com/420474 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Keep track of shader built-in declarations separately per ESSL version  The patch decouples the list of unmangled built-ins' names into levels based on the ESSL version they are from. This is required because ESSL31 and above built-ins' names should not conflict with user-declared functions in ESSL3 shaders.  BUG=angleproject:1666 TEST=angle_unittest  Change-Id: I731918a058629c7b6d9d15eb7eac19ce47280315 Reviewed-on: https://chromium-review.googlesource.com/420324 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add instructions for working with ANGLE for Android  How to build and run tests  BUG=angleproject:1607  Change-Id: I6d5c341c32a37535d59e8dae508173b5ab6664d6 Reviewed-on: https://chromium-review.googlesource.com/419798 Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix UBO binding workaround bug ID.  BUG=angleproject:1637  Change-Id: I411252fa719f79c26795522ea5f1504ef460c6c0 Reviewed-on: https://chromium-review.googlesource.com/420306 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Extend UBO binding workaround to Android.  This seems to fail on the Nexus 6P and possibly 5X. Does not seem to affect some other devices.  BUG=angleproject:1660  Change-Id: I1d456b2033fb6b2a664ac24ea0a3f7ff160922ab Reviewed-on: https://chromium-review.googlesource.com/419856 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement ES3.1 glDraw*Indirect entry points for OpenGL  BUG=angleproject:1595 TEST=dEQP-GLES31.functional.draw_indirect.*  Change-Id: I82f5d0864e70d6e7abdccf5f10330ddfa099ec62 Reviewed-on: https://chromium-review.googlesource.com/417250 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
InstancingTest: fix a stack overflow.  BUG=angleproject:1661  Change-Id: Iac7af4aed2782ab839922281d29f1a9861a334e3 Reviewed-on: https://chromium-review.googlesource.com/419758 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Store uniform block bindings in program binaries.  This affects all back-ends - we weren't saving this. Note that bindings can only be set after program linking. The spec is fairly clear in that any programs saved must be loadable and runnable under the same set of state which would include block bindings.  Also add validation for zero binary formats in GetProgramBinary.  Also add a workaround for AMD where the block bindings were not applied properly after link similarly to our original bug.  This CL also includes a few fixups for GLProgram (raii).  BUG=angleproject:1637  Change-Id: Iae068eb4e1e4c763aa9f9332c033e38708026c8f Reviewed-on: https://chromium-review.googlesource.com/418393 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't use logging macros in end2end_tests.  Macros like ASSERT and UNREACHABLE call gl::trace which at some point we might want to use to call the angle Platform logging code. Standalone tests won't easily have access to the platform so for now just log errors in other ways.  This also corrects some logic in GLSLTest which was calling internal methods in libANGLE when it didn't have to.  BUG=angleproject:1660  Change-Id: Idecbd97f2de7916b35bd78f5b7cd02b156ea100d Reviewed-on: https://chromium-review.googlesource.com/419134 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use proper export label for RequestExtension.  These should be using ANGLE_EXPORT not GL_APICALL.  BUG=angleproject:1523  Change-Id: Ic262656c634209c14ac1e13203f8125c0c65cee5 Reviewed-on: https://chromium-review.googlesource.com/419133 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Split TIntermInvariantDeclaration from TIntermAggregate  This change is pure refactoring and doesn't fix bugs related to invariant declarations. Invariant declarations are supposed to accept a list of identifiers but this refactoring keeps the current behavior of only accepting a single identifier in an invariant declaration. When the bug will be fixed the new TIntermInvariantDeclaration class that now has only a single child node can be changed so that it may have multiple children.  TIntermAggregate is still used for function calls function prototypes and function parameter lists.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I3e22092c87e1c06445fd7e123d9922c2fcb59428 Reviewed-on: https://chromium-review.googlesource.com/419415 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Work around atan(y x) bug on NVIDIA  atan(y x) is not always returning expected results on NVIDIA OpenGL drivers between versions 367 and 375. Work around this by emulating atan(y x) using the regular atan(x) function. A fix to the driver is expected in a future release.  It is most convenient to implement the vector atan(y x) functions by using the scalar atan(y x) function. Support for simple dependencies between emulated functions is added to BuiltInFunctionEmulator. In the current implementation one function is allowed to have at most one other function as its dependency.  BUG=chromium:672380 TEST=angle_end2end_tests  Change-Id: I9eba8b0b7979c7c7eaed353b264932e41830beb1 Reviewed-on: https://chromium-review.googlesource.com/419016 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add compiler support for shared memory  The patch adds handling of the 'shared' qualifier in the shader compiler.  BUG=angleproject:1442  TEST=angle_unittests  Change-Id: Iaa288026af0faf2a30e40495faa6ea1f5ff02323 Reviewed-on: https://chromium-review.googlesource.com/413200 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix typos in docs.  BUG=None  Change-Id: Ib201d91c586717b3027996b379240619173d828d Reviewed-on: https://chromium-review.googlesource.com/418337 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Fix style in the preprocessor.  Again using git cl format.  BUG=angleproject:650  Change-Id: I8898d00bfc6a50db50bffd2cc30c3eda7c08c6c2 Reviewed-on: https://chromium-review.googlesource.com/419097 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix up translator style.  Using git cl format.  BUG=angleproject:650  Change-Id: I7d3f98d2b0dcfb0a8de6c35327db74e55c28d761 Reviewed-on: https://chromium-review.googlesource.com/419059 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make the NPOT extension requestable. Fix NPOT validation in CopyTexImage.  BUG=angleproject:1523 BUG=668223 TEST=conformance/more/functions/copyTexImage2DBadArgs.html  Change-Id: I5fbf4f99fa941c356ecb57d67dd47a33741ce189 Reviewed-on: https://chromium-review.googlesource.com/418944 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
GLSLTest: test interaction of declaration splitting with other passes  In TranslatorHLSL a number of AST simplifications are done that must happen in a precise order for things to be correct:  - First for-loops must be split  - Then multideclarations must be split  - Finally comma operators must be split  This adds tests for interaction between this passes to make sure they are done in the right order.  BUG=668028  Change-Id: I306915b51011bb5467d117352becfd60cbe77be4 Reviewed-on: https://chromium-review.googlesource.com/417989 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
WebGL_compatibility: disallow client-side arrays  BUG=angleproject:1523  Change-Id: Icd207b2d94c1375c6f3189af42d55eac52b99603 Reviewed-on: https://chromium-review.googlesource.com/418398 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't load binaries across client versions.  BUG=angleproject:523  Change-Id: Id54033dce15f01a0f2891533172acd8b99896e12 Reviewed-on: https://chromium-review.googlesource.com/418240 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Tighten the validation for staying in array buffer bounds  BUG=angleproject:1523  Change-Id: I685a9b884e5de73b94900c5b6016ce914b9bfe7f Reviewed-on: https://chromium-review.googlesource.com/418458 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Work around unary minus operator float issue on Intel Mac 10.11  Result of -float is wrong on Intel Mac 10.11 drivers. Replace -float with 0.0 - float to work around this issue.  BUG=308366 BUG=672380  Change-Id: I53bc2eda7259fff5805bec39896fc7b7a6eaf665 Reviewed-on: https://chromium-review.googlesource.com/417169 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix angle_deqp_egl_tests compilation on Android  BUG=angleproject:1657  Change-Id: I5afb28485bd5ca7bdf7015f5fdcaa84ec3c02b95 Reviewed-on: https://chromium-review.googlesource.com/418710 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Fix compilation after dEQP roll  BUG=chromium:671021  Change-Id: Iee0e7b1b146b53c6324da8e51d70de42487092b5 Reviewed-on: https://chromium-review.googlesource.com/418510 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Roll dEQP.  Several months of updates. Does not change the build files - will mean the GPU.FYI bots temporarily break and possibly there's some flakiness on the ANGLE trybots and Optional GPU bots until the correct suppression set is instated.  BUG=chromium:671021  Change-Id: I207be11ed37a9173f53a06554880be6ebcaee5fa Reviewed-on: https://chromium-review.googlesource.com/418405 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Constant fold compute shader local work group size  gl_WorkGroupSize should be written into the AST as a constant node instead of a symbol node. In correct shaders local size is guaranteed to have been declared before any references to gl_WorkGroupSize - otherwise the shader translator was already generating an error.  This ensures that work group size can be used to size arrays as specified and also works around a crash issue on NVIDIA Linux OpenGL driver.  BUG=angleproject:1442 TEST=angle_unittests  Change-Id: I9b1a4bff16ecf2c3db1511c3702756346cdd2f6b Reviewed-on: https://chromium-review.googlesource.com/418735 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP-GLES3: Suppress two failing Win/AMD tests.  Might be flaky more suppressions might be needed.  BUG=angleproject:1633  Change-Id: Ic5665aadb7cbbae82639d206f29a2db859622451 Reviewed-on: https://chromium-review.googlesource.com/418399 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make minimum GLSL version for compute shaders GLSL 430  Compute shaders were added to the core OpenGL spec in version 4.3.  Also don't output GL_ARB_explicit_attrib_location extension directive for compute shaders. This extension is only relevant for vertex and fragment shaders.  BUG=angleproject:1442 TEST=angle_end2end_tests  Change-Id: I92021ac048b38ffbc5a61af408b37c387193389b Reviewed-on: https://chromium-review.googlesource.com/418657 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Output infinity and NaN literals correctly in shaders  Previously infinity and NaN resulting from constant folding would be clamped to finite 32-bit float range when they were written in shader output. Now they are written as a bit pattern in case the shader version allows it.  This does not guarantee that NaNs work but this is fine since ESSL 3.00.6 spec has very loose requirements when it comes to NaNs.  BUG=angleproject:1654 TEST=angle_end2end_tests  Change-Id: I9997000beeaa8ed22523c22d5cf6929cdfc93f60 Reviewed-on: https://chromium-review.googlesource.com/417301 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Fix overflow in varying packing.  Also add a more robust set of unit tests for this internal class. Because the GL spec allows for succeess when packing any set of varyings it's impossible to write negative end to end tests. This CL also rewrites our disabled varying packing GLSL tests as unit tests.  BUG=angleproject:1296 BUG=angleproject:1638  Change-Id: I78153742517d5c72ddb13ff59dc44ddc4af42fc2 Reviewed-on: https://chromium-review.googlesource.com/415555 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D: Move some HLSL-specific code to a new folder.  This code doesn't actually call any D3D runtime methods so it can be included in our cross platform unit tests. Just include the varying packing code for now.  BUG=angleproject:1296 BUG=angleproject:1638  Change-Id: I5c0ccccb00e1c13ca98448256be048f7cd0968ce Reviewed-on: https://chromium-review.googlesource.com/417116 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Update multiple test expectations.  Many tests were removed from mustpass at some point and a couple were expected to fail but passing. Also update some of the global skip settings to use DEBUG RELEASE as a catch-all.  BUG=angleproject:989 BUG=angleproject:998 BUG=angleproject:1017 BUG=angleproject:1018 BUG=angleproject:1019 BUG=angleproject:1020 BUG=angleproject:1025 BUG=angleproject:1027 BUG=angleproject:1028 BUG=angleproject:1033 BUG=angleproject:1034 BUG=angleproject:1051 BUG=angleproject:1108 BUG=angleproject:1143 BUG=angleproject:1335 BUG=angleproject:1418 BUG=angleproject:1655 BUG=angleproject:1656  Change-Id: I731d3adeed36509ce69f72e5fcc80d0adc89cb67 Reviewed-on: https://chromium-review.googlesource.com/418063 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
translator: separate declarations after rewriting loops  Otherwise when trying to add the declarations back things might fail because the loop initialization is a sequence and not a block.  BUG=668028  Change-Id: I8d84a25c25765e9655c16ce56604ae08f0f8176c Reviewed-on: https://chromium-review.googlesource.com/414305 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
dEQP-GLES2: Update test expectations.  Many test expectations listed were not in the mustpass list so weren't even necessary.  BUG=angleproject:989 BUG=angleproject:1015 BUG=angleproject:1016 BUG=angleproject:1020 BUG=angleproject:1025 BUG=angleproject:1027 BUG=angleproject:1029 BUG=angleproject:1030 BUG=angleproject:1128  Change-Id: Ia18796cb3388e8528b4351cb2c81ff9793a1d250 Reviewed-on: https://chromium-review.googlesource.com/417413 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add support for GL_DRAW_INDIRECT_BUFFER_BINDING binding point  BUG=angleproject:1595 TEST=dEQP-GLES31.functional.state_query.integer.draw_indirect_buffer_binding*  Change-Id: Ib8f712fdf10411ef0b7b63742d17c3caca99137b Reviewed-on: https://chromium-review.googlesource.com/416193 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Validate that line width is not NaN.  BUG=668223  Change-Id: I2f38b358dd4a6b9327562704dacce37f2b16acaa Reviewed-on: https://chromium-review.googlesource.com/417192 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Handle constant folding arithmetic involving infinity  Constant folding arithmetic operations that involve infinity are now handled correctly in the cases where the result is infinity or zero. The implementation mostly relies on C++ to implement IEEE float arithmetic correctly so that unnecessary overhead is avoided.  Constant folding arithmetic operations that result in overflow now issue a warning but result in infinity. This is not mandated by the spec but is a reasonable choice since it is the behavior of the default IEEE rounding mode.  Constant folding arithmetic operations that result in NaN in IEEE will generate a warning but the NaN is kept. This is also not mandated by the spec but is among the allowed behaviors.  There's no special handling for ESSL 1.00. ESSL 1.00 doesn't really have the concept of NaN but since it is not feasible to control generating NaNs at shader run time either way it should not be a big issue if constant folding may generate them as well.  TEST=angle_unittests BUG=chromium:661857  Change-Id: I06116c6fdd02f224939d4a651e4e62f2fd4c98a8 Reviewed-on: https://chromium-review.googlesource.com/414911 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Update ES 3.1 expectations from SKIP to FAIL.  Change "DEBUG RELEASE" modifier to "OPENGL D3D11" to be more specific.  Add D3D11 expectations.  BUG=angleproject:1442  Change-Id: If3a9704e7f16cc473fd6ea410d10eb01ae1a8008 Reviewed-on: https://chromium-review.googlesource.com/416960 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't require GL_ARB_gpu_shader5 in order to support ES 3.0.  ES 3.0 doesn't require non-constant sampler array indexing and we can't require it for ES 2 without breaking WebGL for some users.  BUG=671280  Change-Id: Ib04446284acc92410a90c683a3d222871de554a8 Reviewed-on: https://chromium-review.googlesource.com/416195 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Implement GL_CHROMIUM_sync_query for GL.  BUG=angleproject:1366  Change-Id: I9e44679754eb704b390191c28206dedc3dc7cc4f Reviewed-on: https://chromium-review.googlesource.com/367082 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Change dEQP ES 3.1 expectations from FAIL to SKIP.  UNIMPLEMENTED debug spam was causing the tests time time out.  We can mark them as FAIL again once the dEQP test setup/tear down code doesn't emmit so many messages.  Implement a couple validation cases for ES 3.1 to greatly reduce the spam.  BUG=angleproject:1647 BUG=angleproject:1442  Change-Id: Ie7b4ac8737a2df1c0ada6ad53154ddf2f37d9c3c Reviewed-on: https://chromium-review.googlesource.com/415520 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
common: Add a vector arithmetic helper classes  Change-Id: I2f96baedf10d346eaa150bab04f8f6ca3ba573b9 Reviewed-on: https://chromium-review.googlesource.com/414272 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Suppress flaky TransformFeedbackTest.MultiContext on Intel OSX.  BUG=angleproject:1645  Change-Id: If35d277705ce9f2882d9ba059bd56e494ca9d123 Reviewed-on: https://chromium-review.googlesource.com/415613 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Suppress flaky test on Intel D3D Windows.  PointSpritesTest.PointWithoutAttributesCompliance:  https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Debug%20%28New%20Intel%29/builds/1741  Showing as failed now that flaky tests are not retried.  BUG=angleproject:1346  Change-Id: Ic0fce361f37394da8771fa82288b0a9206d3a347 Reviewed-on: https://chromium-review.googlesource.com/415448 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Pass the --deqp-egl-display-type= flag to dEQP tests.  BUG=angleproject:1442  Change-Id: I49299d2345f67b7ed3e2c80db0ec85589fc7583c Reviewed-on: https://chromium-review.googlesource.com/415526 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update bison/flex docs.  BUG=None  Change-Id: Id4b9674b6e98b8313c47f3fbc78cc93d137ec14c Reviewed-on: https://chromium-review.googlesource.com/415569 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Split WebGL compatibility into two extensions.  The mechanism for requesting extensions is now a separate extension. Added a way to query the extensions that support enabling.  BUG=angleproject:1523  Change-Id: I2efaa9f6d67b12ecae325f455404e34ba04d0e7c Reviewed-on: https://chromium-review.googlesource.com/414529 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Handle GL_READ_BUFFER being GL_NONE in getReadAttachment()  Change-Id: If3883de8f49a3fb33ecc598ba0b86c658cd3f0ca Reviewed-on: https://chromium-review.googlesource.com/415565 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use ComPtr references for D3D objects.  This is an work-in-progress CL to prototype using ComPtr.  It also has a new design for internal errors that doesn't use FormatString preferring a stream-based approach.  One thing to be aware of is that the address operator does not behave as expected with ComPtr - we should use ::AddressOf.  BUG=angleproject:530 BUG=angleproject:1644  Change-Id: If5643e9e5726fd9aa5cbd422fca12ae169eb5b1f Reviewed-on: https://chromium-review.googlesource.com/415027 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Refactor constant folding tests  The constant folding test classes are moved into a separate file in test_utils. This will enable adding multiple test files that use constant folding test classes so that constant folding tests can be organized better.  TEST=angle_unittests BUG=chromium:661857  Change-Id: I00bf25a4b941bdc1364ff5aa9bee2d571e4b0ea0 Reviewed-on: https://chromium-review.googlesource.com/414910 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix the coding style issue for validation code  Change-Id: I63aa1c1b3bbc52b0b522e4a703e6d20574eb21ad Reviewed-on: https://chromium-review.googlesource.com/414588 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix missing virtual destructor warning on OSX standalone  BUG=angleproject:422  Change-Id: I1a1c4551f2fc55b74afd66e7f18ea61e77250eb6 Reviewed-on: https://chromium-review.googlesource.com/414634 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement ES3.1 glProgramUniform* entry points  BUG=angleproject:1589 TEST=dEQP-GLES31.functional.program_uniform.*  Change-Id: I27fffa755fd277ed918746259cac88ab9e349c41 Reviewed-on: https://chromium-review.googlesource.com/412193 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Suppress flaky Win/AMD/GL end2end tests.  These tests became flaky when google test retries are turned off.  BUG=chromium:669196 BUG=angleproject:1643 BUG=angleproject:1541  Change-Id: I7cc10f532662928e5436a4e88a42fc109c00bfe8 Reviewed-on: https://chromium-review.googlesource.com/414216 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Implement multi-thread shader compilation.  Choose to use std::async for now to implement multi-threaded compiles. This should work across platforms and also be usable for other threading tasks. Note that std::async does not have a good way to wait for multiple std::futures. Also the Linux compile of std::async is broken due to a bug in an old STL version so disable it on this platform.  The implementation uses a static polymorphism approach which should have very good performance (no virtual calls).  This design leaves the door open for other future implementations such as a Win32 thread pool or one based on angle::Platform.  BUG=angleproject:422  Change-Id: Ia2f13c3af0339efaca1d19b40b3e08ecca61b8e8 Reviewed-on: https://chromium-review.googlesource.com/413712 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement EXT_discard_framebuffer for the GL backend.  BUG=angleproject:1634  Change-Id: I3822b99b59d4653e4d9a2c1d3dd16734f2050fae Reviewed-on: https://chromium-review.googlesource.com/414437 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
The return type of imageSize(gimageCube) is int2 not int3  BUG=angleproject:1442  Change-Id: I18bee163e7c7ce159cd23d6136486c49b7d9ec94 Reviewed-on: https://chromium-review.googlesource.com/414950 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add ES 3.1 version and enum to support dEQP ES 3.1 tests on Win  Change supported ES version to 3.1 on win.  Without GL_TEXTURE_2D_MULTISAMPLE enum it will reach UNREACHABLE() when running dEQP ES 3.1 tests on Win.  BUG=angleproject:1442  Change-Id: I55114854c4e9cba1caac10d3da5b416ef66a0d3e Reviewed-on: https://chromium-review.googlesource.com/414606 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Test shader built-in corner cases in constant folding tests  IEEE rules for generating zero or infinity are now checked for the constant folding of several built-in functions except for the cases where ESSL 3.00.6 explicitly states that the results are undefined.  BUG=chromium:661857 TEST=angle_unittests  Change-Id: I2ce427229a5583039694d060ea6db29c5bdace97 Reviewed-on: https://chromium-review.googlesource.com/414370 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add test for large UBO readback.  BUG=chromium:660670  Change-Id: I51c7e93f071041663f6b9a39ee75c0cca2264015 Reviewed-on: https://chromium-review.googlesource.com/414447 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a shader compile performance test.  BUG=angleproject:422  Change-Id: I10a2192c5c91360a1b7fe5e4d014bcf1fa84c96e Reviewed-on: https://chromium-review.googlesource.com/413713 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement CHROMIUM_copy_texture for OpenGL.  This also makes BlitGL work correctly on OpenGL ES (provided vertex arrays are available)  BUG=angleproject:1356  Change-Id: Icb7cef35bebfe6672220aa0b312ab89187dbf585 Reviewed-on: https://chromium-review.googlesource.com/412452 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ProgramGL: don't bindAttribLocation builtin attributes  BUG=angleproject:1636  Change-Id: Idea0e4f4a4415351b83e8f1a39b697139ff9ebe6 Reviewed-on: https://chromium-review.googlesource.com/414205 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Prevent stack overflow in macro expansion  Add a configurable limit for how many nested MacroExpander objects can be created in the preprocessor so that stack overflow can be prevented in case of malicious shaders. By default the limit is set to 1000. In unit tests the limit is set lower to make the test run faster.  Includes refactoring of most of the preprocessor tests so that they use utility functions provided by the test class instead of repeating the same code for initializing the preprocessor.  BUG=angleproject:1600 TEST=angle_unittests  Change-Id: I23b5140d9f2dc52df96111650db63150f7238494 Reviewed-on: https://chromium-review.googlesource.com/413986 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Set the return value in FenceSyncNULL::clientWait.  BUG=angleproject:1468  Change-Id: I3cf0d0a9486778b1d4384e00359034e08e425191 Reviewed-on: https://chromium-review.googlesource.com/414284 Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Check for misconfiguration of shader built-ins  Fail compiler initialization if the built-in resources are invalid. This avoids creating zero-sized arrays out of built-ins into the symbol table which could later lead to asserts when these built-ins were indexed by constants.  BUG=chromium:667468 TEST=angle_unittests  Change-Id: I9553c7c91ea355abb35b9cc6088ee14b40b0922b Reviewed-on: https://chromium-review.googlesource.com/413037 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Don't put newlines in macros that call ERR it already adds one.  BUG=angleproject:1442  Change-Id: Ia4b4a3f9dc870a53b6c793c6bfc07b76d6b19673 Reviewed-on: https://chromium-review.googlesource.com/413038 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add enough ES 3.1 enums to support initializing the dEQP ES 3.1 tests.  BUG=angleproject:1442  Change-Id: Iece3efb272fdcbe004d4136129ba7bfe74ba5265 Reviewed-on: https://chromium-review.googlesource.com/405530 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
translator: fix a typo in comment  Change-Id: Ibfd39bc478c4e9ddf40138ccf6bd37f247f83632 Reviewed-on: https://chromium-review.googlesource.com/413036 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
"Implement" more NULL backend objects.  BUG=angleproject:1468  Change-Id: I3c42872ba13dbf346722bc34b9415a4e79c9f82c Reviewed-on: https://chromium-review.googlesource.com/413328 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Initialize the default aliased line width ranges.  BUG=angleproject:1468  Change-Id: I1908821fc560bed0cb5427a23739d11b17fea227 Reviewed-on: https://chromium-review.googlesource.com/413327 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't require npot extensions in ES3 contexts.  BUG=angleproject:1468  Change-Id: I106f765e59b18de0659c85f31ce3fbac8016de95 Reviewed-on: https://chromium-review.googlesource.com/413329 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Suppress Win/AMD/D3D11 dEQP-GLES3 failures.  BUG=angleproject:1633  Change-Id: If8273747ade1cd3530b96006f2445e1dce0ccf00 Reviewed-on: https://chromium-review.googlesource.com/413231 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix infinite recursion in macro expansion  BUG=angleproject:1600 TEST=angle_unittests  Change-Id: I72bf81ec060f36255a0f13b132a4fd69b89672ff Reviewed-on: https://chromium-review.googlesource.com/412744 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Set the right size on the uniform bindings array.  BUG=angleproject:1468  Change-Id: I3d75a03fcf624fe7f9510e76edc4a8298d8c5a72 Reviewed-on: https://chromium-review.googlesource.com/412860 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add support for CHROMIUM_copy_texture with D3D9.  BUG=angleproject:1356  Change-Id: If63779e39609083deb6bb72dc8c29eaaa90c698c Reviewed-on: https://chromium-review.googlesource.com/339813 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add basic initialization code for ContextNULL so it can run some tests.  BUG=angleproject:1468  Change-Id: I8dfc9a3c71e5638de22bc9d9a5dadfb495ef23a7 Reviewed-on: https://chromium-review.googlesource.com/388846 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
BlitGL: add a ScopedGLState to separate our state from the app's  BUG=angleproject:1356  Change-Id: I19ec4efa37d142ac7370815b078f4ba79caa0bea Reviewed-on: https://chromium-review.googlesource.com/412451 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
"Implement" FramebufferNULL::getImplementationColorRead*  BUG=angleproject:1468  Change-Id: I2727602e66a4f4f2ca166948eebd9c975e315fe7 Reviewed-on: https://chromium-review.googlesource.com/412861 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
translator: remove code related to for-loop unrolling  For loop unrolling is not used and causes the translator fuzzer to find a hang when unrolling tons of nested loops (duh). Also remove MMap.h which was unused.  This is essentially a revert of https://codereview.appspot.com/4331048  BUG=chromium:665255  Change-Id: Id6940f7e306d4ed53bc992f751e9ffe733190f17 Reviewed-on: https://chromium-review.googlesource.com/412023 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
"Implement" TransformFeedbackNULL.  BUG=angleproject:1468  Change-Id: I1452b7d0f98d2e936ad16350a7ef5b01c45e76e9 Reviewed-on: https://chromium-review.googlesource.com/412862 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Allow the null backend to be used by dEQP.  BUG=angleproject:1468  Change-Id: Ife6f0001b9a6ae06c98385df47fc3887036f3a36 Reviewed-on: https://chromium-review.googlesource.com/412863 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Framebuffer: Fix getDepthStencilAttachment check.  The check should be using the newer operator== to check if attachments are the same - the id() method will hit an UNREACHABLE if it's called on a Surface attachment.  I noticed this when using this method in the Vulkan RenderPass implementation.  BUG=angleproject:1583  Change-Id: I387b35805893d04003b22a1c7c9c12fc41c726ce Reviewed-on: https://chromium-review.googlesource.com/412801 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use ShaderVars instead of ShaderLang in headers.  We only need the typed variable information in our header files. The entry point and other enum info can be encapsulated better in the cpp files that call through to the translator. The only tricky one is the compile options which we return from our implementation - put the typedef for these in the ShaderVars header to fix this.  This should partially work around the problem of shaderlang for Vulkan and ANGLE's translator (also ShaderLang) using some identifiers with the same names.  BUG=angleproject:1576  Change-Id: I43c530486498c210796b9e197a6780bf2f7b3afb Reviewed-on: https://chromium-review.googlesource.com/412423 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix GLSL float parsing corner cases  This fixes parsing floats that are out-of-range and floats that have more digits than the standard library float parsing functions can handle. In these cases we now fall back to a custom implementation of float parsing. The custom parsing path can correctly process floats with up to hundreds of millions of digits in their mantissa part.  Rounding behavior of the custom float parser may not be entirely consistent with the standard parser but the error should be at most a few ULP. This can be considered acceptable since floating point operations are not expected to be exact in GLSL in general. Settling for lower accuracy also enables the parser to run in constant memory instead of having to store all the significant digits of the decimal mantissa being parsed.  BUG=angleproject:1613 TEST=angle_unittests  Change-Id: I04a5d9ae5aaca48ef14b79cca5b997078614eb1c Reviewed-on: https://chromium-review.googlesource.com/412082 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
TextureGL: track the currently applied state.  Use it to implement lazy state setting methods for texture filters and swizzle that will be used in subsequent workarounds.  BUG=angleproject:1356  Change-Id: Ia58267c4f125262cf57fbd98438a6d8eb8a04b33 Reviewed-on: https://chromium-review.googlesource.com/412404 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove invariant qualifier for ESSL 3.0 on AMD driver  AMD driver in Linux requires invariant qualifier to match between shaders even for GLSL >= 4.2. This conflicts with ESSL 3.0 which disallows invariant qualifier in fragment shader. Remove invariant qualifier in vertex shader to workaround AMD driver bug.  BUG=chromium:639760 TEST=webgl2_conformance  Change-Id: Id5adf7e7032105486df90a1f200471ea81ee5c36 Reviewed-on: https://chromium-review.googlesource.com/411917 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix missing file license in HLSLCompiler.h.  BUG=angleproject:1576  Change-Id: I9fdd7a27944880383df53aa8468884ea2e99e670 Reviewed-on: https://chromium-review.googlesource.com/412422 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Program: Small cleanup to linkAttributes.  The comment here was incorrect and the signature passed some redundant arguments.  Noticed this when I was looking at the code for Vulkan/glslang.  BUG=angleproject:1576  Change-Id: Ie9e7eb7cbe4b65503901b2550e95cd818b7c28c0 Reviewed-on: https://chromium-review.googlesource.com/412324 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix up perf test runner script.  The missing check was a bit buggy and the paths were not updated to the new 'gyp' folder instead of 'build'.  BUG=angleproject:1569  Change-Id: I10408252851e90b79e306c8aea175ebe6a931b61 Reviewed-on: https://chromium-review.googlesource.com/412320 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
BlitGL: handle copyTexImage3D for the luma workaround  BUG=angleproject:1492  Change-Id: Ica9a7c72f0e463850dd93f4a15d9b572fb10a1f6 Reviewed-on: https://chromium-review.googlesource.com/412054 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Buffer11: Intel workaround for constant buffers.  This workaround avoids using inter-buffer copies involving constant buffers. Instead of copying from a staging storage to a constant buffer (or vice-versa) the Buffer memory managment will keep the system memory storage around permanently. This uses a bit more memory but should fix all the problematic cases where we have the canonical version of the buffer data inside GPU memory.  BUG=chromium:593024  Change-Id: I2ce0cfd22784aa43e819ce2df2d0da540d0a0cfe Reviewed-on: https://chromium-review.googlesource.com/412140 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Buffer11: Slight cleanup in copyFromStorage.  We can call setData internally to re-use the same code.  BUG=chromium:593024  Change-Id: I9f53bef1e86a11fc23799123937c354bf45de014 Reviewed-on: https://chromium-review.googlesource.com/411919 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Buffer11: Refactor constant buffer range getter.  This getter will now return the offset to bind along with the ID3D11Buffer pointer. This encapsulates the logic of the emulation so that we only actually check the capabilities of the driver in a single place. This solves the issue of needing to edit the code in multiple places when trying to force the caps for debugging and also encapsulates the offset calculation in the Buffer11 class.  BUG=chromium:593024  Change-Id: Idb09d560868ae12b98bcaf4ea031c4e0b6c82b4a Reviewed-on: https://chromium-review.googlesource.com/411918 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use 'gyp' dir in update_canary_angle.py.  The old 'build' dir was copying stale DLLs.  BUG=angleproject:1569  Change-Id: Ib11fb9f1e1e480fe32af3f291357e0fb92429318 Reviewed-on: https://chromium-review.googlesource.com/411389 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clamp "count" in glUniform* before passing to the backend  The OpenGL spec allows "count" to overflow safely implemented but some drivers like the Intel Windows OpenGL driver don't handle this correctly and crash on overflow tests.  BUG=661413  Change-Id: I10de9292c75daa375f002850900bb5e1cbfce3b6 Reviewed-on: https://chromium-review.googlesource.com/411387 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Program: clamp the number of uniforms to be copied  Reland with a temporary test suppression.  BUG=661413  Change-Id: I552b64de754b326dcd499b84d9f337b9d015dc8e Reviewed-on: https://chromium-review.googlesource.com/411473 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add the ANGLEPlatform entry points to eglGetProcAddress  Reland with a Windows build fix.  We want to move the Chromium initialization of the ANGLE platform from being Windows-specific to being EGL-specific. Because the mechanisms by which the ANGLE library is loaded are OS-specific it is inconvenient to use dlsym and friends to get the ANGLEPlatform entry points. Instead we expose the through eglGetProcAddress which is readily available in the EGL-specific part of Chromium.  BUG=angleproject:1621  Change-Id: I022a39493756a3b5d1ed626fd05e74af3f043211 Reviewed-on: https://chromium-review.googlesource.com/410066 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Validate level exists for TexSubImage calls.  Before validating the texture format verify that the texture level already exists in glTexSubImage calls.  BUG=602737  Change-Id: I0d83c7d43c7b358abdb59583dc83265df70c13b5 Reviewed-on: https://chromium-review.googlesource.com/411361 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Program: clamp the number of uniforms to be copied"  This reverts commit 9863a3ef180edb17307665e0cc65a16603222103.  Change-Id: I840a735b49bc4f2319c8af5f620d7f52bb7eecf1 Reviewed-on: https://chromium-review.googlesource.com/411470 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Length returned from glGetUniform*RobustANGLE should be in values not bytes.  BUG=angleproject:1354  Change-Id: I805499c3514a8b323e9864b7cf9100814f3d5cc5 Reviewed-on: https://chromium-review.googlesource.com/411420 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Program: Make LinkResult use gl::ErrorOrResult.  This simplifies the error handling code and allows the use of the ANGLE_TRY macro (and friends).  BUG=angleproject:1576  Change-Id: I3142388b10d0dd67a7f49a5c8c3d11102996be93 Reviewed-on: https://chromium-review.googlesource.com/411201 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Program: clamp the number of uniforms to be copied  BUG=661413  Change-Id: I1a146dae0d01edeb272a58610355261b0e23dec1 Reviewed-on: https://chromium-review.googlesource.com/406745 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Refactor GLES2 Blend entry points.  BUG=angleproject:747  Change-Id: I775265a7494aedd19ca4f18019e3b3181bfb12e9 Reviewed-on: https://chromium-review.googlesource.com/410135 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Cleanup after merging translator_lib into translator  Rename a few references to translator_lib  BUG=angleproject:1596  Change-Id: Ib715fdd8a949dc46a5ef628ea2d7f71b1b771845 Reviewed-on: https://chromium-review.googlesource.com/410287 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
FramebufferGL: Fix blit workaround corner case  The SRGB blit workaround had to wrong assumptions:  - SRGB blits can have a multisample source.  - The woarkound is needed even when the filter is GL_LINEAR in the    case where we are doing a RGB -> SRGB or RGB -> SRGB blit.  BUG=angleproject:1492 BUG=chromium:658898  Change-Id: I1d89572565a4e23c1c97bdf985bb21a445e898b7 Reviewed-on: https://chromium-review.googlesource.com/409540 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Add the ANGLEPlatform entry points to eglGetProcAddress"  Produces a build warning in standalone might require build file updates:  > locally defined symbol ANGLEPlatformInitialize imported in function <snip>  At least in GYP libEGL does not have LIBANGLE_IMPLEMENTATION defined so it defines this API with __declspec(dllimport) which is incorrect since the function is local to the module. We should fix the layering and/or export defs.  BUG=angleproject:1621  This reverts commit 0504fcc17a173b1c1a3305931c159f519bbff97b.  Change-Id: Ida67db69eb64e4a8f2c13dcf129d40b332f2da9d Reviewed-on: https://chromium-review.googlesource.com/410065 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add the ANGLEPlatform entry points to eglGetProcAddress  We want to move the Chromium initialization of the ANGLE platform from being Windows-specific to being EGL-specific. Because the mechanisms by which the ANGLE library is loaded are OS-specific it is inconvenient to use dlsym and friends to get the ANGLEPlatform entry points. Instead we expose the through eglGetProcAddress which is readily available in the EGL-specific part of Chromium.  BUG=angleproject:1621  Change-Id: I7adbea003103d0331ec9eece7b881e27bd6b1a5d Reviewed-on: https://chromium-review.googlesource.com/410063 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Cleanup after translator component removal  - Unite translator with translator_lib - Remove flags and defines for shared library exports  BUG=angleproject:1596  Change-Id: Icd145a4b79e2472766a2b56017bb0f36f244482e Reviewed-on: https://chromium-review.googlesource.com/410261 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Add default compiler options to WebGL shaders.  Enforces default compiler options when compiling WebGL compatible shaders.  BUG=angleproject:1616  Change-Id: I18490db68b29981fab4817bdd61727752cf50997 Reviewed-on: https://chromium-review.googlesource.com/409016 Commit-Queue: Bryan Bernhart <bryan.bernhart@intel.com> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Return a lift of a angle_end2end_tests on AMD.  BUG=angleproject:1622 TEST=angle_end2end_tests TBR=jmadill@chromium.org  Change-Id: Icd1f5fecc36621d70822c738da39d39d3bdb3ff6 Reviewed-on: https://chromium-review.googlesource.com/410037 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add volatile coherent and restrict memory qualifiers  The patch adds support for the three remaining memory qualifiers: volatile coherent and restrict.  BUG=angleproject:1442  TEST=angle_unittests TEST=angle_end2end_tests  Change-Id: Ie662d304af2399468df1d976e04c38dada1e2cec Reviewed-on: https://chromium-review.googlesource.com/385876 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Encapsulate the thread local storage into an egl::Thread class.  Instead of having separate GetGlobal* functions interact with the global objects through a single Thread object.  This reduces the number of TLS lookups in many EGL functions and allows the Thread object to be passed down to other objects if needed.  BUG=angleproject:1618  Change-Id: I1f9a89e8899d637633f4e91fda0e38ac308dd020 Reviewed-on: https://chromium-review.googlesource.com/409637 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix linkage.html failures on Mac.  The failure is due to when we initialize variables to 0 we re-create the struct TType and it contains a different unique id from the original struct TType thus leading to a different hashed name.  BUG=chromium:641129 TEST=webgl_conformancewebgl2_conformance  Change-Id: I267b97fa496f55ea59dacee93af8f6a90f3e66cb Reviewed-on: https://chromium-review.googlesource.com/409602 Commit-Queue: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed incorrect multisample rendering when enable SAMPLE_COVERAGE on Win  In RendererD3D::createRenderTarget we use getNearestSamples(samples)'s result to assign D3D11_TEXTURE2D_DESC.SampleDesc.Count. However in renderer11::updateState we used the original samples to calculate mask by GetBlendSampleMask not the supported nearest samples. It would result that multisample rendering result was incorrect when enable AMPLE_COVERAGE and the samples is not in the suported list but less than max samples. At least on Intel Win platform we can reproduce it. The fixing is to use same samples in these two places.  BUG=angleproject:1610 TEST=MultisampleCompatibilityTest.DrawCoverageAndResolve  Change-Id: I255b12d1032317145adfcee94e65e88ae5307113 Reviewed-on: https://chromium-review.googlesource.com/408516 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove invariant declaration in vertex shader for translation from ESSL 3.00 to GLSL <= 4.1  This is a follow-up patch of https://chromium-review.googlesource.com/408569. This CL removes invariant declaration in ESSL 3.00 vertex shader such like: " out vec4 foo; invariant foo; "  This CL also adds the workarounds in libANGLE.  BUG=chromium:639760 TEST=webgl2_conformance  Change-Id: I568ab51a9a2f5da10d1aff0b63aae8805097e081 Reviewed-on: https://chromium-review.googlesource.com/409157 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Docs: fix reference to ANGLE.sln  BUG=angleproject:1569  Change-Id: I6eb8f5f93da1879038516b14f608ff4eb4fb658b Reviewed-on: https://chromium-review.googlesource.com/409177 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Don't ouput "invarant" and "centroid" in GLSL 4.1 or older.  BUG=chromium:639760chromium:641129 TEST=webgl2_conformance  Change-Id: I5fe87246eaea78888529d7b45b79399e6065daa9 Reviewed-on: https://chromium-review.googlesource.com/408569 Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Ozone: Only set angle_enable_gl=1 for the DRM/GBM platform.  Currently the load of DRM dependencies and definition of ANGLE_USE_OZONE are conditioned by ozone_platform_gbm in the GN build files. However angle_enable_gl is always turned on for use_ozone=1. As a consequence use_ozone=1 and ozone_platform_gbm=0 (default on Linux Desktop) produces the following error:      ../../third_party/angle/src/libANGLE/Display.cpp:52:9: error: Unsupported OpenGL platform.     #error Unsupported OpenGL platform.      ../../third_party/angle/src/libANGLE/Display.cpp:192:2: error: Unsupported OpenGL platform.     #error Unsupported OpenGL platform.  This CL turns off angle_enable_gl in that case to fix that build error.  Change-Id: I42578f30f3353c083f52d4bd345dbe33f3f5e12e Reviewed-on: https://chromium-review.googlesource.com/408100 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Frank Henigman <fjhenigman@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Fix constant folding right shift corner cases  Right-shifting the minimum signed integer needs to be handled as a special case since it can't go through the usual path that clears the sign bit.  Code for right-shifting by zero also had a typo that resulted in setting the wrong value to the result.  BUG=chromium:662706 TEST=angle_unittests  Change-Id: Ief24d738064906a72212242e0917ce30e45d6b25 Reviewed-on: https://chromium-review.googlesource.com/408158 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
dEQP: Add command-line parsing of back-end.  Also use the requested renderer to initialize expectations.  BUG=angleproject:1442  Change-Id: Idf54072dac5f7ad9deea70e97d65e36a6e883b1c Reviewed-on: https://chromium-review.googlesource.com/407802 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
SimplifyLoopConditions: handle empty for expressions  BUG=661558  Change-Id: I7a4af71fafacc31aeae0c52d79641ea5e61d6b24 Reviewed-on: https://chromium-review.googlesource.com/406545 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix EGL_D3D_TEXTURE_SUBRESOURCE_ID_ANGLE enum typo in extension spec.  BUG=angleproject:1332  Change-Id: I2c5aa9e155f175fea51af05fed40a55569e6745a Reviewed-on: https://chromium-review.googlesource.com/408813 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename the build/ directory.  GYP related files went in gypfiles/ and the gni went in gni/ this changes frees up the build/ directory name for Chromium's build/ directory.  BUG=angleproject:1569  Change-Id: I76fe343d569239c2732ba87986fcf7debc21d417 Reviewed-on: https://chromium-review.googlesource.com/403029 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make the gmock and gtest dirs match Chromium's  Making the dependencies' directories match Chromium's is needed if we want to use the same GN file for Chromium builds and standalone builds.  This also rolls the gtest and gmock dependencies to match Chromium.  BUG=angleproject:1569  Change-Id: I54ce9c9a29964abfddbea64a0f4466f2c9d48a33 Reviewed-on: https://chromium-review.googlesource.com/403028 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
translator: Fix style in CodeGen.cpp.  BUG=None  Change-Id: I321ec7af6779c6524b83959da21520a4fb09d8e2 Reviewed-on: https://chromium-review.googlesource.com/408317 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
translator: Scope all classes with "sh".  I was seeing an odd problem with our PoolAlloc conflicting with the glslang/Vulkan TIntermNode so the fix was to move everything to a separate namespace.  The bison grammars are also regenerated. No functional changes.  BUG=angleproject:1576  Change-Id: I959c7afe4c092f0d458432c07b4dcee4d39513f3 Reviewed-on: https://chromium-review.googlesource.com/408267 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Squashed commit of the following:  commit 0146dfeefa47b520e71f0e74230abd7dac163a79 Author: Stanislav Chiknavaryan <stanisc@chromium.org> Date:   Fri Nov 4 17:43:03 2016 -0700      Revert "Implementation of eglGetSyncValuesCHROMIUM extension."      This reverts commit 5d9f5df01ac5a384d9b7cbb49d9f98a76b62c7ad.  commit 0d920fe27bd8e73d831a9002548bde00fea78709 Author: Stanislav Chiknavaryan <stanisc@chromium.org> Date:   Fri Nov 4 17:23:11 2016 -0700      Revert "Fix EGLSyncControlTest.SyncValuesTest timeout on Windowse Server 2012 R2"      This reverts commit d258ca045f31eb43ec01b5501c84e9afd8e82cd6.  commit bde8defe53741855bb71fbf27bcb0a91cfafbd01 Author: Stanislav Chiknavaryan <stanisc@chromium.org> Date:   Fri Nov 4 17:22:58 2016 -0700      Revert "Disabling EGLSyncControlTest.SyncValuesTest"      This reverts commit a74183613955bd891f56f6a979a5391c16c64138.  commit f78e4b7e97b9d1259878f6902bb6ddeb0aeded87 Author: Stanislav Chiknavaryan <stanisc@chromium.org> Date:   Fri Nov 4 17:22:36 2016 -0700      Revert "Fix and re-enable EGLSyncControlTest.SyncValuesTest"      This reverts commit 138ec92f52da7c0fc8e6df08ac4e4e572bbf6b39.  commit f3933e6a04bd23473077d2fd74616023db3c9601 Author: Stanislav Chiknavaryan <stanisc@chromium.org> Date:   Fri Nov 4 17:20:26 2016 -0700      Revert "Handle nullptr mSwapChain in SwapChain11::getSyncValues"      This reverts commit af7f301f6ba9e5f31d1511142a936a9ba84169d0.  BUG=angleproject:1402  Change-Id: I99969e906e316574e9f739141de0e360d1edebd9 Reviewed-on: https://chromium-review.googlesource.com/408752 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Stanislav Chiknavaryan <stanisc@chromium.org>, 15312978, 382, 105, 382
translator: Remove deprecated HLSL output flags.  These flags were adding redundant configs to the fuzzer.  BUG=angleproject:1522  Change-Id: I49ad56f0d7aceaae326d2d4387c4c750866465f3 Reviewed-on: https://chromium-review.googlesource.com/408338 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
translator: Put ShaderLang APIs in "sh" namespace.  Working with glslang in Vulkan means we are static linking libANGLE with functions that have the same name as our translator APIs. We can fix this by scoping our APIs. We don't need to scope the types of the file since they don't conflict.  This will require a follow-up patch to remove the unscoped APIs once we switch over Chromium.  We also scope TCompiler and some related classes to avoid multiply defined link errors with glslang.  BUG=angleproject:1576  Change-Id: I729b19467d2ff7d374a82044b16dbebdf2dc8f16 Reviewed-on: https://chromium-review.googlesource.com/408337 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor all the Bind* GLES 2.0 entry points.  This requires storing a reference the the Context's Framebuffer map in the ValidationContext. Likely we'll need to do this as well for the other non-shared object types.  BUG=angleproject:747  Change-Id: I73ee8b0be3c3b9e54b7e48e49d6f738cf1d926dd Reviewed-on: https://chromium-review.googlesource.com/407843 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't use the bind SRV flag for MS textures in D3D11 FL 10.0.  With the latest Windows SDKs it is an error to create a multisampled texture with both bind SRV and DSV flags in feature level 10.0.  The error:  D3D11 ERROR: ID3D11Device::CreateTexture2D: If the feature level is less than D3D_FEATURE_LEVEL_10_1 a Texture2D with sample count > 1 cannot have both D3D11_BIND_DEPTH_STENCIL and D3D11_BIND_SHADER_RESOURCE. This call may appear to incorrectly return success on older/current D3D runtimes due to missing validation despite this debug layer message. [STATE_CREATION ERROR #99: CREATETEXTURE2D_INVALIDBINDFLAGS]  BUG=656989  Change-Id: Iedce65f6c877786e28b96c159abd7a5b2a32cfd5 Reviewed-on: https://chromium-review.googlesource.com/408339 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix 3D texture redefinition bug.  We would incorrectly check the storage type after we had redefined it. Thus we would allow old storages to persist for some cases of 3D texture. This bug did not affect 2D textures.  See WebGL 2 test: conformance2/misc/views-with-offsets.html  BUG=angleproject:1609  Change-Id: I7a04ff498740bb5d7daf2cee174c336f97a44c01 Reviewed-on: https://chromium-review.googlesource.com/408417 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed the bug using uniform block array  At the beginning of Program::defineUniformBlock getUniformBlockSize will call getUniformBlockIndex on MacOS to check if the block is an active block with giving blockName. However it didn't distinguish array and non-array situations and unified to use interfaceBlock.name as the blockName to call getUniformBlockIndex. It would result that INVALID_INDEX was returned when it's a block array. For example using 'blockName' not 'blockName[0]'.  In OpenGL 4.3 spec section 7.3.1 there are following descriptions: If name exactly matches the name string of one of the active resources for programInterface the index of the matched resource is returned. Additionally if name would exactly match the name string of an active resource if "[0]" were appended to name the index of the matched resource is returned. Otherwise name is considered not to be the name of an active resource and INVALID_INDEX is returned.  So for array block case we use blockName appending [0] to check the activity.  BUG=angleproject:1543  Change-Id: I8189b62066b779f7d392a7dba1cf5cb02a31936d Reviewed-on: https://chromium-review.googlesource.com/405830 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Introduce a gl::BufferState class.  This state can share vital pieces of information with the impl. The most elementary state is the buffer size which then the impl doesn't need to replicate.  BUG=angleproject:1579  Change-Id: I341393c64a6e49de65c1d53b1bad2fa143209862 Reviewed-on: https://chromium-review.googlesource.com/406644 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Check that implicitly sized array constructors have arguments  Array size must be greater than zero according to the ESSL 3.00.6 spec.  BUG=angleproject:1602 TEST=angle_unittests  Change-Id: I1fa54b143bc821583822cbc5139464cdd058b6c1 Reviewed-on: https://chromium-review.googlesource.com/407257 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Ignore .TMP files.  This seem to be everywhere on Windows.  BUG=None  Change-Id: I16b208edb88d57d4bea3ce6dcf22f6ae9ac9cb58 Reviewed-on: https://chromium-review.googlesource.com/406643 Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix undefined modulus in ExpressionParser  In constant folding of integer expressions this case is already being handled.  BUG=angleproject:1599  Change-Id: Ifb3ea0279467f216e1c93909647b79fca24fcaf2 Reviewed-on: https://chromium-review.googlesource.com/406868 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix handling bvec on the right hand side of a logical op  The vector/matrix size matching is not done for logical ops similarly to other binary ops. For that reason both left and right hand side need to be checked for being scalar.  BUG=angleproject:1601 TEST=angle_unittests  Change-Id: Ie87da68d6cb0d439f0e6273d374fc7d836c82309 Reviewed-on: https://chromium-review.googlesource.com/406988 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Enable previously crashing trig dEQP tests.  The newer Win SDK version seems to fix the crash.  BUG=angleproject:1252 BUG=chromium:568170  Change-Id: I9bac4a9978774ac0f8951a95ce920e8e5d6caed8 Reviewed-on: https://chromium-review.googlesource.com/358811 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove component translator target and keep static_library.  Rename translator_static to translator and use it everywhere.  BUG=angleproject:1596  Change-Id: I36c990d54979d2460b1513a65cca0b82f8d65c80 Reviewed-on: https://chromium-review.googlesource.com/406668 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Enable shader validation with WebGL compatibility extension.  The change configures shaders to be of a compatible spec upon creation.  BUG=angleproject:1523  Change-Id: Id345d0b8f0abad8ed3c4fb3117d0fdfeab9fea53 Reviewed-on: https://chromium-review.googlesource.com/405778 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix handling unsized arrays with incorrect initializer  In case the initializer of an unsized array is not an array the array size still needs to be set to some value > 0 in order to not hit asserts in the code that parses accessing the array. An error was already being generated in the case an unsized array has a non-array initializer but the variable will still have an array type in the symbol table.  BUG=chromium:661592 TEST=angle_unittests  Change-Id: I4a11527eab0404ba9e59ebb7227faef13dbea62c Reviewed-on: https://chromium-review.googlesource.com/407256 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
OSXWindow: ignore deprecated warnings  We can't fix them yet because our continuous testing doesn't compile with the updated definitions yet.  BUG=angleproject:1598  Change-Id: I40bdeaa6bafbd03b5e3e6c16ac8485e3f488fe59 Reviewed-on: https://chromium-review.googlesource.com/406452 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix EGL_D3D_TEXTURE_SUBRESOURCE_ID_ANGLE enum typo.  BUG=angleproject:1332  Change-Id: I69a5780521a4810ae93567fbe875a8c5e361850e Reviewed-on: https://chromium-review.googlesource.com/406632 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Properly check for debug and robust access context creation flags.  These flags can come from both attributes and bitfield flags.  Also move the robust access check to an UNIMPLEMENTED in Context dEQP ES 3.1 tests attempt to use this flag and it's convenient to be able test by disabling UNIMPLEMENTED assertions.  BUG=angleproject:1442  Change-Id: I1641fdb3afee308235351ebd60be680765b16b3b Reviewed-on: https://chromium-review.googlesource.com/405774 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Change UNIMPLEMENTED to not assert by default.  It is not feasible to run dEQP against ES 3.1 on the bots without removing this assertion.  Messages will still be logged and UNREACHABLE will still generate assertion failures when the behaviour is needed.  This matches the behaviour of Chromium's NOTIMPLEMENTED macro.  Remove the ANGLE_TEST_CONFIG macro it was not doing anything useful anymore.  BUG=angleproject:1442  Change-Id: I76376817a87e1a75ad1a938e1db1d7763e094372 Reviewed-on: https://chromium-review.googlesource.com/406928 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use safe math in ValidateCopyBufferSubData.  This should fix any potential out of bounds reads/writes.  BUG=chromium:660854  Change-Id: Iffa00e4551d7362115cbf023a09b1d0e15f724c8 Reviewed-on: https://chromium-review.googlesource.com/405816 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clean up temporary variable usage in ScalarizeVecAndMatConstructorArgs  Use common helper functions instead of manually creating temporary variable nodes. Also clean up the interface provided by the traverser.  BUG=angleproject:1597 Test=WebGL conformance tests  Change-Id: Ifd8d3815ff9e75e1a2040d65db9d4b3d6a9a9273 Reviewed-on: https://chromium-review.googlesource.com/403950 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Prefix internal names in GLSL output  Prefixing internal names will avoid clashes with user-defined names. We use prefix webgl_angle_ so that the internal names are both reserved in WebGL on one hand and clearly separated from hashed names starting with just webgl_ on the other hand.  BUG=angleproject:1597 TEST=WebGL conformance tests  Change-Id: I7deef9c1a38105c8b57eda13c84eec13e515a91a Reviewed-on: https://chromium-review.googlesource.com/406247 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
ES3: Make copy conversion set a static switch.  This removes the global std::set initialization.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: I6a7f4211905ea4a83e0e2337977e2f6fb375a7dd Reviewed-on: https://chromium-review.googlesource.com/405368 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor CopyBufferSubData entry point.  This brings it in line with the new style.  BUG=angleproject:747  Change-Id: Ie4b223d018999be18c3b19fae9cc825a78de09a9 Reviewed-on: https://chromium-review.googlesource.com/405815 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Replace the GLVersion class with gl::Version.  Update code to use gl::Version in as many places as possible to ease ES 3.1 support.  BUG=angleproject:1588  Change-Id: I3490b53a81027cf849dac551a9cc66ce04506144 Reviewed-on: https://chromium-review.googlesource.com/404946 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add finite check to lexer float constants.  The fuzzer was generating cases where floating point constants would someone return as valid when they were beyond max float. I was unable to reproduce this in a standalone test but confirmed this check fixes the fuzzer error.  BUG=660702  Change-Id: I9e6b883958013638ea509e38b30e812a9e74fbc1 Reviewed-on: https://chromium-review.googlesource.com/406268 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enumerate dEQP ES 3.1 test expectations.  BUG=angleproject:1442  Change-Id: I9005a54d30988a472a3f512f394a4a352a4732e9 Reviewed-on: https://chromium-review.googlesource.com/405297 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix incorrect assertion in SwapChain11.cpp.  BUG=angleproject:1144  Change-Id: I6186381d1aad13bbb07af47b3cf94d6ec7cbb566 Reviewed-on: https://chromium-review.googlesource.com/405693 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D9: Make GetD3DFormatInfo constexpr.  This removes another static global map initializer.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: I302f349ea4e95d079077866a07b0d57758c40892 Reviewed-on: https://chromium-review.googlesource.com/405488 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Convert the FL 9_3 vertex format table to constexpr.  This removes a static global map initialization.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: I6eb19f6649280e72682c6806ea0bf6eb70173984 Reviewed-on: https://chromium-review.googlesource.com/405487 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make ASSERT reference the conditional expression.  This should prevent further unexpected bot breakage due to unreferenced variables in the ASSERT expression.  Also remove the no longer needed variable referencing macro.  BUG=angleproject:1586  Change-Id: I127695165bdfe39c51fe8d17e00daf6bf2fa8252 Reviewed-on: https://chromium-review.googlesource.com/404948 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Buffer11: Keep system memory storage for large UBOs.  The system memory storage is needed to back UBOs larger than the max constant buffer size in D3D11 Windows 7. Because readback from UBOs can be tricky the system memory storage keeps the canonical copy of the data in this case.  We can also extend this to add a workaround to fix the outstanding failure cases of UBOs on Intel.  BUG=chromium:660670  Change-Id: Ia3119d3064d10c4262def4c5a967972b4de2d10f Reviewed-on: https://chromium-review.googlesource.com/405367 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
TranslatorGLSL: collect variables when flattening pramga invariant all  BUG=chromium:659472  Change-Id: Icfeada9f09fff5d28eb3f4fafb2c94d57598af1f Reviewed-on: https://chromium-review.googlesource.com/403849 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update GLES2 Mac expectations  BUG=  Change-Id: I7ca6e6c0fc4b178a1df6d6acc95dde3b6ed3c479 Reviewed-on: https://chromium-review.googlesource.com/403089 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Workaround clear issue on Intel Skylake D3D driver  On some Intel D3D drivers on Skylake calling clear may take no effect. To work around this bug we call clear() twice when we attempt to do clear on these platforms.  BUG=chromium:655534  Change-Id: I3b05892e80e5797d268861e8f52e080f5175855b Reviewed-on: https://chromium-review.googlesource.com/398522 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reland "Remove invariant qualifier for input in fragment shader"  This relands https://chromium-review.googlesource.com/#/c/400005/.  ESSL and GLSL are not consistent on invariant matching in vertex shader and fragment shader. See the following rules: ESSL 1.00 - input and output must match ESSL 3.00 - only output inputs cannot be declared as invariant.  GLSL 1.10.59 - does not exist GLSL 1.20.8  - input and output must match GLSL 1.30.10 - input and output must match GLSL 1.40.8  - input and output must match GLSL 1.50.11 - input and output must match GLSL 3.30.6  - input and output must match GLSL 4.00.9  - input and output must match GLSL 4.10.6  - input and output must match GLSL 4.20.11 - input can omit invariant GLSL 4.30.8  - input can omit invariant GLSL 4.40.9  - input can omit invariant GLSL 4.50.5  - input can omit invariant  Since GLSL 4.20 invariant qualifier description were changed to: " Only variables output from a shader (including those that are then input to a subsequent shader) can be candidates for invariance. This includes user-defined output variables and the built-in output variables. As only outputs need be declared with invariant an output from one shader stage will still match an input of a subsequent stage without the input being declared as invariant. " It's not very clear if input in fragment can be declared as invariant. Mesa driver disallows use of input declared as invariant in fragment shader while other drivers may allow it. This CL removes invariant declaration for input in fragment shader except AMD driver in Linux. AMD's driver obviously contradicts the spec by forcing invariance to match between vertex and fragment shaders.  BUG=chromium:639760 chromium:659326 TEST=conformance/glsl/misc/shaders-with-invariance.html and conformance/glsl/bugs/invariant-does-not-leak-across-shaders.html  Change-Id: I0aa9be14f0cee7a11a249c91fba27c570c52ca1b Reviewed-on: https://chromium-review.googlesource.com/404228 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Buffer11: Ensure we don't overflow on setData.  When mapping uniform buffers for very large buffers we could end up copying past buffer bounds. This would trigger crashes on some configs. We can fix this by clamping the copy size correctly.  BUG=chromium:659892  Change-Id: I9d1af984da34867692d4c7b8908c016ebec7a63b Reviewed-on: https://chromium-review.googlesource.com/404931 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Put angle::Format table in a cpp file.  The best practice is to expose a non-constexpr query function and hide the constexpr table in a cpp so it won't be included verbatim in multiple other source files.  BUG=angleproject:1389  Change-Id: Ic4e19d14c832643be1552c5a14e441826c41970f Reviewed-on: https://chromium-review.googlesource.com/404478 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add buildtools to recursedeps.  The DEPS for buildtools changed to not recurse automatically. This change mirrors the change in Chromium.  See https://chromium.googlesource.com/chromium/buildtools/+/3d2e47bf14e4e67816a53e304dea422fa18f9180%5E%21/#F0  BUG=None  Change-Id: Ib15520324ad7894d4a640a0e2013c3823849e846 Reviewed-on: https://chromium-review.googlesource.com/404969 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix a compile error in SwapChain11.cpp  In function resetOffscreenColorBuffer the local variable 'result' is never used in its scope so when attempting to build a release version of Chromium with latest ANGLE on Windows ninja will report a compile warning and stop the compilation: 'result': local variable is initialized but not referenced. The build failure starts at: https://chromium-review.googlesource.com/#/c/316804/  Change-Id: I29c05653f0d2e4f34c2e0402848f403ec2af8e5a Reviewed-on: https://chromium-review.googlesource.com/404515 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable D3DTextureTest on Windows Intel OpenGL  BUG=angleproject:1585  Change-Id: I550750e0e94bd15c0b076f911d05f8dd92e4a202 Reviewed-on: https://chromium-review.googlesource.com/404499 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
D3D11: Make several format tables constexpr.  This should guarantee the best memory access patterns. It introduces some indirections for some format queries but most of these should be direct array lookups or used infrequently. We can optimize this later if necessary.  BUG=angleproject:1389  Change-Id: I5e2c8c530a07798494afd3ea36b6164d7564c02c Reviewed-on: https://chromium-review.googlesource.com/403314 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Implement GL_EXT_sRGB_write_control for GL.  BUG=angleproject:1547 BUG=655247  Change-Id: I3f04ddc7032e4a47eb21ff3b8586c5b47415bb64 Reviewed-on: https://chromium-review.googlesource.com/400958 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Check precision qualification for all declarations  Precision qualification is now checked properly also for declarations that don't have qualifiers.  BUG=angleproject:1574 TEST=angle_unittests  Change-Id: I3d186df0763e071614c1da9a355a6f6fefdc8091 Reviewed-on: https://chromium-review.googlesource.com/403949 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a EGL_ANGLE_d3d_texture_client_buffer extension.  Allows creation of pbuffers from D3D texture objects.  BUG=540829 BUG=angleproject:1144  Change-Id: If8ea717ef011608cd01357c217837133d726d3ea Reviewed-on: https://chromium-review.googlesource.com/316804 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add Platform Detection and Tighten the workarounds on Intel GPU  This patch intends to add platform detection to ANGLE and tighten the driver bug workarounds on Intel GPU.  BUG=angleproject:1548  Change-Id: I1ea57e174f688a175da8b658de4337295037fcab Reviewed-on: https://chromium-review.googlesource.com/399914 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split TIntermDeclaration from TIntermAggregate  The new class TIntermDeclaration is now used for struct interface block and variable declarations. TIntermDeclaration nodes do not have a type - rather the type is stored in each child node. The types may differ in case the declaration is a series of array declarators with mismatching sizes.  TIntermAggregate is still used for function calls function prototypes function parameter lists and invariant declarations.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I0457188f354481470855f61ac1c878fc2579b1d1 Reviewed-on: https://chromium-review.googlesource.com/400023 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix handling of null data pointers for robust tex image calls.  BUG=angleproject:1354  Change-Id: I596ebd6d8d4d500942eeb31629113b0686933531 Reviewed-on: https://chromium-review.googlesource.com/403537 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
MacroExpander: bump expansionCount before peeking for "("  BUG=658555  Change-Id: I578b8aff37a116fd7b2b387388311a27bb8a2809 Reviewed-on: https://chromium-review.googlesource.com/403848 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Disable the emulateTinyStencilTextures workaround in FL 10.0.  UpdateSubresource and CopySubresource cannot copy to depth stencil textures in feature level 10.0.  BUG=angleproject:1572  Change-Id: Ic9f8cbfb2c69de8502da7df34f1c5935144a9387 Reviewed-on: https://chromium-review.googlesource.com/402554 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix warnings in TransformFeedbackTest.  Introduced in cd2ed608719fbf.  BUG=angleproject:1570  Change-Id: I71ef8a06e379eca853e7729863976e868066df95 Reviewed-on: https://chromium-review.googlesource.com/403313 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix a couple global variable warnings.  The DynamicHLSL code was using global strings to find stubs. The math code was also using pow in a global which can be replaced with a simple bit shift.  BUG=angleproject:1459  Change-Id: Idb0602ab7640c221843385b0a0a4cfecd5fd3a26 Reviewed-on: https://chromium-review.googlesource.com/403289 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Remove invariant qualifier for input in fragment shader"  This reverts commit d842a6b2014447db0676c8a3f5a5e9ae4ce67d9a.  Because of WebglConformance_conformance_glsl_bugs_invariant_does_not_leak_across_shaders failure  BUG=chromium:659326  Change-Id: I0602e24f3d34ccf852cda865f673c5c7634f82a6 Reviewed-on: https://chromium-review.googlesource.com/403230 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Handle nullptr mSwapChain in SwapChain11::getSyncValues  There are 6 crashes in SwapChain11::getSyncValues on crash server. I looked at one of them and it is due to a nullptr mSwapChain which appears to be a valid state that is handled in other SwapChain11 methods.  This change adds a similar check / returning an error to SwapChain11::getSyncValues.  BUG=angleproject:1402  Change-Id: I9c17b884704b8aaaddf2d802911cd0ca961ae0b4 Reviewed-on: https://chromium-review.googlesource.com/402613 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Stanislav Chiknavaryan <stanisc@chromium.org>, 15312978, 382, 105, 382
Implement GL_EXT_texture_sRGB_decode for GL.  BUG=angleproject:1383 BUG=655247  Change-Id: I409b12e1ae418530576de5ec9ce26b7be5d91650 Reviewed-on: https://chromium-review.googlesource.com/400807 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disallow samplers as ternary operands  Quoting the ESSL 1.00 spec section 4.1.7: "Except for parameters to texture lookup functions array indexing structure field selection and parentheses samplers are not allowed to be operands in expressions."  ESSL 3.00 has a similar passage related to opaque types.  Validate this correctly. Compatibility risk should be low since attempting to use samplers in ternary operators was already failing before this in most cases.  BUG=angleproject:1551 TEST=angle_unittests  Change-Id: I6cbb536f473ba9674d558b14a458f3799f9c7c9c Reviewed-on: https://chromium-review.googlesource.com/402694 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove invariant qualifier for input in fragment shader  ESSL and GLSL are not consistent on invariant matching in vertex shader and fragment shader. See the following rules: ESSL 1.00 - input and output must match ESSL 3.00 - only output inputs cannot be declared as invariant.  GLSL 1.10.59 - does not exist GLSL 1.20.8  - input and output must match GLSL 1.30.10 - input and output must match GLSL 1.40.8  - input and output must match GLSL 1.50.11 - input and output must match GLSL 3.30.6  - input and output must match GLSL 4.00.9  - input and output must match GLSL 4.10.6  - input and output must match GLSL 4.20.11 - input can omit invariant GLSL 4.30.8  - input can omit invariant GLSL 4.40.9  - input can omit invariant GLSL 4.50.5  - input can omit invariant  Since GLSL 4.20 invariant qualifier description were changed to: " Only variables output from a shader (including those that are then input to a subsequent shader) can be candidates for invariance. This includes user-defined output variables and the built-in output variables. As only outputs need be declared with invariant an output from one shader stage will still match an input of a subsequent stage without the input being declared as invariant. " It's not very clear if input in fragment can be declared as invariant. Mesa driver disallows use of input declared as invariant in fragment shader while other drivers may allow it.  In ESSL 3.00 inputs cannot be declared as invariant. ANGLE should follow this rule for GLSL >= 4.20.  BUG=chromium:639760  Change-Id: I7f7a07401381ac970488b69752f6d50d4f19d31f Reviewed-on: https://chromium-review.googlesource.com/400005 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
ProgramGL: correctly copy sampler uniforms  BUG=angleproject:1570  Change-Id: Ic39f5f1ff8f565b2876fdfc8d738a50f24b911b6 Reviewed-on: https://chromium-review.googlesource.com/402930 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
TransformFeedbackTest: Give enough vertex attributes  BUG=angleproject:1570  Change-Id: I6d148c6ce22f3b8266257b25c7f5b676a13c5c92 Reviewed-on: https://chromium-review.googlesource.com/402931 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
OSXWindow: Suppress a flaky crash when running end2end tests  For some reason while running the end2end tests when the application gets an NSAppKitDefinedEventType with subtype NSApplicationActivateEventType (and of course window = 0) a null dereference happens. The crash seems timing dependent since the root cause was not found and this is test code add an ugly suppression.  BUG=angleproject:1570  Change-Id: I3af2188ddae8ca3c0a4458e15a8af01e66215e3f Reviewed-on: https://chromium-review.googlesource.com/403049 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
VertexAttributeTest: don't copy too much data in the buffer  BUG=angleproject:1570  Change-Id: I199bb88042c3926cb05e27494bb6af9b2666cd00 Reviewed-on: https://chromium-review.googlesource.com/402932 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable GenerateMipmapBaseLevel test on NVIDIA  The issue is no longer reproducible on newest drivers.  TEST=angle_end2end_tests  Change-Id: I18728877ed9b936ecb469c44e3dae185ab4f08d3 Reviewed-on: https://chromium-review.googlesource.com/362950 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add support for images in the compiler  The patch adds support for GLSL ES 3.1 image types.  Internal format layout qualifiers for images are added.  Support for the readonly and writeonly qualifiers are added. The other memory qualifiers are omitted as to make the patch simpler.  Tests are added which check for correct and incorrect usage of images internal format layout and memory qualifiers.  BUG=angleproject:1442  TEST=angle_unittests TEST=angle_end2end_tests  Change-Id: Ie4d3acb2a195de11b405ad54110a04c4c1de0b7e Reviewed-on: https://chromium-review.googlesource.com/378855 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Roll buildtools.  This should fix the weird gn problem with git cl format.  BUG=None  Change-Id: I35d4cf110bda302b6336ef412613a80fcde8208b Reviewed-on: https://chromium-review.googlesource.com/402253 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix ASSERT in Buffer11::PackStorage::copyFromStorage.  This ASSERT was being overly restrictive when the code would work correctly when reading from system memory storage as well as staging.  BUG=angleproject:1555  Change-Id: Ib45185d8c127a1fb2ce54db9e96fe41d68d5ff2e Reviewed-on: https://chromium-review.googlesource.com/402269 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add documentation on cherry-picking changes to release branches.  BUG=none  Change-Id: I9ac61281dbfbde6dc285bc687734f6a0fb67034b Reviewed-on: https://chromium-review.googlesource.com/402230 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix style in the entire back-end.  BUG=None  Change-Id: I32cbcd4daa1f386654ea5e8f0a25d8635b5df731 Reviewed-on: https://chromium-review.googlesource.com/402016 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add stubs for EGL_EXT_swap_buffers_with_damage.  BUG=512090  Change-Id: I9413d6f5c13b9ea59ab9c923dc6c5d157f344166 Reviewed-on: https://chromium-review.googlesource.com/291652 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Forbid shared and packed layouts in WebGL  WebGL 2.0 spec section 5.25 specifies this.  BUG=angleproject:1542 TEST=WebGL 2 conformance tests  Change-Id: Ic5758bc0e767a8e6dd032e42c0a69bcae06381c4 Reviewed-on: https://chromium-review.googlesource.com/399682 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove unused function getInterpolationString  BUG=  Change-Id: I4135f4ae939043efa8ccab65ef1a5eb441370828 Reviewed-on: https://chromium-review.googlesource.com/401673 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement robust the GetIntegeri_v entry point.  BUG=angleproject:1354  Change-Id: I408d0e78064aa4e493d6ca66565384ac585040e1 Reviewed-on: https://chromium-review.googlesource.com/401400 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement robust the GetBufferPointerv entry point.  BUG=angleproject:1354  Change-Id: Id7dd8438224adb1e2729bcdc18a306e5dfc83a3b Reviewed-on: https://chromium-review.googlesource.com/401399 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement robust the GetInternalFormativ entry point.  BUG=angleproject:1354  Change-Id: Ib25fe4905fdd6c532c67de1d4ca1ba37932f8e0b Reviewed-on: https://chromium-review.googlesource.com/401149 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix pruning empty declarations from loop headers  Empty declarations are possible in loop init expressions. Make PruneEmptyDeclarations take this into account.  BUG=angleproject:1550 TEST=angle_unittests  Change-Id: If407babf9b6f7a26dfcf73ff345493d3e2af3f9a Reviewed-on: https://chromium-review.googlesource.com/401147 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove break after a return in switch block  BUG=  Change-Id: I5f36d5c51aa3eb6d498ff21733e67de418c26386 Reviewed-on: https://chromium-review.googlesource.com/401164 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Prevent fallback on default branch for case EbtSamplerCubeShadow  BUG=angleproject:1549  Change-Id: I8f003257b6f39282cb52ccdbacb73860ab37c919 Reviewed-on: https://chromium-review.googlesource.com/390271 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement robust GetBufferParameter entry points.  BUG=angleproject:1354  Change-Id: I979c8768975380dba7f0b256b2729b2147ff7984 Reviewed-on: https://chromium-review.googlesource.com/399042 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement the robust GetActiveUniformBlockiv entry point.  BUG=angleproject:1354  Change-Id: I2e8051910f50dc040f6be4922142364d36788c4e Reviewed-on: https://chromium-review.googlesource.com/399041 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement remaining robust TexImage entry points.  BUG=angleproject:1354  Change-Id: Ied04fa28387f3bef9f2bead7b60878b1a353c8bd Reviewed-on: https://chromium-review.googlesource.com/399039 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement robust GetQuery entry points.  BUG=angleproject:1354  Change-Id: Ic1aaab56d2313a19fb0362f280dbfbf804fb3fcc Reviewed-on: https://chromium-review.googlesource.com/399040 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
translator: Reject invalid combination of compile flags  ADD_AND_TRUE_TO_LOOP_CONDITION breaks loop unrolling because LoopInfo expects the loop condition to have been validated to be "symbol < constant" and stayed that way.  BUG=chromium:653454 BUG=chromium:653694  Change-Id: I2057fde3a308623bd2dd7571ee878dd42b1fdac3 Reviewed-on: https://chromium-review.googlesource.com/395306 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix typo EGL_PLATFORM_ANGLE_TYPE_NULL_ANGLE vs EGL_PLATFORM_ANGLE_DEVICE_TYPE_NULL_ANGLE  Change-Id: I192c4223e3fdefb7cecf96b50bc70529519ca650 Reviewed-on: https://chromium-review.googlesource.com/399678 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement remaining robust Get entry points.  BUG=angleproject:1354  Change-Id: I204962a7178d47a43034d0213c81b82d8f6a25be Reviewed-on: https://chromium-review.googlesource.com/399043 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
HandleAllocator: make HandleRange inclusive.  Previously part of the code saw it as [begin end) while others saw it as [begin end].  BUG=angleproject:1052 BUG=chromium:656485  Change-Id: Id8e9e26b167e02a07dfc5341569df53a14d0623d Reviewed-on: https://chromium-review.googlesource.com/399565 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Change comma nodes to TIntermBinary  Comma nodes always have just two parameters. If there's an expression with several commas in the middle it's parsed as a tree of comma operations. It makes more sense to represent it as a binary node rather than an aggregate node.  After this patch TIntermAggregate is still used for function prototypes function parameter lists function calls and variable and invariant declarations.  BUG=angleproject:1490 TEST=angle_unittests angle_end2end_tests  Change-Id: I66be10624bf27bcf25987b4d93958d4a07600771 Reviewed-on: https://chromium-review.googlesource.com/397320 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add switch and case node support to intermediate output  After this all node types are printed correctly in intermediate output.  BUG=angleproject:1544 TEST=shader_translator -i  Change-Id: I5c120b0ff69f66b00db88e8423a1c698d339af22 Reviewed-on: https://chromium-review.googlesource.com/397319 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Implement robust GetVertexAttrib entry points.  BUG=angleproject:1354  Change-Id: Ic71392555ae4212c4144bc67d7c5e53874af4d53 Reviewed-on: https://chromium-review.googlesource.com/398198 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split TIntermFunctionDefinition from TIntermAggregate  This makes the code easier to understand. Function definition nodes always have just two children the parameters node and the function body node so there was no proper reason why they should be aggregate nodes.  As a part of this change intermediate output is modified to print symbol table ids of functions so that debugging function id related functionality will be easier in the future.  After this patch TIntermAggregate is still used for function prototypes function parameter lists function calls variable and invariant declarations and the comma (sequence) operator.  BUG=angleproject:1490 TEST=angle_unittests angle_end2end_tests  Change-Id: Ib88b4ca5d21abd5f126836ca5900d0baecabd19e Reviewed-on: https://chromium-review.googlesource.com/394707 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix and re-enable EGLSyncControlTest.SyncValuesTest  It looks like the problem was not making the OS Window visible. It turned out the previous version of the test succeeded only when I ran angle_end2end_tests.exe with --gtest_filter=EGLSyncControlTest.SyncValuesTest and failed when I ran all tests especially with --single-process-tests.  I tested the modified version of the test which repeated the measurement 50 times and couldn't get a reliable test execution until I figured out that back buffers were queueing and not swapping successfully with the window being invisible.  This version works reliably when running all angle_end2end_tests.exe on my workstation and on a test laptop both running Windows 10 with or without --single-process-tests.  BUG=angleproject:1402  Change-Id: I97764a86b20119cc586ea2a4fd1d94558c4e737e Reviewed-on: https://chromium-review.googlesource.com/397739 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Stanislav Chiknavaryan <stanisc@chromium.org>, 15312978, 382, 105, 382
Reland "Add workaround for unused std140 and shared uniform blocks on MacOS"  On some Mac drivers with shader version 4.1 they will treat unused std140 and shared uniform blocks' members as inactive. However WebGL2.0 based on OpenGL ES3.0.4 requires all members of a named uniform block declared with a shared or std140 layout qualifier to be considered active. The uniform block itself is also considered active.  This workaround is to reference all members of unused std140 and shared uniform blocks at the beginning of the vertex/fragment shader's main().  BUG=chromium:618464 TEST=UniformBufferTest.ActiveUniformBlockNumber  Change-Id: I18da4e2b61b0170068bf5ea38ce54667b0737780 Reviewed-on: https://chromium-review.googlesource.com/395648 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FramebufferGL: only work around SRGB blits on Desktop GL  BUG=angleproject:1492  Change-Id: I6c210243dffb775efd61c33160dabcbf7406a757 Reviewed-on: https://chromium-review.googlesource.com/397798 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement robust TexParameter and SamplerParameter entry points.  BUG=angleproject:1354  Change-Id: I3aa2dcb8603a839f9c07cd9dd41cb695d2e699f2 Reviewed-on: https://chromium-review.googlesource.com/395529 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Separate function info from TIntermAggregate  This change will make it easier to split types of TIntermAggregate nodes representing functions and function calls into different node classes.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I730aa7858fe31fda86218fc685980c6ad486f5e0 Reviewed-on: https://chromium-review.googlesource.com/394706 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix GCC 5.4 compilation error when parsing the __clang__ macro  The __clang__ macro cannot be directly used with an #if directive if it has not been defined. This causes a compilation error under GCC 5.4 Linux.  Change-Id: Ieca752cd9f0e90c82febc35e19e1c1f3c6096de1 Reviewed-on: https://chromium-review.googlesource.com/397220 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clean up TSymbol initialization  Now TSymbol objects always get their id when they are constructed. The id cannot be changed after the TSymbol is created.  This makes it simpler to insert both mangled and unmangled versions of a function to the symbol table. These can now both share the same TSymbol object unlike before when inserting the same symbol twice would have changed its symbol id.  This requires changes to function definition parsing: function definition nodes now share any symbol created by previous prototype declarations of the function. The parameters on the symbol get set to the parameters in the function definition header.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I8e600e9b5e5de27d64b85c5042cfd23ff02abe63 Reviewed-on: https://chromium-review.googlesource.com/396838 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix synchronization of workaround dirty bits in TextureGL.  The local dirty bits were sometimes not synced because gl::Texture doesn't know that they exist.  Also fix calculation of when the workaround dirty bits need to be set.  BUG=angleproject:1386  Change-Id: I3d9d1a01e5441be783190422093c485ea5da7aec Reviewed-on: https://chromium-review.googlesource.com/396542 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement robust GetUniform entry points.  BUG=angleproject:1354  Change-Id: I07dccc470c57aadd41cae8fce327e4aca58a0bea Reviewed-on: https://chromium-review.googlesource.com/395113 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Handle corner cases of shifting signed integers better  Right-shifting a negative number should sign-extend according to the ESSL 3.00.6 spec. Implement sign-extending right shift so that it doesn't hit any undefined behavior in the C++ spec. Negative lhs operands are now allowed for bit-shift right.  Also implement bit-shift left via conversion to unsigned integer so that it does not hit signed integer overflow. Negative lhs operands are now allowed also for bit-shift left as well.  BUG=chromium:654103 TEST=angle_unittests  Change-Id: Iee241de9fd0d74c2f8a88219bddec690bb8e4db2 Reviewed-on: https://chromium-review.googlesource.com/395688 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing override identifier for getSequence  Fixed the compiling error in Mac by adding missing override identifier for getSequence.  BUG=angleproject:1490 TEST=compile on macOS Sierra 10.12  Change-Id: I8f8d556c82885bbee1712e1b6e5f439b67906023 Reviewed-on: https://chromium-review.googlesource.com/396403 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement robust GetShaderiv entry points.  BUG=angleproject:1354  Change-Id: I994b7a596b5b67fadbd91ad0d64054c792523200 Reviewed-on: https://chromium-review.googlesource.com/395111 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add cross-platform Workarounds to Context.  These are distinct from the renderer-level workarounds.  Add the first workaround loseContextOnOutOfMemory. This is enabled when the application enables reset notifications via KHR_robustness and is intended for more robust handling of errors in key APIs for Chromium's correctness (in particular sync objects).  Change Context::getResetStatus to persistently return the "lost" status if it was set by calling Context::markContextLost. Previously if markContextLost was called but the implementation hadn't actually received an error like a lost device the "lost" reset status would be dropped. Returning it only once to the caller is also fragile. Tested this by manually injecting a failure in FenceSync11::clientWait and ensuring that Chromium detected it as expected.  BUG=chromium:650138  Change-Id: Ie53069eacd1754ad5d64936e3fef315af24605fa Reviewed-on: https://chromium-review.googlesource.com/394233 Commit-Queue: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing virtual destructor on TIntermAggregateBase  BUG=angleproject:1490 TEST=build on Linux GCC  Change-Id: I64f53d636d4acee0469b6e9ba1201322087d5f65 Reviewed-on: https://chromium-review.googlesource.com/395732 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Split TIntermBlock from TIntermAggregate  The new TIntermBlock node class replaces TIntermAggregate nodes with the EOpSequence op. It represents the root node of the tree which is a list of declarations and function definitions and any code blocks that can be denoted by curly braces. These include function and loop bodies and if-else branches.  This change enables a bunch of more compile-time type checking and makes the AST code easier to understand and less error-prone.  The PostProcess step that used to be done to ensure that the root node is TIntermAggregate is removed in favor of making sure that the root node is a TIntermBlock in the glslang.y parsing code.  Intermediate output formatting is improved to print the EOpNull error in a clearer way.  After this patch TIntermAggregate is still used for function definitions function prototypes function parameter lists function calls variable and invariant declarations and the comma (sequence) operator.  BUG=angleproject:1490 TEST=angle_unittests angle_end2end_tests  Change-Id: I04044affff979a11577bc1fe75d747e538b799c8 Reviewed-on: https://chromium-review.googlesource.com/393726 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add linux_chromium_chromeos_ozone_rel_ng to CQ.  So ANGLE's Ozone backend gets compiled.  BUG=angleproject:1412  Change-Id: Id4b401f59cd9d3f4dd0b945af67ecc0c9e5d68a2 Reviewed-on: https://chromium-review.googlesource.com/395607 Commit-Queue: Frank Henigman <fjhenigman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
Disabling EGLSyncControlTest.SyncValuesTest  Disabling EGLSyncControlTest.SyncValuesTest for now until I can get it stable on Windows 8.  BUG=angleproject:1402  Change-Id: I21a770e0f8516916c6987ba66ec49762cd99b78a Reviewed-on: https://chromium-review.googlesource.com/395577 Reviewed-by: Stanislav Chiknavaryan <stanisc@chromium.org> Commit-Queue: Stanislav Chiknavaryan <stanisc@chromium.org>, 15312978, 382, 105, 382
Refactor some errors into ANGLE_TRY macros.  BUG=None  Change-Id: I00ff2523995cb49d1af60cae62c2bba0d020eed4 Reviewed-on: https://chromium-review.googlesource.com/395569 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor some entry point stuff.  BUG=angleproject:747  Change-Id: I80634b5e6de8bae1433c49a56a92d3b19c24e11d Reviewed-on: https://chromium-review.googlesource.com/395568 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement robust GetRenderbufferParameteriv entry points.  BUG=angleproject:1354  Change-Id: I073b75d416bd5184402b580bcebfca34f7cd28a8 Reviewed-on: https://chromium-review.googlesource.com/395110 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement robust ReadPixels entry points.  BUG=angleproject:1354  Change-Id: I70738d2f00e283ddc52b1545f8efda9022110487 Reviewed-on: https://chromium-review.googlesource.com/391090 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix EGLSyncControlTest.SyncValuesTest timeout on Windowse Server 2012 R2  The test does two buffer swaps and polls sync values waiting for sbc (swap buffer counter) value to first increase from 0 to 1 then from 1 to 2.  Looking the error log I see that sometimes it fails on the first wait and sometimes on the second wait. Also the total runtime varies between 1000 and 1600 ms. That makes me think that perhaps test doesn't poll long enough to run reliably on a test machine.  I've increased the number of poll iteration to 500 and the sleep between iterations - to 10 ms (I think in reality it was 10 ms already because the previously used 1 ms is only possible with high resolution system timer).  BUG=angleproject:1402  Change-Id: I8f6fe209756a1597e2739390352c90d893eaf940 Reviewed-on: https://chromium-review.googlesource.com/395506 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't write to the <length> parameter if an error is generated.  BUG=angleproject:1354  Change-Id: I9ed4a675b2be07b00c29d34e283280dc65238fea Reviewed-on: https://chromium-review.googlesource.com/395109 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix some format support entries.  On Intel these were seeingly missing or erroneous.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: I4410407ce1171f420b275c7662896f5b26a949c2 Reviewed-on: https://chromium-review.googlesource.com/395168 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
translator: Return null uniform map if no HLSL.  This replaces the global empty map.  BUG=angleproject:1459  Change-Id: If7d824cbf4492e722cbf99d1045402a26535af5c Reviewed-on: https://chromium-review.googlesource.com/394236 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Constexpr-fy the ES3 effective format map.  This removes the global std::vector constructor here.  BUG=angleproject:1459  Change-Id: I407a7bda1f8f8a2dd8d5b0e847573f8594eccf39 Reviewed-on: https://chromium-review.googlesource.com/394235 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add dirty bits for internal texture state.  Synchronize TextureGL internal state using the dirty bits.  TexturesBenchmark scores: Before: 5051 After: 7639 Diff: +51.2%  BUG=angleproject:1386  Change-Id: Id04aef778a47175d1a284564495a646045855b4b Reviewed-on: https://chromium-review.googlesource.com/393866 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement CHROMIUM_copy_compressed_texture for D3D11.  BUG=angleproject:1356  Change-Id: Id563997d2921cf558c52a781ae66d8bde58d1f2f Reviewed-on: https://chromium-review.googlesource.com/339847 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make global ES3 formats STL map a switch.  This eliminates another global std::map and replaces it with a json generated switch. This should be better for threading better on memory use and faster.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: I1d289637c00783690ec8ea743ea2aa17b0ab8e50 Reviewed-on: https://chromium-review.googlesource.com/394234 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix formatting of OutputHLSL::visitAggregate  Subsequent refactoring of this code will be easier to review if there won't be unrelated style changes that git cl format insists on doing.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I102fd73bd92317ab438e1676422212f644d2859b Reviewed-on: https://chromium-review.googlesource.com/394649 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Fold mipmap gen caps into the support table.  This change is two-fold: first it allows us to remove the std::map for D3D11 format info which was only being used in a single place.  Secondly it fixed the support table to use the correct 9_3 caps for texture support determined by running the D3D11FormatTablesTest. This should reduce the number of format queries we need to run on 9_3 startup.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: I2435a47fc221e73c96337bc7c1c4ed37b527bc1f Reviewed-on: https://chromium-review.googlesource.com/392210 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Split off DXGI component type query.  This query is currently a part of a std::map. Split it off to its own switch using auto-generation based on the format string.  Also introduce a DXGI-to-angle format map. This map is not totally complete because some more esoteric formats don't have corresponding ANGLE formats yet. We should add these other formats (EG NV12) if we need them.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: I49e045bdc04a52166299c9e22a4c4d3f24069dbc Reviewed-on: https://chromium-review.googlesource.com/392209 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up RecordConstantPrecision interaction with switch/case  There were two bugs here that were masking each other:  1. Case nodes were not being added to AST traversal path. 2. RecordConstantPrecision did not check if a constant was a child of    a case node.  Fix these.  BUG=angleproject:1490 TEST=WebGL 2 conformance tests  Change-Id: Ic6cb7942bf57870fa26eb6a011919a2d7951cc85 Reviewed-on: https://chromium-review.googlesource.com/394588 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Implementation of eglGetSyncValuesCHROMIUM extension.  This change adds implementation of eglGetSyncValuesCHROMIUM extension on D3D11 with Direct Composition. This should work on Windows 8.1 and above.  The implementation is based on IDXGISwapChain::GetFrameStatistics.  Extension documentation: https://chromium.googlesource.com/chromium/src/gpu/+/master/GLES2/extensions/CHROMIUM/EGL_CHROMIUM_get_sync_values.txt  BUG=angleproject:1402  Change-Id: I306434dd8d85d618b14edfa38fc2a22e50fddacc Reviewed-on: https://chromium-review.googlesource.com/390351 Commit-Queue: Stanislav Chiknavaryan <stanisc@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Change UNREACHABLE to use ASSERT.  The ASSERT macro is enabled with ANGLE_RELEASE_ASSERT so we should use the same behaviour as the normal ASSERT for the other debug macros.  Also remove UNREACHABLEs in the format validation code that were being hit silently.  Also make some EGL tests skip instead of fail since they were hitting UNIMPLEMENTED.  BUG=angleproject:1332 BUG=angleproject:1540 BUG=angleproject:1340  Change-Id: Ie3347f2bf2459a5831b66827871998d8fbe7d4b2 Reviewed-on: https://chromium-review.googlesource.com/392490 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
translator: Fail compilation if precision emu unsupported.  The fuzzer uncovered a case where we were trying to emulate precision on HLSL 3.0 causing an ASSERT crash.  BUG=chromium:653276  Change-Id: I2e666a1ff4f605541e25f04264146063559cb835 Reviewed-on: https://chromium-review.googlesource.com/394237 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
translator: Avoid divide-by-zero in error case.  In some code path found by a fuzzer we would have a zero sized array which would trigger a zero divide. I was unable to extract the failing shader from the fuzzer case trivially.  BUG=chromium:653274  Change-Id: Ia2558ae828fa73615c901fd1cda9ddaa3a72f1a9 Reviewed-on: https://chromium-review.googlesource.com/394238 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
GL: Emulate SRGB blits where needed.  Desktop OpenGL before 4.4 doesn't handle SRGB blits the same way OpenGL ES does. Emulate them by drawing a quad.  BUG=angleproject:1492 BUG=chromium:634525  Change-Id: I9f2992d9b373941b10f19f8a51564f0f756cc4df Reviewed-on: https://chromium-review.googlesource.com/389853 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Store channel bits info in angle::Format.  This allows us to delete some duplicated code in the D3D11-side.  BUG=angleproject:1389 BUG=angleproject:1459  Change-Id: Ifdcfcd4a56e06ff2ae8f5ca0bda72281d52c2964 Reviewed-on: https://chromium-review.googlesource.com/392208 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Skip TimerQueriesTest.TimeElapsedMulticontextTest on Win/AMD/GL/Debug.  This test appears to be flaky.  BUG=angleproject:1541  Change-Id: I2a91626f6dc309d2dc23098cbaf290adac7f4859 Reviewed-on: https://chromium-review.googlesource.com/394217 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Skip UniformBufferTest.VeryLarge on Intel D3D11.  This fails because of issues with Intel UBOs and copying.  BUG=chromium:651493 BUG=chromium:593024  Change-Id: Ia4c634ebecd29082927a9a812929c102d0d629b2 Reviewed-on: https://chromium-review.googlesource.com/394131 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Skip TimerQueriesTest.TimeElapsed on Win/AMD/GL/Debug."  The correct test was the multi-context version.  BUG=angleproject:1541  This reverts commit d0614b852154da7a9968e2f6b1a775fc469dc83b.  Change-Id: I4f4a9e3b1e0301eef34ce8c06cd649bff66fcdb1 Reviewed-on: https://chromium-review.googlesource.com/394216 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Skip TimerQueriesTest.TimeElapsed on Win/AMD/GL/Debug.  This test appears to be flaky.  BUG=angleproject:1541  Change-Id: I947dbc759e0fef505ce9b11e501f2dbe35ff1e5c Reviewed-on: https://chromium-review.googlesource.com/394329 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make the "FormatMap" a static switch.  This map lives in formatutils.cpp and maps from a {formattype} to an internal format. Convert this into generated code.  BUG=angleproject:1389  Change-Id: Ib12750d83d3f8cf8794d6668874cb025f856b5d4 Reviewed-on: https://chromium-review.googlesource.com/392207 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add an extension for requesting a NULL Display.  BUG=angleproject:1468  Change-Id: Ief4b0e7d7a0420e59e547cd24fde53deb3718ccb Reviewed-on: https://chromium-review.googlesource.com/388845 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add stubs for a NULL renderer.  BUG=angleproject:1468  Change-Id: I2ed2b65a4b6f6ea3dda61c0467aef95e407cd38c Reviewed-on: https://chromium-review.googlesource.com/388844 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Ensure that if-else branches are always sequence nodes  This mainly affects RewriteElseBlocks which was the only piece of code still adding TIntermIfElse nodes directly as children of other TIntermIfElse nodes.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I5b25c2fb9c642424417cd6c29e37c20482c6ffaf Reviewed-on: https://chromium-review.googlesource.com/392847 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Re-land "Fix glGetIntegerv(GL_TEXTURE_BINDING_EXTERNAL_OES ...)"  BUG=angleproject:1332  Change-Id: Ie970466c4528cb80b2363d0c0683da2d9c23c4f4 Reviewed-on: https://chromium-review.googlesource.com/392267 Commit-Queue: John Bauman <jbauman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix integer math overflows in the preprocessor  Evaluating integer expressions in the ESSL preprocessor may result in overflowing the signed integer range. Implement wrapping overflow for preprocessor expressions in a way that doesn't hit any undefined behavior.  In the ESSL spec preprocessor expressions are defined to have mostly the same semantics as in C++. Since C++ doesn't define what happens on signed integer overflow we choose to make most of the operators wrap on overflow for backward compatibility and consistency with the rest of the ESSL spec.  We reuse the existing wrapping overflow helpers that are used for constant folding. To be able to do this the type used in the preprocessor expression parser is changed from 64-bit to 32-bit.  Shifting negative numbers is implemented as a logical shift. This cannot be disallowed since dEQP requires shaders shifting negative numbers to pass compilation.  Undefined bitwise shifts where the offset is greater than 31 will now result in a compile-time error.  A couple of test cases are now covered by the preprocessor tests rather than full compilation tests. This isolates the tests better and they run faster.  BUG=chromium:652223 TEST=angle_unittests  Change-Id: I84be40d404c10ecd0846c5d477e626a94a2a8587 Reviewed-on: https://chromium-review.googlesource.com/392146 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix unreferenced XFB vars getting dropped.  Our for-loop logic was confused so that some unreferenced transform feedback varyings might get dropped.  BUG=chromium:651493  Change-Id: Id283230da0a47fc647b2a3862da60be5538e439e Reviewed-on: https://chromium-review.googlesource.com/391945 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
formatutils: allow reusing rowPitch computation for depthPitch  This should fix a null D3D11 backend draw call performance regression.  BUG=651101  Change-Id: I2eb10cddd15f0e7b25b886c89eccd2906e988c72 Reviewed-on: https://chromium-review.googlesource.com/392227 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Only expose the EGL robutness extensions when the native GL context has them.  On some drivers the WGL_ARB_create_context_robustness extension is present but the created context does not expose the extensions.  Be more defensive and only expose robustness if we're able to create contexts that have it.  BUG=angleproject:1538  Change-Id: I3d02b2071c7b2c576abe66cc283cee467e400fd3 Reviewed-on: https://chromium-review.googlesource.com/391833 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: John Bauman <jbauman@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix Buffer11::copyFromStorage and UBOs.  The change to initialize a constant buffer immediately after calling BufferData in D3D11 led to a bug where we would map the UBO for writing with the wrong map bits. Fix this by using the same map method as the rest of the code.  The D3D11 runtime seems to allow arbitrarily large constant buffers on Windows 10 but not Windows 7. Thus this CL also fixes a bug in our constant buffer size clamping to not copy more than the available buffer size for uniform buffers.  BUG=chromium:651493  Change-Id: I876767691d02db90ecb08a8fa78199f03339a35e Reviewed-on: https://chromium-review.googlesource.com/391167 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Ensure that all functions have a body node in the AST  Some traversers that insert code to main() assume that the main() function has a non-null body node in place. This assumption was previously wrong since functions could be missing the body node in case the function body was empty.  Fix possible invalid dereferencing of missing function body nodes by always adding an empty sequence node to represent the body of functions that have an empty body in the ESSL source. This also enables simplifying some tree traversers that used to take the possibility of missing function body nodes into account.  Also fix AddDefaultReturnStatements to check the last statement inside the function body for a return statement instead of checking the first statement.  BUG=angleproject:1539 TEST=angle_unittests angle_end2end_tests  Change-Id: I2fbd18c78653fa2f1a96dbd9a619accc4874030d Reviewed-on: https://chromium-review.googlesource.com/392046 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Add workaround for unused std140 and shared uniform blocks on MacOS"  This reverts commit 9aa83fe302578d226f195fff5fb3f0e2fb723a4c.  The new test UniformBufferTest.ActiveUniformNumberAndName/ES3_OPENGL is failing on multiple platforms. Examples: https://build.chromium.org/p/chromium.gpu.fyi/builders/Mac%2010.10%20Release%20%28ATI%29/builds/12285 https://build.chromium.org/p/chromium.gpu.fyi/builders/Linux%20Release%20(ATI)  Change-Id: I78b1a4d58e9a291e40ad304eb32f990e0518f7ee Reviewed-on: https://chromium-review.googlesource.com/391049 Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Revert "Fix glGetIntegerv(GL_TEXTURE_BINDING_EXTERNAL_OES ...)"  This reverts commit ca40662aa81f7735d3510fa52e55d28503c7f9ec.  https://chromium.googlesource.com/angle/angle/+/ca40662aa81f7735d3510fa52e55d28503c7f9ec broke angle_end2end_tests on the Win Debug bots. Examples:   https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Debug%20%28NVIDIA%29/builds/18718  https://build.chromium.org/p/chromium.gpu.fyi/builders/Win8%20Debug%20%28NVIDIA%29/builds/15905   Tests failing:  Texture2DTest.QueryBinding/ES2_D3D11  Texture2DTest.QueryBinding/ES2_D3D9  Texture2DTest.QueryBinding/ES2_D3D11_9_3  Change-Id: If9da864f49e0de3a134d43ae36c2a99e9b5a2a53 Reviewed-on: https://chromium-review.googlesource.com/391130 Reviewed-by: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Test filling small mips of ETC textures.  BUG=angleproject:1510  Change-Id: I9ed7c877767909ba93e2ea5ef09c4735b0d0bcc7 Reviewed-on: https://chromium-review.googlesource.com/382652 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix glGetIntegerv(GL_TEXTURE_BINDING_EXTERNAL_OES ...)  BUG=angleproject:1332  Change-Id: I591b9520bc1122eb6232803ac86b6d0322f8c349 Reviewed-on: https://chromium-review.googlesource.com/390323 Commit-Queue: John Bauman <jbauman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a GL_ANGLE_robust_client_memory extension.  This allows specifying data size to all GL functions that provide a pointer to client memory and a length parameter for all functions in which the driver writes to client memory.  BUG=angleproject:1354  Change-Id: Ia68be1576b957cb529c87b5e0d1bd638c7dbd371 Reviewed-on: https://chromium-review.googlesource.com/382012 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix ETC->DXT small mip transcode crash.  BUG=angleproject:1510  Change-Id: I42355607235a05fe276342084acd1eb359c16de4 Reviewed-on: https://chromium-review.googlesource.com/390414 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Split vector swizzle AST nodes into a different node class  This avoids creating a weird aggregate node with a sequence of constant union nodes to store the offsets. They're stored neatly inside a vector instead. This makes code that needs to iterate over the swizzle offsets much simpler.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I156b95723529ee05a94d30295ffb6d0952a98564 Reviewed-on: https://chromium-review.googlesource.com/390832 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Add null check to Renderer11::testDeviceLost.  After experiencing a device loss Renderer11::resetDevice can fail to recreate mDevice leaving it null. In a following call to testDeviceLost mDevice will be dereferenced causing a segfault.  BUG=angleproject:1457  Change-Id: Ib5be64542929441ceb7088a328c3245ae7e52f17 Reviewed-on: https://chromium-review.googlesource.com/364120 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add workaround for unused std140 and shared uniform blocks on MacOS  On some Mac drivers with shader version 4.1 they will treat unused std140 and shared uniform blocks' members as inactive. However WebGL2.0 based on OpenGL ES3.0.4 requires all members of a named uniform block declared with a shared or std140 layout qualifier to be considered active. The uniform block itself is also considered active.  This workaround is to reference all members of unused std140 and shared uniform blocks at the beginning of the vertex/fragment shader's main().  BUG=chromium:618464 TEST=UniformBufferTest.ActiveUniformBlockNumber  Change-Id: I1d2c5e3e8da04786ac6a37fd26f7bb9c14cd76ed Reviewed-on: https://chromium-review.googlesource.com/387169 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Factor code between PixelUnpackState and PixelPackState  BUG=angleproject:1512  Change-Id: I4c60472d216bfc5198e635d70fd197a5738dde98 Reviewed-on: https://chromium-review.googlesource.com/390133 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Workaround isnan() on Intel drivers  On some Intel drivers calling function isnan() on highp float will get wrong answer. This patch work arounds this bug by using an expression to emulate this function.  BUG=chromium:650547  Change-Id: I5bc5e0352c434f42cd2c55103a74f9f7ba51a72c Reviewed-on: https://chromium-review.googlesource.com/389834 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Handle negation of minimum representable integer  Negating the minimum representable integer overflows so it has undefined behavior in C++. Handle this as a special case in the code.  BUG=chromium:637050 TEST=angle_unittests  Change-Id: Ic6e6d638faddad9b70b5d1637bb4b42ef4f43784 Reviewed-on: https://chromium-review.googlesource.com/390551 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix handling integer overflow in constant folding  Integer operations that overflow are defined to wrap in the ESSL 3.00.6 spec. Constant folding that happens inside the shader translator should also follow the wrapping rules.  The new implementations of wrapping integer addition and subtraction use unsigned integers to perform calculations. Unsigned integers are defined to implement arithmetic in modulo 2^n in the C++ spec. This behavior is also leveraged to implement wrapping unsigned integer multiplication.  The implementation of wrapping signed integer multiplication is slightly trickier. The operands are casted to a wider type to perform the multiplication in a way that doesn't overflow and then the result is truncated and casted back to the narrower integer type.  Incorrect tests that expected errors to be generated from integer overflow in constant folding are removed.  BUG=chromium:637050 TEST=angle_unittests  Change-Id: I0de7e25881d254803455fbf22907c192f49d09ff Reviewed-on: https://chromium-review.googlesource.com/390252 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FramebufferGL: add readPixels workarounds  Implements workarounds for:  - The pack state making rows overlap in memory which causes crashes on    some drivers.  - The driver adding an extra last row padding when checking if the    pixel pack buffer is large enough for the readPixels.  BUG=angleproject:1512  Change-Id: I120ff58649bb523e8b01da6ef03d8fcadaf076b2 Reviewed-on: https://chromium-review.googlesource.com/388029 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a perf test for changing texture state.  BUG=angleproject:1386  Change-Id: I44da3a4cb2b23f98978349f26b80d6bb3a6dc8b5 Reviewed-on: https://chromium-review.googlesource.com/388784 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix integer division constant folding corner cases  ESSL has undefined behavior when the integer modulus operator is used on negative operands. Generate a warning and fold the result to zero in this case.  In case the minimum representable signed integer is divided by -1 the result is defined to be either the maximum or minimum representable value. We choose to fold the calculation to the maximum representable value in this case.  BUG=angleproject:1537 TEST=angle_unittests  Change-Id: I57fac6b54a3553b7a0f0e36cc6ba0ed59a88eea9 Reviewed-on: https://chromium-review.googlesource.com/390251 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add validation for the pack buffer in ReadPixels  BUG=angleproject:1512  Change-Id: Ia6bac628c35f04bc5d3adfde1569902475519698 Reviewed-on: https://chromium-review.googlesource.com/387668 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix folding shifts when operands have different signedness  The code used to incorrectly assert that the right-hand side of shift should have the same signedness as the left-hand side. Instead simply assert that both the lhs and rhs are integer typed and also don't rely on aliasing via union when accessing bit shift operands.  Also disallow constant folded bit shifts where the right hand side is greater than 31. Shifting with values greater than the width of the type has undefined results in both ESSL and C++.  BUG=chromium:648135 TEST=angle_unittests  Change-Id: I84a99abc55f0eeda549b4781e954d17ba7b87552 Reviewed-on: https://chromium-review.googlesource.com/389351 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
preprocessor: Miscellaneous cleanups  - Use full header paths in includes - Use ASSERT instead of assert - Use angle::NonCopyable instead of PP_DISALLOW_COPY_AND_ASSIGN - Use range-for in a couple places - Remove pp_utils.h  BUG=angleproject:1522  Change-Id: If107fef89e8465bca65cf664926d1051c5d1e232 Reviewed-on: https://chromium-review.googlesource.com/387212 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
BlitGL: orphan scratch textures when we are done.  This will allow the OpenGL driver to reclaim GPU memory.  BUG=angleproject:1512  Change-Id: If063e1ff9f4a544012ca78c37e198054cb4edcac Reviewed-on: https://chromium-review.googlesource.com/388771 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re-land "Fix GLES3 and "present path fast" validation issue"  This went missing in a previous merge.  Currently if present path fast (aka RENDER-TO-BACKBUFFER) is turned on then it's not possible to create a GLES3 context. This is because present path fast makes every EGL config's 'CONFORMANT' flag = false and there is some erroneous EGL validation logic in ANGLE that checks that configs are GLES3 conformant before allowing an app to create a GLES3 context.  The fix is to change the validation logic to check that the config supports *some* form of GLES3 rather than check if it's fully conformant.  Change-Id: Ia24e46ef92d31392507423dec634ae96bf4e7b80, 15312978, 382, 105, 382
Disable DrawBuffersTest.Gaps on Windows AMD OpenGL  Fails on Win7 Release (AMD R7 240) bot  BUG=angleproject:1535  Change-Id: I5e8d0552867bfe0d81f3e189536c50b36f530089 Reviewed-on: https://chromium-review.googlesource.com/389233 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
D3D11: Restrict ES3 bits to FL 10.1.  We would advertise ES3 in some cases when we didn't support it.  BUG=angleproject:1381 BUG=chromium:649101  Change-Id: I2a5bbc1d6153cdfc6c9c577aa0b82caf8482a42d Reviewed-on: https://chromium-review.googlesource.com/388190 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Allow LINEAR filtering on OES_depth_texture formats.  The ES3 spec and this extension lead to some awkward interactions. The extension doesn't mention allowed filtering modes so be default it allows both linear and nearest. ES3 however very clearly restricts any depth texture (any texture with effective internal format which has depth or stencil bits) to only use nearest filtering. This then breaks compatibility with the legazy unsized formats.  Choose to be slightly non-conformant here and allow linear filtering for the older unsized formats. Although this could lead to problems down the line it is consistent with existing ES drivers in practice.  Other future options might be to override the behaviour of the filter to use nearest when using WebGL validation compatibility.  BUG=chromium:649200  Change-Id: I4ee7608dd04d1fd238385aefee32c8c9c1e80ca0 Reviewed-on: https://chromium-review.googlesource.com/388759 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Generate unique HLSL texture function names for external textures.  Because 2D and external textures have the same HLSL texture type they were generating texture functions with the same name.  This causes conflicts when both 2D and external textures are used in the same shader.  BUG=angleproject:1534 BUG=645532  Change-Id: I4b324014b7d9b4851d358730cf4e31fc8461584c Reviewed-on: https://chromium-review.googlesource.com/388551 Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add an extension to disable resource generation on bind.  BUG=angleproject:1518  Change-Id: I662f7b07da5c97831496f2617b0adadf9858bdc9 Reviewed-on: https://chromium-review.googlesource.com/386799 Reviewed-by: Antoine Labour <piman@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
ConstantUnion: Error on undefined shift.  BUG=chromium:648135  Change-Id: I41581f63af650564a0f61c1baeeb38017c8513ed Reviewed-on: https://chromium-review.googlesource.com/387470 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix warning in standalone in new validation.  BUG=angleproject:1512  Change-Id: Ifdb8d4c38e3c90e03eee42ba9fd6390dffd61363 Reviewed-on: https://chromium-review.googlesource.com/388611 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
preprocessor: add a limit to the number of token expanded  BUG=angleproject:1522 BUG=chromium:648074  Change-Id: Ibf0858aaeb81933dd221ac82a49160169b48a495 Reviewed-on: https://chromium-review.googlesource.com/387211 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix validation of ReadPixels format and type.  The validation for ReadPixels allows for two combations of format/type:   1. Based on the current framebuffer's component type.     * GL_RGBA/GL_UNSIGNED_BYTE if the framebuffer is a normalized (signed       or unsigned).     * GL_RGBA_INTEGER/GL_INTEGER if the framebuffer is an       integer format.     * GL_RGBA_INTEGER/GL_UNSIGNED_INTEGER if the framebuffer is an       unsigned integer format.     * GL_RGBA/GL_FLOAT if the framebuffer is any type of float       framebuffer (added in EXT_color_buffer_float).     * These combations are detailed in the ES2 spec on pg 105 or ES3 on pg       193.   2. The implementation read format/type returned from glGetIntegerv.     * These formats are added by specs OES_texture_float EXT_texture_rg       EXT_read_format_bgra etc.  Update the GL and D3D backends to perform the conversion from GL_HALF_FLOAT to GL_HALF_FLOAT_OES.  Continue allowing reading as BGRA_EXT to support Skia.  Should be removed in the future.  BUG=607283 BUG=angleproject:1478  Change-Id: I0312cad4d5f138ab036f383d221f8ccd19a77f6d Reviewed-on: https://chromium-review.googlesource.com/346232 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Free buffer staging storage when idle.  Using the same policy as for system memory storage we release the staging buffer if it has been unmodified for several uses.  We could further extend this technique to other storage buffers using a nearly identical policy. We might need to mitigate the cost of iterating over all the storages of all the buffers.  BUG=angleproject:516  Change-Id: Ib24ef03cf4184ef6f0c24f83347538df82de5f58 Reviewed-on: https://chromium-review.googlesource.com/387200 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
translator: Refactor Constant Union shift ops.  In preparation for making them robust.  BUG=chromium:648135  Change-Id: I88fc87d8887064fda04087c56de05d8725a6fe5f Reviewed-on: https://chromium-review.googlesource.com/387469 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
preprocessor: Fix use after free when #undef the macro being invoked  BUG=chromium:648031 BUG=angleproject:1522  Change-Id: I825cea9e736a2c99133408249cfcd525431d31de Reviewed-on: https://chromium-review.googlesource.com/386853 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove redundant code in RewriteTexelFetchOffset  Remove useTemporaryIndex() in function RewriteTexelFetchOffset since no temporary variables will be created in this function.  BUG=angleproject:1469  Change-Id: Ibed56f0ba5c89b6ae1ab1611de39514c3fbb600f Reviewed-on: https://chromium-review.googlesource.com/387198 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement a separate last row texture unpack buffer upload workaround  When uploading textures from an unpack buffer some drivers expect an extra row paading causing them to think the pixel buffer is not big enough. We work around this by uploading the last row separately.  BUG=angleproject:1512  Change-Id: I52fb8b35dc450b957f1fafb0b405c81bf0504157 Reviewed-on: https://chromium-review.googlesource.com/385193 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Disable some DrawBuffersTest on Windows AMD OpenGL  DrawBuffersTest.FirstAndLast/ES2_OPENGL DrawBuffersTest.FirstHalfNULL/ES2_OPENGL Hang on Win7 Release (ATI) and Win7 Debug (ATI) bots.  BUG=angleproject:1533  Change-Id: I6e37893fbcdbcc7a2a76c1cab6e8ef1f7ebaec19 Reviewed-on: https://chromium-review.googlesource.com/387714 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Regenerate the preprocessor with the latest versions of flex and bison.  BUG=648063  Change-Id: Ia90d12c8cb4ae0a694227145267e78ca02dcc2b0 Reviewed-on: https://chromium-review.googlesource.com/387114 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Disallow bit-shifting when the left operand is negative.  BUG=648063  Change-Id: I82d9fbdaf8791a396dd71eeb57d93967ba5d65bf Reviewed-on: https://chromium-review.googlesource.com/387115 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
CallDAG: rewrite assignIndicesInternal as iterative  Since the CallDAG is needed to check for the call graph depth its creation code must be robust to very deep call graphs.  BUG=angleproject:1517  Change-Id: I753ab84ad4ced6363a212f0fe94a89aabf4e3c3e Reviewed-on: https://chromium-review.googlesource.com/385496 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add WebGL validation extensions to ANGLE.  BUG=angleproject:1523  Change-Id: I6fecb5055ed8087665aeee34b3a066ea8f38d51b Reviewed-on: https://chromium-review.googlesource.com/386281 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Antoine Labour <piman@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix base/numerics to not trigger upcoming Clang warning  Fix base/numerics to not trigger upcoming Clang warning regarding unsigned enum bitfields producing non-portable code.  For more details see the patch here: https://reviews.llvm.org/D24289  BUG=648462  Change-Id: I9aaa01e99f734ff927b5b1171706b2f49b437d0b Reviewed-on: https://chromium-review.googlesource.com/386887 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Workaround the unary minus operator issue on Intel  On some Intel D3D drivers evaluating unary minor operator on an integer variable may get wrong answer in vertex shader.  This patch works around this bug by replacing -(int) with ~(int)+1 on Windows Intel.  BUG=chromium:644033  Change-Id: I0af719e84d618a33f25bcb33bde0c381fb462a31 Reviewed-on: https://chromium-review.googlesource.com/381675 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add robust math to constant folding.  Previously our multiplication and other operators could do overflows which can lead to security bugs.  BUG=chromium:637050  Change-Id: Icee22a87909e205b71bda1c5bc1627fcf5e26e90 Reviewed-on: https://chromium-review.googlesource.com/382678 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
BUILD.gn: Disable pool alloc on all translator dependents when fuzzing  It contains defines that need to be consistent between the header and the implementation.  BUG=angleproject:1522 BUG=chromium:647807  Change-Id: Ica144c455b7366bd9939a07b171edffe5af8bf35 Reviewed-on: https://chromium-review.googlesource.com/386945 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Store Buffer SRVs in native storage.  This allows us to not store std::pairs to identify SRVs. Instead we can release the cached SRVs directly when we re-create the native buffer.  BUG=angleproject:1513  Change-Id: I6f6d5edc659aa843c9439b97661073415f1a772b Reviewed-on: https://chromium-review.googlesource.com/385818 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
BUILD.gn: make the translator fuzzer a source set  When we want to use GN standalone the fuzzer_test template won't exist. Instead make the fuzzer a source set that is used by a target in Chrome.  BUG=angleproject:1522  Change-Id: I347e633448d508eb124d0861b0fb28315923016c Reviewed-on: https://chromium-review.googlesource.com/386636 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Supress failures in end2end tests for new Intel OpenGL driver.  Change-Id: I442eac44212406b0fd9fb64b2e4e914bf61f8503 Reviewed-on: https://chromium-review.googlesource.com/386280 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
translator/Compiler.cpp: fixup includes  A stray iostream got introduced in 28b6528ca2119d6715bb5e9eafa5a2dc8c968361  BUG=angleproject:1522  Change-Id: Ib0b14b47d4786309ec2d39acb5531f3772b91f20 Reviewed-on: https://chromium-review.googlesource.com/386256 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Disallow layout+invariant combo on ESSL 3.00 variable declarations  This combination is not allowed by the formal grammar in the ESSL 3.00 spec and should still be disallowed in ESSL 3.00 shaders even though the shader parser now implements the more flexible ESSL 3.10 grammar.  BUG=angleproject:1507 TEST=angle_unittests  Change-Id: I766a468fd7314c7e60e020b5b204aa6950263633 Reviewed-on: https://chromium-review.googlesource.com/381933 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Rename TIntermSelection to TIntermIfElse  Now that ternary nodes are not represented by TIntermSelection any more TIntermIfElse is an easier name to understand for newcomers to the code.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: Ia1e04e356ab93409400245092a84533d7dfd129d Reviewed-on: https://chromium-review.googlesource.com/385416 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a fuzzer for the shader translator.  BUG=angleproject:1522  Change-Id: Idbe8194ba478366e99c7460d403d03fe27dd89d0 Reviewed-on: https://chromium-review.googlesource.com/353153 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Work around For and While loop bugs on Intel Mac OSX  Condition calculation in for and while loops has bug on Intel Mac. Work around it by converting "CONDITION" to "CONDITION && true".  This CL also adds previous SH_EMULATE_ABS_INT_FUNCTION workaround to the ANGLE GL back-end on OSX  BUG=chromium:644669 TEST=deqp/functional/gles3/shaderloop_for/while.html  Change-Id: I910f662b054f259fcb601b9938841b3a2d066840 Reviewed-on: https://chromium-review.googlesource.com/381678 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Qiankun Miao <qiankun.miao@intel.com> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
RendererGL: enable GL_DEBUG_OUTPUT on Debug builds  The intent was already to enable it but without glEnable(GL_DEBUG_OUTPUT) the Linux NVIDIA driver doesn't output anything.  BUG=  Change-Id: Ia9a500c2e792ee7c4e2a7be60d478419eda617e1 Reviewed-on: https://chromium-review.googlesource.com/385278 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Detect driver version before workaround init.  This is order-sensitive. The workarounds need the driver version to properly determine if workarounds should be used.  This fixes the WebGL 2 test invalidate/sub on NVIDIA.  BUG=angleproject:1246  Change-Id: I7ca4f44ec2874553f167214e937e918b49e69567 Reviewed-on: https://chromium-review.googlesource.com/385077 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix standalone tests failing to find angle_util.dylib on Mac  BUG=  Change-Id: I69bddf27c1b019f71382d69c03eba94a268d2025 Reviewed-on: https://chromium-review.googlesource.com/385497 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use 64-bits compile options  BUG=chromium:645071  Change-Id: I31825123bf4cb45fb37a93f538e8936487beb5ff Reviewed-on: https://chromium-review.googlesource.com/382712 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor TConstantUnion.  In preparation for constant folding fixes.  BUG=chromium:637050  Change-Id: I9ea49ce96b34c6ac3d2f0478b8fc6732c59e28be Reviewed-on: https://chromium-review.googlesource.com/373741 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Split ternary node class from TIntermSelection  Ternary operator nodes are typed parts of expressions they always have two children and the children are also guaranteed to be TIntermTyped. "If" selection nodes can't be a part of an expression they can have either one or two children and the children are code blocks. Due to all of these differences it makes sense to store these using two different AST node classes.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I913ab1d806e3cdb5c21106f078cc9c0b6c72ac54 Reviewed-on: https://chromium-review.googlesource.com/384512 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Specialize GLTypeToGLEnum in headers  BUG=angleproject:1514  Change-Id: I1f95e985471ea7a2ea0242d8b48ceccca68edf42 Reviewed-on: https://chromium-review.googlesource.com/384891 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove SH_TIMING_RESTRICTIONS compiler flag  The timing restrictions code is not in use and not updated for ESSL3 so it is better to remove it to make refactoring the AST easier.  It can also be argued that perfect prevention of shader timing attacks is not feasible due to factors that are not under control of ANGLE such as fixed function color compression in GPUs. Such color compression may make the use of texture bandwidth and thus performance dependent on the content of a texture regardless of whether a compressed format is chosen through the API.  SH_DEPENDENCY_GRAPH flag that could only be active together with the timing restrictions flag is also removed along with all the code that was supporting it. The newer CallDAG code is used for different purposes and is kept.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I2cd10e18df366e8e43f7c3af1ca12d2a4bfb2007 Reviewed-on: https://chromium-review.googlesource.com/384511 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add newlines to error messages.  Looks like this breaks parsing tests list in gtest runner which causes deqp_gles2 to fail on Nexus 5X swarmed bot.  Driveby fix of HowToMakeChanges md format.  BUG=angleproject:1471  Change-Id: I6cfa2d9287385aabf2aee47521e5e55e309831c0 Reviewed-on: https://chromium-review.googlesource.com/383813 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Disallow multiple locations on output variables  GLSL ES specs from version 3.00 to 3.20 all mention that output layout location qualifier may appear at most once within a declaration. Enforce this rule when parsing shaders.  Also set max draw buffers to 8 when compiling GLSL ES >= 3.00 in the qualification order tests and shader translator sample so that parsing locations > 0 will succeed.  BUG=angleproject:1505 TEST=angle_unittests  Change-Id: I50fe409041385f5e10e695f43dc3a572433e9772 Reviewed-on: https://chromium-review.googlesource.com/381211 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Promote unary nodes automatically  Unary nodes now get their type set automatically based on the operation and operand. The operand should only be changed to another of the same type after the node is constructed. The operation can't be changed on unary and binary nodes after they've been constructed.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: Ib1ea3dcb1162261966c02d5f03d8091cf647fac1 Reviewed-on: https://chromium-review.googlesource.com/378935 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Promote and fold indexing nodes similarly to other binary ops  Indexing nodes now get their type set in TIntermBinary::promote same as math and logic ops. They are also constant folded through TIntermBinary::fold() instead of having special functions for constant folding them in ParseContext.  Index nodes for struct and interface block member access now always have integer type instead of sometimes having the type of the field they were used to access.  Usage of TIntermBinary constructor is cleaned up so only the constructor that takes in left and right operands is used. The type of TIntermBinary nodes is always determined automatically.  Together these changes make the code considerably cleaner.  Note that the code for constant folding for array indexing is actually never hit because constant folding array constructors is still intentionally disabled in the code.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: Ifcec45257476cdb0d495c7d72e3cf2f83388e8c5 Reviewed-on: https://chromium-review.googlesource.com/377961 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Release SRV cache in Buffer11 destructor.  This was leading to a resouce leak with fast unpack.  BUG=angleproject:1513  Change-Id: I4ff6c6e3c889392e314654d63f2db8f671b6913c Reviewed-on: https://chromium-review.googlesource.com/383711 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add workaround for B5G6R5 format in Intel driver  In Intel driver the data with format DXGI_FORMAT_B5G6R5_UNORM will be parsed incorrectly. According to https://msdn.microsoft.com/en-us/library/windows/desktop/ff471324(v=vs.85).aspx DXGI_FORMAT_B5G6R5_UNORM should be equivalent to D3DFMT_R5G6B5. However the data will be treated as B5G6R5 not R5G6B5.  This workaroud will disable B5G6R5 support when it's Intel driver. By default it will use R8G8B8A8 format.  BUG=chromium:644610 TEST=dEQP-GLES3.functional.fbo.blit.default_framebuffer.rgb565*  Change-Id: I9d64a9bcedf9247de6950d345ed2d3fb00170d30 Reviewed-on: https://chromium-review.googlesource.com/380421 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Don't allow fast unpack from GL_ALPHA8.  This format is one that doesn't support buffer SRV creation. It seems like there is no equivalent dEQP test for this format.  BUG=angleproject:1503  Change-Id: I9ecdb9406ca0b62dd54b450d2b50341d76584b2b Reviewed-on: https://chromium-review.googlesource.com/381435 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Generate OUT_OF_MEMORY when compiler initialization fails.  INVALID_OPERATION implies that the error is recoverable.  Change-Id: Iaa13293168f66f46864e5e4c0ab7d7c53c97e8fd Reviewed-on: https://chromium-review.googlesource.com/383131 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Constant-qualify nodes in a consistent way  Rely on that constant qualification of binary and unary nodes comes from promote().  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: Ie8d1d4df3c82ae5a2de8cc536e47016d13a4fd3d Reviewed-on: https://chromium-review.googlesource.com/377960 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Update dEQP test expectations with passing tests  BUG=angleproject:1017 BUG=angleproject:1097 BUG=angleproject:1323  Change-Id: I67754700c27041c99428857c48697fa11c0d34ab Reviewed-on: https://chromium-review.googlesource.com/382860 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix incorrect compressed internal format enum.  This error was not exposed since compressed formats use different validation paths.  Fixed for completeness.  BUG=angleproject:1511  Change-Id: I9b44a795b1e43f52555440f776e00bb4b92354ef Reviewed-on: https://chromium-review.googlesource.com/382653 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clean up unary and aggregate math folding  Prefer asserts instead of adding internal errors to the compiler log when types of arguments are not as expected or the folding function runs into an operation it can't handle. Neither of these cases should be possible the checks for correct argument types are solid at this point.  In the future when new built-in functions are added constant folding support for them should be added as well.  foldUnaryWithDifferentReturnType and foldUnaryWithSameReturnType are renamed to foldUnaryNonComponentWise and foldUnaryComponentWise respectively. These names better reflect what these functions are doing.  The info sink member is removed from TIntermediate since TDiagnostics is now passed into the functions that may generate warnings instead.  BUG=angleproject:1490 TEST=angle_unittests  Change-Id: I6a08abbe29cf23f3a318032fdc46dd3dbaf4410e Reviewed-on: https://chromium-review.googlesource.com/377959 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix overflow in ImageIndexIterator::done.  The maxLayer() method was reading out of range for 2D arrays.  BUG=644846614178 BUG=angleproject:1493  Change-Id: I7cc4773d1ee9ff2d0a18cb0a8e916cf3687446db Reviewed-on: https://chromium-review.googlesource.com/382332 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
StateManagerGL: handle GL_DITHER  DITHER is on by default and dEQP precision tests turn this off to avoid dithering messing with the precision. The OpenGL backend didn't handle glDisable(GL_DITHER) causing precision to be wrong on RGB565 on Linux Intel.  BUG=angleproject:1492  Change-Id: I5e750fbe9df397e8b9a826979b14c84a2d72a00d Reviewed-on: https://chromium-review.googlesource.com/382111 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
TextureTest: suppress failure for newly added test.  BUG=angleproject:1493 BUG=chromium:638323  Change-Id: I5cab149c735158fe810f002e47cc3c5c75bc503b Reviewed-on: https://chromium-review.googlesource.com/381951 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix compiler allocations accidentally done outside memory pool  Qualifier data structures were being accidentally allocated on the regular heap and never being freed inside the compiler due to missing POOL_ALLOCATOR_NEW_DELETE macros. Add in the macros where needed.  Also fix up include directives in QualifierTypes.h/.cpp to use the full path of files from ANGLE.  BUG=angleproject:1442 TEST=angle_unittests  Change-Id: Ib54f3cd3ab0f768fed9f0215d795ff493be513e0 Reviewed-on: https://chromium-review.googlesource.com/380538 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove usage of std::log2 in tests.  For some reason this was giving a link error on Android. Change it to use the mathutil version to be sure.  BUG=angleproject:1493 BUG=chromium:638323  Change-Id: I454ba4609d7818f50c668bb7c1a3b684f9ca8444 Reviewed-on: https://chromium-review.googlesource.com/381671 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
compiler: Work around a HLSL compiler aliasing opt bug.  BUG=angleproject:1448  Change-Id: I7d5bcbd100069152cea0cb03bc4fa6af1044460b Reviewed-on: https://chromium-review.googlesource.com/376020 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Work around small mipped stencil textures.  AMD has a bug with 2x2 and 1x1 mips of depth/stencil textures. Formats D24S8 and D32FS8 both seem to render black for the very small mips.  We can work around this by selectively caching a copy of the texture data that only has depth information since stencil isn't filterable in OpenGL ES.  BUG=angleproject:1493 BUG=chromium:638323  Change-Id: Iebef42c4680018d9854dbe789d677823167213dd Reviewed-on: https://chromium-review.googlesource.com/380037 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Generate uniqueId for all TStructure  If not present ASSERT error may happen in debug build.  BUG=chromium:643075  Change-Id: Ia57e3771ab4d2861aefc04287fbbce85232f1f4d Reviewed-on: https://chromium-review.googlesource.com/381315 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Rename TextureStorage swizzle invalidation.  Since we'll also be storing a cache of depth textures as well as swizzle info generalize the invalidation methods.  BUG=angleproject:1493 BUG=chromium:638323  Change-Id: I8fef049b01c81483fcf28196866a22d5cfed32a1 Reviewed-on: https://chromium-review.googlesource.com/380036 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix ImageIndexIterator termination.  There was an off-by-one error preventing proper iteration.  BUG=angleproject:1493 BUG=chromium:638323  Change-Id: I8a3907620a1503d16b039606a67fe3471f88e165 Reviewed-on: https://chromium-review.googlesource.com/380325 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
UniformBufferTest: add back suppressions for failing tests  296398571213608b99d12266d0ba218f99c87abf fixes most but not all UniformBuffer Wintel failures of the waterfall add back suppressions needed to make the waterfall green.  BUG=chromium:593024  Change-Id: I124666853e9943bcb71083e5563d02e65551f916 Reviewed-on: https://chromium-review.googlesource.com/381451 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clean up qualification order checks  Move determining whether qualification order checks are relaxed to QualifierTypes.cpp. The ParseContext only needs to construct TTypeQualifierBuilder with the shader version as a parameter and it will make the decision based on that. ParseContext still passes diagnostics to the TTypeQualifierBuilder functions that return variable qualification to make it more explicit when errors are generated.  Also encapsulate looking for symbols in the AST inside compiler_test.cpp.  BUG=angleproject:1442 TEST=angle_unittests  Change-Id: I4190e6a680ace0cc0568a517e86353a95cc63c08 Reviewed-on: https://chromium-review.googlesource.com/380556 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix build failure in chrome due to unused function  Chrome build fails on a warning: "../../third_party/angle/src/compiler/translator/QualifierTypes.cpp:30:6: error: unused function 'IsInvariantCorrect' [-Werror-Wunused-function]"  BUG=angleproject:1442  Change-Id: If2fea0d90e9cd789c3a6449881794082f3e98afd Reviewed-on: https://chromium-review.googlesource.com/381201 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Work around unpackHalf2x16 emulation for Intel Mac  Negative operator is buggy in an expression on Intel Mac. Use abs(v) to replace -v for negative value.  BUG=chromium:644057 TEST=deqp/functional/gles3/shaderpackingfunction.html  Change-Id: I6182e7a00b162e36ed9278c0e5a2fdd8fb480959 Reviewed-on: https://chromium-review.googlesource.com/381152 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Relax checks when parsing type qualifiers in GLSL ES 3.10  The grammar in GLSL ES 3.10 does not impose a strict order on the qualifiers and also allows multiple layout qualifiers.  This patch relaxes the checks when parsing a type qualifier.  BUG=angleproject:1442  TEST=angle_unittests  Change-Id: Ib3653a1ed1bfced099a6b2cbf35a7cd480c9100a Reviewed-on: https://chromium-review.googlesource.com/379016 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Work around Intel uniform buffers bug.  When copying from a staging buffer to a uniform buffer the first upload would be incorrect. Work around this by trying to upload directly to a uniform buffer on the first BufferSubData call.  BUG=chromium:593024  Change-Id: I0df3a1422b962bf3ece5d445f435df01e3544b67 Reviewed-on: https://chromium-review.googlesource.com/368774 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor type_specifier_nonarray parsing to reduce code repetition  When type_specifier_nonarray gets parsed the scope gets saved into TType and the code becomes repetitive. Setting of the scope is moved to type_specifier_no_prec as it occurs less times.  BUG=angleproject:911  TEST=angle_unittests TEST=angle_end2end_tests  Change-Id: I6da5fe7bc2d60ba2996221af71b719b818f5e9b1 Reviewed-on: https://chromium-review.googlesource.com/380535 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clear the swizzle cache in TextureStorage11::setData.  BUG=angleproject:1494  Change-Id: I67471e4b961b3d8374c2da84394ead743939c225 Reviewed-on: https://chromium-review.googlesource.com/380095 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix standalone build.  BUG=angleproject:1471  Change-Id: I52aadeb58f75d5b944421bd0cd4a5dddead3f6d1 Reviewed-on: https://chromium-review.googlesource.com/379916 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Change grammar to support features from es31  The grammar has been changed so that ES31 grammar is followed more closely. The ES31 grammar is not fully supported only functionality related to qualifier enumeration is added.  The ParseContext is changed so that type qualifiers can be now joined together (i.e. like layout qualifiers). This will allow enumeration of multiple storage qualifiers (i.e. uniform readonly coherent) which is essential for support of ES31 features.  Some of the error checks had to be moved closer to the root of the parse tree since some of the information about the expression might be missing.  Unfortunately as there is no explicit ordering imposed by the grammar additional checks for proper order of qualifiers had to be added. I also included unit tests which test against malformed shaders.  BUG=angleproject:1442  TEST=angle_end2end_tests TEST=angle_unittests TEST=dEQP-GLES3.functional.shaders.*precision* TEST=dEQP-GLES3.functional.shaders.*function* TEST=dEQP-GLES2.functional.shaders.*  Change-Id: Ib3653a1ed1bfced099a6b2cbf35a7cd480c9100d Reviewed-on: https://chromium-review.googlesource.com/362940 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove stray reference to SH_EMULATE_BUILT_IN_FUNCTIONS.  BUG=chromium:642227  Change-Id: Ie1d74c0abd355a0bddc3c2b700390a3a2a9c4823 Reviewed-on: https://chromium-review.googlesource.com/379875 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove SH_EMULATE_BUILT_IN_FUNCTIONS which isn't used  The flag is not used in chrome. We decide to do per emulation per flag.  BUG=chromium:642227  Change-Id: I936d53e5015186e35e672d0cb51c853a941582d2 Reviewed-on: https://chromium-review.googlesource.com/379077 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
GL backend: add a workaround for bad default current vertex attributes  BUG=angleproject:1492 BUG=351528  Change-Id: Ie4b25b0106282c9f60d19053e5a320549887bc8b Reviewed-on: https://chromium-review.googlesource.com/379196 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Work around abs() issue in Intel Mac drivers  abs(i) where i is an integer returns unexpected result in Intel Mac. This works around the issue by emulating abs(i) manually.  BUG=chromium:642227 TEST=deqp/functional/gles3/shadercommonfunction.html  Change-Id: I2a41e0f4bcb0766109d651e663283b1760468017 Reviewed-on: https://chromium-review.googlesource.com/377628 Commit-Queue: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove CSS Shader related code  CSS shader has been removed from spec and chrome code base. Remove the code in ANGLE.  BUG=chromium:233383  Change-Id: I93a35437f540e51ce7af9d49f21ca60d7c0b156a Reviewed-on: https://chromium-review.googlesource.com/378739 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable texelFetchOffset re-writing for GLSL translator  Intel Mac has the same bug as Win. So the CL enables it in GLSL translator as well.  BUG=chromium:642605 TEST=deqp/functional/gles3/shadertexturefunction/texelfetchoffset.html  Change-Id: I30323ea3a6d4c07ff32e50bd7c574916b5b865f4 Reviewed-on: https://chromium-review.googlesource.com/378601 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Update dEQP gles2 tests expectations for Android  Mark tests that fail or hang on Nexus 5X as such.  BUG=angleproject:1471 TEST=gles2 tests pass on Nexus 5X  Change-Id: I3de8ce3e472f9c75bd18140bf9aa4d79a73cb22d Reviewed-on: https://chromium-review.googlesource.com/377703 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Change angle_util to be a shared library  So that there will be one instance of static thread synchronization variables in AndroidWindow. Previously there was one instance in lib_angle_deqp_gles2_tests__library and one in libangle_deqp_libgles2 resulting in AndroidWindow::initialize waiting forever.  Also make the change in GYP build to fix standalone build and fix rpath issues on Mac.  BUG=angleproject:1471 TEST=end2end and deqp tests on standalone Win10 and end2end on GN Mac 10.11  Change-Id: I731578459400bb47d269df129aabed9b67b555e6 Reviewed-on: https://chromium-review.googlesource.com/376202 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Fix constant folding non-square outerProduct  Use all the vector elements correctly when constant folding non-square outerProduct. Previously the code used to discard some elements of the smaller outerProduct operand. Also clear up confusion about matrix rows/columns in matrix constant folding code in general.  BUG=angleproject:1482 TEST=angle_unittests  Change-Id: I7cba8f97a92b875de01e57255d54258cdfd92a47 Reviewed-on: https://chromium-review.googlesource.com/377298 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Update dEQP GLES3 test expectations  BUG=angleproject:1097  Change-Id: Ib10ee930eb4d29bee3bc014c008a6b7420525e42 Reviewed-on: https://chromium-review.googlesource.com/377458 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add missing TexImage and CopyTexImage format combinations for ES3.   * Some unsized DEPTH_COMPONENT combinations were not added to the validation    tables for the ANGLE_depth_texture extension.  * The HALF_FLOAT_OES format was not validated in ES3 for RGB and RGBA formats    when the OES_texture_half_float extension is supported.  * BGRA->BGRA CopyTexImage validation was missing.  No more errors are generated within ANGLE when visiting http://alteredqualia.com/tools/webgl-features/  BUG=605754  Change-Id: If654c34adcebb4cd3eaa994ad7e912f6ffa4df55 Reviewed-on: https://chromium-review.googlesource.com/376281 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement GL_ARB_create_context_robustness on GLX and WGL  BUG=angleproject:1463  Change-Id: I5bdcfd757d6f7d6411558c368fa7a26c8a38c9ba Reviewed-on: https://chromium-review.googlesource.com/365971 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable compute shader tests on Intel  The compute shader tests in angle_end2end_tests fail on Intel Linux. The patch disables the tests for Intel.  TEST=angle_end2end_tests BUG=angleproject:1483  Change-Id: I303f0852ea3ccb65c1dd96a196a640c76cc519e4 Reviewed-on: https://chromium-review.googlesource.com/377318 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix splitting nested sequence operators  Make sure that only one sequence operator is split on one iteration of SplitSequenceOperator. This prevents multiple successive PostVisit calls to nested sequence operator nodes from adding duplicate nodes to the AST. The sequence operators are split starting from the outermost one to preserve execution order.  Note that the shader translator somewhat unexpectedly generates nested sequence operators in the AST when there is a sequence operator with more than two operands so this bug ended up affecting shaders in the wild. The code around parsing sequence operators could be clarified separately.  BUG=638313 TEST=angle_end2end_tests  Change-Id: Ic6400a484ceff0c790c2290f7b4b80980f87cd88 Reviewed-on: https://chromium-review.googlesource.com/376678 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a workaround for Intel drivers on glsl function texelfetchoffset  GLSL function texelfetchoffset will be translated into texture.Load in ANGLE. In D3D there is a note that When one or more of the coordinates in Location exceeds the u v or w mipmap level dimensions of the texture Load returns zero in all components but in glsl there is no such restriction which will cause the WebGL 2 dEQP test deqp/functional/gles3/shadertexturefunction/texelfetchoffset.html fail on Windows with Intel GPU.  Adapted from ExpandIntegerPowExpressions.cpp this patch adds a translation from texelFetchOffset into texelFetch to work around this issue.  BUG=angleproject:1469  Change-Id: Iecfb9570472036acf5960789bdb1a63f191316be Reviewed-on: https://chromium-review.googlesource.com/367883 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Manually compute the mipmap size for the textureSize builtin.  There were two issues with the current implementation:  * The GetDimensions function already takes into account the base level of the    SRV.  * The GetDimensions function returns doesn't return valid sizes for levels    that don't exist in the SRV.  Instead manually do the lod offset.  BUG=angleproject:931 BUG=angleproject:1316  TEST=dEQP-GLES3.functional.shaders.texture_functions.texturesize.sampler2d_fixed_vertex  Change-Id: I63259b563a42b93b73949e0ef7ac412099a42f13 Reviewed-on: https://chromium-review.googlesource.com/376099 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't allow packed integer types in glVertexAttribIPointer.  They are only allowed in the glVertexAttribPointer call.  BUG=angleproject:1101  Change-Id: I85aae9e35b45e8b1296244756091271d01dd1533 Reviewed-on: https://chromium-review.googlesource.com/376719 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't accept sampler operands for unary operators  Unary plus and minus used to be accepted with sampler operands. Increment/decrement operators also now generate a clearer error message if a sampler operand is supplied.  TEST=angle_unittests BUG=angleproject:1480  Change-Id: I2c5165c4eaac7b023d96e46a177e36f6536b0125 Reviewed-on: https://chromium-review.googlesource.com/376319 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
ContextImpl: only expose getResetStatus for robustness  This will allow each backend to implement this method separately. The current set of ContextImpl methods used for robustness are slightly D3D-centric.  BUG=angleproject:1463  Change-Id: I101f8ada2c49de4cf110db48b1e8380c52b50fb2 Reviewed-on: https://chromium-review.googlesource.com/365829 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add compute program compilation and linking support  Compute shaders can be now compiled and linked to create programs. Some tests are added to verify successful and unsuccessful compute shader linking.  The patch also replaces std::array<int 3> with a custom struct WorkGroupSize.  BUG=angleproject:1442  TEST=angle_end2end_tests TEST=angle_unittests  Change-Id: I4ab0ac05755d0167a6d2a798f8d7f1516cf54d84 Reviewed-on: https://chromium-review.googlesource.com/366740 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Move the rest of the validation out of TIntermBinary::promote  TIntermBinary::promote now has a single purpose of determining the type resulting from a binary math operation. The TIntermBinary constructor taking the left and right nodes can now also call promote automatically and promote is made into a private member of TIntermBinary. Validation of binary math operand types is done inside ParseContext.  BUG=angleproject:952 TEST=angle_unittests  Change-Id: I52a409f680c8d4120b757193972d03aed34c6895 Reviewed-on: https://chromium-review.googlesource.com/372624 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Revert "Cover vector dynamic indexing case in SplitSequenceOperator""  This reverts commit d2f59bb6dda4f3548e158a09540829f9ff56bba4.  Change-Id: If2842bce17a0c085e2bc913ff120083fbe90497c Reviewed-on: https://chromium-review.googlesource.com/376189 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add test for EGL_create_context_robustness  The test is disabled on non-Windows as Linux drivers seem to not be able to kill an in-flight warp and the whole computer locks down.  BUG=angleproject:1463  Change-Id: Iea3dcb1df323aa1341a4d26fe291b6abfae2aa3a Reviewed-on: https://chromium-review.googlesource.com/374166 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Check multiplication validity in ParseContext  This improves separation of responsibilities in the code: ParseContext should handle operand type validation while TIntermBinary::promote should ideally only determine the type of the node based on the operation and operands.  BUG=angleproject:952 TEST=angle_unittests  Change-Id: I9a8d8ede21cdf35de631623a62194c0da5c604d2 Reviewed-on: https://chromium-review.googlesource.com/372622 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fence11: When busy looping on a fence test for device loss  Previously the code only checked is the device had already seen as lost but never updating the lost status. Since checking for device loss can be expensive only do it every 128 loop iterations.  BUG=angleproject:1463  Change-Id: Ib481aebbb73d0f279e7ef835ac3a96c0a4663d58 Reviewed-on: https://chromium-review.googlesource.com/365736 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Change angle_util to be a shared library"  This reverts commit 2f9b5e6f79cd576bd3b7110272d58f143801bf0f.  Change-Id: I90a7ba0596e79795c9549bc268eabff69c96d572 Reviewed-on: https://chromium-review.googlesource.com/376079 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Move load functions table to renderer layer.  We will be able to use it for the Vulkan formats table.  BUG=angleproject:1455  Change-Id: Iddc09fe560b06880af72a6fa8eb03fa2792e2f8c Reviewed-on: https://chromium-review.googlesource.com/367454 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Replace DXGI with ANGLE format in the load tables.  BUG=angleproject:1455  Change-Id: I851848d8a28bd70ff921d76b19902f40a5e8b17d Reviewed-on: https://chromium-review.googlesource.com/367453 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP: Use GL ES display factory on Android  BUG=angleproject:1471  Change-Id: I11964fa36fa75841512c49eda4cd5947d6197cda Reviewed-on: https://chromium-review.googlesource.com/368985 Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Frank Henigman <fjhenigman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add dEQP search paths on Android devices  Including: test expectations and list dEQP data and test results. Hardcode chromium_tests_root for now to avoid adding a new API to pass the path from test runner to ANGLE.  BUG=angleproject:1471  Change-Id: I654fa4727c436d743b3d6344ad17cb030934cde2 Reviewed-on: https://chromium-review.googlesource.com/368984 Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update the README post-merge  Change-Id: I613789144ee5753987eff8d8d1d94f2af565888a, 15312978, 382, 105, 382
Replace std::map with switch in load functions.  BUG=angleproject:1455  Change-Id: Ica74ea5503efc0315bc4d98aa322da523a30b24c Reviewed-on: https://chromium-review.googlesource.com/367696 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Change angle_util to be a shared library  So that there will be one instance of static thread synchronization variables in AndroidWindow. Previously there was one instance in lib_angle_deqp_gles2_tests__library and one in libangle_deqp_libgles2 resulting in AndroidWindow::initialize waiting forever.  BUG=angleproject:1471  Change-Id: Ia529c91e34960eb352730c1bb89a91ce6336c8a0 Reviewed-on: https://chromium-review.googlesource.com/368983 Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Check for OpenGL ES support when creating context  Support for an OpenGL ES version can come either through OpenGL ES OpenGL core or available extensions. The context creation should fail if the requested OpenGL ES version is not supported.  BUG=angleproject:1477  TEST=angle_end2end_tests  Change-Id: I810d004a1bd62f75f162d775d3cf92c4283252a3 Reviewed-on: https://chromium-review.googlesource.com/374338 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Compile deqp_gles2 on Android  Add some missing functions modify preprocessor conditions and build files to include some other missing functions when building for Android.  BUG=angleproject:1471  Change-Id: Iadc0a0b9fed2444b8bc9a894ee65c8b66ea7f3c9 Reviewed-on: https://chromium-review.googlesource.com/368982 Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Misc minor WinRT fixes and cleanups  Change-Id: Ibf041e74d81ef266791e6b6a3bb43bf504b035b3 Reviewed-on: https://chromium-review.googlesource.com/374040 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Regenerate projects after last merge  Change-Id: Id768db2cc9100039156cbf631479e796081a1742, 15312978, 382, 105, 382
Merge branch 'google/master' into ms-master  Conflicts: 	.gitignore 	README.md 	src/libANGLE/renderer/d3d/d3d11/Framebuffer11.cpp 	src/libANGLE/renderer/d3d/d3d11/renderer11_utils.cpp 	src/libANGLE/validationEGL.cpp 	src/tests/gl_tests/SixteenBppTextureTest.cpp  Change-Id: I03d0d96b914387c0abce166a52bd56a2e78454bd, 15312978, 382, 105, 382
Misc minor WinRT fixes and cleanups  Change-Id: Ibf041e74d81ef266791e6b6a3bb43bf504b035b3, 15312978, 382, 105, 382
Add Vulkan to in-progress section of the landing page.  Change-Id: Ib1f911d1a30921e4d74d405b77f930754a647d17 Reviewed-on: https://chromium-review.googlesource.com/374048 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove Windows 8.1 (Store apps) and Windows Phone 8.1 support  ANGLE has moved onto the Windows 10 SDK and is using new compiler features that aren't supported by the old Windows 8.1 toolchain. Support for the 8.1 projects has been broken in master for some time now.  Since more and more developers are moving towards Windows 10 we are going to take a snapshot of ANGLE that includes 8.1 support and freeze it in a branch on github.com/microsoft/angle. If developers wish to compile for use ANGLE in 8.1 apps then they should use that branch going forward.  Change-Id: Ifee2d8a8cc0332500e0bd338911d831e7624fa82 Reviewed-on: https://chromium-review.googlesource.com/374039 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove DXGI_FORMAT_UNKNOWN cases from load table.  These cases were unreachable.  BUG=angleproject:1455  Change-Id: I5f3b969de3aca3862944ac9ed510c9f5e9fd77e2 Reviewed-on: https://chromium-review.googlesource.com/367695 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Simplify load functions table.  The indexing of the table data was mismatched with the table causing confusion with no appreciable gain. Fix this reducing the lines in the script and table at the same time.  BUG=angleproject:1455  Change-Id: I59095ba11a416575fd2310765eaac8d368b90cab Reviewed-on: https://chromium-review.googlesource.com/367694 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Check if conversion needed from load function.  The 'LoadToNative' copy is the only one that should be considered a non-conversion. For depth formats we should be clamping on SetData and CopyImage calls so this changes the flags for two of the depth formats but won't affect behaviour since the conversion bit is never check for depth/stencil formats.  This allows us to remove the 'requiresConversion' bit from the data.  BUG=angleproject:1455  Change-Id: I739ecc54406d65049caad7851ffd51d7cb777946 Reviewed-on: https://chromium-review.googlesource.com/367693 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move default ANGLE format map to shared location.  This default format mapping serves as a base for a Renderer format mapping. Any formats that require emulation or other representation in a Renderer can be overridden in the renderer layer.  BUG=angleproject:1455  Change-Id: I47f070c2ea132bada9cc0fc4353b89b74b8ee8f3 Reviewed-on: https://chromium-review.googlesource.com/367692 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Clean up buffer calls a bit.  BUG=None  Change-Id: I3b697c3b721b5be4888d039a5cefd160ab5b23f8 Reviewed-on: https://chromium-review.googlesource.com/367877 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add unittests to verify invariant doesn't leak  This is a followup CL of https://chromium-review.googlesource.com/366720. Unittests is added to check invariant status does not leak across shaders.  This CL also moves mInvariantVaryings and mGlobalInvariant from TSymbolTable to TSymbolTableLevel. So at the end of a compilation the levels pop and the settings will be cleared and will not affect the next compilation.  Change-Id: I1199fade7a637276ab149ab9a599621b9977298b Reviewed-on: https://chromium-review.googlesource.com/370844 Commit-Queue: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Refactor binary node creation  1. Simplify code by using asserts instead of adding internal errors to log.  2. Add a TIntermBinary constructor that takes left and right operand nodes as parameters.  3. Remove TIntermediate functions with trivial functionality.  BUG=angleproject:952 TEST=angle_unittests  Change-Id: I2e0e52160c9377d8efcf15f14fd59f01cb41bd83 Reviewed-on: https://chromium-review.googlesource.com/372720 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add error and warning helpers to Diagnostics  This will make it easier to generate errors and warnings with a consistent format outside of ParseContext for example in TIntermBinary::fold() which warns about division by zero.  BUG=angleproject:952 TEST=angle_unittests  Change-Id: I25999d7bdc77efafe77785a0d6f4d63417dfaab9 Reviewed-on: https://chromium-review.googlesource.com/372719 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix struct compound assignment being allowed in GLSL parsing  The shader translator used to accept some invalid struct operations like struct += struct and struct == struct with a different type. Fix this.  BUG=angleproject:1476 TEST=angle_unittests  Change-Id: Ia2303fc1f740da4d78242e094ee6004b07364973 Reviewed-on: https://chromium-review.googlesource.com/372718 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Flatten "#pragma STDGL invariant(all)" into varying variables.  This is implemented as a compiler option which is enabled by default when outputting to desktop GLSL version 130 and greater which does not support this #pragma in fragment shaders. As a workaround and for better compatibility on desktop OpenGL drivers this pragma is also flattened into the outputs of vertex shaders and the inputs of ESSL 1.00 fragment shaders.  TEST=conformance/glsl/misc/shaders-with-invariance.html with --enable-unsafe-es3-apis BUG=629622 angleproject:1293  Change-Id: Ib040230915e639971505ed496d26e804c9d64e68 Reviewed-on: https://chromium-review.googlesource.com/361792 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Revert "Cover vector dynamic indexing case in SplitSequenceOperator"  This CL was causing inverted rendering in a WebGL application.  This reverts commit 7da9850643f55335a13a4663d226c73d0ac4d3b1.  Vectors or matrices that are dynamically indexed as a part of an l-value generate new statements in the RemoveDynamicIndexing AST transformation step. SplitSequenceOperator needs to detect this case and split the sequence operator before statements are generated from its operands to ensure the correct order of execution.  BUG=angleproject:1341 TEST=angle_end2end_tests  Change-Id: I854f8cce2d46107afa62f48edf3d32c6d5c97eda Reviewed-on: https://chromium-review.googlesource.com/371643 Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Improve integer pow workaround.  A slight bug in the problem case detection applied the workaround overly-broadly. Also included a much more thorough test.  BUG=angleproject:851  Change-Id: I5c09d67eee3622c144401769af85958f23b60c57 Reviewed-on: https://chromium-review.googlesource.com/371380 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Suppress two new AMD failures.  These failures were exposed with the new R7 240 card.  BUG=chromium:637037  Change-Id: I1fe5add2fc08d5c93e338250efb2af62712d0e53 Reviewed-on: https://chromium-review.googlesource.com/371318 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor: Return true when checks succeed in ParseContext  Instead of returning false when a check succeeds in ParseContext return true. This is more intuitive and in line with conventions used elsewhere inside ANGLE.  Also includes some minor other cleanup in ParseContext like improved variable names and code structure especially when checking array element properties. This will make introducing arrays of arrays easier in the future.  BUG=angleproject:911 TEST=angle_unittests  Change-Id: I68233c01ccfbfef9529341af588f615efc2b503a Reviewed-on: https://chromium-review.googlesource.com/371238 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Invariant qualifier should not leak across shaders  Change-Id: I2a35899bffd28767b8bc638f415857636d4ad8ef Reviewed-on: https://chromium-review.googlesource.com/366720 Commit-Queue: Kenneth Russell <kbr@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Emulate gl_FragColor broadcasting behavior when GL_EXT_draw_buffers is enabled.  BUG=angleproject:1467635433 TEST=WebGL conformance angle_unittests  Change-Id: I9eb4ce715732087a3786da886f42243716f2b9b2 Reviewed-on: https://chromium-review.googlesource.com/367532 Commit-Queue: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clarify error checking function names in the GLSL parser  Most error checking functions in ParseContext used to follow a format like <property>ErrorCheck. Sometimes this function would check that the node/value would have <property> sometimes it would check that the node/value would not have it which was confusing. Change most of these functions to use a lot more descriptive names which clearly communicate what they are checking for.  Also includes a bit of refactoring in constructorErrorCheck() so that the function only checks for errors rather than also setting the type of the constructor node.  Also make TType::arraySize unsigned and return a sanitized size from checkIsValidArraySize() instead of using an output parameter.  BUG=angleproject:911 TEST=angle_unittests  Change-Id: Id9767b8c79594ad3f782f801ea68eb96df721a31 Reviewed-on: https://chromium-review.googlesource.com/367070 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Remove unsized formats from the table.  These cases weren't actually ever hit within ANGLE.  BUG=angleproject:1455  Change-Id: I60da3fb9eae91598ddaed5572a4bab0a66345694 Reviewed-on: https://chromium-review.googlesource.com/367691 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move fast copy functions into angle::Format.  These tables were duplicated in D3D11 and D3D9 and would have to be further duplicated into Vulkan.  BUG=angleproject:1455  Change-Id: Ice1b81417d7b14f933b61861c4a9997c260ef72e Reviewed-on: https://chromium-review.googlesource.com/367690 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Improvements on ETC1 to BC1 transcode.  ETC1 data doesn't need to be fully decoded before encoding to BC1. Saves ~50% computation.  BUG=angleproject:1285  Change-Id: I0cb479a08159ccd0472e5fdf40dd84323151883c Reviewed-on: https://chromium-review.googlesource.com/361553 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Rename ANGLEFormatSet to Format.  BUG=angleproject:1455  Change-Id: I896b3ed2d5e4ff3ad72de9a3a4b554841129e4e9 Reviewed-on: https://chromium-review.googlesource.com/367093 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Merge d3d11::TextureFormat and ANGLEFormatSet.  BUG=angleproject:1455  Change-Id: I7fc2640ec9d73528feb526b4d8b89cabccda4d17 Reviewed-on: https://chromium-review.googlesource.com/367092 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Partially squash D3D11 format types.  d3d11::TextureFormat and d3d11::FormatSet don't really do different things so it would be best to merge them.  BUG=angleproject:1455  Change-Id: I8c09ae763e4cb284bb611fed9d74b9048fb9f13e Reviewed-on: https://chromium-review.googlesource.com/367091 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix VS2015 Update 3 builds  Change-Id: Ie29984b5968958aecf1bde06c78500ad5d31ef88, 15312978, 382, 105, 382
Update the homepage support table.  Mention our good ES 3.0 support. Also mention our multiplatform and Vulkan support.  BUG=None  Change-Id: Ib2a3f94b56ecf3a3b20b960b3270ebbc8948a628 Reviewed-on: https://chromium-review.googlesource.com/367755 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
D3D11: Move the swizzle format set into ANGLEFormatSet.  The only piece of data left in the d3d11::TextureFormat is the initializer function which could just as easily be in the ANGLEFormatSet.  BUG=angleproject:1455  Change-Id: Iee8eb84f71807575c2a46bf4fcbf283aa1b7f565 Reviewed-on: https://chromium-review.googlesource.com/367090 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up PackPixels.  BUG=angleproject:1455  Change-Id: I263719cc77ff80580a551683d062e862dee1bdab Reviewed-on: https://chromium-review.googlesource.com/365826 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D9: Use angle::Format when possible.  This will unify the way we call into PackPixels and also cleans u the code. It required adding a few D3D9-specific formats to the table.  BUG=angleproject:1455  Change-Id: Ic8282f40f52cabdb2925e2bb305c26582284082d Reviewed-on: https://chromium-review.googlesource.com/365825 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Place format info in angle::Format.  Some bits of information like the copy functions and mipmap gen functions can be shared across back-ends in the angle::Format class.  Also name the info struct angle::Format and use an enum class angle::Format::ID to identify the particular format.  This patch introduces a new table generator for angle formats and updates the D3D11 generator accordingly.  BUG=angleproject:1455  Change-Id: I13b8b98822b1186c6a9e436dc232c18fef50980c Reviewed-on: https://chromium-review.googlesource.com/365824 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Introduce angle::Format enum.  This general enum can encapsulate different formats between GL/Vulkan/D3D9/D3D11/etc so we can use them in common routines like PackPixels. It also can help us get rid of the ANGLEX enums which we use to represent internal formats not present in GL.  It is currently used for Textures/Renderbuffers/Surfaces but can also be extended in the future to cover things like vertex formats. It mirrors something like a DXGI_FORMAT in D3D11 or VkFormat.  BUG=angleproject:1455  Change-Id: I467d7b36d8fc92bb45239d56b9243d06f4e29378 Reviewed-on: https://chromium-review.googlesource.com/365413 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove recover() from ParseContext  This call is a no-op. The shader parser is intended to almost always recover from errors so including it doesn't clarify the code either. It's simpler to remove it entirely.  BUG=angleproject:911 TEST=angle_unittests  Change-Id: I0feae097c2807c8e9559672e7a3d50a2fc4fbdea Reviewed-on: https://chromium-review.googlesource.com/367040 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add compute shader special variables  Support is added for the compute shader special variables given in OpenGL GLSL ES 3.1 Revision 4 7.1.3 Compute Shader Special Variables. Unit tests are added for legal and illegal usage of the special variables.  BUG=angleproject:1442  TEST=angle_unittests  Change-Id: Idb25811c15c4044c55c611c0e73ef26eb5b3e9d7 Reviewed-on: https://chromium-review.googlesource.com/366661 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add compute shader compilation support in the glsl compiler  Support is added for compute shader compilation. There is a small extension to the parser so that 'local_size_x = ' 'local_size_y = ' and 'local_size_z = ' are supported as layout qualifiers.  A few shader compilation tests are added and one which checks the AST whether the layout qualifiers are properly parsed.  BUG=angleproject:1442  TEST=angle_unittests TEST=angle_end2end_tests  Change-Id: I67283797d1cf13fa4ac47faa2a6e66d93a2db867 Reviewed-on: https://chromium-review.googlesource.com/362300 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Store more format info by-reference.  This CL stores the d3d11::TextureFormat by reference in the texture storage. Adding the internalFormat to the TextureFormat allows us to store a single ref instead of three per TextureStorage11.  Also store the format sets in a d3d11::TextureFormat by-ref instead of by-pointer making the code a bit cleaner.  BUG=angleproject:1455  Change-Id: I3c0e966d948c694435577d7d45dc0cd156480cdb Reviewed-on: https://chromium-review.googlesource.com/365412 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Check for error before createTextureStorageEGLImage.  Previously we were just dumping any unexpected errors here. Fix this by passing in the RT explicitly in the constructor although we still store the EGLImage pointer in case the RT changes.  BUG=angleproject:1455  Change-Id: Ie4d4a07c3a7b3a5ccc0a43c4e80bfc6ee43a676b Reviewed-on: https://chromium-review.googlesource.com/365411 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Move texture format code out of the python script.  It's better to maintain the code outside of a generator script. It gives easier formatting and updating.  BUG=angleproject:1455  Change-Id: I2b4383f1ed01545004de10024d03879201e2bf41 Reviewed-on: https://chromium-review.googlesource.com/365410 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: XSync before setting the error handler  This mirrors https://codereview.chromium.org/2206973002  BUG=628823  Change-Id: Ifd71d67df174cac3f90097c809fc91046699bed8 Reviewed-on: https://chromium-review.googlesource.com/366790 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Merge FL10 and 9_3 ANGLE formats.  This will let us use ANGLE formats to describe a format layout rather than a Renderer-specific usage. This in turn will let us use ANGLE formats for other Renderers as a universal thing.  BUG=angleproject:1455  Change-Id: I56492cb809d4ef6ac4b962cb12affbc853bbdaa0 Reviewed-on: https://chromium-review.googlesource.com/365269 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
GN: Enable more MSVS warnings.  Some warnings were enabled only in standalone builds. Enabling them in the GN config will prevent standalone build breakage and also make some potentially harmful warnings more visible to non-Windows devs.  BUG=angleproject:1449  Change-Id: I11fe9bac957864d37af37b3860a22fcbd91946ac Reviewed-on: https://chromium-review.googlesource.com/360961 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix unused variable warnings.  BUG=angleproject:1442  Change-Id: I07b32d4c1f1a95f136bf922e78053e0de41c1633 Reviewed-on: https://chromium-review.googlesource.com/366083 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Add simple stats reporting to GTest runs.  BUG=None  Change-Id: Ia2b59916ebb0de5a09c1f039200d6c8885dd294c Reviewed-on: https://chromium-review.googlesource.com/365940 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Noop cleanups to Renderer11.h and Renderer9.h  BUG=  Change-Id: I1cdaa61fa00cc418b3c0b4d9e8270e780ff0d8a6 Reviewed-on: https://chromium-review.googlesource.com/365737 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add es3.1 shader constants  The patch adds all shader built-in constants.  BUG=angleproject:1442  TEST=angle_unittests TEST=angle_end2end_tests  Change-Id: I81cae479d6506a8faa2dce023d5fcc2c1291d521 Reviewed-on: https://chromium-review.googlesource.com/364460 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Simplify loop conditions so that they won't generate statements  Introduce an AST traverser that can move the evaluation of certain types of loop conditions and loop expressions inside the loop. This way subsequent AST transformations don't have to worry about cases where they have to insert new statements to implement a loop condition or expression.  This includes the revert of "Unfold short-circuiting operators in loop conditions correctly". The new traverser covers the loop cases that used to be handled in UnfoldShortCircuitToIf.  BUG=angleproject:1465 TEST=WebGL conformance tests      dEQP-GLES2.functional.shaders.*select_iteration_count*  Change-Id: I88e50e007e924d5884a217117690ac7fa2f96d38 Reviewed-on: https://chromium-review.googlesource.com/362570 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add ES3.1 API constants  The newly added capability constants are handled in the corresponding glGet functions. Also getBooleani_v has been added.  BUG=angleproject:1442  TEST=angle_deqp_gtest_gles31_tests --gtest_filter=*functional_state_query_integer_max_* TEST=angle_deqp_gtest_gles31_tests --gtest_filter=*state_query_indexed_max_compute_work_group_size* TEST=angle_unittests TEST=angle_end2end_tests  Change-Id: I846e006307563ae81d8b6c62cf261417e15186c7 Reviewed-on: https://chromium-review.googlesource.com/362270 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove angle_standalone from GYP files  BUG=angleproject:1462  Change-Id: Ifdd714e2bc1f0a184f63f8ef162facce5286e935 Reviewed-on: https://chromium-review.googlesource.com/365233 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement CHROMIUM_copy_texture for D3D11.  BUG=angleproject:1356  Change-Id: I70246762411dbeeb3e291e317854139a68d80070 Reviewed-on: https://chromium-review.googlesource.com/339434 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove ANGLE's isolate  BUG=angleproject:1462  Change-Id: I549692583bbf35edc4e383f8fb7e0dff17c28594 Reviewed-on: https://chromium-review.googlesource.com/365234 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Check for device loss on all applicable EGL entry-points  This will make applications aware of device loss on all EGL calls that need to have an initialized display. For that purpose we track the device loss state at the egl::Display level instead of always querying the implementation. This is correct because at device-loss at the display level is non-recoverable. It also deduplicates the tracking that would have to be done in all the EGL backends.  Changes made in this commit:  - Cached device loss in egl::Display  - Check isDeviceLost in ValidateDisplay  - Changed EGL entry-points testing isDeviceLost to explicitely request    a testDeviceLost  - Add calls to ValidateDisplay to entry-points missing it  - Removed unused virtual qualifiers for some robustness methods  BUG=angleproject:1463  Change-Id: I92bea81f2ecd5423c445cff31557a4d9783557d5 Reviewed-on: https://chromium-review.googlesource.com/365450 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Remove X24G8 special format.  This special format means we're using a depth/stencil format with only the stencil channel being used. We can just use a normal D24S8 format here there's pretty much no difference.  BUG=angleproject:1455  Change-Id: Id304094b92814f38930209a703733190ad8e8410 Reviewed-on: https://chromium-review.googlesource.com/359086 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Remove 'non-renderable' texture formats.  The only difference between the NONRENDERABLE and normal versions of the formats is the rtvFormat is blank for non-renderable. The only place that I can see we check rtvFormat to make a decision is in TextureStorage11::GetTextureBindFlags. The rtvFormat here isn't necessary because we also check the 'renderTarget' flag which won't be true for compressed formats at any time.  BUG=angleproject:1455  Change-Id: Icbb438d336e67b80c44a0ab8de995a32b92e451e Reviewed-on: https://chromium-review.googlesource.com/359085 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Replace std::set with vector for signal receivers.  This should make insertion much faster which will improve the speed of many BindBuffer calls.  BUG=angleproject:1458  Change-Id: I3f7ebc02cc481257be8b84773506b9ac9e3be677 Reviewed-on: https://chromium-review.googlesource.com/364221 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Store ANGLEFormatSets instead of ANGLEFormats.  This saves us looking up the FormatSet repeatedly.  BUG=angleproject:1455  Change-Id: I77890c1eb427e7d087ceaf194a5001b8b03585d4 Reviewed-on: https://chromium-review.googlesource.com/359084 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ShCheckVariablesWithinPackingLimits: remove deprecated overload  BUG=621031  Change-Id: Ib4cdd88ecd58f617813a91379a8b8b518fba149b Reviewed-on: https://chromium-review.googlesource.com/364910 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix integer pow workaround for nested pows.  For some nested pow expressions queueing two node replacements in the same tree traversal would mangle tree resulting in invalid code. Fix this by iterating over the tree until no replacements are found and doing one replacement each iteration.  BUG=angleproject:851  Change-Id: Ie08ab23f4bfe3d5f32726856afc61ff1f3d6c789 Reviewed-on: https://chromium-review.googlesource.com/365400 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a workaround for NVIDIA drivers with repeated transform feedback.  BUG=angleproject:1298  Change-Id: Ibfbad8eb8ec824e377d8c1746a6691d6b689f498 Reviewed-on: https://chromium-review.googlesource.com/362601 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add ES31 entry points as function stubs  Entry points were generated using scripts which take the new function declarations from gl31.h find the newly added functions and output the new function declarations and defitions.  BUG=angleproject:1442 TEST=angle_unittests  Change-Id: I2d77eb4cc24873a31cb2745b7b82bf611d5058c6 Reviewed-on: https://chromium-review.googlesource.com/361291 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
translator: Refactor node replacement APIs.  BUG=angleproject:851  Change-Id: I50c3b3a4f00b27fed85f09509738513a441c7b5b Reviewed-on: https://chromium-review.googlesource.com/363990 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Get driver version from DXGI adapter.  This is a simpler and more portable design. Thanks for Austin from MS.  BUG=angleproject:1452  Change-Id: I93e8f3fc61107f13c4b2c1cf7fbaf2bb7ccdfafb Reviewed-on: https://chromium-review.googlesource.com/363041 Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Put chromium path rendering entry points into the extern C block  Entry points were outside of the extern C block.  Change-Id: Ifbd159c59b850a90f728db9027c485661aa96bc8 Reviewed-on: https://chromium-review.googlesource.com/361720 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Allow gl_PointCoord when not rendering points.  ANGLE D3D11 uses a geometry shader to expand points into quads. This led to an edge case with gl_PointCoord. When the user references gl_PointCoord in the fragment shader but renders with GL_TRIANGLES or other non-point primitives gl_PointCoord is undefined but ANGLE would produce a link error. This would break some very odd edge-case shaders (e.g. a shader that is used with both points and triangles).  We can fix this by simply adding a dummy PointCoord value to our vertex shader is all cases. If the user renders points we ignore the PointCoord value passed to the geometry shader. If they render tris or lines and use PointCoord the shader signatures will match and PointCoord will even have a sane value of (0.5 0.5).  BUG=angleproject:1380  Change-Id: I322155cd3801d0241cabc9bb639a5aaa502831b3 Reviewed-on: https://chromium-review.googlesource.com/362779 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
D3D11: Detect driver version for blit workaround.  Since the newer driver versions are required for WebGL 2 conformance we need a solution that can detect a driver version to know if we should apply the workaround.  Use a modified copy of Chrome's Windows GPU driver detection code. In the future we should extend this to a full module when we port the command buffer workarounds.  BUG=angleproject:1452  Change-Id: I783d5726454671cc22585a2bf990c071d539aa9f Reviewed-on: https://chromium-review.googlesource.com/361962 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Work around HLSL integer pow folding bug.  BUG=angleproject:851  Change-Id: I68a47b8343a29e42c0a69ca3f2a6cb5054d03782 Reviewed-on: https://chromium-review.googlesource.com/362775 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix another missing viewport set.  This one was in a different blit function.  BUG=angleproject:1246  Change-Id: Ib571c10ddc30b3293f5c0d6bdb357b4cd3b52579 Reviewed-on: https://chromium-review.googlesource.com/362774 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
D3D11: Set viewport in Blit11::resolveStencil.  This introduced a flaky failure to the multisample resolve blit tests. They would work sometimes if the state had set the correct viewport previously so it wasn't always evident there was a bug.  BUG=angleproject:1246  Change-Id: If16d574fb87484fcdc9b7cc6ecc0531ee4a8959d Reviewed-on: https://chromium-review.googlesource.com/362699 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix output variable gl_FragData array size issue.  If the GL_EXT_draw_buffers extension isn't explicitly enabled in the shader then gl_FragData is an array of size 1 not of size max_draw_buffers.  BUG=angleproject:1441 TEST=webgl2_conformance with --use-gl=angle  Change-Id: I2ead1457462bf1f396fda1f47022df6b54612e17 Reviewed-on: https://chromium-review.googlesource.com/362781 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix standalone variable shadowing warning.  Introduced in https://chromium-review.googlesource.com/362641 Eventually we'll switch to using the same sets of warnings for standalone and GN ANGLE.  BUG=angleproject:1441  Change-Id: I6534b9f85b952ddf1d953342cf9c8ddc5de6614e Reviewed-on: https://chromium-review.googlesource.com/362780 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix CopyTexSubImage validation.  Now that we preserve the sized-ness information we can validate CopyTexSubImage and related methods correctly.  Fixed a lot of WebGL 2 tests when using ANGLE.  BUG=angleproject:1228  Change-Id: I959322c0a9bb16a2f16d60dce7cd1e63ca95b45a Reviewed-on: https://chromium-review.googlesource.com/362618 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add gl::Format to represent a texture/rb/surface format.  This has a few advantages: it preserves all the information of the internal format such as if it is sized or unsized. It also saves looking up the format multiple times in the table which should improve speed in some cases.  The extra sized-ness information will allow us to perform the correct validation in CopyTexSubImage calls.  BUG=angleproject:1228  Change-Id: I42954771b0a9a968f5d787b8cf6e0af721791855 Reviewed-on: https://chromium-review.googlesource.com/362626 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Handle initializing of struct typed output variable correctly.  BUG=angleproject:1441 TEST=webgl2 conformance  Change-Id: Idb27036347e1e814ba4603969cc2065e425ac4aa Reviewed-on: https://chromium-review.googlesource.com/362641 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
HLSL: Insert return statements into functions that are missing them.  It's allowed to not have all code paths return a value in ESSL but the HLSL compiler detects this and generates an error.  Work around this by adding dummy return statements at the end of each function that doesn't have one.  TEST=deqp/data/gles2/shaders/functions.html  BUG=angleproject:1015 BUG=478572  Change-Id: I2913f90f0994d4caf25cc43b16b9fc4e9efb19a5 Reviewed-on: https://chromium-review.googlesource.com/362085 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing R16 formats to internal format mapping.  These were missing and are in the spec.  BUG=angleproject:1228  Change-Id: Ife9d311e76662d467d06b7aec4e674f9699b3573 Reviewed-on: https://chromium-review.googlesource.com/362624 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix wrong type for GL_STENCIL_INDEX8.  This was stored as DEPTH_STENCIL when it should be STENCIL.  BUG=angleproject:1228  Change-Id: I34c226a273cf962e83a040630bedbefa0f9ee382 Reviewed-on: https://chromium-review.googlesource.com/362623 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove manual include path setup for gtest and gmock  This should no longer needed after http://crrev.com/d805a40eb7b1ef6b  BUG=chromium:630299  Change-Id: I2f78a922d873cf1b5809b3454cb0b72267261b97 Reviewed-on: https://chromium-review.googlesource.com/362295 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
preprocessor: Fix negative shift with bad ids.  Fix this by producing an error on undefined or negative shifts.  BUG=629518  Change-Id: Idfca5ed3fc8e557f6178408f3426a5ef2ce7cf14 Reviewed-on: https://chromium-review.googlesource.com/362020 Reviewed-by: Antoine Labour <piman@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix member variable masking warning in standalone MSVS build  The patch for initializing output variables introduced a warning that broke MSVS 2015 standalone build. The "shaderType" variable passed to TCompiler::initializeOutputVariables was unnecessary and had the same name as a member variable of TCompiler that stores the shader type.  TEST=MSVS 2015 build  Change-Id: I9e01f5eae77a88babde21d4864a02c8731a220de Reviewed-on: https://chromium-review.googlesource.com/362550 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Initialize all output variables.  BUG=angleproject:1441 TEST=bots  Change-Id: Ia4cf415d8346c3234bf0f548a178ee3ea8cd35c4 Reviewed-on: https://chromium-review.googlesource.com/362110 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Skip the TransformFeedbackTest.BufferRebinding on Windows NVIDIA.  BUG=angleproject:1298  Change-Id: I32750d5d81c14fe5a17634586cddf117f0a4e692 Reviewed-on: https://chromium-review.googlesource.com/362157 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Cover vector dynamic indexing case in SplitSequenceOperator  Vectors or matrices that are dynamically indexed as a part of an l-value generate new statements in the RemoveDynamicIndexing AST transformation step. SplitSequenceOperator needs to detect this case and split the sequence operator before statements are generated from its operands to ensure the correct order of execution.  BUG=angleproject:1341 TEST=angle_end2end_tests  Change-Id: I84e41a59c88fb5d0111669cab60312b930531a22 Reviewed-on: https://chromium-review.googlesource.com/361695 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Split sequence operator when necessary  Split sequence operators if some of their operands generate statements in subsequent AST transformations to guarantee the right order of execution. For now this is supported for expressions that return arrays and unfolded short-circuiting operators which is enough to get WebGL 2 tests passing. A trickier corner case with dynamic indexing of vectors as an l-value is left to be addressed later.  BUG=angleproject:1341 TEST=angle_end2end_tests WebGL 2 conformance test:      conformance2/glsl3/array-in-complex-expression.html  Change-Id: I9301edd3366be7607a8aa4c42a5ec13928749e10 Reviewed-on: https://chromium-review.googlesource.com/361694 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix TearDown incorrect order in ReadPixelsTest  The ANGLETest::TearDown() call was set at the beginning of the function where as it should be at the end since it destroys the context. The earlier version would not cause any crashes because the GL function calls would be ignored.  BUG=angleproject:1445  TEST=angle_end2end_tests  Change-Id: I187cb8fede1db4ef2bfc13ab850594c41e00b0b0 Reviewed-on: https://chromium-review.googlesource.com/362220 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add IntermNodePatternMatcher helper class  This will enable sharing code between different AST traversers that apply transformations on similar node structures. This will make the code more maintainable.  For now the helper class is used in UnfoldShortCircuitToIf and SeparateExpressionsReturningArrays.  BUG=angleproject:1341 TEST=angle_end2end_tests WebGL 2 conformance tests  Change-Id: Ib1e0d5a84fd05bcca983b34f18d47c53e86dc227 Reviewed-on: https://chromium-review.googlesource.com/361693 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D: Validate that all color attachments are unique.  The previous logic of only checking the currently enabled draw buffers was incorrect.  Also updated the logic to be more lenient and allow multiple slices or mips of the same texture.  BUG=483282  Change-Id: I0d406d1a9a96e48342baefbaf11e0c2ecc6d390c Reviewed-on: https://chromium-review.googlesource.com/361533 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix uninitialized variables in BlendMinMaxTest  BUG=angleproject:1443  Change-Id: I1ad2ecee3ffc81a4d1c128aa4de4437e3ee88e34 Reviewed-on: https://chromium-review.googlesource.com/360120 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Improve glCopyTexSubImage2D and glReadPixels validation  glCopyTexSubImage2d and glReadPixels should generate a GL_INVALID_OPERATION when GL_NONE is specified as a color buffer. There are two tests added which cover glCopyTexSubImage2D and glReadPixels.  BUG=angleproject:1445  TEST=angle_end2end_tests  Change-Id: I3ab1428aad7eee96ca2330909e2b6f765f539705 Reviewed-on: https://chromium-review.googlesource.com/360860 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add support for ES31 context creation  The dEQP test for context creation passes.  SH_WEBGL3_SPEC has been added but it should be considered whether we should keep it remove it or rename it. It was added so that there is a webgl mapping to es 310 shaders. Check Compiler.cpp. The bison file has been modified so that some tokens from es3 can be also used in es31 as well.  A separate macro ES3_1_ONLY is added so that some tokens are limited only for es 310 shaders.  BUG=angleproject:1442 TEST=angle_unittests  Change-Id: I2e5ca227c96046c30dc796ab934f3fda9c533eba Reviewed-on: https://chromium-review.googlesource.com/360300 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix windows clang build  Change-Id: I920e9be38c3dd63e00db111294f69c335c4e772d Reviewed-on: https://chromium-review.googlesource.com/361663 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix KHR_Debug segfault errors  Calls to functions ObjectLabel ObjectPtrLabel GetObjectLabel GetObjectPtrLabel were resulting into segfaults due to improper validation and parameter handling. It could be that the implementations of those functions were based on an earlier version of the KHR_Debug extension.  The patch fixes the segfault error and almost all failing dEQP 3.1 tests related to KHR_Debug. The failing tests were also relevant to older ES versions. There is still one failing test but that one fails since ES3.1 is not fully supported yet.  List of reasons for the segfault error and failing tests: - the segfault error was caused by strlen called on a null pointer - another segfault was caused by writing out the length to a null pointer - even if the buffer size for getObject(Ptr)Label is 0 still the length of the label can be returned. That was not handled.  BUG=angleproject:1446 TEST=angle_deqp_gtest_gles31_tests --gtest_filter=*functional_debug_object*  Change-Id: I4743be8e862f3620091061cd7abb206a426655ed Reviewed-on: https://chromium-review.googlesource.com/361300 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Support EXT_blend_func_extended in the GLES2 context"  Test failures on Intel Release: https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28New%20Intel%29/builds/1163  Also Intel Debug: https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Debug%20%28New%20Intel%29/builds/820  Also NVIDIA with a different config: https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28NVIDIA%20GeForce%20730%29/builds/1564  BUG=angleproject:1379  This reverts commit 7f539ea52e6bc493d8e025ed2c43e10f606f088b.  Change-Id: I2634ad2b3fcc31e1e5ffb3674b94cb0aed9fd773 Reviewed-on: https://chromium-review.googlesource.com/361840 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Force the flush through the GetData call in Renderer11::finish.  NVIDIA drivers sometimes go into infinite loops in this code jbauman@ speculated that these drivers may need to do the flush in the GetData call.  BUG=626849  Change-Id: I85408fbe7176242240862225e968f557bd7818cf Reviewed-on: https://chromium-review.googlesource.com/360130 Reviewed-by: John Bauman <jbauman@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Check for out-of-date swap chains during eglWait calls.  BUG=angleproject:1438  Change-Id: I9b8d0da30e41c133ee92685d00f5f0239c7b2574 Reviewed-on: https://chromium-review.googlesource.com/358490 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support virtualized contexts and transform feedback in Renderer11.  Track buffer offets in the transform feedback object and dirty them when a buffer is bound.  This fixes problems when a buffer is rebound at the same offset and maintains tracking between context switches.  BUG=angleproject:1447 BUG=angleproject:1298  Change-Id: I2f890e3ad5edacab47f624a95a502615c86cc0c8 Reviewed-on: https://chromium-review.googlesource.com/360910 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Move the shadow texture failure expectations.  BUG=angleproject:1435 BUG=angleproject:1436  Change-Id: Idd11e29ad49cb488d3a8ecefd6aefc181b43d3fc Reviewed-on: https://chromium-review.googlesource.com/361558 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Implement multisample depth resolve.  This uses a pretty slow path with readback to the CPU. It should be possible to use SV_Depth in HLSL to resolve without a readback but that will be left for a future optimization.  Enables the WebGL 2 tests gles3/fbomultisample and fboinvalidate/sub.  BUG=angleproject:1246  Change-Id: Id67178b0f6374cf53e4e107428637546ecca4124 Reviewed-on: https://chromium-review.googlesource.com/359956 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix compilation errors on Android  TBR=ynovikov@chromium.org BUG=None  Change-Id: I3d90027eaa2479622d7ea80f5dc69d2578d5b1b3 Reviewed-on: https://chromium-review.googlesource.com/361548 Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Implement multisampled stencil resolve.  This implements a fairly slow path with readback for stencil blits and depth/stencil resolve. In a subsequent patch I'll implement the depth blits.  BUG=angleproject:1246  Change-Id: I04151d1f49ca404d858172dff8286608eae29864 Reviewed-on: https://chromium-review.googlesource.com/359955 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ShCheckVariablesWithinPackingLimits add sh::ShaderVariable overload  This overload doesn't take a stripped down version of the variable information which makes it possible to handle varying structs correctly by flattening them as individual variables.  BUG=621031  Change-Id: I367629fce3d17dd7e1f876c5937eb37f3d97c7f4 Reviewed-on: https://chromium-review.googlesource.com/361460 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Support EXT_blend_func_extended in the GLES2 context  BUG=angleproject:1379  Change-Id: Ibda6e84c0a7f86e838247cd5c538ef956dd786fe Reviewed-on: https://chromium-review.googlesource.com/346410 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Sami Väisänen <svaisanen@nvidia.com>, 15312978, 382, 105, 382
Re-land "GN: Enable chromium_code config instead."  Using "no_chromium_code" is a bit less strict but ANGLE should be able to handle slightly stricter warnings.  Re-land with fix for Clang build.  BUG=angleproject:1449  Change-Id: I8988287d630a6258f2f9ee90e7bfef5f2d5799cd Reviewed-on: https://chromium-review.googlesource.com/361331 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add win_clang to CQ trybots.  BUG=angleproject:1311  Change-Id: I5a9f381ef7e7e18b20919f791beb2be7f2ddd7a5 Reviewed-on: https://chromium-review.googlesource.com/361064 Reviewed-by: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
dEQP: Make RandomOrderExecutor produce less spam.  We can take out the test case duration output as it would only be useful for diagnosing unexpectedly slow tests. This will reduce the size of dEQP logs on the bots.  BUG=None  Change-Id: I591b2c564e89393ca6754140001f334c19a10b1a Reviewed-on: https://chromium-review.googlesource.com/361243 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "GN: Enable chromium_code config instead."  Seems to fail the Clang build:  ../../third_party/angle/src/libANGLE/renderer/d3d/d3d11/StateManager11.cpp(3560):  error: comparison of integers of different signs: 'UINT' (aka 'unsigned int') and 'int' [-Werror-Wsign-compare]             maxSrvMip          = (desc.Texture2D.MipLevels == -1) ? INT_MAX : maxSrvMip;                                   ~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~  BUG=angleproject:1449  This reverts commit aeb477fbe5fad337815560a0031815f0636471a1.  Change-Id: I01baaf082f282c9d80a9c17fd6ffc2b8911313b2 Reviewed-on: https://chromium-review.googlesource.com/361094 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Add support for pack parameters when packing to PBOs.  BUG=angleproject:1268 TEST=conformance2/reading/read-pixels-pack-parameters.html  Change-Id: Ia7d69bdabd94d146bc027e6a6d3bb619b1ada2e8 Reviewed-on: https://chromium-review.googlesource.com/360491 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
GN: Enable chromium_code config instead.  Using "no_chromium_code" is a bit less strict but ANGLE should be able to handle slightly stricter warnings.  BUG=angleproject:1449  Change-Id: Ifaf77201085dd70cf5ff628b1aa02de55c5e96ba Reviewed-on: https://chromium-review.googlesource.com/360940 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix debug standalone build warning on MSVS 2015  Fixes signed/unsigned mismatch due to missing type cast inside an assert.  BUG=angleproject:1382 TEST=standalone MSVS 2015 debug build  Change-Id: I1508b54a2608e9204ad582bde4bd62af6926c36e Reviewed-on: https://chromium-review.googlesource.com/360921 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
ParseContext: validate additional restriction for the ? and  operators  WebGL2 shaders have added restriction to improve portability for some OpenGL compilers that do not support arbitrary ternary and sequence operators. It disallows these operators for arrays structs containing arrays and the void type.  BUG=612066  Change-Id: Id11042051bce25a91e57deaa9591d4d813fed7aa Reviewed-on: https://chromium-review.googlesource.com/359949 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Forbid defined operator generated by macro expansion  After lengthy debate the GLES working group recommended that this should be an error in WebGL though old specs were not updated. Make ANGLE follow the WebGL spec and generate an error in this case.  This is a partial revert of the patch which added support for defined operator generated by macro expansion. The preprocessor unit tests added by the reverted commit are kept but their expectations are changed.  This breaks some dEQP tests that are not in line with the WebGL spec.  BUG=angleproject:1335 TEST=angle_unittests WebGL conformance tests  Change-Id: I7d8a1d42c61367197f2aed4ca4de9297cc48acfc Reviewed-on: https://chromium-review.googlesource.com/352471 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Reserve "defined" as a macro name  After lengthy debate the GLES working group recommended that this should be an error in WebGL though old specs were not updated. Make ANGLE follow the WebGL spec and generate an error in this case.  This breaks some dEQP tests which are not in line with the WebGL spec.  BUG=angleproject:1335 TEST=WebGL conformance tests  Change-Id: I93fc397094419ecbf6a1b5179631b72064149bd0 Reviewed-on: https://chromium-review.googlesource.com/352470 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Workaround interpolation qualifier mismatching  Centroid implies smooth when doing translation. But the Intel Mesa driver considers centroid and smooth are different interpolation qualifiers which makes shaders fail compilation.  This patch adds smooth at the front of centroid at translation step. And it makes linkage.varying.rules.differing_interpolation_2 test in WebGL 2.0 dEQP test pass.  BUG=621031 TEST=WebGL 2.0 deqp/data/gles3/shaders/linkage.html  Change-Id: I8f0944846b5244b21c526ae95a7ce37c1504efb7 Reviewed-on: https://chromium-review.googlesource.com/360638 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix type conversion warnings.  BUG=angleproject:1382  Change-Id: Idee8882a7d7576faaa08418d9d399d836cec8fa7 Reviewed-on: https://chromium-review.googlesource.com/360903 Commit-Queue: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP GLES3 test expectations reassign a bug.  BUG=angleproject:1448  Change-Id: I82346baa0989416cf0105e4446178a299f4f8ffb Reviewed-on: https://chromium-review.googlesource.com/360664 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix uninitialized stencil ref variables in the GL backend  BUG=angleproject:1443  Change-Id: I8c259368abdffb57c2963b29f81e2433a08ecae1 Reviewed-on: https://chromium-review.googlesource.com/360110 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support CHROMIUM_path_rendering fragment operations  This brings two new APIs BindFragmentInputLocation and ProgramPathFragmentInputGen that together dictate how the fragment shader varyings are used.  BUG=angleproject:1382  Change-Id: I4b52fd8a3555235a73aecd4f3dba2d500789cbb0 Reviewed-on: https://chromium-review.googlesource.com/357071 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Sami Väisänen <svaisanen@nvidia.com> Commit-Queue: Sami Väisänen <svaisanen@nvidia.com>, 15312978, 382, 105, 382
Audit and amend style guide.  BUG=None  Change-Id: Idb6863c93f639dfe4770e67710159f3e398c5238 Reviewed-on: https://chromium-review.googlesource.com/360890 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refine swizzle/indexing constant folding code  Fix constant folding of subscripting non-square matrices. Previously constant folding would offset the pointer into the matrix in multiples of the number of columns when it should offset the pointer in multiples of the number of rows.  Also change the MalformedShaderTest so that it only succeeds if vector swizzle is being checked correctly. Previously compilation would fail in the test either way because the shader code contained a call to an undefined function.  Also refactor indexing checks and constant folding so that constant folding is done entirely separately from out-of-range checks. Bogus comments are removed from the constant folding functions.  BUG=angleproject:1444 TEST=angle_unittests angle_end2end_tests  Change-Id: I7073b38f759e9b3635ee05947df4f6d8e23a39d5 Reviewed-on: https://chromium-review.googlesource.com/360112 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Stop linking a static_initializer into the Mac chromium build.  The :angle-image_util target was a source_set rather than a static_library() causing us to link in loadimage.cpp which pulled in mathutils.cpp which contains a static initializer. Switching :angle_image_util to a static library (which is what GYP does) solved the problem.  R=rsesek@chromium.org cwallez@chromium.org BUG=628052  Change-Id: I63387b3fc9d799c92f7c1b49a1c7c7435e70a951 Reviewed-on: https://chromium-review.googlesource.com/360228 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Robert Sesek <rsesek@chromium.org> Reviewed-by: Dirk Pranke <dpranke@chromium.org>, 15312978, 382, 105, 382
Pause TransformFeedback before eglMakeCurrent.  On Android Adreno eglMakeCurrent resets TransformFeedback position. Workaround is to pause TransformFeedback before eglMakeCurrent and resume afterwards.  BUG=angleproject:1426 TEST=TransformFeedbackTest.MultiContext  Change-Id: I4fdb9edbd28b4b16c01d1a94419e78160b31b79f Reviewed-on: https://chromium-review.googlesource.com/355676 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Compute row pitch using the size of the input pixel not the format pixel.  For formats that can be loaded with data that has a different size pixel than the internal format (UNSIGNED_INT -> GL_DEPTH_COMPONENT_24) the row length would be computed as rowLength * 3 which is incorrect.  BUG=angleproject:1095  Change-Id: I0f60a3bb9bb387d475ddda1389a3b4b6f4973922 Reviewed-on: https://chromium-review.googlesource.com/360214 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support precision emulation on HLSL  Re-submit with missing virtual destructor and angle::NonCopyable added.  Add precision emulation support to HLSL 4.1 output. This makes it possible for developers to test their shaders for precision issues easily on Chrome on Windows without having to use the GL backend. The patch has been verified with Chrome on Windows to reproduce some precision bugs in real-world WebGL content including old versions of the babylon.js library.  The EmulatePrecision AST transformation still relies on writing out raw shader code for the rounding functions with raw HLSL code added alongside pre-existing GLSL and ESSL code. In some ways it would be nicer to do the EmulatePrecision step as a pure AST transformation but on the other hand the raw code is much more readable and easier to optimize.  To better support multiple output languages in EmulatePrecision add a RoundingHelperWriter class that has different subclasses for writing the rounding functions in different languages.  The unit tests are expanded to cover the HLSL output of precision emulation. The parts of the tests that require the HLSL output are only active on Windows where ANGLE_ENABLE_HLSL define is added to the unit tests. Putting the HLSL tests in an entirely separate file is a worse alternative since it would require either a lot of code duplication or add a lot of boilerplate to the individual tests.  BUG=angleproject:1437 TEST=angle_unittests  Change-Id: I47d501037c206f4bd8b976d3acab9b21c717084c Reviewed-on: https://chromium-review.googlesource.com/360152 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add deqp gles 3.1 tests to the build files  BUG=angleproject:1442  Change-Id: I2ef27478573ec362bff57b532f7fee5731333b06 Reviewed-on: https://chromium-review.googlesource.com/360121 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Clamp float32 depth data when uploading.  BUG=angleproject:1095  Change-Id: I4c272aef0f94733fc7b5297ddaa1fa2bc765fe62 Reviewed-on: https://chromium-review.googlesource.com/360029 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
ShaderVars: add isSameInterfaceBlockFieldAtLinkTime  This will be used by Chromium to check for interface blocks mismatches.  BUG=621031  Change-Id: Ia6cc19e5d7b2a5c33af558d65b87885a6b72cea3 Reviewed-on: https://chromium-review.googlesource.com/359607 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Support precision emulation on HLSL"  Forgot to add virtual destructors.  BUG=angleproject:1437  This reverts commit a42e8b2cb9d0857f53c0490b5be3bf25b4e1f827.  Change-Id: If33fecfeca9947deedf4668c64dbadf25a5dc5eb Reviewed-on: https://chromium-review.googlesource.com/360122 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
TranslatorGLSL/ESSL: Output #pragma before #extension  The Intel Mesa driver considers the #pragma directive to be a non-preprocessor token which makes shaders fail compilation.  The relevant blurb from the spec is: "the extension directives must occur before any non-preprocessor tokens"  BUG=627417  Change-Id: Ic22cff49a9f9c1fe5d140302581ca7b36688732c Reviewed-on: https://chromium-review.googlesource.com/359621 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Support precision emulation on HLSL  Add precision emulation support to HLSL 4.1 output. This makes it possible for developers to test their shaders for precision issues easily on Chrome on Windows without having to use the GL backend. The patch has been verified with Chrome on Windows to reproduce some precision bugs in real-world WebGL content including old versions of the babylon.js library.  The EmulatePrecision AST transformation still relies on writing out raw shader code for the rounding functions with raw HLSL code added alongside pre-existing GLSL and ESSL code. In some ways it would be nicer to do the EmulatePrecision step as a pure AST transformation but on the other hand the raw code is much more readable and easier to optimize.  To better support multiple output languages in EmulatePrecision add a RoundingHelperWriter class that has different subclasses for writing the rounding functions in different languages.  The unit tests are expanded to cover the HLSL output of precision emulation. The parts of the tests that require the HLSL output are only active on Windows where ANGLE_ENABLE_HLSL define is added to the unit tests. Putting the HLSL tests in an entirely separate file is a worse alternative since it would require either a lot of code duplication or add a lot of boilerplate to the individual tests.  BUG=angleproject:1437 TEST=angle_unittests  Change-Id: Ia4ba0374cd415908f16f34752321af1cb93525a5 Reviewed-on: https://chromium-review.googlesource.com/358473 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Skip DXT1CompressedTextureTestES3.PBOCompressedTexImage when DXT1 not supported  Was failing on Nexus 5X Adreno which doesn't have GL_EXT_texture_compression_dxt1 extension. Also rename the tests to indicate they test DXT1 compression format.  BUG=angleproject:1424 TEST=DXT1CompressedTextureTestES3.PBOCompressedTexImage  Change-Id: Ic82363a6f497da12602f3f3a662a52ffa833aa0f Reviewed-on: https://chromium-review.googlesource.com/355711 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Clear SRV cache on keyed mutex texture unbind from TextureStorage11_External  This fixes the same issue as https://chromium-review.googlesource.com/328400 except with NV12 external storage textures. The SRV cache thinks the texture is still bound but releasing the keyed mutex has unbound it.  BUG=625900626524  Change-Id: I991cb3eeaaea0a1c4570b88de2ba873ae868ec2a Reviewed-on: https://chromium-review.googlesource.com/359430 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Check ozone_platform_gbm before doing gbm stuff.  Just checking use_ozone fails when building an ozone platform which doesn't have gbm e.g. chromecast.  BUG=angleproject:1439 CQ_INCLUDE_TRYBOTS=tryserver.chromium.linux:linux_chromium_gn_chromeos_rel;tryserver.chromium.android:android_compile_dbg  Change-Id: Idec14441ce30dd872b3bfddfe844abfeb910cc02 Reviewed-on: https://chromium-review.googlesource.com/358860 Reviewed-by: Luke Halliwell <halliwell@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
The global invariant pragma must not leak across compilations.  BUG=chromium:625363 TEST=conformance/glsl/bugs/global-invariant-does-not-leak-across-shaders.html  Change-Id: I66389352b92211f4d7967772f68470c8e93405bd Reviewed-on: https://chromium-review.googlesource.com/358515 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Support non-square matrices in precision emulation  In case the shader version is greater than ESSL 1.00 the precision emulation needs to output rounding functions for non-square matrix types.  Writing emulated compound assignment functions for non-square matrices already had most of the code in place before this change.  New compound assignment operators like >>= don't need floating point precision emulation in ESSL 3.00 since all of them only operate on integers.  BUG=angleproject:1434 TEST=angle_unittests  Change-Id: I4678f511edf4f9f744fe23bb8d7dab4387f07f20 Reviewed-on: https://chromium-review.googlesource.com/358472 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Clean up the SSE detection logic.  * Include the correct header right in the SSE check in platform.h. * Don't use separate SSE versions of the load functions have them use   SSE automatically.  BUG=612205  Change-Id: I70f9a5513e144db4d16c1f3ad922debeb6c50268 Reviewed-on: https://chromium-review.googlesource.com/358108 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reuse code for determining built-in type name string  Add TType::getBuiltInTypeNameString() that returns an unique char pointer for each built-in type. They can be easily stored in an std::set as required by EmulatePrecision and the function can also be used in TOutputGLSLBase.  BUG=angleproject:1437 TEST=angle_unittests  Change-Id: I9acfe1b149546dedeae058841cbabf0d9829cdc9 Reviewed-on: https://chromium-review.googlesource.com/358471 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Use the Windows 10 SDK in standalone builds.  BUG=None  Change-Id: I52a9beeddfc83ee8711cc23979a97c79a4f22227 Reviewed-on: https://chromium-review.googlesource.com/358109 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Set correct type on nodes created in precision emulation  The correct type needs to be set so that HLSL output will be able to disambiguate user-defined function calls correctly based on argument types. HLSL output support will be added to precision emulation in a future patch which will also have tests that verify this patch.  The lack of correct type on the nodes is not known to cause any bugs in GLSL output.  BUG=angleproject:1437  Change-Id: I53200df066ece0ab4bd7d7a6aab699d6a1ecb659 Reviewed-on: https://chromium-review.googlesource.com/358470 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "The global invariant pragma must not leak across compilations."  This reverts commit ae2e19188cf0a9b035a27143f585df10e72ffabd.  Change-Id: I017ba4ba9baa633793d7bdd9691c580ed7016cde Reviewed-on: https://chromium-review.googlesource.com/358410 Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
The global invariant pragma must not leak across compilations.  BUG=chromium:625363 TEST=conformance/glsl/bugs/global-invariant-does-not-leak-across-shaders.html  Change-Id: Ie8d38e44837fc87bb4c94e76e779ad41e8b79957 Reviewed-on: https://chromium-review.googlesource.com/358203 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Refactor ANGLE's image manipulation code into a static library.  Allows for chromium to make use of some of the functionality.  BUG=612205  Change-Id: Ib4435ca44775a3a554b0fb3bd384bd4d31d7952d Reviewed-on: https://chromium-review.googlesource.com/351753 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Emulate the pack/unpack functions for unorms.  BUG=angleproject:1044  Change-Id: I2cfb792de43d3a6fddd750100c74f948948dc1f6 Reviewed-on: https://chromium-review.googlesource.com/287290 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update dEQP test expectations for fixed tests.  BUG=angleproject:1021 BUG=angleproject:1027 BUG=angleproject:1101 BUG=angleproject:1323  Change-Id: I52ce720de66373ea2174890097a6908307a7fa91 Reviewed-on: https://chromium-review.googlesource.com/358168 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Re-land "D3D11: Fix readback of BGRA-backed formats."  For some BGRA-backed formats (RGBA4 R5G6B5 RGB5A1) our ReadPixels implementation wasn't aware the BGRA format didn't exactly match the RGBA format. For these it would do the 'fast path' memcpy method when it should stop and do the slow pixel-by-pixel packing method.  Fixes conformance2/reading/read-pixels-from-fbo-test.html.  Reland: fix empty format info that was causing us to only see the first pixel in the FBO in a ReadPixels call. Also fix bugs in the unorm 16-bit format readback code and add ASSERTs to catch bugs in subsequent new formats.  BUG=angleproject:1407 BUG=chromium:616176  Change-Id: I9fd55b9e1dd6a306eb4db195d775c02a1eb1f93f Reviewed-on: https://chromium-review.googlesource.com/357132 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove the artificial uniform vector limitation in D3D11.  BUG=407309  Change-Id: Ic59bea88f0a4d7a6df9089238be0c79d654016e2 Reviewed-on: https://chromium-review.googlesource.com/269971 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
translator: Fix two bugs that trigger ASSERTs.  The first bug was a result of constant-folding a vector swizzle that was out-of-bounds. The second bug was a result of using a semicolon in a preprocessor define.  BUG=angleproject:1425  Change-Id: Id6643b1f3e3b13cc021bd721ef2572487fe3c8d3 Reviewed-on: https://chromium-review.googlesource.com/357864 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove qualifiers from empty struct declarations in output  Empty struct declarations with qualifiers are rejected by NVIDIA GL driver version 367.27. For example this kind of construct that is expected to be accepted by the WebGL conformance tests is rejected:  const struct a {     int i; };  Since qualifiers do not carry meaning unless a struct declaration has declarators they can be simply omitted from the translator output in this kind of cases to work around this driver issue.  New unit test is added to check that pruning empty declarations works correctly.  BUG=angleproject:1430 BUG=622492 TEST=WebGL conformance tests angle_unittests  Change-Id: Id83f83124ae597fcdfa15100d336c2c207d9449c Reviewed-on: https://chromium-review.googlesource.com/356362 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix warnings in PathRenderingTest.cpp.  Certain warnings are suppressed in Chromium but not standalone ANGLE. We should enable those warnings for ANGLE specifically in a follow-up CL.  BUG=angleproject:1382  Change-Id: I12491a61b0f349c5937a1e5d9985c8da1d76e0dc Reviewed-on: https://chromium-review.googlesource.com/358107 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support instanced CHROMIUM_path_rendering  This implements instanced path rendering.  BUG=angleproject:1382  Change-Id: I4654251882975d707b22c7bb522af14ae34eb1a1 Reviewed-on: https://chromium-review.googlesource.com/355401 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Sami Väisänen <svaisanen@nvidia.com>, 15312978, 382, 105, 382
Add a helper class for compiler string matching tests  The MatchOutputCodeTest class makes it easier to implement tests that do string matching on compiler output. Inheriting test classes set the compiler settings tests then call compile() with the shader string and can call foundInCode() to check if the output code contains a given string.  Various compiler unit tests that already did string matching are refactored to make use of this new helper class. Some tests now use SH_GLES3_SPEC instead of SH_GLES2_SPEC - this should not have a significant impact on test coverage.  Some compileTestShader function variants that are now unused can be removed from the code.  BUG=angleproject:1430 TEST=angle_unittests  Change-Id: I1fd3529d5a1c6ab192f95ace800cf162604e68e7 Reviewed-on: https://chromium-review.googlesource.com/357800 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix BeginQuery validation  ANY_SAMPLES_PASSED and ANY_SAMPLES_PASSED_CONSERVATIVE queries can not be active at the same time. The only place where the State::isQueryActive function is used is validating whether a BeginQuery call is correct so it can be changed to check for this.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.fragment.begin_query  Change-Id: Idadf129c6a036570f6e28857bdb24ffc11eeebe8 Reviewed-on: https://chromium-review.googlesource.com/356363 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Skip Texture2DTestES3.UnpackSkipImages2D test on Adreno Android GLES  Due to a bug in Adreno glTexImage2D with GL_UNPACK_SKIP_IMAGES.  BUG=angleproject:1429 TEST=Texture2DTestES3.UnpackSkipImages2D  Change-Id: Iccb4cc968915a623f0aed099b81e759c6e4343f7 Reviewed-on: https://chromium-review.googlesource.com/356494 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Skip SamplerInStruct AsFunctionParameter tests on Adreno Android GLES  Due to Adreno bug in compiling struct function parameter in shader.  BUG=angleproject:1427 TEST=SamplerInStructAsFunctionParameterTest      SamplerInStructArrayAsFunctionParameterTest      SamplerInNestedStructAsFunctionParameterTest  Change-Id: I979312885f2047e78b61530c97703854a4be1586 Reviewed-on: https://chromium-review.googlesource.com/356125 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Add android_angle_rel_ng to ANGLE CQ  Swarmed Nexus 5X bot. Mirroring Android Release (Nexus 5X) from chromium.gpu.fyi  BUG=chromium:617848 chromium:534814  Change-Id: I773c6accd3b4023822ddb165556e3af11ff5c6b1 Reviewed-on: https://chromium-review.googlesource.com/356470 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Andrii Shyshkalov <tandrii@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
On Desktop GL require index-constant sampler array indexing  BUG=598924  Change-Id: If97dbaa782595997b815c70d14f079e0f0c3d82a Reviewed-on: https://chromium-review.googlesource.com/356710 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Update bug IDs for some shadow sampler failures.  BUG=angleproject:1436  Change-Id: I4f6c2eaf4bcb2f85fe31c0e0112c0a9651d4ad70 Reviewed-on: https://chromium-review.googlesource.com/357161 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update bug IDs for some shadow sampler failures.  BUG=angleproject:1435  Change-Id: I4964c84f76991c156dfe49c99dae873ab451c8ab Reviewed-on: https://chromium-review.googlesource.com/357151 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix validating non-square matrix compound multiplication  The validation previously checked that two matrices in compound multiplication are the exact same size which isn't correct for non-square matrices introduced in ESSL 3.00.  Instead check that the matrix multiplication is valid and that the resulting value has the same number of columns as the lvalue. The number of rows in the result is taken from the lvalue so it doesn't need to be checked.  BUG=angleproject:1431 TEST=angle_unittests  Change-Id: I6f32b7dc037d72c3c5cfdfffcda5d996e8450283 Reviewed-on: https://chromium-review.googlesource.com/356411 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Require libdrm only if use_ozone=1.  This is more accurate and doesn't break platforms with no pkgconfig e.g. Android.  BUG=angleproject:1297 CQ_INCLUDE_TRYBOTS=tryserver.chromium.linux:linux_chromium_gn_chromeos_rel;tryserver.chromium.android:android_compile_dbg  Change-Id: Iafbd66a5e81467d2a5431c3bb1ddd26a837888e7 Reviewed-on: https://chromium-review.googlesource.com/356481 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Fix Image11::copyFromFramebuffer for emulated texture formats.  Simply using the ReadPixels code paths to unpack the framebuffer into a texture was insufficient for handling cases like LUMA or RGB textures that are emulated with RGBA textures in D3D11.  Instead read the framebuffer's data into a buffer and then use the loading functions which are aware of the emulated formats to write the data to the destionation.  Fix LUMA format structure's logic for reading colors.  They aren't supposed to do any averaging logic.  BUG=angleproject:1095 BUG=483282  Change-Id: Iad91d193d4c824573d9e9cafd28cf456d2de8be5 Reviewed-on: https://chromium-review.googlesource.com/354482 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
TextureD3D: No-op on zero-sized CompressedTexImage.  TEST=deqp/functional/gles3/negativetextureapi.html  BUG=483282  Change-Id: Ifd9674c2d29dc7e3a5e620b7a043cdb38a923ca0 Reviewed-on: https://chromium-review.googlesource.com/356680 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Refactor depth/stencil blit code.  Blit11 refactorings enable re-using some code for multisample resolve blits. Also some Renderer11 refactorings to use TextureHelper11 make the code more flexible for the multisample resolve to come later.  BUG=angleproject:1246  Change-Id: Id0c168cef75b0f487cb3995a906f6473989edcd5 Reviewed-on: https://chromium-review.googlesource.com/354420 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't unpack un-referenced varyings in the pixel shader.  Transform feedback varyings that were optimized out were still being unpacked causing HLSL compilation failures.  This was triggering failures in the conformance2/state/gl-object-get-calls.html test.  BUG=angleproject:1422  Change-Id: I297cccd5b99435dfb69a3c2b0fd3086b6ddf0b3a Reviewed-on: https://chromium-review.googlesource.com/354590 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
FramebufferD3D: Only make sure that enabled attachments are not the same.  It's acceptable to have the same object attached to muliple framebuffer attachments if they are not being drawn to.  This was triggering failures in the conformance2/state/gl-object-get-calls.html test.  BUG=483282  Change-Id: If088ccd9b1189f060dfa33ebbe4d82f1f47559b0 Reviewed-on: https://chromium-review.googlesource.com/354570 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Skip GLSLTest_ES3.InitGlobalArrayWithArrayIndexing on Adreno Android GLES  Due to Adreno compilation failure of two arrays in single line declaration.  BUG=angleproject:1428 TEST=GLSLTest_ES3.InitGlobalArrayWithArrayIndexing  Change-Id: I05d7c6b3a0eef8c879edf4d9cf24cdec0a2a403c Reviewed-on: https://chromium-review.googlesource.com/356217 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make bucket names explicit in cq.cfg.  Don't assume bucket name to start with 'master.'.  NOTRY=True BUG=chromium:617627  Change-Id: I4e634fd2f485ac06c8e06af2de0cd86dbf425e9b Reviewed-on: https://chromium-review.googlesource.com/355990 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add ozone display gn build.  Pick up ozone source when use_ozone = true. Don't link X11 unless use_x11 = true.  BUG=angleproject:1297 CQ_INCLUDE_TRYBOTS=tryserver.chromium.linux:linux_chromium_gn_chromeos_rel  Change-Id: I94e6242189646c8a18b00436294bccdd4c5a8785 Reviewed-on: https://chromium-review.googlesource.com/352251 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Fix rounding problem for SwapChainPanel size.  BUG=angleproject:1421  Change-Id: I08f0fa5f178c8d25cd2b02e75cf92759254aa918 Reviewed-on: https://chromium-review.googlesource.com/355020 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Skip Texture2DTestES3.TextureLuminance16ImplicitAlpha1 on Adreno Android GLES  Due to Adreno bug in GL_HALF_FLOAT support  BUG=angleproject:1420 TEST=Texture2DTestES3.TextureLuminance16ImplicitAlpha1  Change-Id: Id9bc12da21048a557325f076202ec482675320e3 Reviewed-on: https://chromium-review.googlesource.com/354782 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Cast display for eglGetPlatformDisplayEXT().  Cast the second parameter of eglGetPlatformDisplayEXT() to the correct type to stop compiler complaining.  BUG=angleproject:1297  Change-Id: I37260edbd0fb6b92c24b556b15ea8206295e12d4 Reviewed-on: https://chromium-review.googlesource.com/354740 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Ozone null pointer checks.  Check for null pointers so DisplayOzone::terminate() doesn't crash when DisplayOzone::initialize() wasn't completely successful.  BUG=angleproject:1419  Change-Id: I70e994490a7282083d5289e6c35b077676688b65 Reviewed-on: https://chromium-review.googlesource.com/354700 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Add Code of Conduct link to ANGLE README  Change-Id: Ie30394aaef8343e039118bac1cb69caa771a5a4e, 15312978, 382, 105, 382
translator: Fix use-after-free with DepthRange.  Because this builtin uses a structure certain shaders could trigger the mangled name to be allocated during normal shader compilation. Then when the scope is popped the mangled name for DepthRange is freed and we're left with a dangling pointer.  Fix this temporarily by enforcing mangled name construction when we initialize the builtins but we should look for a more robust and future-proof fix.  BUG=620937  Change-Id: If130c8b48a18054502abaec08f10264f282b4925 Reviewed-on: https://chromium-review.googlesource.com/354494 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Antoine Labour <piman@google.com> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Include what you use  mbstowcs needs stdlib.h header on mipsel  BUG=  Change-Id: Ia93d0a877b2e22d5c1c461f0dea9999ede725520 Reviewed-on: https://chromium-review.googlesource.com/354020 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "use_ozone=1 for ANGLE CQ."  This reverts commit 13511a9ccd1ec35a4ddd17fa44f590125bbe0c95.  Change-Id: Ic5a91d14b59204c5667940797742bc55a137f177 Reviewed-on: https://chromium-review.googlesource.com/354706 Reviewed-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
use_ozone=1 for ANGLE CQ.  Add tryserver.chromium.linux:linux_chromium_gn_chromeos_rel to ANGLE CQ to build test with use_ozone=1.  BUG=angleproject:1412  Change-Id: Ib4e851b95f7cfbb7099b531affccd14f08418725 Reviewed-on: https://chromium-review.googlesource.com/352318 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
[Mac/GN] Properly set the install_name and rpath for shared_library targets and their consumers.  BUG=621932 R=cwallez@chromium.org  Change-Id: I10b0fd5a668d74b7062747002bc48ef0e0a6df9c Reviewed-on: https://chromium-review.googlesource.com/354302 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add dEQP suppressions for two failing tests.  BUG=angleproject:1418 BUG=angleproject:1340  Change-Id: I8930845a2d398440a78b2569daaf655b51a30ee9 Reviewed-on: https://chromium-review.googlesource.com/354261 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix suppression for Intel.  BUG=None  Change-Id: I3e2e7e845e9ad3814f7d85e56c12023a5e2ef0df Reviewed-on: https://chromium-review.googlesource.com/354104 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix warning about unused local variable.  BUG=angleproject:1382  Change-Id: I63925fb7eeff2bdab26c1e541afd9cd1851485e6 Reviewed-on: https://chromium-review.googlesource.com/354083 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll dEQP cc0ded6c77267b..cd361df193e7535b9  https://android.googlesource.com/platform/external/deqp/+log/cc0ded6c77267b..f4f3d8079e7a37d7  BUG=None  Change-Id: I863f81d2c4c3f48862cb821b23c38266987a82a2 Reviewed-on: https://chromium-review.googlesource.com/340260 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't emit shader_texture_lod and draw_buffers extensions in core profile shader.  BUG=angleproject:1416 TEST=conformance/extention/ in core profile R=jmadill@chromium.orggeofflang@chromium.orgcwallez@chromium.org  Change-Id: I89b815929535586a2e90489129a1c6692bb87b3c Reviewed-on: https://chromium-review.googlesource.com/353820 Tryjob-Request: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Commit-Queue: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix incorrect PathParameter overload being called.  BUG=angleproject:1382  Change-Id: I9fd6e20b9487f9d7817865bc9129a60fc833d0ca Reviewed-on: https://chromium-review.googlesource.com/354030 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix float-to-int conversion warnings in the path rendering tests.  BUG=angleproject:1382  Change-Id: I586cd4a03d06a6ec87b6a57342b7f8d0ed0d9cd8 Reviewed-on: https://chromium-review.googlesource.com/354031 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update the dEQP test expectations  BUG=angleproject:1092 BUG=angleproject:1095 BUG=angleproject:1323  Change-Id: I58550f841febbfdf45133707f72e7f3a62b20a1c Reviewed-on: https://chromium-review.googlesource.com/353343 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Suppress a Wintel/OpenGL failure on a new test.  BUG=angleproject:1388  Change-Id: I4d346ca3c6914e56055aa6492d9d013634a1b9ad Reviewed-on: https://chromium-review.googlesource.com/353693 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support CHROMIUM_path_rendering  This is partial support for CHROMIUM_path_rendering and implements basic path management and non-instanced rendering.  BUG=angleproject:1382  Change-Id: I9c0e88183e0a915d522889323933439d25b45b5f Reviewed-on: https://chromium-review.googlesource.com/348630 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added Sami Väisänen (Nvidia) to CONTRIBUTORS  Change-Id: I791fd7c4e145c37d0173e23cf57f937f802c26ea Reviewed-on: https://chromium-review.googlesource.com/353701 Reviewed-by: Sami Väisänen <svaisanen@nvidia.com> Commit-Queue: Sami Väisänen <svaisanen@nvidia.com>, 15312978, 382, 105, 382
Skip ReadPixelsPBOTest.SubDataOffsetPreservesContents on Adreno Android GLES  Due to either Adreno bug in glBufferSubData or generic Android bug in ANativeWindow_setBuffersGeometry.  BUG=angleproject:1415 TEST=ReadPixelsPBOTest.SubDataOffsetPreservesContents  Change-Id: If55f6ad4eacde98cfdbc46a61cc9fb479b779297 Reviewed-on: https://chromium-review.googlesource.com/353396 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Skip ReadPixelsTest.OutOfBounds on Adreno Android GLES  Due to Adreno bug in glReadPixels  BUG=angleproject:1413 TEST=ReadPixelsTest.OutOfBounds  Change-Id: I2fd426bc6d21f5d9604ca32ad34dd8841cbb9a3e Reviewed-on: https://chromium-review.googlesource.com/353363 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
translator: Fix builtin function emulator use-after-free.  We were calling the global pool allocator in the builtin function emulator which would lead to us freeing TTypes that were still referenced. Fix this by using the TCache which was designed for such a purpose and locking the allocator around the builtin function emulator to try and prevent similar bugs from creeping in.  Eventually we would like to get rid of the global allocator and replace it with different pools in different contexts which are managed more safely.  BUG=620937  Change-Id: If501ff6ea4d9bf8a2b8f89f2c94a01386f79ee3a Reviewed-on: https://chromium-review.googlesource.com/353671 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Set GERRIT_SQUASH_UPLOADS to False.  ANGLE uses a workflow where we upload stacks of dependent patches to Gerrit. The Chromium workflow has squashed by default for a long time so the infra team is planning to switch to squash by default. This change will preserve our workflow.  See http://crbug.com/611892  BUG=None  Change-Id: I62ab7a26d5bd899fbb8c48a1aced7d044640a66a Reviewed-on: https://chromium-review.googlesource.com/353039 Reviewed-by: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
Cache Framebuffer completeness.  Improves performance on the render-to-texture microbenchmark by ~3x on the OpenGL back-end. Wipes out several of the top profling hotspots on that benchmark.  BUG=angleproject:1388  Change-Id: I6a35a0b435b2ed3c83d32acdb9df090df98214ad Reviewed-on: https://chromium-review.googlesource.com/348957 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Fix readback of BGRA-backed formats."  This reverts commit 230d95616d1309914a6703e27a797a440806dd02.  This broke GLES2ConformTest.GL2Tests_framebuffer_objects_input_run on the NVIDIA Win8 Chromium bots.  BUG=chromium:620908  Change-Id: Idf6e3eb51483ff0b6bc758b95c5910863ddfc25f Reviewed-on: https://chromium-review.googlesource.com/353394 Reviewed-by: John Bauman <jbauman@chromium.org> Commit-Queue: John Bauman <jbauman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Varying invariance must match between shaders in ESSL 1.00  While in ESSL 3.00 invariant is allowed only for out varyings. Verify that and update test expectations.  BUG=angleproject:1293 TEST=GLSLTest*.Invariant*  Change-Id: I5cab6c68f2b94ea2179719119668d905fe7a9b3d Reviewed-on: https://chromium-review.googlesource.com/352743 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Shader versions must match.  Per GLSL_ES_Specification_3.00.4 paragraph 3.3 Version Declaration: "Shaders declaring version 3.00 of the shading language cannot be linked with shaders declaring version 1.00."  BUG=angleproject:1361 TEST=GLSLTest_ES3.VersionMismatch  Change-Id: Icee672b798dcdb41a189e4a6459c4e643daf1fa6 Reviewed-on: https://chromium-review.googlesource.com/353182 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Replace github.com/MsOpenTech/angle URLs with github.com/Microsoft/angle, 15312978, 382, 105, 382
D3D11: Fix readback of BGRA-backed formats.  For some BGRA-backed formats (RGBA4 R5G6B5 RGB5A1) our ReadPixels implementation wasn't aware the BGRA format didn't exactly match the RGBA format. For these it would do the 'fast path' memcpy method when it should stop and do the slow pixel-by-pixel packing method.  BUG=angleproject:1407 BUG=chromium:616176  Change-Id: Ie24758513af6f9ef87f0aa503135456c96493701 Reviewed-on: https://chromium-review.googlesource.com/352252 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
perf_tests: Work around stalls in gl_null test teardown.  The Clear command in the draw call benchmark was not being properly no-op'ed. This would cause the driver to get a huge queue of GL command which it would only flush when the test was torn down. This manifested as a 5+ second stall on test teardown.  Looking at the clear command it does some work with binding and then calling GL functions so properly filtering out the driver commands would be a bit more complicated. For now we can hack in a workaround for the draw call test (the only one that uses the GL NULL renderer at the moment) to not call clear when it would give us problems.  BUG=620687  Change-Id: I64a2ed1883e8d3bf0d4c423c8bce0902ae9bf8df Reviewed-on: https://chromium-review.googlesource.com/352828 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix unpacking overlapping unpack buffer rows on NVIDIA GL  When unpack parameters are set so that rows being read overlap in the unpack buffer stored in GPU memory NVIDIA GL driver may not upload the last pixels of the last one or more rows of a texture. The driver may also crash when the amount of overlap is high.  This issue affects both TexImage* and TexSubImage* calls.  Work around the issue by uploading textures row by row when the rows being read overlap in the unpack buffer. The workaround could possibly be optimized by uploading several of the first rows with a single call in some cases where the amount of overlap is low but this is expected to be a rarely used corner case so the added complexity that the optimization would create seems like a bad tradeoff.  The issue does not seem to be triggered when the layers (images) of a 3D texture overlap as long as the rows inside the images don't.  The workaround has been ported from Chromium.  This patch adds setting dirty bits when unpack state is set in StateManagerGL.  The included test case also reveals some issue in the D3D backend but this is left to be addressed later.  BUG=angleproject:1376 TEST=angle_end2end_tests  Change-Id: I7dbe73ebb70bbbc284fa92381546f4f2f832d333 Reviewed-on: https://chromium-review.googlesource.com/346430 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Prevent DXGI hooking the Alt+Enter keystroke  When ANGLE is using D3D11 and not using DirectComposition DXGI will hook the window's message loop and override Alt+Enter to trigger a transition to exclusive fullscreen mode. This disables that behaviour since it's inconsistent between backends and at least during my testing the application did not even work correctly after the transition to fullscreen mode.  This commit should be similar to the workarounds implemented in Qt and mpv to prevent this behaviour and will hopefully make those workarounds unnecessary. Only the DXGI_MWA_NO_ALT_ENTER flag is used since the other flags didn't seem to have an effect and probably only matter in fullscreen mode.  BUG=angleproject:1414  Change-Id: Icb70c2c1405225619dcb27c5ffc9472fddd1157b Reviewed-on: https://chromium-review.googlesource.com/352950 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Validate that unpack skip is in bounds  Unpack skip needs to be taken into account when determining which part of the unpack buffer is read. This is now done in the out-of-bounds check when validating texture upload calls.  Unpack skip code is removed from D3D9 backend since skip is not supported in GLES2.  BUG=angleproject:1411 TEST=angle_end2end_tests  Change-Id: I0db4db0877a352613c57e2820e5b650edb5a73ab Reviewed-on: https://chromium-review.googlesource.com/352450 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Don't allow returning a struct containing an array in ESSL 1.00  ESSL 1.00.17 section 6.1 forbids this. Returning arrays was already covered by the checks that disallow declaring array types in ESSL 1.00.  BUG=angleproject:1015 TEST=dEQP-GLES2.functional.shaders.functions.* (2 new tests pass)      dEQP-GLES3.functional.shaders.functions.* (no regression)  Change-Id: Iaffa1631c0c940afb57819221e7e8603b2305021 Reviewed-on: https://chromium-review.googlesource.com/352920 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make Framebuffer::checkStatus non-const.  BUG=angleproject:1388  Change-Id: Ia9befba0c915c087f2fe0557d91060256f6d4950 Reviewed-on: https://chromium-review.googlesource.com/348955 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix uploading RGB10A2 data to RGB5A1 textures.  WebGL test: textures/misc/tex-new-formats  BUG=angleproject:1407 BUG=chromium:616176  Change-Id: I7b557587c1ea0861bcac327a370480b36f679794 Reviewed-on: https://chromium-review.googlesource.com/351170 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix loading of RGB5A1 data from RGBA8.  BUG=angleproject:1407 BUG=chromium:616176  Change-Id: I2b88616b6b72dd9caf07fac8ebba9a065cf2983f Reviewed-on: https://chromium-review.googlesource.com/350907 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix loading of RGBA8 data to RGB565.  BUG=angleproject:1407 BUG=chromium:616176  Change-Id: I663d265abfabb88a5aca8ca0002d2cbc29f6b069 Reviewed-on: https://chromium-review.googlesource.com/350906 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix native EGL library loading on Android.  Takes care of non-component Clank build and 64 bit.  BUG=angleproject:1362 TEST=angle_end2end_tests  Change-Id: Ib338734960c6ac378ae49028ae30416bff31ac2a Reviewed-on: https://chromium-review.googlesource.com/352710 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix loading of RGBA4 textures for ubyte.  BUG=angleproject:1407 BUG=chromium:616176  Change-Id: Ibb7c5e71b4cf8afe7b7d0092e7d019b87d507ba6 Reviewed-on: https://chromium-review.googlesource.com/350905 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a perf test for render-to-texture.  This perf test focuses on the hotspot we have in Framebuffer:: checkStatus. It's exactly the same as the standard draw call benchmark but binds a Framebuffer before rendering.  BUG=angleproject:1388  Change-Id: Icc7a99e399f469d765bf1ac6abe0562977b9a39d Reviewed-on: https://chromium-review.googlesource.com/348956 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up parsing function headers  Move function header parsing code to ParseContext instead of having it in the grammar file. This commit is pure refactoring. This code needs to be changed later to detect returning arrays containing structs.  This commit also disables clang format for glslang.cpp generated by bison.  TEST=angle_unittests BUG=angleproject:1015  Change-Id: If60848ca32da6b98ea8bcd95bba8c3f831634b51 Reviewed-on: https://chromium-review.googlesource.com/352480 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add RAII helpers for GL tests.  These methods can obviate the need for glGen/Delete calls in tests.  BUG=angleproject:1407  Change-Id: Ied571e48db92bd1d4f4089d91a95e7c7fafcfcaf Reviewed-on: https://chromium-review.googlesource.com/350904 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Context: Remove mutable gl::State getter.  This will preserve layering - the API layer doesn't mutate the state directly it passes the API call through to the Context. Is also removes the possiblity of any shenanigans of the Validation layer changing the GL state.  Also this CL refactors a few validation entry points to take ValidationContext instead of Context. ValidationContext will be the correct way to interact with the gl::Context in the Validation code.  Finally additional refactorings make ContextState a proper class with private data. This allows the ContextState itself to keep a mutable pointer to the gl::State so ValidationContext can modify it if necessary (and it will be necessary for Framebuffer completeness caching).  BUG=angleproject:1388  Change-Id: I86ab3561573caa9535c8d1b8aad4ab3d0e7cd470 Reviewed-on: https://chromium-review.googlesource.com/348954 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add missing EXT_disjoint_timer_query entry points to eglGetProcAddress.  BUG=angleproject:1405 BUG=angleproject:1265  Change-Id: I823e1393943f7531374c094ce590fa0a6f49d213 Reviewed-on: https://chromium-review.googlesource.com/351776 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor more GL entrypoints.  In the next CL the Context is going to remove the mutable getter for the gl::State. This means we can only mutate the state inside Context. So we need to move all the state mutating GL command implementations to gl::Context.  BUG=angleproject:747 BUG=angleproject:1388  Change-Id: I9ed351d08611934bf708781c6af3948396921593 Reviewed-on: https://chromium-review.googlesource.com/351171 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix buildbreak on Linux GCC  Add virtual destructor to SignalReceiver.  class angle::SignalReceiver has virtual functions and accessible non-virtual destructor. This generates a compile error.  Change-Id: Iced2ee94ad9268ab5c1d00ab336ab2cc98385afc Reviewed-on: https://chromium-review.googlesource.com/351930 Reviewed-by: Sami Väisänen <svaisanen@nvidia.com> Commit-Queue: Sami Väisänen <svaisanen@nvidia.com>, 15312978, 382, 105, 382
Do not apply UNPACK_SKIP_IMAGES for 2D textures on D3D  Resubmitted with test skip added for Intel OpenGL.  GLES 3.0.4 section 3.8.3:  "For the purposes of decoding the texture image TexImage2D is equivalent to calling TexImage3D with corresponding arguments and depth of 1 except that UNPACK_SKIP_IMAGES is ignored."  An "applySkipImages" boolean parameter is added to the functions in the D3D backend that apply skip offset to the unpack pointer. In case 2D texture data is uploaded the parameter is set to false and UNPACK_SKIP_IMAGES is not applied.  BUG=angleproject:1406 TEST=angle_end2end_tests  Change-Id: I5878439e3d38dbae89cc2452a056c2d6bbf9e0b3 Reviewed-on: https://chromium-review.googlesource.com/351330 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Do not apply UNPACK_SKIP_IMAGES for 2D textures on D3D"  The Windows Intel GPU FYI bot started failing the Texture2DTestES3.UnpackSkipImages2D/ES3_OPENGL test after this CL. Example: https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28New%20Intel%29/builds/866  This reverts commit ac3575b27296398baebeb6c891871c6dac7df338.  Change-Id: I5120261f5cf1ece9b21e4a94f63f85e014d2d8e4 Reviewed-on: https://chromium-review.googlesource.com/351280 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor how we signal dependent state changes.  Dependent state changes happen when the user calls TexImage on a Texture attached to a Framebuffer. The Framebuffer should be told 'hey you should know about this'. Other objects also have dependent relationships like VertexArrays and Buffers.  This refactoring uses a binding pointer design similar to the type 'RefCountObject'. This design fixes the need for manual decoupling when one or the other is destroyed. The pointers are cleaned up in destructors and do no-ops when either the source or dest is missing.  Also move these new classes to a location where they are accessible to the GL layer; they will be important for framebuffer completeness.  BUG=angleproject:1388  Change-Id: I92610acb85dae6f9c009b8f071e121fde53782ae Reviewed-on: https://chromium-review.googlesource.com/348953 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move ReadPixels logic to helper methods.  These routines were pretty much duplicated between D3D9 and D3D11. Since I was going to have to rewrite them again for Vulkan I figured it would be best to move them into a common location and clean them up a bit.  BUG=angleproject:1319  Change-Id: I15d39b052daf3e1020dbd0880f01ae84f3686a0a Reviewed-on: https://chromium-review.googlesource.com/349630 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Simplify load function table init.  Now that C++11 constructor syntax is allowed we can use a much simpler scheme.  BUG=angleproject:1407 BUG=chromium:616176  Change-Id: Ida5f235c3ed1429564af5213a5fead6c3b896080 Reviewed-on: https://chromium-review.googlesource.com/350903 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an error check to ANGLE DLL update script.  BUG=None  Change-Id: I6fdcb8c436f35b9e3aa284760063f27e04e15a48 Reviewed-on: https://chromium-review.googlesource.com/350902 Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Do not apply UNPACK_SKIP_IMAGES for 2D textures on D3D  GLES 3.0.4 section 3.8.3:  "For the purposes of decoding the texture image TexImage2D is equivalent to calling TexImage3D with corresponding arguments and depth of 1 except that UNPACK_SKIP_IMAGES is ignored."  An "applySkipImages" boolean parameter is added to the functions in the D3D backend that apply skip offset to the unpack pointer. In case 2D texture data is uploaded the parameter is set to false and UNPACK_SKIP_IMAGES is not applied.  BUG=angleproject:1406 TEST=angle_end2end_tests  Change-Id: Iedc2b05377adee8d5c2504511a87421f4b1db18d Reviewed-on: https://chromium-review.googlesource.com/350465 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Revert "Use MapBufferRangeWithFallback in VertexArrayGL::streamAttributes""  This reverts commit 8b8d043205a69802be7579bd90798162f34740b2.  Change-Id: I25726642d066ca322830d1f5a4327f4e7e551fa6 Reviewed-on: https://chromium-review.googlesource.com/350870 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix unpack parameter validation.  BUG=angleproject:1397  Change-Id: Icdfc99eefcfad730ec887b82ec0758a6d6c0b9a7 Reviewed-on: https://chromium-review.googlesource.com/348064 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Use MapBufferRangeWithFallback in VertexArrayGL::streamAttributes"  This reverts commit c88d8354479c2e8021ceacebed1450d509cf8ffa.  Likely causing failures on Linux webgl tests: http://build.chromium.org/p/chromium.gpu.fyi/waterfall?builder=Linux%20Release%20(New%20Intel)  Change-Id: I0294f7f544c666ee7db13c4f7acae868c6bd2240 Reviewed-on: https://chromium-review.googlesource.com/350530 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix MSVS x64 build  EGLAttrib can be a 64-bit type on some configurations in which case it needs an explicit cast to be converted to EGLint.  TEST=standalone MSVS 2015 x64 debug build  Change-Id: I6b3e0ae705e8862e079e81e516d6bf99409732e7 Reviewed-on: https://chromium-review.googlesource.com/350411 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll Cherry.  This fixes a bug preventing Cherry from running on Windows.  BUG=None  Change-Id: I0049005093e5abb7a7fd2c5b125e8133c0e0cab5 Reviewed-on: https://chromium-review.googlesource.com/350402 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Translate requirements of GL_EXT_draw_buffers to GL_ARB_draw_buffers.  GL_ARB_draw_buffers adds special semantics when writing to gl_FragData even if multiple renderbuffers is part of the core spec so it needs to be declared in the translated shader.  BUG=617410  Change-Id: Id5524634c278ba303413b11251d560744f2517ca Reviewed-on: https://chromium-review.googlesource.com/350121 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Android GL backend and end2end tests  Just the bare minimum implementation for end2end tests to run.  BUG=angleproject:1362 TEST=angle_end2end_tests on Nexus 5X  Change-Id: I92293e0f8bdc2ffaa5d4661927750d7cb3d931e6 Reviewed-on: https://chromium-review.googlesource.com/349353 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Vulkan: Hook up Renderer create functions.  Do this in a separate CL to preserve the renderer generation.  BUG=angleproject:1319  Change-Id: I6d5768f199f6aabff747b3708c0625ff78e1ceb0 Reviewed-on: https://chromium-review.googlesource.com/349424 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove const qualifier from generateConfigs  Requested in https://chromium-review.googlesource.com/349353  BUG=angleproject:1362  Change-Id: I989757c2fb8f65d5afcfb177b7f8da1414871e6f Reviewed-on: https://chromium-review.googlesource.com/349694 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
README.md group links by purpose and add Gerrit there  Change-Id: Icb15891d4325ad1724647f5d6faf0d17fbb50269 Reviewed-on: https://chromium-review.googlesource.com/349470 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use MapBufferRangeWithFallback in VertexArrayGL::streamAttributes  Otherwise end2end tests crash on Nexus 5X because Adreno driver doesn't provide glMapBuffer.  BUG=angleproject:1362 TEST=angle_end2end_tests on Nexus 5X and Linux  Change-Id: I6207eca2d0e03eee957bb612271a66016fd562bb Reviewed-on: https://chromium-review.googlesource.com/349421 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Add how to update working copy after change is submitted  Change-Id: I387249d29822d91a6126f6c25cb35e8b80cb4c36 Reviewed-on: https://chromium-review.googlesource.com/349460 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move getSwapBehavior call to be after SurfaceImpl initialize  Otherwise end2end tests crash on Nexus 5X since the underlying EGL surface doesn't exist at the time of getSwapBehavior call.  BUG=angleproject:1362 TEST=angle_end2end_tests on Nexus 5X  Change-Id: I550e46ee82592b9d1ea49a3c968d7ffad3ab06f7 Reviewed-on: https://chromium-review.googlesource.com/349430 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Fix GL_KHR_debug extension functions names  Otherwise running end2end tests on Nexus 5X crashes.  BUG=angleproject:1362 TEST=angle_end2end_tests on Nexus 5X  Change-Id: I063d9f9836a1575cbf0abe361dbf8b2c1492105d Reviewed-on: https://chromium-review.googlesource.com/349420 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Pass depth to computeBlockSize.  This was very wrong for 3D textures.  BUG=angleproject:1384  Change-Id: I7f042449e30e1e909778c0524d1ce99d20ddfd65 Reviewed-on: https://chromium-review.googlesource.com/348063 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add base::numerics for safe math and conversions.  This replaces are "IsUnsignedXXXSafe" family of methods. Also add overflow checks to unpack block sizes.  BUG=angleproject:1397  Change-Id: Ib47be149b0486c70f795b0d0f8899441faac9340 Reviewed-on: https://chromium-review.googlesource.com/348062 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ProgramGL: translate location in setUniform1uiv  BUG=angleproject:1401  Change-Id: I5d08ecb2d4090e4be049dc6d25fc2ea17911ff2c Reviewed-on: https://chromium-review.googlesource.com/349011 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add cmdline help to commit_id.py  Change-Id: I2b87e0b60f40d345388562e33ed8eb7010adf186 Reviewed-on: https://chromium-review.googlesource.com/349040 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Roll buildtools.  This will include a new clang-format for standalone ANGLE.  BUG=None  Change-Id: Ia4a888c77487d03c2c83989c5f565dea993d5a06 Reviewed-on: https://chromium-review.googlesource.com/348374 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix CopyTexture for ES3 types.  We were passing a sized format and indexing a table which expects unsized.  BUG=angleproject:1384  Change-Id: I69eb8e3d66cfb2178e3a7a4ddb93a54f47bbc938 Reviewed-on: https://chromium-review.googlesource.com/347249 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Try more to use ANGLE_TRY.  Also refactor the Renderer11::copyImage functions to share code.  BUG=angleproject:1384  Change-Id: I95f4266c0c9b67a13cba17797989fcc0b0d50c1d Reviewed-on: https://chromium-review.googlesource.com/347248 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix README.md for commonmark with small edits  Change-Id: Id7ed37945744a083e6eb5b6a792f8379b7b98bac Reviewed-on: https://chromium-review.googlesource.com/348200 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable Release ASSERT in ANGLE.  This will mainly affect the Chromium bots.  BUG=angleproject:790  Change-Id: I0c4318e83eedba851f15b3b139551cdb6a2fde12 Reviewed-on: https://chromium-review.googlesource.com/346103 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
doc/ContributingCode.md add more links needed at given context  Change-Id: I331ac7b24fd35735a0822a6b86ece66e1847f475 Reviewed-on: https://chromium-review.googlesource.com/347130 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove usage of auto_ptr in MacroExpander  BUG=angleproject:1269  Change-Id: I1fafa102b065f6da1797e8790ec3ed498d9d8b45 Reviewed-on: https://chromium-review.googlesource.com/339379 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix use-after-free when deleting share contexts.  The pattern of gen context share context free context then allocate a shared GL object in the second context would cause a use-after-free of the ContextImpl as a GLFactory. Fix this by passing the factory as a parameter to the resource manager allocation methods instead of storing the factory pointer. This allows the same ResourceManager to work with separate Context implementations which will work with non-virtual contexts.  BUG=612931  Change-Id: Ifceeb893bebd072f318963d935ff9d17181f5305 Reviewed-on: https://chromium-review.googlesource.com/347463 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add Vulkan stubs.  Currently enabled for Windows by default.  BUG=angleproject:1319  Change-Id: I87921c579bee466465fb1e3f629bb3a40fdff659 Reviewed-on: https://chromium-review.googlesource.com/328730 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix Renderer generator script.  This script breaks peridocially because we don't have automated tests for it. Split the FBO attachment object class into its own file and also fix a couple other small snags that prevented the script from running.  This will facilitate generating Vulkan renderer stubs.  BUG=angleproject:1319  Change-Id: I30a6ce4ab0adad962cea76731dbe82837c5c9a1b Reviewed-on: https://chromium-review.googlesource.com/347064 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement GL_EXT_texture_norm16 extension  BUG=angleproject:1365  Change-Id: I972b156ecb41ff44bc1f6365373ab386bacc85f1 Reviewed-on: https://chromium-review.googlesource.com/346530 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: make the Mesa context creation workaround Mesa specific.  BUG=598902  Change-Id: Ib2ca69fb3573dbd0df3dafb4caec0500c7a8aa3b Reviewed-on: https://chromium-review.googlesource.com/347071 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable always-available extensions in gl::Context.  We can consolidate exposing these extensions in initCaps. Otherwise we have to maintain the lists in every Renderer back-end.  Also do the same treatment for select egl::Display extensions.  BUG=angleproject:1319  Change-Id: I529dd120c6d2cdbb789bd9dd20491e796e97f3f6 Reviewed-on: https://chromium-review.googlesource.com/345914 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add the ChromeOS trybot to the CQ config.  BUG=angleproject:1347  Change-Id: I93266da474909352a4b83de52cffde82687bda86 Reviewed-on: https://chromium-review.googlesource.com/346735 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix include order for Clang in Renderer11.cpp.  BUG=angleproject:1369  Change-Id: Ie02e7c0b469e148bd8da4499ed560c4907d2a539 Reviewed-on: https://chromium-review.googlesource.com/346891 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
doc/DevSetup.md make lists rendered correctly by Gitiles  Change-Id: Id0dc92373f41b089081202692519adfbc44e0729 Reviewed-on: https://chromium-review.googlesource.com/346680 Reviewed-by: Aaron Gable <agable@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make RendererD3D a bit smaller.  Move some D3D11-specific stuff into Renderer11 and remove a few virtual methods that weren't needed to be virtual.  BUG=angleproject:1369  Change-Id: Id37e7271ffc28b089dbea123dca70f38c1a06ffb Reviewed-on: https://chromium-review.googlesource.com/345913 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Require FL 10.1+ for ES3.  We decided some time ago to make our lives easier and raise the lower bound on the feature level to 10.1 from 10.0. This makes using some multisample samplers easier in HLSL. It is also a very small and poorly suppoted fraction of our userbase.  BUG=angleproject:1381  Change-Id: I25d330a6097f71ec772899d49ff5d3a97c0cb0d2 Reviewed-on: https://chromium-review.googlesource.com/346102 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a shared egl::SurfaceState struct.  This structure can share GL-level properties (immutably) with the implementation.  BUG=angleproject:1369  Change-Id: I1e9406f18b6b88bb7db2a8f87b5e6d547cc7ecb1 Reviewed-on: https://chromium-review.googlesource.com/342061 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix GenerateMipmap when base level or max level are set  According to GLES 3.0.4 section 3.8.10 GenerateMipmap should generate levels based on the base level and generate them at most up to the max level. Levels outside the base/max level range should be unchanged by GenerateMipmap.  The Texture class is fixed so that the image descs are set only for the changed mipmap range when GenerateMipmap is called.  The D3D backend is fixed so that mipmap generation is correctly started from the base level instead of level 0 and making sure that mipmaps are generated only up to the max level. Generating mipmaps for array textures is also fixed for cases where the base level depth >= max(width height) * 2.  The GL backend is fixed to sync texture state before GenerateMipmap is called so that base level and max level are set correctly in the driver.  The GenerateMipmap entry point is refactored so that it has a separate validation function and a context function which does the work. Validation for out-of-range base levels is added.  New tests are added to verify the functionality. One corner case in the tests fails on NVIDIA GL drivers likely due to a driver bug - similar rules for GenerateMipmap are found from newer GLES specs and also OpenGL specs (checked versions 3.3 and 4.4).  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: Ifc7b4126281967fc4f6dc4f9452e5b01e39f83d7 Reviewed-on: https://chromium-review.googlesource.com/344514 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make inheritance heirarchy for egl::Surface.  This will allow us to select the Impl constructor more easily   createWindowSurface  createPbufferSurface  createPbufferSurfaceFromClientBuffer  createPixmapSurface  This in turn lets us pass an EGLImplFactory to the constructor and will allow us to pass in the local SurfaceState to the constructor.  BUG=angleproject:1369  Change-Id: I6b13c1548c54bd5c493d59b68bfdaf55226b6bb5 Reviewed-on: https://chromium-review.googlesource.com/342060 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Try hard to eliminate isError in ValidationEGL.  We were getting a compile warning due to variable shadowing from redeclaring a local egl::Error. Fix this using the ANGLE_TRY macro.  BUG=angleproject:596  Change-Id: I38954bd1c9f171f264d7ecbf58d634ae721296ad Reviewed-on: https://chromium-review.googlesource.com/346092 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix Linux standalone compilation.  simple_texture_2d hello_triangle stencil_operations simple_texture_cubemap fail to compile after https://chromium-review.googlesource.com/342050.  BUG=angleproject:1319 TEST=ninja -C out/Release all  Change-Id: Ib70008036f8688b737f3f40b5224437a7afdea19 Reviewed-on: https://chromium-review.googlesource.com/346121 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Update the dEQP GLES2/3 test expectations  Removed the tests that didn't fail in the latest 20 runs on the bots skipping a couple test categories that are known to flake with a very low probability. Some flakes might still go through and will have to be resuppressed later.  BUG=angleproject:504 BUG=angleproject:1027 BUG=angleproject:1032 BUG=angleproject:1051 BUG=angleproject:1092 BUG=angleproject:1093 BUG=angleproject:1095 BUG=angleproject:1097 BUG=angleproject:1101 BUG=angleproject:1143 BUG=angleproject:1323 BUG=angleproject:1324  Change-Id: I5943cd5bc125c64a45ad383c8bf22e48596a4f7e Reviewed-on: https://chromium-review.googlesource.com/346050 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add build instructions for Linux and MacOS  BUG=angleproject:1368  Change-Id: I2a0852399cdf04192d7e1d11b33b2103aa173354 Reviewed-on: https://chromium-review.googlesource.com/344003 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix determining texture mipmap completeness  The code didn't previously take base level properly into account when determining how many levels to check when checking for texture completeness.  The code is refactored so that the "q" value in spec that is the maximum mipmap level for determining completeness can be queried from TextureState. This value is used now for checking completeness.  This requires moving ImageDescs under TextureState. Functions that operate on the ImageDesc array are also moved from Texture to TextureState. TextureState members are also renamed to start with the "m" prefix and made private.  Also handle levels outside the base/max level range consistently in eglCreateImageKHR validation. We interpret the spec so that if the level used for the EGL image is not a part of the texture levels that affect texture completeness an error is generated.  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: I038ef24aa83e0a6905ca3c0bbada5989eecb00d9 Reviewed-on: https://chromium-review.googlesource.com/344880 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add support for OES_EGL_image_external and OES_EGL_image_external_essl3.  BUG=angleproject:1372  Change-Id: I8489e7fd0ab409b0775041ad5e9fbf0aab53886d Reviewed-on: https://chromium-review.googlesource.com/344734 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix float-to-int conversion warning.  BUG=angleproject:1378  Change-Id: I92b902154432e82a1357e8623426256c4ca53ca3 Reviewed-on: https://chromium-review.googlesource.com/345585 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support CHROMIUM_framebuffer_mixed_samples in the GL backend  BUG=angleproject:1378  Change-Id: I634c41f3507dbdeaa56234c4de1b498f81c848ed Reviewed-on: https://chromium-review.googlesource.com/344520 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Sami Väisänen <svaisanen@nvidia.com>, 15312978, 382, 105, 382
Make Platform errors trigger test failures.  This can be useful in the Vulkan back-end to make validation layer errors cause test cases to fail.  BUG=angleproject:1319  Change-Id: I523f3c874e892a2646600e4c5c554319ed8d770c Reviewed-on: https://chromium-review.googlesource.com/342050 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Apply effective base and max level on GL backend  This works around GL drivers that neglect to clamp the base level or max level of immutable textures.  BUG=angleproject:596 BUG=610800 TEST=angle_end2end_tests  Change-Id: Ie4e04aaa9253f2befd73bccefa7759486b3ef487 Reviewed-on: https://chromium-review.googlesource.com/344590 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Replace rx::Renderer with rx::ContextImpl.  Previously Context had no Impl class but had a special relationship with the instanced Renderer class. Having a ContextImpl backing every Context will allow new designs to enable things like multithreading (where each ContextImpl stores a Context-specific device) or non- virtual Contexts on Android or other platforms where it is more efficient.  A large refactoring patch that touches every back-end.  BUG=angleproject:1363  Change-Id: Icb73a7d37447f08a664eeb499a310ba05d71a57e Reviewed-on: https://chromium-review.googlesource.com/342052 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
gn: Add a missing test.  BUG=chromium:604060  Change-Id: I7e9b8c1bd7cb14daa15575cfcfe9ba3e8a1e6d1b Reviewed-on: https://chromium-review.googlesource.com/344701 Tryjob-Request: Nico Weber <thakis@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Nico Weber <thakis@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up specifying colors and texture scale in MipmapTest  Remove unnecessary scale parameter from MipmapTestES3 and use the GLColor class and EXPECT_PIXEL_COLOR_EQ instead of EXPECT_PIXEL_EQ for greater readability.  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: I79c30ce85be5d554d89197f8f1ce7ab0c51c11b6 Reviewed-on: https://chromium-review.googlesource.com/344513 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
gn/mac: Build GL code and include CGL code.  BUG=chromium:431177  Change-Id: Id9c8ad68a9703591d6f576bfae3d7061526ed27f Reviewed-on: https://chromium-review.googlesource.com/344740 Tryjob-Request: Nico Weber <thakis@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Support EXT_multisample_compatibility in the GL backend  BUG=angleproject:1377  Change-Id: Ie14aceca8e01f1cbc93fd5bd06d986336fb752b3 Reviewed-on: https://chromium-review.googlesource.com/343501 Reviewed-by: Sami Väisänen <svaisanen@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Sami Väisänen <svaisanen@nvidia.com>, 15312978, 382, 105, 382
D3D: Reallocate storage when texture format changes with base level  Different levels of the same texture may have different formats so changing the base level may affect the format that should be used for the storage. Take this into account in the D3D backend.  The added test fails on some GL drivers.  TEST=angle_end2end_tests BUG=angleproject:596  Change-Id: I5380e942694a75685ebb510edb01c0489e0d5179 Reviewed-on: https://chromium-review.googlesource.com/344230 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Share TextureState structure with TextureImpl  This refactoring patch removes the need to pass texture state to methods of TextureImpl in some cases. It also adds target value to TextureState and moves TextureState definition to Texture.h.  The effective base level can now also be queried from TextureState which reduces the need to pass it around.  Two different code paths that dealt with the TextureStorage11 SRV cache are combined into one.  Besides refactoring this patch fixes applying mTopLevel twice when determining the amount of mip levels TextureStorage11.  BUG=angleproject:596 TEST=angle_end2end_tests angle_unittests  Change-Id: I1add3d9ad847bec56774e394125156cf9cb0fc2a Reviewed-on: https://chromium-review.googlesource.com/342940 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
dEQP: Add GL ES display factory.  So we can run dEQP on the GL ES back end.  BUG=angleproject:1371  Change-Id: I7694d766f04997f9ba60ad0dd0bb4b30e714b4ae Reviewed-on: https://chromium-review.googlesource.com/342843 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Suppress and end2end failure caused by a Mesa bug  BUG=610800  Change-Id: I4ee6ba589afc98277c3cf50b8f57afb184b11216 Reviewed-on: https://chromium-review.googlesource.com/343994 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement GL_CHROMIUM_sync_query for D3D9 and D3D11.  BUG=angleproject:1366  Change-Id: Iadde61968f45b969c76578a6dd9116a25d63fb4b Reviewed-on: https://chromium-review.googlesource.com/341230 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Initial Chrome OS support.  Samples and end2end tests mostly work.  Only one config and no input.  BUG=angleproject:1297  Change-Id: I5b69babccc5b97e486d86e1721a0a1740ad80941 Reviewed-on: https://chromium-review.googlesource.com/319460 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Use data_deps to depend on :copy_compiler_dll  This should ensure that d3dcompiler_47.dll is saved into an isolate in chromium as it's used at runtime.  BUG=611235  Change-Id: I64801f00bf90f2be68c7a691724609bbf4d28dfa Reviewed-on: https://chromium-review.googlesource.com/344351 Tryjob-Request: John Bauman <jbauman@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: John Bauman <jbauman@chromium.org> Reviewed-by: Dirk Pranke <dpranke@chromium.org>, 15312978, 382, 105, 382
Regenerate projects after last merge  Change-Id: I4db7f6ef1d8dbcddbd694510b84177cb1feb8dc0, 15312978, 382, 105, 382
Add EGLImplFactory.  Also rename ImplFactory to GLImplFactory.  This will allow us to use the same factory design pattern for EGL objects and to use State helper classes to share data with Impls.  BUG=angleproject:1363 BUG=angleproject:1369  Change-Id: I07a8fe40838d5d4ca32b04910c306edeab4d25a7 Reviewed-on: https://chromium-review.googlesource.com/342051 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable the DXGI WGL swap chain surface on AMD drivers.  BUG=540829  Change-Id: Ib15658c3fd7132068e9eb1e69a7a04720b3e3d6b Reviewed-on: https://chromium-review.googlesource.com/344250 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into ms-master  Conflicts: 	include/EGL/eglext.h 	src/compiler/translator/OutputHLSL.cpp 	src/libANGLE/renderer/d3d/DynamicHLSL.cpp 	src/libANGLE/renderer/d3d/DynamicHLSL.h 	src/libANGLE/renderer/d3d/ProgramD3D.cpp 	src/libANGLE/renderer/d3d/RendererD3D.h 	src/libANGLE/renderer/d3d/d3d11/Framebuffer11.cpp 	src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp 	src/libANGLE/renderer/d3d/d3d11/StateManager11.cpp 	src/libANGLE/renderer/d3d/d3d11/StateManager11.h 	src/libANGLE/renderer/d3d/d3d11/SwapChain11.cpp 	src/libANGLE/renderer/d3d/d3d11/renderer11_utils.h 	src/libGLESv2/entry_points_egl_ext.cpp 	src/tests/angle_end2end_tests.gypi 	src/tests/egl_tests/EGLPresentPathD3D11Test.cpp  Change-Id: Ie1a38fe223c936e207446f9c1c11b02850d86f39, 15312978, 382, 105, 382
Add DEPS.chromium to share dEQP deps with Chrome.  This file will allow ANGLE to update the build files and roll dEQP in the same CL making life a pleasure to live for maintainers.  BUG=chromium:605987  Change-Id: I8f574e80a5f7b176f08a9f51c2369e042cae56b7 Reviewed-on: https://chromium-review.googlesource.com/343010 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
In ES3 validate that depth and stencil are the same image  BUG=605775  Change-Id: I9508c70a588270dae871dde79fea1df1c3fd1558 Reviewed-on: https://chromium-review.googlesource.com/341440 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix the CopyTex validation logic for sized types  Previously we allowed copies to a sized format only if the depth of each component matched (including 0 depth). Now we require that the bit depth of non-empty component matches.  BUG=605775  Change-Id: If8abab886b0da5a1c8e89adabf3809f928dcedce Reviewed-on: https://chromium-review.googlesource.com/340382 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Determine D3D texture storage size with correct base level  The size of the texture storage is now determined by extrapolating the level zero texture dimensions from the base level dimensions. This fixes crashing when images for levels below the base level are not defined and also fixes texture storage dimensions being calculated wrong in case the levels outside the used level range have dimensions that are inconsistent with the dimensions inside the used level range.  Checking texture level completeness in TextureD3D is now done based on the dimensions of the base level and levels that are outside the base level to max level range are not taken into account. Textures are marked incomplete in case their base level is greater than their max level.  Changing the base level can also affect the size of the storage required for the texture. Old storage is now discarded when the base level is changed and the new base level calls for different storage dimensions.  Code in TextureD3D is refactored so that "base level" actually means the base level of the texture specified through the GLES API and "level zero" is used where TextureD3D would sometimes previously use "base level".  Changing either the base level or max level can also affect texture completeness so invalidate the cached completeness in Texture if they are changed.  Some of the added tests are still failing on Intel and NVIDIA OpenGL drivers because of driver bugs. Tests also fail on OSX.  BUG=angleproject:596 TEST=angle_end2end_tests      dEQP-GLES3.functional.texture.* (no regressions)      dEQP-GLES3.functional.shaders.texture_functions.* (no regressions)      dEQP-GLES3.functional.state_query.texture.* (no regressions)  Change-Id: Icd73d6e29f84a341ed5ff36d5ec5cb2f469cb4e8 Reviewed-on: https://chromium-review.googlesource.com/333352 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Disable angle_enable_gl on chromeos  BUG=angleproject:1370  Change-Id: I63e3ee8fc6e08fcd2a908cdca3558af886526cbd Reviewed-on: https://chromium-review.googlesource.com/342740 Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix eglStreamConsumerAcquireKHR  This was incorrectly acquiring every plane to texture 0.  BUG=angleproject:1332  Change-Id: I6df1401b705d903078e2631634b6bf20a07570de Reviewed-on: https://chromium-review.googlesource.com/342513 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Pass ContextImpl to Framebuffer methods instead of ContextState.  BUG=angleproject:1363  Change-Id: I7e7524d95f2ca31c35918f9fe5c0cb681ed93616 Reviewed-on: https://chromium-review.googlesource.com/340746 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a ContextImpl class.  This class can contain impl-specific functionality for a Context. This will eventually replace the Renderer class and we can then start passing around a gl::Context instead of gl::ContextState.  In D3D11 the ContextImpl could hold a DeferredContext which would enable multi-thread rendering. In GL we can implement non-virtual (native) Contexts. In Vulkan it might store the logical device.  BUG=angleproject:1363  Change-Id: I39617e6d1a605d1a9574832e4d322400b09867ec Reviewed-on: https://chromium-review.googlesource.com/340745 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add missing errors specified by OES_EGL_image_external  Previously the code just silently ignored some filtering parameters for external textures when in fact trying to set them should result in an error according to the extension specs.  BUG=angleproject:1332  Change-Id: I3a691b60561638c562bc1a9780a4dcb88ac43012 Reviewed-on: https://chromium-review.googlesource.com/341441 Reviewed-by: Ian Ewell <ewell@google.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add script for updating Canary ANGLE DLLs.  This script makes debugging in Chrome easier on Windows. It scans for the latest set of ANGLE DLLs among many search paths and then copies them to the latest Chrome Canary binary directory. It also backs up the original DLLs if it finds them.  BUG=None  Change-Id: I66f8897a1393ceba8f614e4f91c0e1f9f0439eb3 Reviewed-on: https://chromium-review.googlesource.com/341221 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add dirty bits for the pixel pack and unpack buffer  BUG=605775  Change-Id: Ifb7eee94a395a9e9f5a5c1d6c0f05299162264a9 Reviewed-on: https://chromium-review.googlesource.com/340115 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix integer constant vertex attributes in OpenGL backend  BUG=605775  Change-Id: Ie76cae5be686478019c61c1877611bea83d7502f Reviewed-on: https://chromium-review.googlesource.com/340114 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Set the bound XFB to 0 when it is deleted  BUG=605775  Change-Id: Ie7af2c0dc4536b26473510a80955f4628ea496bb Reviewed-on: https://chromium-review.googlesource.com/340113 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Allow queries of different types to be active at the same time  BUG=605775  Change-Id: I0e23fae25d450c504f174a080279cf51aebcd123 Reviewed-on: https://chromium-review.googlesource.com/340112 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Rename gl::VertexArray::Data to gl::VertexArrayState.  BUG=angleproject:1363  Change-Id: I5acf670bd88988941676cc9bc75606d55cca224e Reviewed-on: https://chromium-review.googlesource.com/340744 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Rename gl::Shader::Data to gl::ShaderState.  BUG=angleproject:1363  Change-Id: I49cb5d7319742487c8c00c58ec58f9a29561b9c1 Reviewed-on: https://chromium-review.googlesource.com/340743 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Finish NV12 support via streams.  The main functionality for NV12 texture support through EGL streams has been added. Updates to the compiler texture code and stream code were added to support binding to external D3D11 NV12 textures. An end2end test was also added to test sampling of YUV textures and converting to RGB. There is also a new script to convert BMP files to an NV12 texture ready to load into D3D11 for testing purposes.  BUG=angleproject:1332  Change-Id: I39b6ec393ea338e2c843fb911acc1b36cd1158a0 Reviewed-on: https://chromium-review.googlesource.com/339454 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com> Reviewed-on: https://chromium-review.googlesource.com/341254 Reviewed-by: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Rename gl::Framebuffer::Data to gl::FramebufferState.  Moving this out of the Framebuffer class allows us to forward- declare it.  BUG=angleproject:1363  Change-Id: I91971c37a92151df508cdf7f0eb8c3e93506d112 Reviewed-on: https://chromium-review.googlesource.com/340741 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
OpenGL backend: fix logic updating max uniform components  BUG=605775  Change-Id: I37c1dc7117e7e47ee3a7e031cbccb44f39458c09 Reviewed-on: https://chromium-review.googlesource.com/340111 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Finish NV12 support via streams."  Broke Windows Clang compilation see https://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Win%20Clang%20Builder%20%28dbg%29/builds/3583/steps/compile/logs/stdio and search for TextureStorage11.h  This reverts commit 9b8b359fa3615be7c7492239a48f61103b2e4fcc.  Change-Id: I6e54305eba02b40927a35577594df39e951adb32 Reviewed-on: https://chromium-review.googlesource.com/341430 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Rename gl::Data to gl::ContextState.  Part of the new world order of renaming the Obj::Data classes to ObjState.  BUG=angleproject:1363  Change-Id: I15cf002b8b093d687f540b9e86f045874af24a7e Reviewed-on: https://chromium-review.googlesource.com/340740 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Finish NV12 support via streams.  The main functionality for NV12 texture support through EGL streams has been added. Updates to the compiler texture code and stream code were added to support binding to external D3D11 NV12 textures. An end2end test was also added to test sampling of YUV textures and converting to RGB. There is also a new script to convert BMP files to an NV12 texture ready to load into D3D11 for testing purposes.  BUG=angleproject:1332  Change-Id: I098940e6f25e113dcc4fc8d22ffed4b5a16fd860 Reviewed-on: https://chromium-review.googlesource.com/339454 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
D3D: Fix RGB5_A1 texture upload from PBO failure on Windows 10  Failure is consistently seen in the dEQP tests on Windows 10 on NVIDIA and Intel drivers where creating an SRV from the buffer in the right format fails. Disable the fast copy path for this format similarly to how it's already disabled for some other formats.  BUG=angleproject:1095 TEST=dEQP-GLES3.functional.texture.specification.teximage2d_pbo.rgb5*  Change-Id: I7a1cd15c2cd130c9e8a637457c201778f157333b Reviewed-on: https://chromium-review.googlesource.com/341170 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Use base level to get internal format in GenerateMipMap  BUG=605775  Change-Id: I11039ee9ba21dbe2716eed0d3a12a0fb2cf50ea4 Reviewed-on: https://chromium-review.googlesource.com/340116 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement program binary in ProgramGL.  BUG=angleproject:882  Change-Id: I8d57c185066e9fc0c1b8def09bc48d80ad97d328 Reviewed-on: https://chromium-review.googlesource.com/303901 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: Add AMD driver version detection  BUG=590870  Change-Id: I8b2548038635182bafa691671bdaa16f12b45694 Reviewed-on: https://chromium-review.googlesource.com/339450 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add FunctionsEGL FunctionsEGLDL - EGL wrappers.  FunctionsEGL is an abstract class. FunctionsEGLDL is an libdl-based implementation.  BUG=angleproject:1297  Change-Id: I0fe5a337e34518cc6248494dbc4ee5c2938d4b77 Reviewed-on: https://chromium-review.googlesource.com/338884 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
gyp: Remove the post-build script hook.  This was used by developers to copy compiled libs around. With better dEQP integration and supporting tools it is no longer necessary.  BUG=None  Change-Id: Iff35be88111c2c806bb02abf43ffb33ed5b641fd Reviewed-on: https://chromium-review.googlesource.com/340589 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement support for CHROMIUM_bind_uniform_location.  BUG=angleproject:1353  Change-Id: Ia219ff973de0de2f8e112c276b3ab6319f7d3884 Reviewed-on: https://chromium-review.googlesource.com/334252 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix allocation in ValidateOutputs.  We should not be using the pool allocator for destructable objects.  BUG=None  Change-Id: I89236b28f04bd9b7095056edbda4172dbbfe9586 Reviewed-on: https://chromium-review.googlesource.com/340362 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix deferring global array initialization  The initial implementation of DeferGlobalInitializers did not take HLSL corner cases into account. In particular in case there was a const-qualified array variable with an initializer that contained elements that weren't constant folded initialization would not be deferred and the global scope of HLSL output would contain a call to angle_construct_into_*().  On the other hand deferring global initializers was also done in cases where it wasn't necessary. Initializers of non-const qualified array variables that could be written as HLSL literals by HLSL output were unnecessarily deferred.  This patch fixes both of these issues: Now all global initializers are potential candidates for deferral instead of just those where the symbol has the EvqGlobal qualifier and initializers that are constructors taking only constant unions as parameters are not unnecessarily deferred.  BUG=angleproject:1205 BUG=541551 TEST=angle_end2end_tests  Change-Id: I4027059e0e5f39c8a5a48b5c97a3fceaac6b6f8a Reviewed-on: https://chromium-review.googlesource.com/339201 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make sure D3DRS_TWOSIDEDSTENCILMODE is enabled if the stencil test is.  This state-setting code was not ported when adding the dirty bits for D3D9 depth stencil state in https://chromium-review.googlesource.com/#/c/316449.  BUG=597107  Change-Id: I0a1bdae18dd22c9b01f12a73267040157a866654 Reviewed-on: https://chromium-review.googlesource.com/340436 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Pass ImplFactory to Texture constructor  This improves encapsulation inside the Texture class and removes duplication of createTexture calls. This is a necessary step towards adding a shared "Data" structure to the Texture classes following a similar pattern as for example the Framebuffer class.  This patch also shares the same MockFactory class among different unit tests.  BUG=angleproject:596 TEST=angle_unittests  Change-Id: Ie8d3a9aa4ec35565d7ecbabb8c40e7b1ba068721 Reviewed-on: https://chromium-review.googlesource.com/340200 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Buffer11: Use adaptive threshold for releasing system memory.  The hard-coded threshold of five uses before a release was regressing the Oort online benchmark which seems to use an index buffer many times then change to a different range of indices which would need to check the system memory for index range validation.  Also add a performance regression test and an update to the perf runner script which checks for the most recent binary among the search directories.  BUG=594066  Change-Id: Id09cc32fd00bff1c72cbe9b6fb7c210fd047a551 Reviewed-on: https://chromium-review.googlesource.com/339271 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up MipmapTest  This refactoring is done to prepare for adding more mipmap tests for ES3 where base level / max level is changed from 0.  1. Reuse drawQuad() from ANGLETest instead of having completely custom quad drawing code and reuse the same clear+draw function for both 2D and cube map texture tests.  2. Add a helper function for clearing texture level 0 with glClear.  3. Remove a few redundant texture binding and useProgram calls.  4. Rely on sampler uniforms being set to 0 by default and texture unit 0 being active by default.  5. Remove "Offscreen" from variable names.  6. Split SetUp functions to helper functions.  7. Reuse FillWithRGBA from TextureTest also in MipmapTest.  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: I9fd738f4b8b0a19c7aa1d267f7dbaa40a6935631 Reviewed-on: https://chromium-review.googlesource.com/338791 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a NativeWindowD3D abstract class to handle native window interactions.  The previous NativeWindow class included D3D11 headers while being included in all D3D backds and had platform-dependent includes and members.  This turns it into an abstract class that only implements the minimal functionality for each renderer.  BUG=angleproject:1345  Change-Id: I8f20339dd6bba719e574a1dcb3ec859897c9228f Reviewed-on: https://chromium-review.googlesource.com/336780 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix incorrect dirty bit state tracking on D3D9 AMD with color masks.  When using the zero color mask workaround in StateManager9 the blend state and blend equation were being modified.  This caused inconsistant state if the workaround stopped being used in subsequent draw calls.  To deal with this issue dirty the BLEND_ENABLED and BLEND_EQUATION states when the COLOR_MASK changes and dirty the COLOR_MASK state wheneither BLEND_ENABLED or BLEND_EQUATION changes.  BUG=597107  Change-Id: I03de934b419b7593e4863838720ced1e5773c092 Reviewed-on: https://chromium-review.googlesource.com/339280 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix GLES3 and "present path fast" validation issue  Currently if present path fast (aka RENDER-TO-BACKBUFFER) is turned on then it's not possible to create a GLES3 context. This is because present path fast makes every EGL config's 'CONFORMANT' flag = false and there is some erroneous EGL validation logic in ANGLE that checks that configs are GLES3 conformant before allowing an app to create a GLES3 context.  The fix is to change the validation logic to check that the config supports *some* form of GLES3 rather than check if it's fully conformant.  Change-Id: I3acf9b74bf2eb78947c888c610659984293c2fd2, 15312978, 382, 105, 382
Re-land "Refactor texture function handling in OutputHLSL"  This change is pure refactoring it does not introduce any functional changes.  Separate texture function output into a helper class and further into different helper functions to make the code more maintainable.  Some of the logic is simplified slightly by eliminating duplicate cases and limiting the scope of variables where possible but care has been taken to preserve the exact same functionality as before.  Re-land with a fix to typo in include guard.  BUG=angleproject:1349 TEST=dEQP-GLES3.functional.shaders.texture_functions.* (no regression)      dEQP-GLES3.texture.* (no regression)  Change-Id: I57c1ec1950fa05bd16275ca578eb5ee99b34a5ae Reviewed-on: https://chromium-review.googlesource.com/339180 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Refactor texture function handling in OutputHLSL"  It triggered an include guard warning on Windows Clang  This reverts commit 6f6c5580553d1f3c584df692823c2f5640e23d88.  Change-Id: Ibd4f2851f311a494f16376d8eed38f3119594761 Reviewed-on: https://chromium-review.googlesource.com/338933 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Refactor texture function handling in OutputHLSL  This change is pure refactoring it does not introduce any functional changes.  Separate texture function output into a helper class and further into different helper functions to make the code more maintainable.  Some of the logic is simplified slightly by eliminating duplicate cases and limiting the scope of variables where possible but care has been taken to preserve the exact same functionality as before.  BUG=angleproject:1349 TEST=dEQP-GLES3.functional.shaders.texture_functions.* (no regression)      dEQP-GLES3.texture.* (no regression)  Change-Id: I5d81b842d693c0055890d5724eae6c105e454cd8 Reviewed-on: https://chromium-review.googlesource.com/337931 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Takes principal component analysis to improve the endpoint in ETC transcode.  Insteading of getting the BC1 endpoints from the max and min intensity a PCA on pixels might give us better quality results with limited costs.  Change-Id: I7638d78c666c2580a6b0c267470bf4a0f7082e05 Reviewed-on: https://chromium-review.googlesource.com/332871 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Defer global initializers when necessary  Move global variable initializers that are not constant expressions to a function that gets called at the start of main(). This is done with an AST transformation. This needs to be done because global variable initializers must be constant in native GL but ANGLE is more lenient with what can be put into ESSL 1.00 global initializers to remain compatible with legacy WebGL content.  Non-constant global variable initializers also caused issues in HLSL output since in HLSL output some types of expressions get unfolded into multiple statements. These include short-circuiting operators and array initialization. To make sure that these cases are covered any initializers that can't be constant folded are deferred even if they have the const qualifier.  The old deferring mechanism in OutputHLSL is removed in favor of this new AST transformation based approach.  BUG=angleproject:819 BUG=angleproject:1205 BUG=angleproject:1350 BUG=596616 TEST=WebGL conformance test      conformance/glsl/misc/global-variable-init.html  Change-Id: I039cc05d6b8c284baeefbdf7f10062cae4bc5716 Reviewed-on: https://chromium-review.googlesource.com/338291 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Wrap integer textures with correct wrap mode in HLSL  The wrap mode information for all three dimensions is packed to a single integer in order to conserve sampler metadata space. Only one int4 vector is used for the metadata for a single sampler.  The sampler metadata is now packed into a struct instead of an array of integers in order to make the code more readable and maintainable. The internalFormatBits field is not removed in this patch. It's better to remove it in a separate patch so restoring it is easier in case it will be used for optimizing some of the texture sampling functions.  The wrap mode passed in sampler metadata is used to wrap the texture coordinates in the code generated to implement ESSL 3.00 integer texture sampling built-ins.  Those dEQP-GLES3.functional.texture.units.* tests that sample from integer cube maps still fail on Intel D3D after this change presumably due to driver issues.  BUG=angleproject:1244 BUG=angleproject:1095 BUG=angleproject:1092 TEST=dEQP-GLES3.functional.texture.units.* (all pass on NVIDIA)      dEQP-GLES3.functional.shaders.texture_functions.* (no regressions)  Change-Id: I4e31e5796086f9cc290c6f1f8c4380a768758d71 Reviewed-on: https://chromium-review.googlesource.com/336638 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a perf test for setting uniform data.  BUG=angleproject:1353  Change-Id: Iaae79bb85318583c12b9a939ea27a7f7f7f64faf Reviewed-on: https://chromium-review.googlesource.com/338441 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable pointer conversion warning in XNVCtrl  This warning happens on some older versions of the X headers such as those present on the current Chromium linux_chromium_chromeos_rel_ng bots. The default warnings in the GN build are slightly more strict than in GYP which is why we need to add some isolated warning disables.  BUG=432959  Change-Id: Id6218780195c59f160adae789305638d3463be9a Reviewed-on: https://chromium-review.googlesource.com/338424 Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Gyp support for Ozone.  Introduce gyp flag 'use_ozone' to select Ozone code. Ozone is a display method used on Chrome OS which is based on gbm drm/kms and surfaceless egl.  BUG=angleproject:1297  Change-Id: Ic1f66121d23d26bac56b09e3e6aedefec5a131df Reviewed-on: https://chromium-review.googlesource.com/338442 Commit-Queue: Frank Henigman <fjhenigman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Lexer: Error out on invalid field start.  When parsing something like x.} the following would happen:  - Parsing "." the lexer would move to the FIELDS start condition  - Parsing } the lexer wouldn't find any <FIELDS> rule matching  - The parser would fall back to <*>. that was asserted unreachable.  The fix is to add a <FIELDS>. rule to catch bad field starts  BUG=angleproject:1352  Change-Id: I262d2b9ef5f7346c19ae5e19a173e24f40f2f600 Reviewed-on: https://chromium-review.googlesource.com/338222 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a test for gl_VertexID  BUG=angleproject:1217 BUG=587781  Change-Id: I2fd20c686863c1409228717606977a3c4e1cd7fa Reviewed-on: https://chromium-review.googlesource.com/338180 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Re-re-land "D3D11: Implement dirty bits for VertexArray11.""  Translated attributes are now stored in the VertexArray11 in a cache and only updated when dirty bits change. Currently dynamic attributes must be re-translated every call so these are stored in a list and processed repeatedly.  This skips doing a lot of the VertexDataManager work for vertex attributes that don't change between draw calls.  Current value attributes which correspond to disabled attributes that the program will pulls vertex data from are owned by the Context so these need to be handled outside of the VertexArray11.  Further changes will be necessary to reduce the redundant work we do in the InputLayoutCache. We shouldn't need to re-check the cache if nothing relevant changed.  This give about a 23% performance improvement on the draw call benchmark on my machine.  Re-land with a fix for the start vertex offset.  Re-re-land with a fix for using XFB with deleted buffers.  BUG=angleproject:1327  Change-Id: I0fba49515375c149bbf54d933f8d1f747fbb8158 Reviewed-on: https://chromium-review.googlesource.com/338003 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Gyp support for Ozone."  This broke the Linux standalone build. Error message seen when running "gclient runhooks":  "gyp: name 'use_ozone' is not defined while evaluating condition 'OS=="linux" and use_ozone==0' in build/ANGLE.gyp while trying to load build/ANGLE.gyp"  This reverts commit 35e65e921394713f89df8d9bfe243b4abb5e9bd7.  Change-Id: Iee5f08195ee1c74ead99bb9d70d04928c9bae7af Reviewed-on: https://chromium-review.googlesource.com/338290 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Gyp support for Ozone.  Introduce gyp flag 'use_ozone' to select Ozone code. Ozone is a display method used on Chrome OS which is based on gbm drm/kms and surfaceless egl.  BUG=angleproject:1297  Change-Id: I5272651bd1af5806b6b42067d2d0f0abf0895af3 Reviewed-on: https://chromium-review.googlesource.com/337781 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Gyp support for Chrome OS.  Change comment to explain the 'chromeos' gyp flag. Make it possible to override pkg-config.  BUG=angleproject:1297  Change-Id: Ifc56cc4575d83ff893aaa0283c3aaa91df14fafd Reviewed-on: https://chromium-review.googlesource.com/337708 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Add workaround to always call useProgram after a successful link.  This workaround is meant to reproduce the behavior of the use_current_program_after_successful_link workaround in Chromium (http://crbug.com/110263)  The workaround was shown to be unnecessary for MacOSX 10.9 and higher (http://crrev.com/39eb535b).  BUG=349137  Change-Id: I3023f053aa1593ba7044a889dd47746b8f7e0581 Reviewed-on: https://chromium-review.googlesource.com/337780 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Re-land "D3D11: Implement dirty bits for VertexArray11."""  Seems to make the following dEQP test flaky: dEQP-GLES3.functional.lifetime.attach.deleted_output.buffer_transform_feedback  doesn't show up on every bot test but run it a few times and it'll flake. Reverting while I investigate.  BUG=angleproject:1327 This reverts commit 3477f3a62dc139a253a0b361ee138116e9fa881f.  Change-Id: Ic23a392526f5f6e107cf0aa06448389804d6b208 Reviewed-on: https://chromium-review.googlesource.com/337961 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Deqp gyp use_x11 fixes.  Remove the use_x11==1 condition from two things which have nothing to do with x11: defining _GNU_SOURCE and choosing deqp_libtester_sources_unix. This lets us build for Chrome OS where typically use_x11==0.  BUG=angleproject:1297  Change-Id: I9166f2a8119493aaab82af15e109d378fffb811a Reviewed-on: https://chromium-review.googlesource.com/337695 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Initial implementation of ANGLE_stream_producer_d3d_texture_nv12.  Add the validation and entrypoints for ANGLE_stream_producer_d3d_texture_nv12 which is a new EGL extension currently being written. The purpose of this extension is to allow insertion of D3D11 NV12 textures to be inserted into a stream. This acts as the producer of the EGL stream.  BUG=angleproject:1332  Change-Id: I50d4565cc82b63f7da7632adad4ac4c77d8800f2 Reviewed-on: https://chromium-review.googlesource.com/336695 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Make :angle_common depend on :commit_id.  BUG=chromium:601195 Change-Id: Ic90b8c8dbe07700e66c8fe973a3e620f439d2fbe Reviewed-on: https://chromium-review.googlesource.com/337335 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix integer texture sampling with explicit gradients  The lod level should be selected according to the explicit gradients and the gradients are relative to the normalized texture coordinates so they need to be multiplied by the base level dimensions to get the correct gradients to use in the lod level formula.  In the case of sampling integer cube maps the derivatives of the texture coordinates on the cube map face need to be calculated based on the derivatives of the cube map direction vector components.  Also includes fix for sampling integer cube maps with explicit LOD.  BUG=angleproject:1092 TEST=dEQP-GLES3.functional.shaders.texture_functions.*grad*  Change-Id: Iadd358e713fa9695e755e98db8f368e8c512ac45 Reviewed-on: https://chromium-review.googlesource.com/337100 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Suppress samplers in structs test failures on Intel OpenGL  Some of the tests made to verify D3D implementation of samplers in structs are failing on Intel's OpenGL drivers so suppress the failures.  Since the test was crashing in shader program setup shader program setup needs to be moved out of the SetUp() function of the texture tests.  BUG=600758 TEST=angle_end2end_tests  Change-Id: I1b6e788d900425e914572d2a3d7ef1fc43146f50 Reviewed-on: https://chromium-review.googlesource.com/337500 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactor HLSL texture coordinate output to prepare for wrap modes  Wrap modes for integer textures need to be implemented in shaders in HLSL. This requires more complex transformations on the texture coordinates so store the texture coordinate code for each texture coordinate in a string variable.  BUG=angleproject:1244 TEST=dEQP-GLES3.functional.shaders.texture_functions.* (no regression)      dEQP-GLES3.functional.texture.units.* (no regression)  Change-Id: Iadd9617a7f906aa1d56dabfba6639f932152e6f1 Reviewed-on: https://chromium-review.googlesource.com/336637 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add initial support for various stream extensions.  Add entry points and validation for various egl stream extensions including EGL_KHR_stream_consumer_gltexture and EGL_NV_stream_consumer_gltexture_yuv and NV_EGL_stream_consumer_external. The extensions functionality is not yet implemented and the extension strings are thus not exposed yet.  BUG=angleproject:1332 Change-Id: I115d872557db38d8dd94cc367038668406719109 Reviewed-on: https://chromium-review.googlesource.com/332026 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Update internal AttributeMap type to EGLAttrib.  Newer EGL functions use EGLAttrib to pass in attributes which can be either 32-bit or 64-bit depending on the system while the old attributes are passed in as EGLints which are usually 32-bits. To support these newer functions AttributeMap now uses EGLAttrib internally instead of EGLint and all the code using AttributeMap has been updated to cast properly.  BUG=angleproject:1348  Change-Id: I7c4dd9ef23ea1b1741f3a565502fb5e26bf962d7 Reviewed-on: https://chromium-review.googlesource.com/337162 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Fix buffer mapping validation and refactor entry points  Checks for extension support are added to GetBufferPointervOES mapBufferOES unmapBufferOES mapBufferRangeEXT and flushMappedBufferRangeEXT.  The GetBufferPointerv function now checks if state is queried from buffer object zero.  The code is also refactored so that validation happens in separate validation functions and the implementations are in Context functions.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.state.get_buffer_pointerv      dEQP-GLES3.functional.*buffer*map* (no regression)  Change-Id: I0f439abd12c92c51324f2e5a31bf621f61534306 Reviewed-on: https://chromium-review.googlesource.com/336164 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support ESSL structs containing samplers on D3D  Since HLSL can't natively handle samplers in structs samplers need to be extracted out of structs into separate variables in the translated shader code. In HLSL 4.1 samplers that were in structs go into the normal sampler arrays and are identified by index constants. In other HLSL versions samplers that were in structs are translated as uniform variables.  These transformations are done inside the HLSL output classes not as tree transformations. This helps to keep the uniform API provided by the shader translator intact.  Wherever a struct containing samplers is passed into a user-defined function the translated HLSL code passes the separate sampler variables alongside a struct where the samplers have been removed.  The D3D backend in libANGLE queries the uniform registers of any samplers that were in uniform structs and adds them to the register maps so that correct sampler state gets assigned to them.  The extracted sampler variables are prefixed with "angle_" instead of the usual "_" to prevent any name conflicts between them and regular variables.  BUG=angleproject:504 TEST=angle_end2end_tests      dEQP-GLES*.functional.shaders.struct.uniform.* (all pass)      dEQP-GLES*.functional.uniform_api.* (most now pass)  Change-Id: Ib79cba2fa0ff8257a973d70dfd917a64f0ca1efb Reviewed-on: https://chromium-review.googlesource.com/333743 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix ProgramParameteri validation  dEQP tests suggest that passing a value other than GL_FALSE or GL_TRUE to ProgramParameteri generates INVALID_VALUE. The code is also refactored so that the implementation of ProgramParameteri is in the Context object.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.shader.program_parameteri  Change-Id: I432d19fb574e58a7e0059189ab5b1863de029cdc Reviewed-on: https://chromium-review.googlesource.com/336163 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Gyp build support for Chrome OS."  http://build.chromium.org/p/tryserver.chromium.linux/builders/linux_chromium_chromeos_rel_ng/builds/189745  ../../third_party/angle/src/libANGLE/renderer/gl/glx/DisplayGLX.cpp:87:27: error: assigning to 'Display *' (aka '_XDisplay *') from incompatible type 'EGLNativeDisplayType' (aka 'long')     mXDisplay             = display->getNativeDisplayId();                           ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ../../third_party/angle/src/libANGLE/renderer/gl/glx/DisplayGLX.cpp:93:19: error: comparison between pointer and integer ('Display *' (aka '_XDisplay *') and 'EGLNativeDisplayType' (aka 'long'))     if (mXDisplay == EGL_DEFAULT_DISPLAY)         ~~~~~~~~~ ^  ~~~~~~~~~~~~~~~~~~~  TBR=kbr@chromium.org TBR=jmadill@chromium.org BUG=angleproject:1297  This reverts commit b5aa26bda986d7f367ed4c33e50e931e9620abe9.  Change-Id: Icf3bd84df4493e66e78f8351b1a3879893ae9d0e Reviewed-on: https://chromium-review.googlesource.com/336849 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "D3D11: Implement dirty bits for VertexArray11.""  Translated attributes are now stored in the VertexArray11 in a cache and only updated when dirty bits change. Currently dynamic attributes must be re-translated every call so these are stored in a list and processed repeatedly.  This skips doing a lot of the VertexDataManager work for vertex attributes that don't change between draw calls.  Current value attributes which correspond to disabled attributes that the program will pulls vertex data from are owned by the Context so these need to be handled outside of the VertexArray11.  Further changes will be necessary to reduce the redundant work we do in the InputLayoutCache. We shouldn't need to re-check the cache if nothing relevant changed.  This give about a 23% performance improvement on the draw call benchmark on my machine.  Re-land with a fix for the start vertex offset.  BUG=angleproject:1327  Change-Id: Ic23e48fb18ed7f29c1999914a2f799ac04aa03e9 Reviewed-on: https://chromium-review.googlesource.com/334225 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Mark mRenderer as unused in Stream11.  BUG=angleproject:1332  Change-Id: I122f1b079e6d507423719df4576d7460e058f4b2 Reviewed-on: https://chromium-review.googlesource.com/336696 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for EGL_KHR_stream.  EGL_KHR_stream is now implemented. Since the extension does not come with any producers or consumers it does not have much functionality and the implementation is therefore very simple (validation layers and a new object to store some attributes). This however add the groundwork to add the appropriate consumer and producer extensions to stream D3D NV12 textures directly into ANGLE which will significantly improve video performance on Chromium on D3D-based platforms.  BUG=angleproject:1332  Change-Id: Ie240c73869f5098d1215cc5e27aa5decd06c3ed1 Reviewed-on: https://chromium-review.googlesource.com/330003 Commit-Queue: Ian Ewell <ewell@google.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Insert slash when concatenating paths.  BUG=angleproject:1343  Change-Id: I04180135dcd3aac2d40dc3f6d32b1aad362c69d1 Reviewed-on: https://chromium-review.googlesource.com/334920 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Implement gl_VertexID  BUG=angleproject:1217  Change-Id: Ibb9423d7de4966bce231734925a804b6340b5059 Reviewed-on: https://chromium-review.googlesource.com/321420 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix samplerParameter validation  Refactor the validation out from the API and into a separate Validate function. Also check the sampler parameter first to match dEQP expectations.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.shader.sampler* (all pass)  Change-Id: I5f4072d9e52d37f741bd4c90f1bffe13371af3f5 Reviewed-on: https://chromium-review.googlesource.com/336162 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Suppress end2end failures for the new Linux Intel bot.  Since this is a new bot we should make it green ASAP so we can catch any new regressions.  BUG=angleproject:1346  Change-Id: I2c1288b8115a9d7980d5a3f37753b35cbb837486 Reviewed-on: https://chromium-review.googlesource.com/336050 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add ANGLE_TRY macros to reduce boilerplate with gl/egl Errors.  The macros don't need to disambiguate between GL/EGL. Also make helpers to deal with ErrorOrResult.  BUG=angleproject:1310 BUG=angleproject:1327  Change-Id: I8041c4b17a859fe1f236bca3ad266453d67a8fd4 Reviewed-on: https://chromium-review.googlesource.com/335826 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix C4434 warnings about 32-bit shift assigned to 64-bits  VS 2015 has a new or louder warning about 32-bit shifts that are then assigned to a 64-bit target. This code triggers it:  int64_t size = 1 << shift_amount;  Because the '1' being shifted is a 32-bit int the result of the shift will be a 32-bit result so assigning it to a 64-bit variable is just misleading.  In other cases the destination is a size_t which means that the warning only shows up on 64-bit builds. However in this case the size_t was later cast to a 32-bit type so the warnings can be suppressed by selecting more natural types and *deleting* some casts. The two warnings were:  C4334: '<<': result of 32-bit shift implicitly converted to 64 bits   third_party\angle\src\tests\gl_tests\framebufferrendermipmaptest.cpp(90)   third_party\angle\src\tests\gl_tests\framebufferrendermipmaptest.cpp(156)  BUG=593448  Change-Id: Ice9f67096b155fbb5fa3247ad04ac41acffa36a5 Reviewed-on: https://chromium-review.googlesource.com/336332 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "Clean up Buffer11."  This cleans up some messy stuff from the emulated index buffers which were caching variables that didn't need to be cached.  Also add in missing error checks. This touches a lot of code.  Re-land with a fix for clang-win build.  BUG=angleproject:1327 BUG=angleproject:1310  Change-Id: I31ed81c7242782bef7c5f6cde2192552f7ff9403 Reviewed-on: https://chromium-review.googlesource.com/336052 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Clean up Buffer11."  Fails Clang-win because of std::forward  ..\..\third_party\angle\src\libANGLE/Error.h(6040):  error: no matching function for call to 'forward'  BUG=598944 BUG=angleproject:1327 BUG=angleproject:1310  This reverts commit 041d678b4764484386f934df927f00a5df48a351.  Change-Id: I9fb0685cd01090b1faf8417ffa3c9b49eeb4510e Reviewed-on: https://chromium-review.googlesource.com/336040 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up Buffer11.  This cleans up some messy stuff from the emulated index buffers which were caching variables that didn't need to be cached.  Also add in missing error checks. This touches a lot of code.  BUG=angleproject:1327 BUG=angleproject:1310  Change-Id: Icd722d57d9449388fbabc62c7ea37f0526a568ff Reviewed-on: https://chromium-review.googlesource.com/334731 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move -lrt where it belongs.  Only deqp uses librt so the dependency belongs there not in util.gyp and the condition should be OS==linux not use_x11. This lets things work on Chrome OS.  BUG=angleproject:1297  Change-Id: If397da5463b9c2d5217eb3b20841fa5a44bf56a3 Reviewed-on: https://chromium-review.googlesource.com/334813 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Fix warning introduced in "Program::getUniformInternal: return only one array element"  The warning does not seem to occur on the Chromium bots but shows when compiling ANGLE standalone.  BUG=595836  Change-Id: I3c22bbea263223f9e92f82229817e9e9894a46ad Reviewed-on: https://chromium-review.googlesource.com/335576 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Validate program changes wrt transform feedback  UseProgram can't be called while transform feedback is active and unpaused. Validate this by checking the presence of active transform feedback in UseProgram.  LinkProgram or ProgramBinary can't be called while transform feedback associated with the program is active. Validate this by going through all of the existing transform feedback objects when one of these functions is called and checking whether they are associated with the program being changed. A program association is added to gl::TransformFeedback to facilitate this.  BeginTransformFeedback can't be used to unpause a transform feedback object so code for that is removed.  The validation of the entry points touched in this patch is refactored to follow the current convention of separate Validate* functions though with LinkProgram following this convention fully isn't practical.  This patch also makes sure that ANGLE doesn't invoke behavior that the GL spec doesn't specify if a program object associated with a paused transform feedback is deleted.  Tests are edited so that they don't call UseProgram when it generates an error.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.shader.* (2 more tests pass)      dEQP-GLES3.functional.transform_feedback.* (no regressions)      angle_end2end_tests  Change-Id: I2e5b3a027ced11249b762ec01a29fa41d2c0dd96 Reviewed-on: https://chromium-review.googlesource.com/332141 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Program::getUniformInternal: return only one array element  Reland with a compilation fix for GPU Builder with a fix for UniformTest.BooleanArrayUniformStateQuery and better formatting.  When getUniformInternal detected a mismatch between the glGetUniform type and the uniform type it entered a code path where it wrongly wrote the whole array instead of a single element causing a buffer overflow.  Adds a regression test.  BUG=595836  Change-Id: Ie860b87ad56046483650f457457116cc22bf3c0f Reviewed-on: https://chromium-review.googlesource.com/334448 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add DisplayGL::getDriverVersion and implementation on Linux NVIDIA  Some GPU driver bug workarounds should be active only for specific driver version ranges. This adds NVIDIA Linux driver detection using the XNVCtrl X11 extension.  BUG=590870  Change-Id: I8cbf692a0c8a6da7473169f29d720bdc2d07663d Reviewed-on: https://chromium-review.googlesource.com/329637 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Re-land "Validate that attrib offsets don't overflow buffers."  During draw calls we wouldn't add the current attrib offset to the required draw call size when checking attributes. This could lead to us producing warnings in the D3D11 runtime and miss returning some errors.  Re-land with a test data initialization fix and with some extra tests merged from another CL.  BUG=angleproject:1339  Change-Id: Ifd549c3b1f6871417dc1693cb3ec534414e92cfd Reviewed-on: https://chromium-review.googlesource.com/333723 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add validation for DrawRangeElements end < start  end < start must generate an INVALID_VALUE error. Before this patch INVALID_OPERATION was generated from the check which validated the actual index range against end and start in this case.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.vertex_array.*      (few more subtests pass)  Change-Id: Ida9c5a8bc9dc416f1955e9012e5715c0848a0307 Reviewed-on: https://chromium-review.googlesource.com/332143 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Gyp build support for Chrome OS.  Don't hard code "chromeos" to zero. Fix incorrect assumptions that X11 would always be used on linux. Introduce "angle_use_drm" as the Chrome OS alternative to "angle_use_x11." Define USE_OZONE for Chrome OS. Allow overriding pkg-config.  BUG=angleproject:1297  Change-Id: Ie85b5c37f39170e0d11f8fc1bb70c175db6ee334 Reviewed-on: https://chromium-review.googlesource.com/323610 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Don't enable/disable sRGB on GLES.  glEnable/glDisable GL_FRAMEBUFFER_SRGB isn't meaningful on GLES.  BUG=angleproject:1300  Change-Id: I0afd697ed9770e2eb1cdcc851884b90de1a4583c Reviewed-on: https://chromium-review.googlesource.com/334490 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Revert "Program::getUniformInternal: return only one array element"  It breaks compilation on GPU Builder  This reverts commit 3ea54ba890f25fcce9213d8ab7c7f8a9fdf10cad.  Change-Id: Ie18f876b1db353d75cbd5a612f0a433cfc552ef2 Reviewed-on: https://chromium-review.googlesource.com/334405 Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Program::getUniformInternal: return only one array element  When getUniformInternal detected a mismatch between the glGetUniform type and the uniform type it entered a code path where it wrongly wrote the whole array instead of a single element causing a buffer overflow.  Adds a regression test.  BUG=595836  Change-Id: Id7372faece276d28363a30bf3183497d97357c76 Reviewed-on: https://chromium-review.googlesource.com/333771 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Avoid copying of texture format info structures  Use const pointers to the statically allocated structures instead of copying them in TextureStorage11. This avoids the cost of copying and saves a little bit of memory.  BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: Ib59fddd68ba9bc53e491d55683416c0661f26e0e Reviewed-on: https://chromium-review.googlesource.com/333930 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Allow BufferGL to function without being able to map buffers for read.  Reading back buffer data is required for index range validation but without glMapBufferRange it is not possible to read back buffer data on OpenGL ES.  To work around this keep a shadow copy of the buffer data when this function is not available.  BUG=angleproject:1145  Change-Id: I8e9b3b174574316d3af0022bd29c7d9c96d168c3 Reviewed-on: https://chromium-review.googlesource.com/324092 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a texture data fill helper function to tests  Several tests need to initialize arrays of RGBA texture data. Add a helper function for this to reduce duplication and to make the code more readable.  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: Id4a35b34a8fad25c2dc263ad8635dd43355a4f17 Reviewed-on: https://chromium-review.googlesource.com/333911 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Improve validation of Gen/Delete calls  Add checks for negative count to GenTransformFeedbacks and DeleteTransformFeedbacks and check for active transform feedbacks in DeleteTransformFeedbacks.  Unify validation and error messages of all other Gen/Delete calls.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.* (two more tests pass)  Change-Id: I128063fab3db27a25e282a10c916c53646d68b9c Reviewed-on: https://chromium-review.googlesource.com/332142 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Minor mingw cross compilation fix.  Change-Id: I380fa56e9f65e5982e77d2b0cd5af70777cc24be Reviewed-on: https://chromium-review.googlesource.com/332951 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert Dirty bits for VertexArray11  This is a combination of two reverts: Revert "D3D11: Remove unused mRenderer from VertexArray11." Revert "D3D11: Implement dirty bits for VertexArray11." Reverting only the first commit would trigger warnings on the Windows clang bot.  BUG=594509 BUG=angleproject:1327  This reverts commit fc4712b5ed270436f2993bfda9e916d4f92684a4. This reverts commit 7d8585b802b7eb741b380bd0d05769281d9507c9.  Change-Id: I612dbba0816d6144f71ce815701c13a798585bc7 Reviewed-on: https://chromium-review.googlesource.com/332989 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix D3D11 DXGI format info tables  - Treat red/green views into depth/stencil formats as being red/green.  - Sort all AddDXGIFormat calls in a similar way and remove duplicate   AddDXGIFormat calls.  - Add info on typeless formats.  These changes are needed to make it possible to change integer texture DXGI formats. Native mipmap generation support will still be determined by querying the DXGI format info table with the texture storage format so the TYPELESS formats will need entries there.  The changes to format info used for depth/stencil formats will not affect existing uses of GetDXGIFormatInfo:  - In Clear11.cpp info is queried for rtvFormat and dsvFormat. Info   for possible values of rtvFormat and dsvFormat is not changed.  - In Renderer11::blitRenderbufferRect info is queried for rtvFormat   and dsvFormat.  - In Renderer11::packPixels GetDXGIFormaInfo is used to get a   fast-copy function. The function only exists for conversion from   BGRA to RGBA so the changes do not affect this.  - In Renderer11::getVertexComponentType the component type is   queried for vertex formats. The formats that might be queried here   are SINT SNORM UINT UNORM or FLOAT formats with regular RGBA   fields. Info is not changed for these.  - In TextureStorage11_Cube::createSRV the SRV or blitSRV format is   queried for whether it has integer on unsigned integer channels.   This will not be affected by the changes done to the format table.  This change does not enable native mipmap generation for any new formats to avoid any possible regressions.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.texture.mipmap.* (no regressions)      dEQP-GLES3.functional.fbo.* (no regressions)  Change-Id: Ic5ed731ddf153ae97bce631b1634347f8d9ae75c Reviewed-on: https://chromium-review.googlesource.com/329690 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D: Add perf test for dynamic buffer promotion.  Drawing with a DYNAMIC usage array or element array buffer should eventually lead to internally switching to a static usage if the app doesn't modify the data very often. This perf test simply renders a bunch of random indexed triangles where both buffers are specified as DYNAMIC. It should perform just as well as the static usage after a warm-up period.  BUG=angleproject:1334  Change-Id: Ibe432d2122feaefc82d3c11cdf227f93ada82eda Reviewed-on: https://chromium-review.googlesource.com/332578 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add dEQP-EGL test expectations.  This will allow us to put these tests on the bots.  BUG=angleproject:1340  Change-Id: Ic91423414c06210a97f9fbeeda4b7a0796c490f7 Reviewed-on: https://chromium-review.googlesource.com/332219 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Use blit SRV format for blits  blitSRVFormat stores the format that is used with ANGLE's internal blit shaders. By default it is the same as the normal SRV format. For integer textures with a red channel the RTV format is used instead. This makes it possible to change the storage format and the SRV format for the integer textures without affecting the blit format.  The blitSRVFormat is used when doing blits in Blit11::copyTexture().  An exception is made for depth/stencil renderbuffer blit - in these cases it is okay to assume that the regular SRV format works for blitting.  In the future the regular SRV format for integer textures will be changed to be different from their blit SRV format.  TEST=angle_end2end_tests      dEQP-GLES3.functional.fbo.blit.* (no regression)      dEQP-GLES3.functional.texture.swizzle.* (no regression) BUG=angleproject:1244  Change-Id: Ie0e790e58ec054b64ef5983a09dbfc7754f269ca Reviewed-on: https://chromium-review.googlesource.com/327104 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix framebuffer attachment enum validation  In GLES 3.0 GL_COLOR_ATTACHMENTi enums run all the way up to i=31 and don't stop at i=15 which the validation was previously checking against. It's acceptable to use this new enum range also for EXT_draw_buffers since an error will still be generated if an enum is outside the range of maximum supported attachments.  Also generate INVALID_ENUM when dEQP tests expect it to be generated for color attachment number that's outside the supported range. This is not in line with the published 3.0 spec but that's just an oversight in the spec document.  Also fix incorrect INVALID_VALUE error in the validation of renderbufferStorageMultisample to INVALID_OPERATION.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.negative_api.buffer.* (all pass)  Change-Id: Ib8cf92651d29ef8fe8da0ce4bfa456cbc4d48850 Reviewed-on: https://chromium-review.googlesource.com/332140 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Validate that attrib offsets don't overflow buffers."  Seems to fail the Windows 8 bots in FL9_3 for some reason.  https://build.chromium.org/p/chromium.gpu.fyi/builders/Win8%20Release%20%28NVIDIA%29/builds/20703  VertexAttributeTest.ShortNormalized_ES2_D3D11_9_3 VertexAttributeTest.ShortUnnormalized_ES2_D3D11_9_3  BUG=angleproject:1339 This reverts commit fb57c04c781df708a432f0e90acf2e431b7983bb.  Change-Id: I4c678ff6b337e9a3e0a1fc809f96f6b89407ea33 Reviewed-on: https://chromium-review.googlesource.com/332442 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Validate that attrib offsets don't overflow buffers.  During draw calls we wouldn't add the current attrib offset to the required draw call size when checking attributes. This could lead to us producing warnings in the D3D11 runtime and miss returning some errors.  BUG=angleproject:1339  Change-Id: I03555be396df46f83d96dfb34fbcb145169625e8 Reviewed-on: https://chromium-review.googlesource.com/331807 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Remove unused mRenderer from VertexArray11.  This was uncovered by the Clang-win bot which uses a different set of warnings from MSVS.  BUG=angleproject:1327  Change-Id: Id298fee2df92752b77bf6e2b93307fa5311cf1fc Reviewed-on: https://chromium-review.googlesource.com/332035 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add option to limit the number of function parameters  Trying to compile user-defined functions that have thousands of parameters introduces some instability in native compilers so it is better to reject shaders with large numbers of function parameters in ANGLE.  The check is only enabled if the SH_LIMIT_EXPRESSION_COMPLEXITY flag is turned on. The default limit for the number of parameters is 1024 but it can also be configured.  BUG=angleproject:1338 TEST=angle_unittests  Change-Id: I5c9b7a4e97e67f36e77f969368336fa8fffba1c3 Reviewed-on: https://chromium-review.googlesource.com/331970 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
dEQP GLES3 expectations: better suppression for flaky Linux trybot  BUG=angleproject:1323  Change-Id: I6d559db0e72e8efc37b447d15244465835a6f310 Reviewed-on: https://chromium-review.googlesource.com/331398 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix crash in IndexDataManagerPerfTest.  Using a mock BufferFactory would sometimes leave us with a nullptr in the VertexBufferInterface class. This would lead to a null deref in the perf tests only. Fix this by adding a null check.  BUG=593541  Change-Id: I98685a9990124f521cd26ed81a26aeb11aafaf0d Reviewed-on: https://chromium-review.googlesource.com/331768 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use std::unordered_map in ResourceManager.  The hashed query performs significantly faster than std::map. This improves performance in applications which use Bind* often.  Also use the same scheme for the Context-managed resources.  BUG=angleproject:1333  Change-Id: I8a1f25d80e060c62dab1f86005e1bc4df1c06dba Reviewed-on: https://chromium-review.googlesource.com/331387 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Fix static promotion of dynamic index data.  The static promotion somehow slipped into the direct usage check meaning we would never promote dynamic index data to static even if unchanged for many frames. Fix this by putting the update back in the correct place.  BUG=angleproject:1334  Change-Id: I90897fcd2f6a2b231ccef9f1fa044d276b238b56 Reviewed-on: https://chromium-review.googlesource.com/331388 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Return pointers from check*Allocation.  This avoids the need to consult the resource maps twice per bind. It improves performance in applications which call Bind* often.  BUG=angleproject:1333  Change-Id: I7b733cc89e50e24a2e38a2eb2dc7fd658d612e27 Reviewed-on: https://chromium-review.googlesource.com/331386 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Implement dirty bits for VertexArray11.  Translated attributes are now stored in the VertexArray11 in a cache and only updated when dirty bits change. Currently dynamic attributes must be re-translated every call so these are stored in a list and processed repeatedly.  This skips doing a lot of the VertexDataManager work for vertex attributes that don't change between draw calls.  Current value attributes which correspond to disabled attributes that the program will pulls vertex data from are owned by the Context so these need to be handled outside of the VertexArray11.  Further changes will be necessary to reduce the redundant work we do in the InputLayoutCache. We shouldn't need to re-check the cache if nothing relevant changed.  This give about a 23% performance improvement on the draw call benchmark on my machine.  BUG=angleproject:1327  Change-Id: I7fb944d32ea7e6c78b9e478406bdb7e10a7fc05b Reviewed-on: https://chromium-review.googlesource.com/330173 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Correct GLES depth 32 format.  GL_OES_depth32 is required for DEPTH_COMPONENT32_OES render buffers. This stops Mesa from complaining when using GLES in the back end.  BUG=angleproject:1301  Change-Id: I8c6ce6a5ce0cb5bf26157e3bb414f391a41d15c4 Reviewed-on: https://chromium-review.googlesource.com/331359 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
D3D11: Remove unused field in InputLayoutCache.  The mCounter field became exposed as unused after it was initialied in the constructor initializer list. Previously this was hidden because it was initialized in the body of the constructor.  BUG=angleproject:1327  Change-Id: I18d9aa8a377d234f4c161ace845edfb9fc7f226c Reviewed-on: https://chromium-review.googlesource.com/331385 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Check packPixels memcpy support based on ANGLEFormat  Instead of querying DXGI format info to determine whether framebuffer data can be copied to packPixels target memory with memcpy compare the internal format information from the ANGLE format to the packing format. This makes it possible to change some of the DXGI formats used for integer textures without breaking packPixels.  This makes it possible to entirely remove the DXGI format to GL internal format mapping from the DXGI format info table.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.fbo.* (no regressions)      dEQP-GLES3.functional.pbo.* (no regressions)  Change-Id: Id5ffd581349e7afe39872d69cb05381f3e78d352 Reviewed-on: https://chromium-review.googlesource.com/329214 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Improve info log length checks  Extend the info log length checks to shader_utils used by tests and treat info log with length 1 as empty since it can only include the null terminator. At least the Intel GL driver may generate "\0" as info log in some situations for example when compiling a user-defined function with 50000 parameters.  BUG=angleproject:1323  Change-Id: I00f2965539ec235cb949c80c2a9e1d063d32fa15 Reviewed-on: https://chromium-review.googlesource.com/331461 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Disallow GLES BGRA render buffers.  This stops Mesa from complaining when using GLES in the back end.  BUG=angleproject:1301  Change-Id: I0b8cb78efea97c1ea0d21cd6b9f656e53b9b6cc2 Reviewed-on: https://chromium-review.googlesource.com/331395 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
D3D11: Get color read function from ANGLE format  This is done to make it possible to change some of the DXGI formats of integer textures without affecting their color read function associations.  The packPixels function gets the ANGLE format from the texture helper which now requires the ANGLE format to be passed in at the time of creation.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.fbo.* (no regressions)      dEQP-GLES3.functional.pbo.* (all pass)  Change-Id: I368337cfe5f8c86ff3292009ccf29e9d01409a07 Reviewed-on: https://chromium-review.googlesource.com/329213 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
FBConfigCompatibility.md: fix rendering with gittiles  BUG=  Change-Id: I17d691b1e0ebdc766e2d3cb8363ce1c2b1ba26cf Reviewed-on: https://chromium-review.googlesource.com/331362 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix ambiguous function call issues in HLSL output  D3D compiler can't resolve between these overloaded functions:  float4 vec4(float2x2 x0); float4 vec4(float4 x0);  Include the parameter types in the function name to disambiguate between overloaded user-defined functions and constructors like this:  float4 vec4_float2x2(float2x2 x0); float4 vec4_float4(float4 x0);  This is only done for float2x2 and float4 parameters other parameter types like float2x3 vs. float3x2 don't need this.  BUG=angleproject:1099 BUG=angleproject:1030 TEST=angle_end2end_tests      dEQP-GLES3.functional.attribute_location.* (10 more tests pass)      dEQP-GLES2.functional.attribute_location.*  Change-Id: Ief047d41b0adbc238393c3c13cb29771cbb83d58 Reviewed-on: https://chromium-review.googlesource.com/329882 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix state query for DEPTH_STENCIL attachment properties  Add missing negation to validate the existence of a DEPTH_STENCIL attachment correctly.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.state_query.fbo.framebuffer_attachment_x_size_rbo      dEQP-GLES3.functional.negative_api.state.get_framebuffer_attachment_parameteriv  Change-Id: I278875684fdff562d16faba9a7eca0aa83bf80e9 Reviewed-on: https://chromium-review.googlesource.com/329867 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Skip the dEQP GLES3 functional.ubo tests on Linux.  We previously marked them as failing but they are causing a crash so we skip them until they are fixed.  BUG=angleproject:1323  Change-Id: I717e402d56ea88ef93da50d10803d0a62aa58fdf Reviewed-on: https://chromium-review.googlesource.com/331281 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Clean up InputLayoutCache.  This change does a couple things. First it uses the 'active attribs' mask in the gl::Program to sort the translated attributes instead of checking the translated attribute themselves. This means we don't have to consult the 'active' field of the translated attributes which in turns means we don't have to update the active field in the attributes which breaks the dependency of the attributes on the gl::Program.  Second use a dynamically sized array for storing the cached vertex attributes in the InputLayoutCache. This is nice because it means we don't have to store the size of the array separately.  Also some other refactoring cleanups. Refactoring change only.  BUG=angleproject:1327  Change-Id: Iab22de92840b30674b92eca72e450673ed9f6d6d Reviewed-on: https://chromium-review.googlesource.com/330172 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Remove RTV and DSV cache vars from Renderer11.  These were only referenced by the StateManager11. Instead of using these cache variables ensure the StateManager11 marks the RT as dirty and apply the RenderTarget state.  Also remove the RenderTarget setters from Renderer11 and don't unapply RTs after a one-time set operation. The StateManager11 should take care of updating the necessary changes itself.  BUG=angleproject:1321  Change-Id: Idc8d22ea9e92ac8d07392ab10d067df6084403bb Reviewed-on: https://chromium-review.googlesource.com/330462 Reviewed-by: John Bauman <jbauman@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make copyDepthStencil more robust to texture format table changes  This will make it easier to verify changes to integer texture DXGI formats. Currently the DXGI format info table contains some values that wouldn't make sense after the integer formats are changed such as R32_TYPELESS being recorded as a depth format and we need to make sure no code relies on this kind of information to make changing the table safe.  Includes cleaning up unused depth/stencil offset fields from DXGIFormatInfo.  BUG=angleproject:1244 TEST=dEQP-GLES3.functional.fbo.blit.*depth*  Change-Id: I0149f28e4c6f961af99ac2f5a656f3fbfe13aee6 Reviewed-on: https://chromium-review.googlesource.com/328964 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add support for READ_BUFFER and SAMPLER_BINDING queries  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.state_query.integers.* (all pass)  Change-Id: I3a70335eeaef39822700ff639443a59849ed53fa Reviewed-on: https://chromium-review.googlesource.com/329866 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Return the correct count from getAttachedShaders  The count should be the total amount of shader ids written. Before this patch the code used to write the amount of attached shaders to count regardless of the value of maxCount.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.state_query.shader.*  Change-Id: I5ae729748c7809f03fd496c927a76f60398d2b42 Reviewed-on: https://chromium-review.googlesource.com/329865 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Refactor VertexDataManager attribute storage.  Instead of splitting attributes into 'active enabled' and 'active disabled' split them into static/dynamic/direct/current value and handle each group invidually. This also will allow the dirty bits code to call in to the VertexDataManager separately for each type of necessary vertex data translation and skip it entirely for direct buffer storage.  Should be a refactoring patch only.  BUG=angleproject:1327  Change-Id: I53cb5672054d99ae68e9aa2e5a3c046a002e360d Reviewed-on: https://chromium-review.googlesource.com/330171 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Use a single D3D buffer per static vertex attribute.  The current caching logic stores multiple static attributes in a single buffer if the attributes share a D3D buffer - sometimes. If a buffer is 'committed' (has been used in a draw) then we would make a new D3D buffer for the next set of static attributes.  Instead use a simpler scheme of a single D3D buffer for each static attribute. Also change rx::VertexBuffer to a reference counted class. This simplifies the caching logic for static vertex buffers (translated attributes) considerably. We only need to release the buffers when the ref count is zero and ensure we track the ref count correctly when bound to D3D.  This leads the way towards using a simpler dirty bit scheme for intelligent state updates and less overhead doing work with buffer state updates.  BUG=angleproject:1327  Change-Id: I99461d50b9663024eaa654cd56b42a63f1416d08 Reviewed-on: https://chromium-review.googlesource.com/330170 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update eglext.h to latest.  The new header contains EGL_NV_stream_consumer_gltexture_yuv which will be implemented in the future for video rendering purposes.  BUG=angleproject:1332 Change-Id: Ia35ee7360b8f09703ad2800c641c67f0f243e927 Reviewed-on: https://chromium-review.googlesource.com/330278 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Program/ShaderGL: handle empty info logs  The GL driver can sometimes have an empty info log and return an info log length of 0. This would cause a vector to be initialized with a length of 0 just before it's .data() pointer was used causing a segfault.  BUG=angleproject:1323  Change-Id: Iaf9b569ec64a90c714a213562e427fb7cc8daa6b Reviewed-on: https://chromium-review.googlesource.com/330197 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Get mip generation function from ANGLE format  This is done to make it possible to change some of the DXGI formats of integer textures without affecting their mip generation function associations.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.texture.mipmap.*generate* (all pass)  Change-Id: Ie83dd0e1883e9d8e267fbd4bf54b1e466fb0b210 Reviewed-on: https://chromium-review.googlesource.com/328963 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove getDXGIFormat() function from RenderTarget11  This query would return either the RTV format the DSV format or the texture format depending on the render target. This made the code hard to understand.  getDXGIFormat() calls are replaced by querying the ANGLE format and explicitly choosing which associated DXGI format to query info for (RTV format or DSV format).  This refactoring makes changing some format associations for integer texture formats easier in the future.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.fbo.blit.* (no regressions)  Change-Id: Ibe3c03fc6b7768af1a131d4df3909a1e20a71228 Reviewed-on: https://chromium-review.googlesource.com/329102 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Associate ANGLE formats with GL internal formats  Add a corresponding GL internal format to ANGLE format set. This is one step on the way to removing the problematic DXGI format to GL format mapping. This will also make it possible to stop storing the DXGIFormat field in RenderTarget11. The DXGIFormat field in RenderTarget11 can currently carry either the DSV format the RTV format or the texture storage format of the resource it is managing which makes code using it hard to understand.  Also fills in missing componentType for some compressed ANGLE formats in texture_format_data.json.  BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: I87eedca8736aeface3fa6a0ec3c9d355cf006b24 Reviewed-on: https://chromium-review.googlesource.com/328961 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix texture and sampler state queries  Round MAX_LOD / MIN_LOD values correctly according to section 6.1.2 of GLES 3.0.4 and add code for COMPARE_MODE and COMPARE_FUNC.  BUG=angleproject:1101 TEST=dEQP-GLES3.functional.state_query.texture.* (all pass)      dEQP-GLES3.functional.state_query.sampler.* (all pass)  Change-Id: I6043c308c23997513d5de70510a0267419dd1868 Reviewed-on: https://chromium-review.googlesource.com/330112 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Don't use DXGI to GL format map in copy functions  The swizzle or copy shader needs to be chosen according to the component type of the source SRV. Before this patch the component type was obtained by going through the mapping from the SRV DXGI formats to GL formats.  This mapping is problematic because it has entries that don't really make sense like R16_UNORM and R16_TYPELESS formats being mapped to GL_DEPTH_COMPONENT16. This is an issue particularly because these formats will be used for integer RED textures in the future. For this reason the mapping should be removed.  In the case addressed by this specific commit rather than look up the component type of the SRV indirectly through the GL format table using the GL internal format that corresponds to the DXGI format just use the component type of the DXGI format. The depth+stencil swizzle cases where the component type is not well defined are handled as a special case.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.texture.swizzle.* (all pass)      dEQP-GLES3.functional.fbo.blit.* (no regressions)  Change-Id: I39fb8a14921b89d299e0077b3bea8b4e66ef218d Reviewed-on: https://chromium-review.googlesource.com/329103 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix RGBA32_UNORM integer vertex attribs.  This formats were mistakenly listed as having no conversion necessary in the vertex formats table. Fix is to mark them as CPU-converted.  This bug would only occur for 'direct' storage attributes not those that were dynamically streamed.  BUG=angleproject:1331  Change-Id: Ifa51b47d75e2f5bc762a718587470950cf195cb4 Reviewed-on: https://chromium-review.googlesource.com/329999 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix overlapping vertex shader signatures.  For the case of drawing with un-normalized integer vertex attributes we need to do some dynamic conversion in the VS. However each attribute can either be signed or unsigned and our shader signature code would treat both as a match giving rise to a warning in the D3D11 Debug runtime. It's unclear if this would give incorrect results but it certainly should not produce a warning.  BUG=angleproject:1329  Change-Id: I302d11b44e8a0ef981e89c181aefac5451a899b7 Reviewed-on: https://chromium-review.googlesource.com/329998 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
D3D: Refactor VertexBuffer::getSpaceRequired.  By making this a virtual call to BufferFactoryD3D (aka RendererD3D) we can also stop having side-effects in the BufferD3D class of creating a static buffer storage when we only want to know the space required for some vertex elements.  This refactoring will aid implementation of VertexArray11 dirty bits.  BUG=angleproject:1327  Change-Id: I0e34c6e9f5da35edebc179d578ad9392dc0166db Reviewed-on: https://chromium-review.googlesource.com/329741 Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Use static_cast instead of reinterpret_cast for nullptr  reinterpret_cast should not be used to cast nullptr_t. This should fix clang and also stops IntelliSense from complaining.  TEST=build on Windows  Change-Id: I4ba342172e36941f6a234fa4ed1369010527a790 Reviewed-on: https://chromium-review.googlesource.com/329901 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Make directStoragePossible a local static method.  This method doesn't need to call through to the VertexBuffer class since in only really depends on vertex format caps. This makes the code local to the VertexDataManager the only place it is used.  Refactoring patch only for VertexArray11 dirty bits.  BUG=angleproject:1327  Change-Id: I315313a72a00186930d7f9b1091ccb91f37f9f96 Reviewed-on: https://chromium-review.googlesource.com/329740 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add wildcard suppression for flaky dEQP GLES3 tests on Linux  BUG=angleproject:1323  Change-Id: Idcd49f9744db6ea282ccc2b4fbb932642b1c4c49 Reviewed-on: https://chromium-review.googlesource.com/329738 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix a bug in EGLPresentPathD3D11Test  This test was releasing a resource created with a queried device after it released the D3D11 device. It is problematic because the error was not caught by the swarming tests on the trybots but did show up on the Intel bot because it was not a swarming test.  BUG=589851 BUG=angleproject:1219  Change-Id: I7383640df9794aaf0e32e0a7c276ae3b22232050 Reviewed-on: https://chromium-review.googlesource.com/330001 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Suppress some failing end2end_tests on Intel.  BUG=589851  Change-Id: Ia580cee30e6842aaddb4683025f425166f0f6120 Reviewed-on: https://chromium-review.googlesource.com/329735 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Suppress some failing end2end_tests on Intel."  This reverts commit 7208f6994cf7d810c2226965362aad43d2a66f53.  Still some failures on Intel requires a slightly different solution.  BUG=589851  Change-Id: I6ac6599249e9e0f6319c917e04734cd48ca9274d Reviewed-on: https://chromium-review.googlesource.com/329734 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11 Texture refactoring: Store ANGLEFormat in TextureStorage11  This is needed to enable removing GetDXGIFormatInfo calls which are difficult to use correctly due to a texture format being associated with multiple DXGI formats. This is done in preparation of changing some of the DXGI formats associated with integer textures.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.fbo.* (no regressions)  Change-Id: I992c4c06189887c1b9de02f9b63dd9a474fcffab Reviewed-on: https://chromium-review.googlesource.com/329094 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
fix texture size check in WindowSurfaceCGL::swap  BUG=angleproject:1233  Change-Id: I92fddf331fe0687b290606fe222863bd0fcbc2da Reviewed-on: https://chromium-review.googlesource.com/329804 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Names of built-in functions cannot be redeclared as functions  With ESSL 3.00 names of built-in functions cannot be redeclared as functions and therefore an error needs to be generated if a built-in function is overloaded.  This is fixed by inserting unmangled built-ins into a special set in the symbol table and checking if function declarations match any of the built-ins in the set.  The regular symbol table structures can't be used for storing the unmangled names because that interferes with name hashing in OutputGLSL.  Credit goes to Arun Patole apatole@nvidia.com for initially investigating this issue and developing the first version of the patch.  BUG=angleproject:1066 TEST=angle_unittests dEQP-GLES3.functional.shaders.functions.invalid.overload_builtin_function* (2 tests started passing with this change)  Change-Id: I28c8325f5a3a8f4a97226b0dfdbb9762724fa609 Reviewed-on: https://chromium-review.googlesource.com/328994 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
floating point perf improvement in CopyNativeVertexData  In the CopyNativeVertexData template function in the else clause use memcpy/memset rather than for loops.  This is a performance improvment for floating point versions of CopyNativeVertexData particularly on 32-bit Firefox where the -arch:IA32 compiler option used cause the compiler to generate fld/fstp operations inside the for loops.  Update AUTHORS & CONTRIBUTORS to include AMD.  BUG=angleproject:1317  Change-Id: I7133fc476028284f56783f4e2f9e2395f6227514 Reviewed-on: https://chromium-review.googlesource.com/327590 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix a memory leak in the Query11 class.  The destructor did not release D3D objects that could be in the mPendingQueries list when the destructor is called. This fix now iterates through the list and releases them.  BUG=angleproject:1325  Change-Id: Ia3bd2a8a611f8dbf85051ab5bfea18ab72038af5 Reviewed-on: https://chromium-review.googlesource.com/329426 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Remove a few GetDXGIFormatInfo queries  It's needlessly complex to query texture info when determining whether a format is a depth/stencil format. It can be tested simply by checking if the dsvFormat field of the format set is set.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.texture.specification.*depth* (no regressions)  Change-Id: I76d008462564657328dae35d664be5f5e22238fa Reviewed-on: https://chromium-review.googlesource.com/329104 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Suppress some failing end2end_tests on Intel.  BUG=589851  Change-Id: I91588014784a8a9b75389aeb596923458c30d80a Reviewed-on: https://chromium-review.googlesource.com/329427 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add EGL tests to help troubleshoot environment problems  BUG=585132  Change-Id: I9d04ad1705f45280cc608f419dbbd56db44d4d80 Reviewed-on: https://chromium-review.googlesource.com/329324 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11 Texture refactoring: Store ANGLEFormat in TextureStorage11"  Failing Windows Debug WebGL tests:  https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Debug%20%28NVIDIA%29/builds/13587  Seems to fail in and around:  [  FAILED  ] WebglConformance.conformance_renderbuffers_framebuffer_object_attachment (320392 ms) [ RUN      ] WebglConformance.conformance_renderbuffers_framebuffer_state_restoration  BUG=angleproject:1244 This reverts commit d72c61c66e75536681c5fb529a92a2ee2134f0f1.  Change-Id: Id84d6988bc1a3530d8dde4c36d18b735f3de06fc Reviewed-on: https://chromium-review.googlesource.com/329621 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11 Texture refactoring: Store ANGLEFormat in TextureStorage11  This is needed to enable removing GetDXGIFormatInfo calls which are difficult to use correctly due to a texture format being associated with multiple DXGI formats. This is done in preparation of changing some of the DXGI formats associated with integer textures.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.fbo.* (no regressions)  Change-Id: I820b8331e6f9aacfe9979b13118371687c5fca51 Reviewed-on: https://chromium-review.googlesource.com/329075 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add suppressions for dEQP-GLES3 on Linux  BUG=angleproject:1323  Change-Id: Id437ecd8c05e151558b66294f4c0946e0fee2df9 Reviewed-on: https://chromium-review.googlesource.com/329049 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Choose D3D11 swizzle formats in gen_texture_format_table.py  Making swizzle format data come from the ANGLE format table will make it easier to make changes that affect both swizzle formats and regular texture formats. Swizzle format is now specified manually for some tricky formats but for most it can be determined automatically from the ANGLE texture format info.  The ANGLE texture format info in texture_format_table.json is changed to facilitate this. The componentType field now captures only whether the data is normalized int or float and its signedness but not the width of the data type. Bit widths of the individual channels are recorded in a separate "bits" object for each ANGLE format entry.  Also a new 16-bit RGBA UNORM ANGLE format is added to support swizzling 16-bit normalized depth formats.  This change is mostly just refactoring but it fixes swizzling for formats which have less bits for alpha than other channels:  - RGB10_A2 - RGB10_A2UI - RGB5_A1  BUG=angleproject:1322 BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.texture.swizzle.* (all pass)  Change-Id: I87d8a9cc0b6569191f50c41754d77b20ca6afef9 Reviewed-on: https://chromium-review.googlesource.com/329074 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
dEQP: Mark while 'continue' tests as failing on Linux.  These tests seem to be flaky and now they are showing up in a bunch of CLs as failures.  BUG=angleproject:1324  Change-Id: I47c0e0895f8d87fba52084cf571fb453e5d996e0 Reviewed-on: https://chromium-review.googlesource.com/329279 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "dEQP: Mark while 'continue' tests as failing on Linux."  Accidentally committed GLES3 suppressions to a GLES2 file.  BUG=angleproject:1324  This reverts commit ea9b92f6ad24b8643322e0b5cf03eaccfe9b0e27.  Change-Id: I510f05350d397ced8c68c3ea74c8549062835641 Reviewed-on: https://chromium-review.googlesource.com/329335 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP: Mark while 'continue' tests as failing on Linux.  These tests seem to be flaky and now they are showing up in a bunch of CLs as failures.  BUG=angleproject:1324  Change-Id: Ie7dd70bde1490c8623910c6d319128ca1225990a Reviewed-on: https://chromium-review.googlesource.com/329156 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11 Texture refactoring: Add ANGLEFormat enumeration to C++ code  Texture formats that are internal to ANGLE can now be uniquely identified using the ANGLEFormat enum.  GetANGLEFormatInfo returns a structure with the DXGI texture formats associated with the ANGLE format.  For starters the ANGLEFormat enum is used when building texture info structures queried from GetTextureFormatInfo.  BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: I58a2027a1d9b7a5621f943cc5ceeb88a858009e3 Reviewed-on: https://chromium-review.googlesource.com/328254 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Enable dirty bits for Framebuffer11.  This patch works using a notification scheme - whenever a Texture or Renderbuffer changes in such a way as to recreate its RenderTarget we pass a signal to the Framebuffer to invalidate some internal state. Everything is entirely tracked in the Renderer11 layer and the GL layer is left untouched.  A RenderTarget11 now tracks points to which it is bound and the Framebuffer11 is mostly responsible for managing those links.  The three locations where we notify a Framebuffer when its bound RenderTargets might be dirty are:   1) RenderTarget11::~RenderTarget  2) EGLImageD3D::copyToLocalRendertarget  3) TextureStorage11_2D::useLevelZeroWorkaroundTexture  This patch gives about a 10% score increase in the D3D11 draw call benchmark on my system.  BUG=angleproject:1260  Change-Id: Ide38aeadff4a2681bf5bd685e8ca3c9e2612a380 Reviewed-on: https://chromium-review.googlesource.com/327255 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix Array texture depth-stencil attachments.  We were missing support for these layer depth-stencil attachments. This fixes running a WebGL test for this feature.  BUG=angleproject:1260 BUG=angleproject:1315  Change-Id: Ida7d44ba1fe65d5da95d2db721e497bfa685db77 Reviewed-on: https://chromium-review.googlesource.com/327402 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Group D3D11 DXGI format info under a struct  This patch refactors how DXGI format info is stored. The goal is to make it easier to make changes that affect both swizzle formats and regular texture formats and make it easier to pass the format sets around.  BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: I1cc220bccbbdde9200a41829fdc37c8ec123c6a1 Reviewed-on: https://chromium-review.googlesource.com/329072 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove renderFormat from TextureFormat structure  The renderFormat is only ever needed in renderer11_utils when determining which multisample sample counts a format supports. Determine the renderFormat in the context where it is needed instead of storing it in the TextureFormat structure. Extra fallbacks can also be removed from the code.  The D3D11FormatTablesTest is restructured so that it doesn't need to use the renderFormat field.  This refactoring is done to make it simpler to expand usage of the ANGLE format enumeration in the C++ code.  BUG=angleproject:1244 TEST=angle_end2end_tests      dEQP-GLES3.functional.fbo.* (no regressions)  Change-Id: I980152eb2f3fdaaa1cc5b08e3c9b695c1625e9e5 Reviewed-on: https://chromium-review.googlesource.com/328680 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix MSVS 2013 build  Implicit conversion from int to boolean was generating a warning on MSVS 2013.  Still useful to keep support around at least while build instructions recommend using MSVS 2013.  Change-Id: I6975198f4bc6740a745454375f422d9c67ffaea5 Reviewed-on: https://chromium-review.googlesource.com/329070 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Don't always sync all dirty object state on update.  This leads to a problem where we're synching objects out of order. For instance when we call SetImage we need to sync the pack state. But SetImage can affect the FBO state so we need to sync the FBO only after we've finished with SetImage.  Fix this by using a mask of dirty objects to sync instead of all of them always. This also has the side effect of deferring some syncs that don't have to be processed immediately.  BUG=angleproject:1260  Change-Id: I5678d8f967930d11b42a4309d209215be2bae963 Reviewed-on: https://chromium-review.googlesource.com/327259 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement dynamic cast to TIntermBranch * on TIntermNode  On the TIntermNode class there is no Derived *getAsDerived() for TIntermBranch. This is needed for the shader debugger to determine the node type.  BUG=angleproject:1320  Change-Id: I9ce07017ccdb206c06c296b003b31eab6c65653c Reviewed-on: https://chromium-review.googlesource.com/328281 Tryjob-Request: Tibor Ouden den <tibordenouden@gmail.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clear SRV cache on keyed mutex texture unbind from TextureStorage11  If the calling code releases the keyed mutex after the unbind then D3D will unbind the SRV or RTV from the pipeline without notifying the cache. This allows the SRV to be destroyed which means that a subsequently-created SRV could have the same address. This would cause the new SRV to not be correctly bound to the pipeline if its slot is the same as the unbound SRV.  BUG=588000 Change-Id: I0ad1ba3706a6bcc1fee50745e6148c9b23e578f6 Reviewed-on: https://chromium-review.googlesource.com/328400 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Refactor more Texture entry points to a consistent style.  TexImage SubImage and the Compressed variants were all taking a GL Context as the first parameter which is a layering violation and also caused problems with reworking how the sync works. Fix this by refactoring them in the same style as the CopyTex* entry points.  BUG=angleproject:1260 BUG=angleproject:747  Change-Id: Ibe5e87d0ebc790e2dcadb8ba153cf40fec73d1f6 Reviewed-on: https://chromium-review.googlesource.com/327258 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP: search for the data directory relative to the exe path.  BUG=580045  Change-Id: I58bfa9ab6766eaae756b3c0f4d28f545e86d543b Reviewed-on: https://chromium-review.googlesource.com/327306 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Replace GetDXGIFormatInfo with a GetDXGIFormatSizeInfo where possible  It's not always clear which format should be passed to GetDXGIFormatInfo since a resource is associated with multiple formats. In some cases one of the formats is typeless and one of them is typed which would return different type information depending on which one is used. In some cases one of the formats may even be a depth format while another is not. GetDXGIFormatSizeInfo will return correct data no matter which format associated with a certain resource is passed to it.  Remaining uses of GetDXGIFormatInfo will need to be addressed separately either making sure that they always use the format that makes sense in a given context or plumbing in the required information in some other way.  BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: If3cb03ab68d27743b1fdeb539234ec621dfa3c04 Reviewed-on: https://chromium-review.googlesource.com/328230 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Corrections to GLES sRGB formats.  This stops Mesa from complaining when using GLES 3.0 in the back end.  BUG=angleproject:1301  Change-Id: Ib9c0397586a11c407c6aa9ad1544e12b43dd08a7 Reviewed-on: https://chromium-review.googlesource.com/324031 Tryjob-Request: Frank Henigman <fjhenigman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Mark sampler metadata clean when it is updated  This was accidentally left out of the patch:  "Pass texture base level to shaders on D3D11"  TEST=angle_end2end_tests      angle_perftests on d3d11 BUG=587846  Change-Id: I5d801288303cf0e0a3d52c1314aca95c47f02e25 Reviewed-on: https://chromium-review.googlesource.com/328960 Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add initializer function to more texture formats  All GL RGB formats that ANGLE stores as RGBA formats under the covers need to have their alpha channel set to 1. See GLES 3.0.4 table 3.24 for the relevant spec. In some cases this is handled by the dataInitializerFunction associated with the format. Previously some texture formats had the function set correctly but not all.  Associating formats with the datainitializerFormat is now a responsibility of the gen_texture_format_table.py script. The new automation there makes sure that all GL RGB formats emulated with RGBA formats get a data initializer function.  Tests are added in end2end_tests for most of the RGB formats.  BUG=angleproject:1318 TEST=angle_end2end_tests  Change-Id: Iad860357f33d87c625445ea6c58a53af47e0b547 Reviewed-on: https://chromium-review.googlesource.com/328253 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a few missing newlines at eof.  Change-Id: Ie4b0811be8fe2d075a8854f1b9d318f7cb747cd1 Reviewed-on: https://chromium-review.googlesource.com/320930 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove AnyDevice from gen_texture_format_table  This makes the generated code easier to read.  BUG=angleproject:1318 BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: I6f232f3b8959cf8c72efb1e68b3fae6358b7b698 Reviewed-on: https://chromium-review.googlesource.com/328252 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Split texture_format_data.json into two files  After this change texture_format_map.json maps the GL internal formats to an enumeration of formats that is internal to ANGLE.  Each ANGLE format specifies a unique combination of DXGI formats and what type of data the format contains. In the future the ANGLE format could be used instead of DXGI format inside C++ code to identify which type of data a resource contains. This becomes useful when a GL format is associated with multiple DXGI formats which may have different type information (for example depth vs. red integer vs. float).  texture_format_data.json is changed to only store data on these ANGLE formats.  BUG=angleproject:1318 BUG=angleproject:1244 TEST=gen_texture_format_table.py (no changes in autogenerated file)  Change-Id: I729c4a4d6fc66ee61598ef2d879e6785c85d40ab Reviewed-on: https://chromium-review.googlesource.com/328251 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Sort texture formats in gen_texture_format_table.py better  Sort the formats in a meaningful way so that even if the structure of the source files change the order can be maintained. This makes it easier to review further changes that affect the autogenerated texture format table.  BUG=angleproject:1318 BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: Id3602a809137da43431144a31e36d4a0ed2e596e Reviewed-on: https://chromium-review.googlesource.com/328250 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Pass integer texture format bit count to shaders on D3D11  This will be needed in the future when integer texture wrap mode support will be added by sampling integer textures through FLOAT/UNORM/SNORM SRVs.  The bit count needs to be passed for 8- 10- and 16-bit textures. 32-bit integer textures are the ones left over. Only passing the bit counts for the absolute minimum number of formats avoids unnecessary driver constant buffer updates.  BUG=angleproject:1244 BUG=angleproject:1095 TEST=angle_end2end_tests  Change-Id: I28a84588842b2eb9a1661454437d21c22ce794b7 Reviewed-on: https://chromium-review.googlesource.com/326944 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add more const qualifiers in TextureStorage11  This makes the code easier to follow.  BUG=angleproject:1244 TEST=angle_end2end_tests  Change-Id: I7787b04217a6771629e69f6f67586f62ce5cfccf Reviewed-on: https://chromium-review.googlesource.com/327053 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Sync the D3D11 rasterizer state if pointDrawMode or multisample changes.  When drawing points culling is disabled to make sure the generated point sprites are not culled. Since there are no dirty bits for pointDrawMode or multiSample they were not being checked to ensure the rasterizer state was correct.  BUG=586531  Change-Id: I8fe60dd8d5bbc79b1bce2c0aa62c40cee560fe24 Reviewed-on: https://chromium-review.googlesource.com/327862 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use texture base level to implement textureSize on D3D11 HLSL  HLSL GetDimensions call doesn't take the texture base level into account so ANGLE needs to use the texture base level passed in uniforms to emulate ESSL textureSize() which does take it into account.  After this change the relevant dEQP tests pass on NVIDIA Intel is still suffering from an issue where a wrong value is returned when the lod is > 0 (tested on Intel HD Graphics 4600). AMD is also suffering from an unknown issue.  BUG=angleproject:596 TEST=dEQP-GLES3.functional.shaders.texture_functions.texturesize.*      (all pass on NVIDIA now) angle_end2end_tests  Change-Id: I13e33d126008ecdf2b89461a3fb5040949cf19e2 Reviewed-on: https://chromium-review.googlesource.com/322123 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Pass texture base level to shaders on D3D11  The base level is passed to shaders in an array included in the driver uniform block. This is done on feature levels above 9_3 which treat samplers as indices to sampler arrays in shaders.  A separate uniform block couldn't be used for the sampler metadata since that would bring the number of available uniform blocks down to below minimum level defined by GLES 3.0.  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: Ie040521402f9996d51a978aeeba9222e9dd761ce Reviewed-on: https://chromium-review.googlesource.com/326290 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Initialize TextureState::usage.  This was probably omittted some time ago and was showing up as garbage in the debugger in some cases.  BUG=angleproject:1260  Change-Id: Ifca5243d0c94e7659a2245e327a72eed9dd918ab Reviewed-on: https://chromium-review.googlesource.com/327401 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Context virtualization for D3D11 queries  Queries in D3D11 are now virtualized such that they work as expected with multiple contexts. Timer queries now only time the operations that their context is responsible for and the operations of other contexts are ignored.  BUG=angleproject:657  Change-Id: I667de594bdb5831d126d5801c0e692ded4c88bf4 Reviewed-on: https://chromium-review.googlesource.com/327150 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Clean up the style in TextureStorage11.  This is a pure refactoring change and should behave identically.  BUG=angleproject:1260  Change-Id: I44f5ef2f1444ffd8f8dd6ce55c266ec95781a6d8 Reviewed-on: https://chromium-review.googlesource.com/327266 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed clang build for InputLayoutCache.  Change-Id: I0757874fad5f665cf4629092ad2d0d5982ca4856 Reviewed-on: https://chromium-review.googlesource.com/327301 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implemented instanced rendering for emulated point sprites  Non-instanced PointSprite emulation for lower feature levels is implemented using D3D DrawIndexedInstanced and an instanced vertex buffer containing a pointsprite quad.  GL instanced rendering using glDrawArraysInstanced and glDrawElementsInstanced with pointsprite emulation is performed using a for-loop.  The loop iterates over each instance to render and adjusts the buffer offsets accordingly. This is not performant and is only used and required by this chosen pointsprite emulation method.  Indexed instanced (glDrawElementsInstanced) uses the same offset loop because the vertex buffer containing the data to be rendered has already been expanded using getEmulatedIndexedBuffer().  Expanding the buffer makes the two rendering operations similar enough to share code.  BUG=angleproject:1279 TEST=angle_end2end_tests  Change-Id: If46cc9f158e29f5518c70ad630b3228f474a9f8b Reviewed-on: https://chromium-review.googlesource.com/321407 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Add a test to cover a clear RTV driver bug.  See dEQP-GLES3.functional.fbo.color.repeated_clear.sample.tex2d.rgba8  This test uses ClearRenderTargetView to clear various FBO textures but it does not seem to work correctly on my Nvidia configuration. It has been reported to Nvidia. It also seems to fail on Intel.  Current GPU: NVIDIA GeForce GTX 660 Current Driver: 10.18.13.5598 (9-13-2015) Works on Desktop OpenGL back-end also on AMD R5230  BUG=angleproject:1305  Change-Id: I4b53b7376faf71f234d05c90f4fb55462de23e36 Reviewed-on: https://chromium-review.googlesource.com/314304 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix texture swizzle cache initialization  Texture swizzle cache needs to be initialized so that the keys do not represent a valid swizzle state before any swizzled textures have been cached.  BUG=angleproject:1095 TEST=dEQP-GLES3.functional.texture.swizzle.* (all pass)  Change-Id: I66c10ed49134875d29b07852488a41a776e8fb67 Reviewed-on: https://chromium-review.googlesource.com/326971 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Avoid a copy in TextureStorage11::setData  This is essentially a reland of 9cf9bcbecaa1e54a47a92eb784e7f591f7b65c57  This code always allocates a new memory buffer for the texture memory picks a load function to copy/convert the input data into it and the uploads.  In the case where the input format matches the upload format we should be able to skip the allocation and copy and be much happier.  Change-Id: If4281aeb4cd7bbbebba60122a10610a916833052 Reviewed-on: https://chromium-review.googlesource.com/326852 Tryjob-Request: John Bauman <jbauman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Re-enable win_angle_x64_dbg_ng as a trybot target.  BUG=chromium:585270  Change-Id: I94b78d21aa700fbc7549f9f30534ba9f414780a3 Reviewed-on: https://chromium-review.googlesource.com/326924 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Re-enable win_angle_x64_dbg_ng as a trybot target."  This reverts commit b36b491c00924acfc03c71453833c442b7a22be6.  Forgot to restart the tryserver.chromium.angle waterfall to add this bot and now waterfall restarts are broken: http://crbug.com/585632 .  Change-Id: Id25ac99a54013a9dd1406d4680717bef12a75940 Reviewed-on: https://chromium-review.googlesource.com/327033 Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Re-enable win_angle_x64_dbg_ng as a trybot target.  BUG=chromium:585270  Change-Id: I9d95667d676f54bfe8901a428a6cb5eddf927819 Reviewed-on: https://chromium-review.googlesource.com/326830 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Increase the timeout on Timer queries tests.  On Mac the timer queries tests have flakiness as the tests may timeout before the query result is available. The time to wait before throwing a timeout error in the tests was therefore increased by a factor of 20.  BUG=585498  Change-Id: I55047ee7759e6d2dde69294df451202dfb498034 Reviewed-on: https://chromium-review.googlesource.com/327031 Commit-Queue: Ian Ewell <ewell@google.com> Reviewed-by: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Fix context virtualization for timer queries  In the current implementation of query virtualization queries are paused/resumed during draw calls. Timer queries however are affected by every OpenGL call so virtualization and context switches for timer queries must happen every time there is a context switch. Thus the logic for context-switching queries was moved to a new function in the GL state manager that is called everytime a makeCurrent call on the context is made. Since queries may be made after a context is made current the state manager needs to keep track of any new queries that are started in a context so an additional delegate function was added to the state manager that is called every time a glBeginQuery() call is made that adds the query object to a set. All the queries in that set are paused when a context switch is made and the queries in the new context are then loaded and resumed.  BUG=angleproject:1307  Change-Id: I4e596d83739274cb2e14152a39e86e0e51b0f95c Reviewed-on: https://chromium-review.googlesource.com/325811 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Make the dEQP GTEST initialization failures red on swarming.  On swarming the dEQP GTEST initialization failures would show as green because the FAIL GTEST macro was called outside of a test. Use exit(-1) instead that shows up as red on the bots.  BUG=580045  Change-Id: Icf82a8593a11fe7e992778ffd8c682f6738c39a6 Reviewed-on: https://chromium-review.googlesource.com/326690 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add in GN the data dependencies required by the dEQP tests.  BUG=580045  Change-Id: I3424568c6b200d6b6eb9921c6c09a3b3c974d710 Reviewed-on: https://chromium-review.googlesource.com/326320 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
CollectVariables: Don't include block name in field name.  The spec mandates that the instance name of a block determines how the active uniform name for this field is reported. However our handling of this was a bit bugged. We would include the proper prefix on the compiler-side but this mangled the hashing and was also not strictly needed. We now also expose the instance name so we can determine the proper prefix for variable linking on the GL-side of things. This also is consistent with how we handle other spec issues where the GL-side handles the GL-API specific functionality.  This also allows us to fix name hashing of instanced uniform blocks which was previously broken because we would hash the full name of the active uniform instead of just the field.  BUG=angleproject:1306  Change-Id: I06ace6dbc3f75fdd8129677360dcc142aa89136e Reviewed-on: https://chromium-review.googlesource.com/326681 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove unused texture format source files  These files are not included in the build they have been replaced by autogenerated files.  TEST=build on Windows  Change-Id: I6b8448d6f2426bc05c01b7ec6db605e6047ee207 Reviewed-on: https://chromium-review.googlesource.com/326660 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove unreferenced member of Renderer11 mDepthStencilInitialized.  BUG=angleproject:1260  Change-Id: I3773297a4e517e2fca7072f56f3bdbec0a561d9a Reviewed-on: https://chromium-review.googlesource.com/326851 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Replace '> >' with '>>'  BUG=angleproject:1308  Change-Id: I00bd2ea939b633817662205eb7879efb7f99965f Reviewed-on: https://chromium-review.googlesource.com/326400 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Re-land "Implement EGL_experimental_present_path_angle"  - Re-land with clang fix.  This allows ANGLE to render directly onto a D3D swapchain in the correct orientation when using the D3D11 renderer.  The trick is to add an extra uniform to each shader which takes either the value +1.0 or -1.0. When rendering to a texture ANGLE sets this value to -1.0. When rendering to the default framebuffer ANGLE sets this value to +1.0. ANGLE multiplies vertex positions by this value in the VS to invert rendering when appropriate. It also corrects other state (e.g. viewport/scissor rect) and shader built-in values (e.g. gl_FragCoord).  This saves a substantial amount of GPU time and lowers power consumption. For example the old method (where ANGLE renders all content onto an offscreen texture and then copies/inverts this onto the swapchain at eglSwapBuffers() time) uses about 20% of the GPU each frame on a Lumia 630.  Verification: + dEQP GL ES2 tests pass when "present path fast" is enabled + all ANGLE_end2end_tests pass when "present path fast" is enabled  BUG=angleproject:1219  Change-Id: I56b339897828753a616d7bae837a2f354dba9c63 Reviewed-on: https://chromium-review.googlesource.com/326730 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Refactor RenderTarget apply into StateManager11.  This is a refactoring patch only and doesn't change the behaviour. The intent is to make it easy to turn on the Framebuffer dirty bits in a subsequent patch once we can cleanly handle textures and renderbuffers getting recreated.  BUG=angleproject:1260  Change-Id: Iaa5cfe222b020724e088eee5f1ae909b6f981a08 Reviewed-on: https://chromium-review.googlesource.com/325423 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Download GN in the gclient hooks.  Recently git cl format has started requiring GN and would fail when run in the ANGLE standalone repository because the binary was not present.  BUG=  Change-Id: I0482db6fd6a868dc02ef6e395e6ff4817623c291 Reviewed-on: https://chromium-review.googlesource.com/326420 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Implement EGL_experimental_present_path_angle"  Compile failure on Clang/Win:  The reason for reverting is: FAILED: ninja -t msvc -e environment.x86 -- "..\..\third_party/llvm-build/Release+Asserts/bin/clang-cl" -m32 /nologo /showIncludes /FC @obj\third_party\angle\src\tests\egl_tests\angle_end2end_tests.EGLPresentPathD3D11Test.obj.rsp /c ..\..\third_party\angle\src\tests\egl_tests\EGLPresentPathD3D11Test.cpp /Foobj\third_party\angle\src\tests\egl_tests\angle_end2end_tests.EGLPresentPathD3D11Test.obj /Fdobj\gpu\angle_end2end_tests.cc.pdb  In file included from ..\..\third_party\angle\src\tests\egl_tests\EGLPresentPathD3D11Test.cpp:7: In file included from ..\..\third_party\angle\src\tests\test_utils/ANGLETest.h:13: ..\..\testing\gtest\include\gtest/gtest.h(139216) :  error: comparison of integers of different signs: 'const int' and 'const unsigned int' [-Werror-Wsign-compare]   if (expected == actual) {       ~~~~~~~~ ^  ~~~~~~ ..\..\testing\gtest\include\gtest/gtest.h(142212) :  note: in instantiation of function template specialization 'testing::internal::CmpHelperEQ<int unsigned int>' requested here     return CmpHelperEQ(expected_expression actual_expression expected            ^ ..\..\third_party\angle\src\tests\egl_tests\EGLPresentPathD3D11Test.cpp(2819) :  note: in instantiation of function template specialization 'testing::internal::EqHelper<false>::Compare<int unsigned int>' requested here         ASSERT_EQ(mWindowWidth * 4 mappedSubresource.RowPitch);         ^ ..\..\testing\gtest\include\gtest/gtest.h(196032) :  note: expanded from macro 'ASSERT_EQ' # define ASSERT_EQ(val1 val2) GTEST_ASSERT_EQ(val1 val2)                                ^ ..\..\testing\gtest\include\gtest/gtest.h(194367) :  note: expanded from macro 'GTEST_ASSERT_EQ'                       EqHelper<GTEST_IS_NULL_LITERAL_(expected)>::Compare \                                                                   ^  BUG=angleproject:1219  This reverts commit 6b3c1db5170450bbc4946d8f18ba0d8619da43a0.  Change-Id: Ia67ab82dd13295dc03235d57fa417c73f20a49e6 Reviewed-on: https://chromium-review.googlesource.com/326680 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor InputLayoutCache::applyVertexBuffers.  The redesigned code places the internal buffers and input elements for instance point sprite emulation (FL9_3) at the start of the arrays instead of swapping with the first non-instanced element. This makes the tracking logic of the caching somewhat cleaner.  This facilitates the work of implementing instancing-on-instancing for FL9_3 conformance.  BUG=angleproject:1279  Change-Id: Ifb030816a313b1e8b916c57ef05915914443312a Reviewed-on: https://chromium-review.googlesource.com/325090 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Avoid a copy in TextureStorage11::setData"  Fails on the Windows builders:  https://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Win%20Builder/builds/42201  e:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\libangle\renderer\d3d\d3d11\load_functions_table_autogen.cpp(787) : error C2440: 'return' : cannot convert from 'const std::map<GLenumrx::LoadImageFunctionstd::less<_Kty>std::allocator<std::pair<const _Kty_Ty>>>' to 'const std::map<GLenumrx::d3d11::LoadImageFunctionInfostd::less<_Kty>std::allocator<std::pair<const _Kty_Ty>>> &'         with         [             _Kty=GLuint             _Ty=rx::LoadImageFunction         ]         and         [             _Kty=GLuint             _Ty=rx::d3d11::LoadImageFunctionInfo         ]         Reason: cannot convert from 'const std::map<GLenumrx::LoadImageFunctionstd::less<_Kty>std::allocator<std::pair<const _Kty_Ty>>>' to 'const std::map<GLenumrx::d3d11::LoadImageFunctionInfostd::less<_Kty>std::allocator<std::pair<const _Kty_Ty>>>'         with         [             _Kty=GLuint             _Ty=rx::LoadImageFunction         ]         and         [             _Kty=GLuint             _Ty=rx::d3d11::LoadImageFunctionInfo         ]         No user-defined-conversion operator available that can perform this conversion or the operator cannot be called  This reverts commit 52d3e43b66478b07d26c95a5511d4132cec26000.  Change-Id: I83774ea09ccbb2b92ff609714e1c7201beb775bc Reviewed-on: https://chromium-review.googlesource.com/326540 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix 3D ReadPixels with PBOs.  Pass the FBO attachment to the Buffer packing method so we can retrieve the layer of the attachment when doing an asynchronous readback. Also take advantage of the TextureHelper11 class to remove some redundant code.  BUG=angleproject:1290  Change-Id: I26bb21a03e0ff7a42aab4eee75f3c3d12915f398 Reviewed-on: https://chromium-review.googlesource.com/324021 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Avoid a copy in TextureStorage11::setData  This is essentially a reland of 9cf9bcbecaa1e54a47a92eb784e7f591f7b65c57  This code always allocates a new memory buffer for the texture memory picks a load function to copy/convert the input data into it and the uploads.  In the case where the input format matches the upload format we should be able to skip the allocation and copy and be much happier.  Change-Id: I3c1a0ab34be91c7d39eb2d0866029d01352b6056 Reviewed-on: https://chromium-review.googlesource.com/325526 Tryjob-Request: John Bauman <jbauman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fail the dEQP tests early if the case list is not found.  BUG=580045  Change-Id: I917f62dca047ca163bfdbcc5437b2fc1d7a1e020 Reviewed-on: https://chromium-review.googlesource.com/326401 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add support for timer queries in D3D11  Timer queries without context virtualization are now supported in the Direct3D11 backend. Only the elapsed time portion of the GL extension is supported though due to limitations of D3D11 preventing a reliable implementation of the timestamp functionality. As a result of this the counter bits for the timestamp is set to 0 and any queries of the timestamp will always return 0.  BUG=angleproject:657  Change-Id: I51ca1a1a6bd6bc13155cebeacdca414b764db168 Reviewed-on: https://chromium-review.googlesource.com/325780 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement EGL_experimental_present_path_angle  This allows ANGLE to render directly onto a D3D swapchain in the correct orientation when using the D3D11 renderer.  The trick is to add an extra uniform to each shader which takes either the value +1.0 or -1.0. When rendering to a texture ANGLE sets this value to -1.0. When rendering to the default framebuffer ANGLE sets this value to +1.0. ANGLE multiplies vertex positions by this value in the VS to invert rendering when appropriate. It also corrects other state (e.g. viewport/scissor rect) and shader built-in values (e.g. gl_FragCoord).  This saves a substantial amount of GPU time and lowers power consumption. For example the old method (where ANGLE renders all content onto an offscreen texture and then copies/inverts this onto the swapchain at eglSwapBuffers() time) uses about 20% of the GPU each frame on a Lumia 630.  Verification: + dEQP GL ES2 tests pass when "present path fast" is enabled + all ANGLE_end2end_tests pass when "present path fast" is enabled  BUG=angleproject:1219  Change-Id: Ib6eeea46bafa6ebce4adada0ae9db3a433b8fc4c Reviewed-on: https://chromium-review.googlesource.com/321360 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a couple of issues with back-compat for RENDER_TO_BACK_BUFFER flags  Change-Id: I6a772b08ec627a5a42d7fe8013f41d5640400d41, 15312978, 382, 105, 382
Regenerate projects after the last merge  Change-Id: I2f7ee6faadd9ae1bef95088067ba60b30d476b17, 15312978, 382, 105, 382
Implement EGL_experimental_present_path_angle  This allows ANGLE to render directly onto a D3D swapchain in the correct orientation when using the D3D11 renderer.  The trick is to add an extra uniform to each shader which takes either the value +1.0 or -1.0. When rendering to a texture ANGLE sets this value to -1.0. When rendering to the default framebuffer ANGLE sets this value to +1.0. ANGLE multiplies vertex positions by this value in the VS to invert rendering when appropriate. It also corrects other state (e.g. viewport/scissor rect) and shader built-in values (e.g. gl_FragCoord).  This saves a substantial amount of GPU time and lowers power consumption. For example the old method (where ANGLE renders all content onto an offscreen texture and then copies/inverts this onto the swapchain at eglSwapBuffers() time) uses about 20% of the GPU each frame on a Lumia 630.  Verification: + dEQP GL ES2 tests pass when "present path fast" is enabled + all ANGLE_end2end_tests pass when "present path fast" is enabled  BUG=angleproject:1219  Change-Id: Ib6eeea46bafa6ebce4adada0ae9db3a433b8fc4c, 15312978, 382, 105, 382
Merge remote branch 'google/master' into ms-master  Change-Id: Ic7b11bbcdf22bc5cf89d4edca7758056955d899c, 15312978, 382, 105, 382
Remove the _ANGLE targets from the GN build.  They are no longer needed by Chromium.  BUG=522967  Change-Id: I187eed52378a58f3ea24c3e21082c6a93e56da7f Reviewed-on: https://chromium-review.googlesource.com/325330 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert more changes (ESSL/GLSL compile out WARP share handle)  Change-Id: I21d0d222a3f5b25b8c3ebdc5f0e4f4f96fababb0, 15312978, 382, 105, 382
Revert old direct-rendering changes  Change-Id: I1a709860aab65fdc448d5335fd9baed870fa0d31, 15312978, 382, 105, 382
Revert "Add swapchain backbuffer shader resource view for direct rendering"  This reverts commit 2372f98c4e49071f32ed2d3a4b90a450f69b6f6e., 15312978, 382, 105, 382
D3D11: Transcode ETC1 to BC1.  Adds a new extension to allow transcode ETC formats to suitable BC formats. This commit implements ETC1 to BC1. More formats will be supported soon.  BUG=angleproject:1285  Change-Id: Iacbfbc2248dfe1aebf24b92696249a9404e331cd Reviewed-on: https://chromium-review.googlesource.com/316511 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable EGL_ANGLE_keyed_mutex on D3D11  Pbuffers created using eglCreatePbufferFromClientBuffer from share handles created using keyed mutexes can now have their keyed mutex queried. All other pbuffers will continue to be created without keyed mutexes.  BUG=337606  Change-Id: Id9039064dd8c89fe1706cc8ecb31111c994761fc Reviewed-on: https://chromium-review.googlesource.com/324253 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Pass texture base level to shaders on D3D11"  This reverts commit 3026829e155bd89b5ca5b7b7c5267699b9192557.  Change-Id: I0b4c3f5b1453b993b149423bb1ce407f4918cf54 Reviewed-on: https://chromium-review.googlesource.com/325435 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pass texture base level to shaders on D3D11  The base level is passed to shaders in a uniform block created specifically for passing sampler metadata. This is done on feature levels above 9_3 which treat samplers as indices to sampler arrays in shaders.  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: I846f2fc195ab1fd884052824ffd3c1d65083c0fb Reviewed-on: https://chromium-review.googlesource.com/322122 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Fix ReadPixels with layer 3D attachments.  Non-zero layer attachments are FBO attachments of 3D textures bound from a layer other than zero. These haven't ever worked AFAIK. Fix them by retrieving the correct layer from the FBO attachment.  Note: 3D attachments are still broken with PBO ReadPixels. The fix for those will come in a subsequent patch.  BUG=angleproject:1290  Change-Id: I5417e7374188dd320e1209d006723ce070f98561 Reviewed-on: https://chromium-review.googlesource.com/323472 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix basic ReadPixels from 3D attachments.  Use the TextureHelper class to abstractly handle 2D and 3d textures.  Also refactor the Image11 copy methods to be a bit cleaner and not use the copy conversion path when unnecessary.  This patch does not yet fix layer attachments - the fix for that will come up in a subsequent patch.  BUG=angleproject:1290  Change-Id: If8b7aa8848ca4260e0dde690e7a99e115a97fabb Reviewed-on: https://chromium-review.googlesource.com/323442 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add Debug labels to more D3D11 objects.  This makes debugging using graphics tools easier on Windows.  BUG=angleproject:1290 BUG=angleproject:1299  Change-Id: Ia3889c10fd8e23486f0122e0b567c470517bc9e0 Reviewed-on: https://chromium-review.googlesource.com/324821 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an EGL spec for EGL_experimental_present_path_angle  BUG=angleproject:1219  Change-Id: I1e303ec30ffe877aebf00720620b818c335fac76 Reviewed-on: https://chromium-review.googlesource.com/310652 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Finish basic timer query support in GL backend  EXT_disjoint_timer_query is feature complete with the WebGL tests passing with Chromium using ANGLE as a backend. There is some flakiness in the timestamp query test on WebGL but investigation revealed a bug on Chromium's end and a fix is being made there. Since the extension is feature complete it is now enabled by default on OpenGL so that it can be regression tested.  BUG=angleproject:1265  Change-Id: If018b7e3ae84aff7e40c73ff8e672a86689ae6c4 Reviewed-on: https://chromium-review.googlesource.com/324580 Tryjob-Request: Ian Ewell <ewell@google.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Remove win_angle_x64_dbg_ng tryserver.  This won't be mirrored on the waterfall for the time being due to lack of hardware.  BUG=542370  Change-Id: I2ecfde30f66d3dcdde2d05144d647c2b4b5c83d3 Reviewed-on: https://chromium-review.googlesource.com/325133 Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Tell GN about the dependecy of dEQP tests on expectations  Without this gn-built isolates do not include the test expectations file in the isolate causing the test suite to bail out at startup. Also rename target_name to api_name as target_name is a special variable name when inside a target definition.  BUG=580045  Change-Id: I20be39c7e50e24757a0828f9056613e171f0002f Reviewed-on: https://chromium-review.googlesource.com/325040 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Redesign samplers in shaders on D3D11  Translation of samplers to HLSL on D3D11 is changed as follows:  Instead of passing around HLSL sampler and HLSL texture references in shaders all references to ESSL samplers are converted to constant indices within the shader body. Each ESSL sampler is identified by an unique index. In the code generated to implement ESSL texture functions these indices are used to index arrays of HLSL samplers and HLSL textures to get the sampler and texture to use.  HLSL textures and samplers are grouped into arrays by their types. Each unique combination of a HLSL texture type + HLSL sampler type gets its own array. To convert a unique sampler index to an index to one of these arrays a constant offset is applied. In the most common case of a 2D texture and a regular (non-comparison) sampler the index offset is always zero and is omitted.  The end goal of this refactoring is to make adding extra metadata for samplers easier. The unique sampler index can be used in follow-up changes to index an array of metadata passed in uniforms which can contain such things as the base level of the texture.  This does not solve the issues with samplers in structs.  The interface from the point of view of libANGLE is still exactly the same the only thing that changes is how samplers are handled inside the shader.  On feature level 9_3 the D3D compiler has a bug where it can report that the maximum sampler index is exceeded when in fact it is not. This can happen when an array of samplers is declared in the shader. Because of this the new approach can't be used on D3D11 feature level 9_3 but it will continue using the old approach instead.  BUG=angleproject:1261 TEST=angle_end2end_tests      dEQP-GLES3.functional.shaders.texture_functions.* (no regressions)      dEQP-GLES3.functional.texture.units.* (no regressions)  Change-Id: I5fbb0c4280000202dc2795a628b56bd8194ef96f Reviewed-on: https://chromium-review.googlesource.com/320571 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix leak with binding Framebuffers directly.  Using BindFramebuffer(1) then GenFramebuffers would return 1. This leads to a memory leak and was something that was obscuring debugging a bug in my ReadPixels fix for ES3.  This also fixes a bug where running the texture tests along produces some random failures.  BUG=angleproject:1290 BUG=angleproject:1299  Change-Id: If11e8c743d2ddde725b12749ac012f670cd290e1 Reviewed-on: https://chromium-review.googlesource.com/324820 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix some override related warnings.  BUG=  Change-Id: I9e67ba2165ac87959f319fd2485fe385c60a8ea0 Reviewed-on: https://chromium-review.googlesource.com/324461 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Updated a few new passing tests in dEQP-GLES3.  Unknown when these started passing but they seem to be OK locally and on the bot.  BUG=angleproject:1095 BUG=angleproject:1097 BUG=angleproject:1101  Change-Id: Icf6102792b356cd23bf39414f75e796fe7e81879 Reviewed-on: https://chromium-review.googlesource.com/324940 Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: fix a SwapControl copy-paste error  BUG=angleproject:1304  Change-Id: If0ec8682b1d519bc6460cd6ed82f42c4c1ceb952 Reviewed-on: https://chromium-review.googlesource.com/324930 Commit-Queue: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Build GN dEQP iff "build_angle_deqp_tests==true"  BUG=580045  Change-Id: Id19f843e8a04d38938b6827a7a64970eb088bcc6 Reviewed-on: https://chromium-review.googlesource.com/324760 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: disable the GLES backend on Intel and NVIDIA  This is to fix failures in the automated testing while we work on them.  BUG=angleproject:1303  Change-Id: I0813b5cf1dca1e329504704c70b9d2b0c34d003b Reviewed-on: https://chromium-review.googlesource.com/324460 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add initial support for EXT_disjoint_timer_query.  Basic timer queries are supported and tested in the OpenGL backend but are not enabled by default. A good portion of the existing query code was also refactored for improved validation - specifically for validating that the appropriate extensions are available.  BUG=angleproject:1265  Change-Id: Iebae994cd7a8d3ed3e9fc3776fe2f3d99caa9237 Reviewed-on: https://chromium-review.googlesource.com/323450 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Ian Ewell <ewell@google.com> Tested-by: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Clean up unused variable macros.  We might want UNUSED_ASSERTION as a special case but the unused trace variable macro was being abused in places.  BUG=angleproject:1290  Change-Id: I5f9252b3ff0484d2e859b9fcf68d5d060b28f1fc Reviewed-on: https://chromium-review.googlesource.com/324290 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable support for OpenGL ES targets with WGL on Intel drivers.  BUG=angleproject:1145  Change-Id: I9f3a8926eaad88076026f58922289487f90518c7 Reviewed-on: https://chromium-review.googlesource.com/324270 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
X11Window: fix the behavior of setVisible  An obvious bug crept in setVisible where setVisible(true) twice would end up hiding the window.  BUG=angleproject:1145  Change-Id: Iea8ca3de4ab8c05e6da66fb04c8d377824547b41 Reviewed-on: https://chromium-review.googlesource.com/324090 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove the now unused _ANGLE targets.  BUG=522967  Change-Id: I9a5c1793b089920273c74ab43fd5464d0aea7adb Reviewed-on: https://chromium-review.googlesource.com/324022 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Touch Infraustructure CQ config.  Change-Id: I9f733055ba3c22950eeedc17e756fe50af272a16 Reviewed-on: https://chromium-review.googlesource.com/324280 Reviewed-by: Andrii Shyshkalov <tandrii@chromium.org> Tested-by: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
Add support for targetting GLES with DisplayGLX.  BUG=angleproject:1145  Change-Id: I3072c31f2f743943b2ed9a3b1a020529112d5f71 Reviewed-on: https://chromium-review.googlesource.com/324091 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix warnings from shadowed variables in DXGISwapChainWindowSurfaceWGL.  BUG=540829  Change-Id: I3595f316afa1897224ad95d6f9a3da3685aa0831 Reviewed-on: https://chromium-review.googlesource.com/324032 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor ReadPixelsTest.  Split the test into several categories based on what fixture types they need.  BUG=angleproject:1290  Change-Id: Ia25a022d90a0571e03d86c8e38f6243189968149 Reviewed-on: https://chromium-review.googlesource.com/324020 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reland "Infrastructure: CQ Verified label is no longer required."  This re-lands https://chromium-review.googlesource.com/#/c/323690/. It didn't break tryjobs they actually didn't work.  Change-Id: Id3da7658515f59e8dae550816d82b1fcce1e5f7a Reviewed-on: https://chromium-review.googlesource.com/324220 Reviewed-by: Sergiy Byelozyorov <sergiyb@chromium.org> Tested-by: Andrii Shyshkalov <tandrii@chromium.org> Commit-Queue: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
Fix bugs with drawbuffer state.   * IsAttachmentEnabled was checking the wrong draw buffer state.  Instead    of checking that drawbuffer[colorAttachment] is in use it should have    been scanning for a drawbuffer state that points to colorAttachment.  * Allow for maxDrawBuffer != maxColorAttachments.  Tested by the GL    backend on some systems that don't have the draw buffers extension.  Fixed by updating the helpers and adding a new getDrawBuffer helper.  BUG=angleproject:1121  Change-Id: Idd1b0a9ec4a3f944d332c708364408bf5d59e1fd Reviewed-on: https://chromium-review.googlesource.com/292740 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a WGL Surface implementation that renders to a DXGI swap chain.  This avoids sandbox issues when calling SetPixelFormat on windows from other processes while in a sandboxed process.  BUG=540829  Change-Id: I012168531d8c2e5b189671533cea9f57ec713538 Reviewed-on: https://chromium-review.googlesource.com/296340 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Tests: Prettify output for EXPECT_PIXEL_EQ.  Previously our output would spam multiple lines by checking equality for each color component. Instead use a helper struct with a stream operator to clean up the output. This makes it much more legible.  New output style:    Expected: (0 255 0 255)   Actual: angle::MakeGLColor(255 0 127 255)   Which is: (255 0 127 255)  BUG=angleproject:1290  Change-Id: Ieea018ab6c149a20b5fd74d74c972118b63a4b5e Reviewed-on: https://chromium-review.googlesource.com/323441 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use std::random functions for test and samples RNG.  These standard functions are much more powerful than the C random() routines. Use them to improve the random utils and use a class to clean things up further.  This fixes a problem I was having using random_utils where I was having trouble generating random 32 bit unsigned integers.  BUG=angleproject:1290  Change-Id: I5081764053d0667a4e323553b7dea531256aa778 Reviewed-on: https://chromium-review.googlesource.com/323440 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
GLX backend: check for child window resizes on eglWaitNative  This is the standard way if not often used for application to notify the driver of window size changes. Chromium uses it to resize when it is done rendering and swapping so that drivers do not clobber the backbuffer. This fixes black flickering appearing when resizing the Chromium windows with --use-gl=angle.  BUG=angleproject:1281  Change-Id: Ic76f3c3ef453eae07eb59122135290411f86764d Reviewed-on: https://chromium-review.googlesource.com/322390 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Add a TextureHelper class to wrap 2D+3D reads.  In some cases in our code we had hard-coded ID3D11Texture2D where the code should handle 2D and 3D textures. This happens in ReadPixels where we have to handle 3D textures when the user binds a layer of a 3D textures with FramebufferTextureLayer.  This is a refactoring patch only which makes the error cleaner. Tests and the bug fix to come in a follow-up patch.  BUG=angleproject:1290  Change-Id: Ie1c293dead4d5b6b4dd6ce24ba2a9146619b141d Reviewed-on: https://chromium-review.googlesource.com/322680 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Supress AMD OpenGL failures in angle_end2end_tests.  BUG=angleproject:1291  Change-Id: I4fc8cc152bb5ef18fff78bf312a14691e9de0243 Reviewed-on: https://chromium-review.googlesource.com/324030 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Supress Mac OpenGL AMD angle_end2end_test failures.  BUG=angleproject:1291  Change-Id: I7fe6a6203c71c893dad97d6e9bc8272164d44f58 Reviewed-on: https://chromium-review.googlesource.com/323790 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement dirty bits for Framebuffer.  The dirty bits set the stage for performance improvements in D3D but don't actually reduce any of the redundant work just yet.  BUG=angleproject:1260  Change-Id: Ib84e6a9b7aa40c37c41790f492361b22faaf4742 Reviewed-on: https://chromium-review.googlesource.com/318730 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Infrastructure: CQ Verified label is no longer required."  This might cause analyze weirdness as shown in tryjobs here.  NOTRY=true  This reverts commit 5b74bd390334b1c988bb4b941e7765b992f611f7.  Change-Id: I018925a55ce4cebbc873e8c0ebb4b97ae9ca1020 Reviewed-on: https://chromium-review.googlesource.com/323581 Reviewed-by: Andrii Shyshkalov <tandrii@chromium.org> Tested-by: Andrii Shyshkalov <tandrii@chromium.org> Commit-Queue: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
Enable all angle_end2end_tests targeting OpenGL and OpenGL ES backends.  Added failure supressions and filed bugs for failing tests.  BUG=angleproject:1145 BUG=angleproject:1289 BUG=angleproject:1291 BUG=angleproject:1292 BUG=angleproject:1293 BUG=angleproject:1296  Change-Id: Ida78ba855500fe8a6ce6154d43ee01520330e3b1 Reviewed-on: https://chromium-review.googlesource.com/322695 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add GL_OES_EGL_image functions.  Needed to work on Chrome OS.  BUG=angleproject:1297  Change-Id: I78e18472780745f73257c8954f263d236ff92180 Reviewed-on: https://chromium-review.googlesource.com/323470 Tryjob-Request: Frank Henigman <fjhenigman@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Cast display parm for eglGetPlatformDisplayEXT.  The native display parameter to eglGetPlatformDisplayEXT has type void*. When building with -DUSE_OZONE the native display type is intptr_t so a cast is needed.  BUG=angleproject:1297  Change-Id: I947f5f9016926b6e3d590a2e29b5ee1fc883384d Reviewed-on: https://chromium-review.googlesource.com/323471 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Frank Henigman <fjhenigman@chromium.org> Commit-Queue: Frank Henigman <fjhenigman@chromium.org> Tested-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Infrastructure: CQ Verified label is no longer required.  BUG=577560  Change-Id: Ibd5b8bfd0da1631b03317dc6d0c85c649c947c12 Reviewed-on: https://chromium-review.googlesource.com/323690 Commit-Queue: Andrii Shyshkalov <tandrii@chromium.org> Reviewed-by: Sergiy Byelozyorov <sergiyb@chromium.org> Tested-by: Sergiy Byelozyorov <sergiyb@chromium.org>, 15312978, 382, 105, 382
Add support for targetting GLES with DisplayWGL.  BUG=angleproject:1145  Change-Id: I5a0a667621aceedb4662cfb2356d7dbd0d9f7718 Reviewed-on: https://chromium-review.googlesource.com/285557 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix packSnorm2x16.  Casting -32767.0f to uint16_t on Android resulted in 0. According to C99 6.3.1.4 footnote 50 this kind of cast behavior is unspecified  BUG=angleproject:913 TEST=build/android/test_runner.py gtest -s angle_unittests --release  Change-Id: I136386fe0aa618c17f07f99d8e1ca72fa407d36a Reviewed-on: https://chromium-review.googlesource.com/323230 Tryjob-Request: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Don't force using sized internal texture formats for OpenGL ES.   * LUMA formats don't have sized versions without specific extensions.  * This allows a more direct translation the driver should do the right    thing.  BUG=angleproject:884 BUG=angleproject:1145  Change-Id: I2ad13db7216eb7c715621a237b13ae9e3035310a Reviewed-on: https://chromium-review.googlesource.com/322694 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update FunctionsGL to load OpenGL ES entry points.  BUG=angleproject:1145 BUG=angleproject:879  Change-Id: I04eb900df28909f97469691a6c05a6af775d7465 Reviewed-on: https://chromium-review.googlesource.com/322693 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always write to gl_Position when compiling shaders with SH_GLSL_COMPATIBILITY_OUTPUT.  BUG=angleproject:1277  Change-Id: Ib820a46151637e8c61e94b966b970de46ccca6b9 Reviewed-on: https://chromium-review.googlesource.com/323160 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Fail any ANGLE test if it outputs D3D11 SDK message in debug mode  Also:  - Disable some Feature Level 9_3 tests that trigger SDK messages  - Fix a debug object name issue. If you try to assign a debug name    to an object twice then you get an SDK warning message. This can    occur if you 'create' two objects (e.g. Rasterizer States) with    identical DESCs on the same device since D3D11 can optimize    this and return the same object both times.  - Disable the message checks in Line Loops tests since the tests    trigger incorrect D3D11 SDK messages on Win7 machines  BUG=angleproject:667;angleproject:1282  Change-Id: I7284fb3a11377afde24e0014e21dbcea80ebb126 Reviewed-on: https://chromium-review.googlesource.com/321393 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Fixed validation errors in teximage3d and friends.  BUG=angleproject:1169 BUG=angleproject:1101  Change-Id: I3770335d04cafd652c2f3839afca3e4a854e6e76 Reviewed-on: https://chromium-review.googlesource.com/322381 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Ian Ewell <ewell@google.com>, 15312978, 382, 105, 382
Fix version check for GL_MAX_VARYING_COMPONENTS with OpenGL ES.  BUG=angleproject:1145  Change-Id: Ibd5dab0fe54516427e6f7697559fb0ef670e1035 Reviewed-on: https://chromium-review.googlesource.com/322692 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "OSXWindow: fix window size and position computations""  This reverts commit 67d810449c661460770ba7812856cd3da30ad8d6.  Change-Id: I4fcaffeb161d22c1cea72fd764461b0c38024e01 Reviewed-on: https://chromium-review.googlesource.com/322214 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "WindowSurfaceCGL: unregister the SwapLayer on destruction""  This reverts commit 10277159570e987a02a112fa994a4b82845786d3.  Change-Id: I9ecf977845c6ee01d7c3e3791c23673407cfb91a Reviewed-on: https://chromium-review.googlesource.com/322213 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Suppress ProvokingVertexTest.FlatTriWithTransformFeedback on Mac AMD  BUG=  Change-Id: Ia6e7c67aaed40cca70be5522e0b9edff2610b63a Reviewed-on: https://chromium-review.googlesource.com/322212 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Sync dirty objects at the GL layer.  The dirty bit system currently puts dirty objects in line with the rest of the dirty state. This means at the Renderer level the sync manager code would call back to the GL layer to sync the specific objects that are dirty. This is a bit of a layering violation (impl layer mutating top-level objects) and also a bit of repeated boiler- plate code.  Fix this by treating dirty objects in a separate dirty bit set called the dirty objects. This also has the benefit of allowing us to re- implement the dirty object set at a later date if we want to store them in a list or other structure.  Also don't skip the state sync at the GL level if there are no GL dirty bits. The Impl might have some dirty bits locally and it's better to call syncState and do the no-op check in the Impl than it is to also sync local state at every sync point (draw call read etc) in each Impl.  BUG=angleproject:1260  Change-Id: Id5d4beb2a1c4e3ad351edf54e3f32e828d5f5da3 Reviewed-on: https://chromium-review.googlesource.com/318790 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable dEQP in GN.  Change-Id: If2b3097f976a4433625b393c8562ea5d22c0c070 Reviewed-on: https://chromium-review.googlesource.com/322211 Reviewed-by: Nico Weber <thakis@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor FBO related entry points.  Change the validation to the consistent style for easy auto-generation and make the context itself implement the entry points. This will more easily allow us to sync state without passing the Context to the Texture methods or doing work in the entry point.  BUG=angleproject:1260 BUG=angleproject:747  Change-Id: I7ed6ec5418b7f51d9e59529267b14b76b87743fb Reviewed-on: https://chromium-review.googlesource.com/319823 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceGLX: ignore X11 when destroying windows  Chromium seems to destroy the parent window before calling asking to destroy the EGL surface. We don't want to generate a BadWindow X11 error in this case so we ignore errors when calling XDestroyWindow.  BUG=angleproject:1281  Change-Id: Ie63d188b6206c0ff3b5ac6a5a874e7d6018489e4 Reviewed-on: https://chromium-review.googlesource.com/322361 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix OpenGL ES extension checks for floating point textures.  BUG=angleproject:1145 BUG=angleproject:884  Change-Id: I1ab16a187155573989f0605dbdd06f73ad8c8c58 Reviewed-on: https://chromium-review.googlesource.com/322691 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't expose OES_texture_float_linear without OES_texture_float.  Due to our extra logic that only exposes OES_texture_float if the format is renderable it's possible that the OES_texture_float_linear can be exposed without OES_texture_float.  Make sure that can't happen.  BUG=angleproject:1145  Change-Id: I9b1262a39872abf4654d4e4751706679e24926f3 Reviewed-on: https://chromium-review.googlesource.com/322690 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Set up infra config folder with CQ configuration.  BUG=503611577560  Change-Id: I4ecb2c6a01c81f6a93c8ff4a52b89789711b23a5 Reviewed-on: https://chromium-review.googlesource.com/322142 Reviewed-by: Sergiy Byelozyorov <sergiyb@chromium.org> Reviewed-by: Paweł Hajdan Jr. <phajdan.jr@chromium.org> Tested-by: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
Enable resource sharing for D3D11 devices created with WARP  ANGLE currently blocks resources sharing if ANGLE was initialized using EGL_PLATFORM_ANGLE_DEVICE_TYPE_WARP_ANGLE. This is to prevent applications from trying to share resources between hardware D3D devices and WARP.  However this prevents developers from deliberately initializing ANGLE to run on WARP and then sharing resources with an external WARP device. ANGLE should support that scenario.  BUG=angleproject:1283  Change-Id: I86681355bf34f7fe3367261dd76c434a9fa60739 Reviewed-on: https://chromium-review.googlesource.com/317318 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't compile D3D geometry shader when using instanced point emulation  If ANGLE is using instanced point sprites (e.g. on Feature Level 9_3) then it still tries to compile the point sprite geometry shader. It shouldn't do this.  Change-Id: I6e7753dd337c385893fc4bea6c8438aeaf5e8427 Reviewed-on: https://chromium-review.googlesource.com/321397 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement eglWait*  This mostly does nothing except on X11 where it calls the equivalent glXWait*. eglWait* are needed because they are used by Chromium and were triggering an UNREACHABLE().  BUG=angleproject:1281  Change-Id: Iff9c127b16841bc27728304a5ba2caff49ff11b5 Reviewed-on: https://chromium-review.googlesource.com/322360 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "WindowSurfaceCGL: unregister the SwapLayer on destruction"  This reverts commit da66ed625901c1ec2df324aa9563ee275130be4f.  Change-Id: Ifcef6e06d1f3f30c14f4397d659df6bab857d05d Reviewed-on: https://chromium-review.googlesource.com/322392 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Improved performance of RefCountObject  Drop virtual specifier on addRef() and release(). There are no derived classes which re-implement these functions. Inlined implementation of constructor and destructor. Destructor is still virtual but empty implementation is now visible for derived classes. Destructor is now protected to make sure that object is destructed through release().  BUG=angleproject:1263  Change-Id: I744430c1d99b917f3d7b63d47305d937be323ee7 Reviewed-on: https://chromium-review.googlesource.com/320861 Tryjob-Request: Tibor Ouden den <tibordenouden@gmail.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "OSXWindow: fix window size and position computations"  This reverts commit 34087533024da6a7253a57c83e23b8fa07ee66a8.  Change-Id: Ide87d79791aa37095127f048929e1b7a925259ab Reviewed-on: https://chromium-review.googlesource.com/322391 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add stubs for no_error extension.  In some cases ANGLE flushes state for FBOs during validation. For testing of the state synching code for FBOs this makes end-to-end testing impossible.  Solve this by partially implementing a hidden no_error extension hidden to the user by not exposing the extension string but allowing us to skip validation of some of the FBO methods that require checking for complete FBOs.  BUG=angleproject:1280 BUG=angleproject:1260  Change-Id: I708f348ccec6697b974c48cd890ec75a703abe21 Reviewed-on: https://chromium-review.googlesource.com/322210 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Run applyTextures before applyShaders  applyShaders will update uniform data by uploading the constant buffer. In the future uniform data will contain the base level of textures so that shaders can use it to adjust results of texture functions. The most natural place to set the base level in uniform data is applyTextures so it needs to be run before applyShaders.  updateSamplerMapping needs to be called before applyTextures but genericDraw* functions already do that. Remove redundant updateSamplerMapping call from ProgramD3D::applyUniforms.  BUG=angleproject:596 BUG=angleproject:1092 BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: I1828f7bdc75999872a26941a02cb4b6c6a66094d Reviewed-on: https://chromium-review.googlesource.com/322121 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix texture completeness check when base level > 0 is used  ANGLE would previously treat a texture as incomplete whenever its base level was above 0. This was because the base level wasn't being taken into account correctly when determining what size the image at a specific mip level should be. Fix this by taking the base level into account when determining the expected size.  BUG=angleproject:596 TEST=angle_end2end_tests  Change-Id: I4b05514aed2858797ea46cf3570c3c40e5efc508 Reviewed-on: https://chromium-review.googlesource.com/322132 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove obsolete parts of codereview.settings.  Change-Id: Id59fca42b922c5c9bacb6eaed36ceb59e839d35e Reviewed-on: https://chromium-review.googlesource.com/322133 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Andrii Shyshkalov <tandrii@chromium.org> Tested-by: Andrii Shyshkalov <tandrii@chromium.org>, 15312978, 382, 105, 382
OSXWindow: fix window size and position computations  Also improve debug messages in window_test.  BUG=angleproject:1273  Change-Id: Ie47dc1d7ad3be5a55d2a199334bba606f2b45ad0 Reviewed-on: https://chromium-review.googlesource.com/322350 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceCGL: unregister the SwapLayer on destruction  Previously the SwapLayer was kept in the CALayer hierarchy after WindowSurfaceCGL's destruction which caused SwapLayer's callbacks to be called after the shared data was freed causing a segfault.  BUG=angleproject:1233  Change-Id: I71dce45330e6b7d5f06a41198c10890b1d8d520e Reviewed-on: https://chromium-review.googlesource.com/320711 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a texture test with a mix of different sampler types  This test makes sure that even if sampler / texture registers get grouped together based on type in the HLSL backend of the shader translator the D3D renderer still has the right register index information for each ESSL sampler.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: Id09f96cfa903cd20c8e7229980fa363bb07b6045 Reviewed-on: https://chromium-review.googlesource.com/322200 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Create DirectComposition backbuffers as SHADER_INPUT  With EGL_ANGLE_surface_orientation this is now necessary.  Change-Id: I92a20a128640f7f30b8d1d18173336d40fdad187 Reviewed-on: https://chromium-review.googlesource.com/322265 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Don't duplicate calls to X11Window's setVisible.  Calling setVisible multiple times in a row can cause a hang while X11Window waits for events that will never be generted.  Change-Id: I43af8d4c79c7010dae78aa38c9716ed5b7b02865 Reviewed-on: https://chromium-review.googlesource.com/322380 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Test shadow sampler + 3D sampler in the same shader  Shadow samplers use a different sampler object type in D3D11 HLSL than other ESSL samplers. They need to be able to coexist in the same shader.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: I960f6a41c0237ed912b072527e14aebeca98cf7c Reviewed-on: https://chromium-review.googlesource.com/322120 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add a workaround for default framebuffer sometimes being SRGB  On some GL driver/window system combinations the default framebuffer may do SRGB conversion which affects the values written there by draw operations and read by readPixels. This is known to happen at least on some Intel systems. For this reason use an FBO with a known format instead in the texture end2end tests.  This enables turning on most TextureTest cases on the OpenGL backend. Tested on Intel HD 4600.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: I5a39bd1dadf15b7c52793a0f66d67e9f61618b83 Reviewed-on: https://chromium-review.googlesource.com/321612 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Include function in EVENT macro on non-MSVS.  Adding the function is very helpful for diagnostic messages. Also change the name of the debug trace capture file to the more distinct angle_debug.txt from debug.txt.  Change-Id: I59b3d61568fd3917cd8c4a8125ee1c28d608aa30 Reviewed-on: https://chromium-review.googlesource.com/321871 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove two unused methods in BlockLayoutEncoder.  Using these methods to compute block offsets instead of the block layout info could lead to some confusion.  Change-Id: Iaa3b91bdb517632107923076e3ece7efeab278c2 Reviewed-on: https://chromium-review.googlesource.com/321250 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Alexis Hétu <sugoi@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix incorrect delete function call in TextureTest  The test must call glDeleteBuffers to delete a buffer instead of glDeleteTextures. This was one reason behind the texture tests failing on the GL backend.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: I67042f6948146f3c3fca9e01231b0c4935a6f08d Reviewed-on: https://chromium-review.googlesource.com/321611 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceCGL: make resizing work correctly.  Previously the code didn't resize the depth buffer. Also adds a magic setNeedsDisplay call when resizing a CALayer.  BUG=angleproject:1233  Change-Id: Id1906312f58d474e95a1b5ebfc15eff4344cd126 Reviewed-on: https://chromium-review.googlesource.com/318450 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix null sampler warning in TextureTest.TextureNPOT_GL_ALPHA_UBYTE  The test deliberately tries to render a scene using an invalid texture. ANGLE rendered this correctly but when it bound the dummy 1x1 black texture that's used instead of invalid textures it didn't bind a sampler state. This meant that D3D had no pixel shader samplers bound and outputted a debug warning.  Also technically the test should have been setting GL_UNPACK_ALIGNMENT=1 but that wasn't impacting the result of the test.  BUG=angleproject:1248  Change-Id: I871706d518077ea840a585ae0df8f9176e130cb1 Reviewed-on: https://chromium-review.googlesource.com/321391 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add sampler array tests  This adds some coverage for samplers that is missing from dEQP.  The shaders in the added tests both have a sampler array with two samplers. The test shaders sample both textures add up the results and the tests then check that the results of the shaders are correct. Only constant indexing is used to access the sampler arrays.  One test accesses the sampler array in the main function another one first passes the array as a parameter to a user-defined function.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: I9a0100705ac0da4905d50da37c0149fdbdd24c42 Reviewed-on: https://chromium-review.googlesource.com/321623 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a test for sampler as a function parameter  This adds some coverage for samplers that's missing from dEQP.  The test shader passes a sampler to an user-defined function samples the texture there and sets the returned sample to gl_FragColor. The test then checks that the shader result is correct.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: I2cc511e591a4af01515c6fb38fd43c5f15337bcb Reviewed-on: https://chromium-review.googlesource.com/321622 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Test drawing with a shader with two different sampler types  This adds some test coverage that's missing from dEQP.  The test uses two different samplers in a shader a cube map sampler and a 2D texture sampler adds the sampling results together and checks if the result is correct.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: If21e24c964fc208b5d1ccd446834dabf13194944 Reviewed-on: https://chromium-review.googlesource.com/321621 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactoring: Split TextureTest to multiple classes  This removes the cube map setup and the draw scale parameter from the tests that don't need them and reuses the code for setting up the window and the shader program for most of the texture tests. The tests are now structured as follows:  TexCoordDrawTest: Test class that sets up a shader program for drawing with texture coordinates. Vertex shader source can be overridden in subclasses and fragment shader source must be specified in subclasses.  Texture2DTest: Inherits TexCoordDrawTest sets up a 2D texture and a shader for drawing from it.  Texture2DTestWithDrawScale: Inherits Texture2DTest adding a scale parameter that scales the quad that gets drawn.  TextureCubeTest: Inherits TexCoordDrawTest sets up a cube map and a 2D texture and a shader for drawing from them.  Texture2DArrayTestES3: Inherits TexCoordDrawTest. Reserves a texture ID and sets up an ESSL3 shader for drawing from a 2D texture array.  Also add a few comments about where things being tested are specified.  Also ANGLETest::drawQuad parameter names are renamed to make their meaning clearer. The parameters affect the vertex shader attribute values which the shader may use for other things besides setting the vertex position.  BUG=angleproject:1261 TEST=angle_end2end_tests  Change-Id: Id673e36d5883aaaf47f2f830c2a1ad0ca293d578 Reviewed-on: https://chromium-review.googlesource.com/321620 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Only use the shortening warning in Clang.  This seems to be Clang-only.  Change-Id: I4276a29e3d1575bd47d58d819ed3223b2c66838a Reviewed-on: https://chromium-review.googlesource.com/321820 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix translator having multiply defined symbols in GN builds.  This error was introduced in 82b5ab606f68bad27fe5d143d8b96e84801222ac where the translator's essl and glsl sources are compiled in both the translator and translator_lib targets. As translator depends on translator_lib this caused symbols to be defined multiple times.  BUG=angleproject:1250  Change-Id: I50bab7112d1460e14710f50250fa2417b2163236 Reviewed-on: https://chromium-review.googlesource.com/321770 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Update Debugging Tips document.  BUG=None  Change-Id: I9e417b37b072ea3874cd8b111d6b751295b9b0c2 Reviewed-on: https://chromium-review.googlesource.com/321760 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add loadable_module versions of libEGL and libGLESv2.  Reland with a link fix for Clang on Windows  In order to implement the --use-gl=angle Chrome flag on Linux we need to have the ANGLE .so directly in the build directory however GYP places shared_libraries under lib/ on Linux. On the contrary loadable_modules cannot be linked against so we need to keep the shared_library targets.  This commit adds _ANGLE versions of the libEGL and libGLESv2 targets as loadable module that depend on their respective shared library.  BUG=522967  Change-Id: Iad968ab786b94b6041c279921de99633d23b48a7 Reviewed-on: https://chromium-review.googlesource.com/318470 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add dEQP Linux GN integration.  BUG=angleproject:1272  Change-Id: I20cb8968221c25bb374b3cc71d7ca619a35f1a2f Reviewed-on: https://chromium-review.googlesource.com/320781 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disallow invariant(all) pragma in ESSL 3.00 fragment shaders  ESSL 3.00.4 section 4.6.1 says that using #pragma STDGL invariant(all) in a fragment shader is an error so make it an error. This spec language is not found in ESSL 1.00 and it's been removed in ESSL 3.10.  BUG=angleproject:1276 TEST=angle_unittests  Change-Id: I2022f35475f867304b55dfb142f8568f6df28830 Reviewed-on: https://chromium-review.googlesource.com/321240 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Add dEQP GN integration.  This is Windows-only for now but will be expanded to Linux. Also do a bit of refactoring in our deqp.gypi file.  BUG=angleproject:1272  Change-Id: I526a99fe3b91a2d9e8901c7e033a4916a06780be Reviewed-on: https://chromium-review.googlesource.com/320800 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Compile out GLSL/ESSL translator output code if it's not needed  In WinRT we only use the HLSL code so the GLSL/ESSL output code is not necessary and is only adding to our binary size.  BUG=angleproject:1250  Change-Id: I9363ca3981bde50a230f8353c1bcc09f6ea209cb Reviewed-on: https://chromium-review.googlesource.com/317358 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Fix BlendMinMaxTest.RGBA16F on D3D11 Feature Level 9_3  This test checks for OES_texture_half_float but it's trying to use a 16F texture as a color buffer so it should be checking for EXT_color_buffer_half_float.  Since EXT_color_buffer_half_float requires more format support (e.g. R16F RG16F RGB16F) than OES_texture_half_float it's possible for an implementation to support one extension and not the other. D3D11 Feature Level 9_3 does this.  Change-Id: I40fb38aa3f419be2606464bd0476cd064afe90fa Reviewed-on: https://chromium-review.googlesource.com/319642 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix compilation error on Linux  BUG=574909  Change-Id: I6dc4b010b67a9c7f3b64215a168e6ed5e894989b Reviewed-on: https://chromium-review.googlesource.com/320635 Commit-Queue: Byungseon Shin <xingri@gmail.com> Tested-by: Byungseon Shin <xingri@gmail.com> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Small cleanup of MultiWindow  Fixes a glitch on OSX where the root window would swap twice causing a glitch.  Change-Id: I5886105fb18ed8f45e69cd10b5d1cac49b82093f Reviewed-on: https://chromium-review.googlesource.com/320291 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add rpath for GN build of angle_end2end_tests.  This fixes the static library build of this target on Linux.  BUG=angleproject:1270  Change-Id: Id65bd9b7136918829f385920b540a4df83650c6f Reviewed-on: https://chromium-review.googlesource.com/320615 Tested-by: Kenneth Russell <kbr@chromium.org> Tryjob-Request: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disallow local function prototypes  Function prototypes should not be allowed inside other functions according to ESSL 3.00.4 section 4.2.4.  BUG=angleproject:1068 TEST=angle_unittests      dEQP-GLES*.functional.shaders.functions.invalid.local_function_proto*  Change-Id: I54160da4d49b92a6cd7cbee020e67733963d4e10 Reviewed-on: https://chromium-review.googlesource.com/320091 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Disallow multiple function prototypes in ESSL 1.00  The same function can't be declared twice in ESSL 1.00. In ESSL 3.00 this is allowed.  A function prototype following the definition of that function is not interpreted as redeclaration and the shader compiler continues to allow this.  BUG=angleproject:1067 TEST=angle_unittests      dEQP-GLES2.functional.shaders.functions.invalid.double_declare*  Change-Id: I6d2ddafd456d378d92839600f19069ad1cd19aff Reviewed-on: https://chromium-review.googlesource.com/320082 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move function parsing code to ParseContext  This change is pure refactoring. It will make it easier to fix bugs related to function declarations.  BUG=angleproject:911 BUG=angleproject:1067 BUG=angleproject:1068 TEST=angle_unittests  Change-Id: I031783dc02612d9cf3ff7a9c8291cf8ab33577aa Reviewed-on: https://chromium-review.googlesource.com/320081 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Make sure clang is defined before usage.  Standalone builds failed to generate projects.  Change-Id: I2897f84242255edabd0606ad858a048f635db0bc Reviewed-on: https://chromium-review.googlesource.com/320680 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clang warning fixes  This fixes member initialization order and unused private member warnings that broke the Clang build after the last Angle roll.  BUG=82385  Change-Id: If866f352bda6d66093c180fdbec6c16bf902b628 Reviewed-on: https://chromium-review.googlesource.com/320466 Reviewed-by: Nico Weber <thakis@chromium.org> Tryjob-Request: Nico Weber <thakis@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Fixed memory leak in egl::Error and gl::Error  Move assignment operator of both classes contained a memory leak. Changed type of mMessage from mutable std::string *to mutable std::unique_ptr<std::string>  BUG=angleproject:1264  Change-Id: I7d1419b2e9f385b36afebfd6371983be33ee9e61 Reviewed-on: https://chromium-review.googlesource.com/319520 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Tibor Ouden den <tibordenouden@gmail.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
GN: Use $root_out_dir in in copy_compiler_dll rule  The root_build_dir variable yields the root of the build tree. But when the component is being built under a non-default toolchain its output files are delivered to a toolchain subdirectory instead.  The copy_compiler_dll rule should put its output next to where libANGLE and things built using it will go which is root_out_dir.  This fixes cases where the angle GN component is instantiated under more than one toolchain which heretofore would produce multiple Ninja rules for the same target file $root_build_dir/d3dcompiler_47.dll and thus get complaints from Ninja.  BUG=512869  Change-Id: I9fe83c5c5fa74902ef270654d3707636588af6b7 Reviewed-on: https://chromium-review.googlesource.com/320119 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Roland McGrath <mcgrathr@chromium.org>, 15312978, 382, 105, 382
Fix case of #includes in DisplayCGL.mm  Building libGLESv2 on Mac currently results in  .../DisplayCGL.mm:9:10: fatal error: 'libANGLE/renderer/gl/CGL/DisplayCGL.h' file not found  Other files in libANGLE/renderer/gl/cgl are using lowercase `cgl` for #includes. DisplayCGL.mm should do the same.  Change-Id: I03b68041ef3194eb14d65738e4e4fb12711b1b20 Reviewed-on: https://chromium-review.googlesource.com/320155 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable and fix the -Wshorten-64-to-32  BUG=angleproject:635  Change-Id: If09014508d5f4dfeb17ac946672a76a98b8ad175 Reviewed-on: https://chromium-review.googlesource.com/316580 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix compilation failures on OSX standalone builds  BUG=  Change-Id: Ifd40ae30d601227caf550546fcffc286cf533a73 Reviewed-on: https://chromium-review.googlesource.com/320290 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix EGL_ANGLE_flexible_surface_compatibility string  The extension string was misspelled.  Change-Id: Ic44dfe7340696e7e49c4924db068e9454927d5c4 Reviewed-on: https://chromium-review.googlesource.com/320371 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Ignore clang -Wall warning."  This was not working as intended. The correct fix was implemented in 444922662a59a45ad8f86ec9480b180571337f4e  This reverts commit 74b92323c9a210178ab97cc9418d6bf639cb9d8c.  Change-Id: Ib2bc3861bcdb49555b59981ca95f1c1c1e924d7d Reviewed-on: https://chromium-review.googlesource.com/320480 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add texture sampling perf test  The test generates a texture containing random data and then blurs it in a fragment shader using nearest neighbor sampling. The test is specifically designed to test overhead of GLSL's builtin texture*() functions that may result from how ANGLE translates them on each backend.  BUG=angleproject:1261 TEST=angle_perftests  Change-Id: I188fa8c07e609b7f371e587358f913b506bd7d44 Reviewed-on: https://chromium-review.googlesource.com/319382 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix build issue in direct composition patch  MSVS2013 was warning about implicit conversion from EGLint to bool. Fix this by making the conversion explicit like another similar conversions.  The issue got introduced by the recent patch "Implement EGL_ANGLE_direct_composition extension". Since the issue only affects some particular build varieties it's simpler to fix it rather than revert the patch.  Change-Id: I120d34fddb48278856cbb0339ce25c49e57eb781 Reviewed-on: https://chromium-review.googlesource.com/320530 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Implement EGL_ANGLE_direct_composition extension  On D3D11 if dcomp.dll can be loaded then EGL_ANGLE_direct_composition is exposed. Setting EGL_DIRECT_COMPOSITION_ANGLE as an attrib on a surface will force it to use DirectComposition to draw to the screen possibly saving power.  BUG=524838  Change-Id: I3ea175a97bbca1a3388ffe52fdd1587a2f0c2ce7 Reviewed-on: https://chromium-review.googlesource.com/319214 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Disable virtual destructor warning in dEQP.  This small error in dEQP triggers a warning that was recently enabled in Chromium builds. We should remove the suppression once we fix dEQP.  BUG=angleproject:1271  Change-Id: I9df3a304043b6decc00440103d105c9de76dc2db Reviewed-on: https://chromium-review.googlesource.com/320320 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix missing virtual destructor warning.  This only showed up on Linux/standalone builds for me. The error was added during the Debug extension patch.  Change-Id: Ibfcbdb61a71f30e863a10719c552ce662f835256 Reviewed-on: https://chromium-review.googlesource.com/320330 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an EGL_ANGLE_surface_orientation extension.  BUG=angleproject:1262  Change-Id: Ifbb0f5302311a68a0c6f02baaea706cbb7055a52 Reviewed-on: https://chromium-review.googlesource.com/320011 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Add an EGL_ANGLE_surface_orientation extension."  Compilation warnings on clang.  This reverts commit 18cc14b5951842ede85c06dcbc0bba230bcedc45.  Change-Id: If58047486116e34ef30c4b317d3fb47cd2349d15 Reviewed-on: https://chromium-review.googlesource.com/319822 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add an EGL_ANGLE_surface_orientation extension.  BUG=angleproject:1262  Change-Id: I863c46c8557604da045447550f7d69831c9f06b5 Reviewed-on: https://chromium-review.googlesource.com/318780 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make generate_parser.sh run from any working directory  The script used to have partial support for specifying complete paths to the files it referenced but the patch command didn't work if the working directory wasn't src/compiler/translator. It's simplest to fix the script by just changing the working directory in the script.  Change-Id: If3642cbe11436d8c7553cd1812ee0f6c19fe990b Reviewed-on: https://chromium-review.googlesource.com/320270 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix typo in shader test  The only error in the test should be the non-integer index. gl_FragColor should be used correctly.  BUG=angleproject:1254 TEST=angle_unittests  Change-Id: I0b7a36be5485661cc03bf2c476aaacae5d3b6e76 Reviewed-on: https://chromium-review.googlesource.com/320280 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix clang warning in Buffer.cpp  BUG=angleproject:520  Change-Id: I3ee9e61a6a25eb6f16cf7d68d6da27ba1eec752d Reviewed-on: https://chromium-review.googlesource.com/320240 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement GL_KHR_debug.  BUG=angleproject:520  Change-Id: I9ced3e7ab1515feddf2ec103c26b2610a45b1784 Reviewed-on: https://chromium-review.googlesource.com/319830 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Ignore clang -Wall warning.  Change-Id: I76e3cd5038457a7d978497ef9a5ebee60b05e34d, 15312978, 382, 105, 382
Fix copyTex(Sub)Image2D failures  Change-Id: I184e549c029428d9d1a17b08c438ec6e35874937, 15312978, 382, 105, 382
Fix gl_frontFacing when direct rendering is active  Change-Id: I4d65eb3e201d3b750ace591d05e3da6d7c1087a3, 15312978, 382, 105, 382
Revert "Implement GL_KHR_debug."  This reverts commit 6c521b7a70a53b1c9f7762e53e34b5a8146b0f7b.  Change-Id: I6ff981198e31f34d3e405edea6277ee75516d6ee Reviewed-on: https://chromium-review.googlesource.com/319820 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement GL_KHR_debug.  BUG=angleproject:520  Change-Id: I78d14cc8c94f5cef58604220f0ca847473b25bf8 Reviewed-on: https://chromium-review.googlesource.com/317820 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Improve perf testing framework  The ANGLERenderTest subclasses have a parameter "iterations". Previously most of these tests would perform iterations^2 iterations since the looping was done both in ANGLERenderTest and in the individual test classes. Do the looping only in the individual test classes instead. This enables getting rid of separate beginDrawBenchmark() and endDrawBenchmark() functions.  Some other unused code is also removed:  1. stepBenchmark function 2. unused parameters to step()  This makes the core loop of running tests simpler.  The perf testing framework also now has shared logic for deciding when to end a given test.  The score calculation for tests is also changed. Instead of reporting just the number of operations done it is reported relative to the actual run time of the test. This should make the test results more accurate since run time of the tests may have some variation. It also enables changing the run time of the tests without rebaselining them.  In the tests that use GPU GPU operations are also waited to finish before stopping the timer.  BUG=angleproject:1261 TEST=angle_perftests  Change-Id: I69e9aad8afd2d9dedd60e144f0a5d4203618feef Reviewed-on: https://chromium-review.googlesource.com/319381 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove deprecated ShShaderOutput versions.  These aren't referenced from Chromium code any more.  BUG=chromium:550487  Change-Id: Ie4094667ec5f739efd9f1253ffdb779deaf3cebc Reviewed-on: https://chromium-review.googlesource.com/319162 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Using dirty bit notification for D3D9 viewport state  BUG=angleproject:1249  This is a continuation of D3D dirty bit refactor for D3D9 performance enhancements  Change-Id: Iedd7eb003981cac7f81a58560cb326760f01c06a Reviewed-on: https://chromium-review.googlesource.com/317313 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix code style in perf tests  1) Format switch/case with git cl format 2) Change NULL -> nullptr 3) Change int to GLint where appropriate 4) Use more appropriate variants of asserts  BUG=angleproject:1261 TEST=angle_perftests  Change-Id: I97d6260dbd72ef3897fff145682b7043bf323b76 Reviewed-on: https://chromium-review.googlesource.com/319380 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Using dirty bit notification for D3D9 scissor state  BUG=angleproject:1249  This is a continuation of D3D dirty bit refactor for D3D9 performance enhancements  Change-Id: I480bb95414a1baf71e7768a1704b34ae55244ed1 Reviewed-on: https://chromium-review.googlesource.com/316917 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Add EGL spec for EGL_ANGLE_direct_composition  This allows applications to specify that they want to render to the screen using DirectComposition. This can save power by allowing the use of DXGI_SWAP_EFFECT_FLIP_SEQUENTIAL and DirectFlip but has other side effects - windows must be owned by the current process and contents drawn by GDI are shown underneatch the window.  BUG=angleproject:1178 Change-Id: I2e45d92c9f92f27eedaf50f0a866c20c43f3aab5 Reviewed-on: https://chromium-review.googlesource.com/317651 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Using dirty bits notification for D3D9 depth stencil state  BUG=angleproject:1249  This is a continuation of the D3D dirty bit refactor for D3D9 for performance enhancements  Change-Id: I8690d47999b73483c47f4994dc46cd97f4ced63d Reviewed-on: https://chromium-review.googlesource.com/316449 Tryjob-Request: Dian Xiang <dianx@google.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Using dirty bit notification for D3D9 rasterizer state  BUG=angleproject:1249  Continuation of refactor for d3d9 dirty bit refactor for performance enhancements  Change-Id: I414cc9bfbdc806d870a9f208895f411edf5adcf3 Reviewed-on: https://chromium-review.googlesource.com/316515 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Add swapchain backbuffer shader resource view for direct rendering  Change-Id: I52f226dab7c3e76aa7fd6852ae90352107fa5239, 15312978, 382, 105, 382
Fix typo in share-handle fix  Change-Id: I255a6f885be14335c75d5927d2c87549ba536035, 15312978, 382, 105, 382
Removing unused render target format in D3D11  This takes up about 2.9% of the time in performance runs.  BUG=angleproject:1161  Change-Id: I9ff98cd6f4bfd14cab0c702d5873f3fadfbcb4d7 Reviewed-on: https://chromium-review.googlesource.com/317574 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
gyp: Always use pkg-config wrapper  Calling pkg-config directly doesn't work when building with a sysroot image as it will looks for host libraries rather than those within the sysroot.  BUG=chromium:569947  Change-Id: I6f3e63c1816cd9393110cb3060744a69a93c9a2e Reviewed-on: https://chromium-review.googlesource.com/318771 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Sam Clegg <sbc@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Redirect old render-to-backbuffer to new one for back-compat  Change-Id: I889fdfed408a324a1dc9cddba614a81eaec0a656, 15312978, 382, 105, 382
Regenerate projects after last merge  Change-Id: I1e72df6aedf04c67bf3fe6e0f5b0e8ebd93fdc22, 15312978, 382, 105, 382
Compile out GLSL/ESSL translator output code if it's not needed  In WinRT we only use the HLSL code so the GLSL/ESSL output code is not necessary and is only adding to our binary size.  BUG=angleproject:1250  Change-Id: I9363ca3981bde50a230f8353c1bcc09f6ea209cb, 15312978, 382, 105, 382
Enable resource sharing for D3D11 devices created with WARP  ANGLE currently blocks resources sharing if ANGLE was initialized using EGL_PLATFORM_ANGLE_DEVICE_TYPE_WARP_ANGLE. This is to prevent applications from trying to share resources between hardware D3D devices and WARP.  However this prevents developers from deliberately initializing ANGLE to run on WARP and then sharing resources with an external WARP device. ANGLE should support that scenario.  BUG=angleproject:1190  Change-Id: I86681355bf34f7fe3367261dd76c434a9fa60739, 15312978, 382, 105, 382
Implement EGL_ANGLE_experimental_direct_rendering  BUG=angleproject:1219  Change-Id: Ia77b5fefff20cdcfbc916329213a7fbbdba550aa, 15312978, 382, 105, 382
Fix perf_test_runner printing wrong test name  The previous version of the script would always print the default test name even if user specified a different one.  BUG=angleproject:596  Change-Id: I43a07e81b49f69c7c372b46bd9494d6fe440b968 Reviewed-on: https://chromium-review.googlesource.com/319091 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Improve perf_test_runner script  1) Make it possible to run the script from any working directory 2) Abort the run if angle_perftests is executing multiple test cases 3) Print some information on which exe and test is running 4) Print the test runner output in case there was an error  BUG=angleproject:596  Change-Id: If30c2455dc39b0a776df03e6c1dda2ced90d73ba Reviewed-on: https://chromium-review.googlesource.com/319090 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Re-land "Implement GL_EXT_color_buffer_half_float."  This exposes previously enabled functionality. Also update the format support check to be:  supported: GLES3 || texture extension renderable: supported && color buffer extension filterable: filtering extension  (Note: we silently support float rendering in ES2)  Re-land with suppression for newly exposed failing test.  BUG=angleproject:445  Change-Id: I4e46699e6b0c2ec8a7d8b36f1f598af1ec6420bc Reviewed-on: https://chromium-review.googlesource.com/318931 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Implement GL_EXT_color_buffer_half_float."  Failing dEQP-GLES3.functional.fbo.color.repeated_clear.sample.tex2d.rgb16f  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20dEQP%20%28NVIDIA%29/builds/4651  Likely missing a suppression for this test. It likely passed only because the extension was missing and it was passing as not supported.  BUG=angleproject:1229  This reverts commit 39f9251daef5c4ddb4b7c413466a092f4a7f21bf.  Change-Id: Ia703378d5aaacafc14503aff0b52a795b7eb4467 Reviewed-on: https://chromium-review.googlesource.com/319080 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into ms-master  Change-Id: Idea3b03170f5a697b3df817dd389a14808d31f5d, 15312978, 382, 105, 382
Remove old render-to-backbuffer implementation from ms-master  Change-Id: I536cc65841970811cde53be55fc64b864fe0b676, 15312978, 382, 105, 382
Add EGL_ANGLE_flexible_surface_compatibility  This extension allows users of ANGLE to make contexts current with surfaces that were created with different bit depths.  BUG=angleproject:1223  Change-Id: I9072c256e0a36aee1ce41ab69cb9a04240bf0521 Reviewed-on: https://chromium-review.googlesource.com/314935 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: John Bauman <jbauman@chromium.org> Tested-by: John Bauman <jbauman@chromium.org>, 15312978, 382, 105, 382
Implement GL_EXT_color_buffer_half_float.  This exposes previously enabled functionality. Also update the format support check to be:  supported: GLES3 || texture extension renderable: supported && color buffer extension filterable: filtering extension  (Note: we silently support float rendering in ES2)  BUG=angleproject:1229  Change-Id: Icf0775891d6e336acd1a0ac07c3b37cf6bb0f101 Reviewed-on: https://chromium-review.googlesource.com/308430 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Using dirty bits notification for D3D9 blend state  BUG=angleproject:1249  Dirty bit notifications are used in GL and D3D11 for state tracking. This is a continuation of D3D dirty bit refactor for D3D9  Change-Id: Ifaa1826a93cf36c83d68150107b164d1d269c2b0 Reviewed-on: https://chromium-review.googlesource.com/316475 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Fix missing newline from "Missing main()" error message  Change-Id: Id28e20097fc2c66117c688425c73df731afecbe3 Reviewed-on: https://chromium-review.googlesource.com/318431 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add an instancing perf test.  BUG=526217 BUG=angleproject:1164  Change-Id: Ia353a3b2fa0ab0e8b7fd15d72bb63e5ecb7833b1 Reviewed-on: https://chromium-review.googlesource.com/301469 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Validation cube completeness for FBO attachments.  ES3 adds a clause that cube map FBO attachments must be cube complete to produce complete framebuffers. ES2 doesn't have this clause but some (if not all unverified) OpenGL back-ends don't support these incomplete cube map attachments.  BUG=angleproject:1259  Change-Id: Idd4564488375b8646dde712e6ce4a158c23020ee Reviewed-on: https://chromium-review.googlesource.com/318264 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Rafael Cintron <rafael.cintron@microsoft.com> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add loadable_module versions of libEGL and libGLESv2."  This reverts commit 6beb0bfdd0e57d7cb5797355d10e971c7c97cc29.  It caused compile failures on win_clang_dbg because when building libEGL_ANGLE.dll DllMainCRTStartup wasn't defined.  Change-Id: I8080f8db373f5988d86560da1b8b2a1bae30d3ea Reviewed-on: https://chromium-review.googlesource.com/318460 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Extend the CallDAG info log to report undefined functions  BUG=angleproject:784  Change-Id: If5073a91bc4f47ade27c242d6966306600029f33 Reviewed-on: https://chromium-review.googlesource.com/316870 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add compiler/linker flags to optimize WinRT release builds  This reduces the WinRT binary sizes by up to 500KB.  BUG=angleproject:1250  Change-Id: I2ce0e9597c49515fe4b414f105b03785d6ce132f Reviewed-on: https://chromium-review.googlesource.com/317595 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
TDependencyGraph: use range-base for loops instead of iterators  No functional changes intended.  BUG=angleproject:591  Change-Id: Ieccf0b792766be86a3533e5324ce6f83ee508ad5 Reviewed-on: https://chromium-review.googlesource.com/316601 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Compiler: remove dead code in limitExpressionComplexity  TGraphTraverser is a class that does nothing by itself so the for loop was a noop statement and has been for at least two years (since 17732823f9c2 didn't check earlier).  BUG=angleproject:591  Change-Id: I1919059fcb8987c2f043a71fed6223e16bc014d8 Reviewed-on: https://chromium-review.googlesource.com/316600 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Don't crash when calling ShConstructCompiler with a wrong output  BUG=angleproject:446  Change-Id: Ic1c326f79105950e5c3eb8724eba12fca187a2ec Reviewed-on: https://chromium-review.googlesource.com/316610 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add stub entry points for GL_KHR_debug.  BUG=angleproject:520  Change-Id: I6f19ca160214a44c75619c320d5e1db7e4098eda Reviewed-on: https://chromium-review.googlesource.com/317540 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Win32Window: Implement Event::EVENT_MOUSE_ENTERED  BUG=angleproject:1000  Change-Id: I9b61564fa086318c3ffa9a6b85bb100c52cfad54 Reviewed-on: https://chromium-review.googlesource.com/316590 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add loadable_module versions of libEGL and libGLESv2.  In order to implement the --use-gl=angle Chrome flag on Linux we need to have the ANGLE .so directly in the build directory however GYP places shared_libraries under lib/ on Linux. On the contrary loadable_modules cannot be linked against so we need to keep the shared_library targets.  This commit adds _ANGLE versions of the libEGL and libGLESv2 targets as loadable module that depend on their respective shared library.  BUG=522967  Change-Id: I08f2ce0ee0430eff5bee852f09cd7d30b94d6266 Reviewed-on: https://chromium-review.googlesource.com/316421 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Re-land "Finish ReadBuffer support in end2end_tests."  Currently we had a few TODOs concerned about unimplemented calls in ANGLE. ANGLE now has support for ReadBuffer so uncomment the calls.  Re-land with end2end_tests fix.  BUG=angleproject:940  Change-Id: I6e00c3aac6307308fb7f00c7e0426812563ed778 Reviewed-on: https://chromium-review.googlesource.com/317821 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Use default arguments in texture format table.  This reduces the footprint of the table considerably and makes it a little bit easier to maintain.  BUG=angleproject:1244  Change-Id: I84710729b94ba78813f9be2fcadb8c4d51fe8d7d Reviewed-on: https://chromium-review.googlesource.com/317330 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable COMDAT folding and OptimizeReferences for debug WinRT  In some configs these are enabled by default and they causes linker warnings (which are treated as errors).  BUG=angleproject:1250  Change-Id: Ia8d28e313c91f1d63248aa5c68d29f9c69b8d596 Reviewed-on: https://chromium-review.googlesource.com/317566 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Expose unsized GL_FLOAT formats required by GL_OES_texture_float  BUG=angleproject:1209  Change-Id: I490c524d203dd72a8e6c556b537c4254720d9447 Reviewed-on: https://chromium-review.googlesource.com/315510 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Clang 3.7 build issue in VS 2015 Update 1  VS 2015 Update 1 adds support for 'Clang 3.7 with Microsoft CodeGen'.  This fixes these errors when using Clang 3.7 in VS2015:  compiler\translator\ASTMetadataHLSL.cpp(6910): error : 'visitLoop' overrides a member function but is not marked 'override' [-Werror-Winconsistent-missing-override] compiler\translator\ASTMetadataHLSL.cpp(7510): error : 'visitSelection' overrides a member function but is not marked 'override' [-Werror-Winconsistent-missing-override] compiler\translator\ASTMetadataHLSL.cpp(33610): error : 'visitLoop' overrides a member function but is not marked 'override' [-Werror-Winconsistent-missing-override]  Change-Id: Ia9c3029eb2966132827596b55ad9afce34b6f19c Reviewed-on: https://chromium-review.googlesource.com/317732 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove redundant index integer check from ValidateLimitations  Non-integer indices are already rejected in the parser so the ValidateLimitations pass doesn't need to check for them.  ESSL 1.00 spec is not actually terribly clear about whether the parser should do this check but the language grammar in the spec only has indexing with "integer_expression" so it seems like ANGLE's interpretation of only allowing indexing with integers is correct. ESSL 3.00 makes this restriction explicitly clear in section 5.7.  BUG=angleproject:1254 TEST=angle_unittests  Change-Id: I02b2a6f4d9fa7801a98df63ed21bc990e1585eb8 Reviewed-on: https://chromium-review.googlesource.com/317741 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Don't try to apply ForLoopUnroll to loops it can't handle  ForLoopUnroll should only mark loops that fit the limitations in ESSL 1.00 Appendix A.  BUG=angleproject:1253 TEST=angle_unittests WebGL conformance tests  Change-Id: I00b0a7d29cd42efea9611d020aa1f873ac04773f Reviewed-on: https://chromium-review.googlesource.com/317551 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix buffer unbinding upon deletion.  - Remove buffer bindings for new ES3 buffer types. - Fix detachment behavior to GLES3 spec   i.e. detach only from currently bound containers. - Make pack/unpack buffer binding parameter available in GLES3. - Update test expectations.  BUG=angleproject:1191  Change-Id: Iab4c1de8d96a523d5af55d22956d50c10f7c93c2 Reviewed-on: https://chromium-review.googlesource.com/315521 Tryjob-Request: Yuly Novikov <ynovikov@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Yuly Novikov <ynovikov@chromium.org> Commit-Queue: Yuly Novikov <ynovikov@chromium.org>, 15312978, 382, 105, 382
Revert "Re-land "In D3D cache static vertex buffers to prevent wasteful recreation""  This reverts commit a964e91e38937cbc93c1abdaab412d7ac049ecb9.  Change-Id: Ifd2d10be769578ba699cb71e3e67d2083455cead, 15312978, 382, 105, 382
Revert a bunch of changes that have landed in Google/master  Change-Id: I627393cf386dee2977ac9294e7b47d057cf2f1c9, 15312978, 382, 105, 382
Fix ValidateLimitations for folded non-constant expressions  ANGLE recently gained the ability to constant fold some expressions that are not constant expressions. ValidateLimitations should continue to recognize all cases where an expression is not a constant expression.  BUG=angleproject:851 TEST=angle_unittests  Change-Id: I8ad0552a59213cdd6af9a220ffd672be9752271d Reviewed-on: https://chromium-review.googlesource.com/317281 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Regenerate projects with the most recent compiler/linker switch changes  Change-Id: I3b559e02f453f446d77cd1863f91101d92c5fb33, 15312978, 382, 105, 382
Disable COMDAT folding and OptimizeReferences for debug WinRT  In some configs are enabled by default and causes linker warnings (which are treated as errors).  BUG=angleproject:1250  Change-Id: Ia8d28e313c91f1d63248aa5c68d29f9c69b8d596, 15312978, 382, 105, 382
Use GetImplAs instead of dynamic_cast  Change-Id: I96ca8daac927c812a32ec9e64673a67567ff53da, 15312978, 382, 105, 382
Add compiler/linker flags to optimize WinRT release builds  BUG=angleproject:1250  Change-Id: I2ce0e9597c49515fe4b414f105b03785d6ce132f, 15312978, 382, 105, 382
Re-land "Disable RTTI in VS release builds"  - Re-land with fix for Chromium Debug Windows builds  Chrome forbids RTTI but standalone ANGLE currently allows it. Disallowing RTTI in standalone release builds brings ANGLE and Chrome closer and prevents accidental use of dynamic_cast in ANGLE.  It also reduces binary size. Win10 libGLESv2 (x86) is 47KB smaller after this.  BUG=angleproject:1239  Change-Id: I505fd0d72868a38444e47198a9bf85ee3e25719f Reviewed-on: https://chromium-review.googlesource.com/316830 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't disable COMDAT folding or OptimizeReferences in WinRT  This is bloating the WinRT binaries unnecessarily.  BUG=angleproject:1250  Change-Id: I87fa2422e7d58374329956540d03933b0177234b Reviewed-on: https://chromium-review.googlesource.com/316820 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't skip delete_bound.transform_feedback.  A one-line subset of 36167ab3 allowed dEQP-GLES3.functional.lifetime.delete_bound.transform_feedback to pass though it indented that line differently than its neighbors. Fix up the indentation and don't skip the test.  BUG=angleproject:1150 TEST=angle_deqp_gtest_gles3_tests --gtest_filter='*transform_feedback*'  Change-Id: I8471bd46f8a642b0945b43ab9b980c11c50d63c0 Reviewed-on: https://chromium-review.googlesource.com/313860 Tryjob-Request: Frank Henigman <fjhenigman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Re-land "Disable RTTI in VS release builds"  - Re-land with fix for Chromium Debug Windows builds  Chrome forbids RTTI but standalone ANGLE currently allows it. Disallowing RTTI in standalone release builds brings ANGLE and Chrome closer and prevents accidental use of dynamic_cast in ANGLE.  It also reduces binary size. Win10 libGLESv2 (x86) is 47KB smaller after this.  BUG=angleproject:1239  Change-Id: I505fd0d72868a38444e47198a9bf85ee3e25719f Reviewed-on: https://chromium-review.googlesource.com/316830 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
clang/win: Let EGLDeviceTest.cpp build with -Wextra on trunk too.  Like https://chromium-review.googlesource.com/317360 but for code that's in ANGLE trunk but not yet rolled in by Chromium.  BUG=567877  Change-Id: I59b1568b134f57919eb333e99e7d185416d5d3b5 Reviewed-on: https://chromium-review.googlesource.com/317390 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Destroy surfaces from Display::terminate instead of the DisplayImpl destructor.  Previously the parent display impl would be destroyed before the surface impls.  It is useful to call helper functions in the parent display during surface destruction.  BUG=540829  Change-Id: I0884826d2e360319da896f049d46bfc01a2481a0 Reviewed-on: https://chromium-review.googlesource.com/316801 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pass the gl::Texture object into Surface::bindTexImage.  BUG=540829  Change-Id: Iee602165e69bfe574821c6f628a745c32932a938 Reviewed-on: https://chromium-review.googlesource.com/316800 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactoring RendererD3D to not have virtual functions for state calls  BUG=angleproject:1242  Draw calls get called many times. Eliminating the number of virtual function calls will help with performance. Renderer9 and Renderer11 now have diverging paths for managing state with the dirty bits. Hence we can remove some of the virtual calls.  Change-Id: Ic5d69e744826f1c4f4ae168bca058f4743ff0843 Reviewed-on: https://chromium-review.googlesource.com/315229 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Revert "Finish ReadBuffer support in end2end_tests."  Fails on the bots on ReadPixelsTest.DrawWithPBO/ES3_D3D11  BUG=angleproject:940  This reverts commit ada5d07ec6c3578eb07adbb647360c0ae60edf46.  Change-Id: I60c71af6317f6b5ee1bf1555cb4573c5e82a11d6 Reviewed-on: https://chromium-review.googlesource.com/317430 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
clang/win: Let EGLDeviceTest.cpp build with -Wextra.  In a Chromium build this target is built as part of gpu with the chromium_code warning settings applied.  Make sure it builds in that config.  BUG=567877  Change-Id: I7464538a259295d83d990853b06b9ba76b82889d Reviewed-on: https://chromium-review.googlesource.com/317360 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Finish ReadBuffer support in end2end_tests.  Currently we had a few TODOs concerned about unimplemented calls in ANGLE. ANGLE now has support for ReadBuffer so uncomment the calls.  BUG=angleproject:940  Change-Id: Ib297e3ab7f2fa2424ee2cc85918331066dae4475 Reviewed-on: https://chromium-review.googlesource.com/317340 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Apply null InputLayout with no attributes.  In some cases in ES3 we can render without vertex attributes. For this don't bind or create an empty input layout but instead bind null.  This silences a D3D11 warning in Debug when viewing the system out.  BUG=angleproject:667  Change-Id: Ib88dc1177d7f9bb6a5fa15e44c74da022be137f6 Reviewed-on: https://chromium-review.googlesource.com/316612 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't disable COMDAT folding or OptimizeReferences in WinRT  This is bloating the WinRT binaries unnecessarily.  BUG=angleproject:1250  Change-Id: I87fa2422e7d58374329956540d03933b0177234b Reviewed-on: https://chromium-review.googlesource.com/316820 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Windows: Write test name in debug log.  This helps isolate particular debug log messages to specific tests.  BUG=angleproject:667  Change-Id: I6be37d50cc41a13abbceb395e6e9b603bd44c7bd Reviewed-on: https://chromium-review.googlesource.com/316611 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP/Win: Skip trig tests that crash on new compiler.  The new version of D3DCompile_47.dll that gets bundled with the Chromium depot_tools Windows SDK seems to crash when compiling these shaders I think during the optimization step.  BUG=angleproject:1252 BUG=568170  Change-Id: Ic54a6353ffe3520ecc5e5012721c0a09eb370b22 Reviewed-on: https://chromium-review.googlesource.com/317331 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ES3: Allow floating point blit conversions under extension.  If we support EXT_color_buffer_float we should also allow blits to and from float and fixed point data according to the extension spec.  BUG=angleproject:1243 TEST=dEQP-GLES3.functional.fbo.blit.*  Change-Id: I0957ac0647c94e38ebd67480c608eeb16c82dbf4 Reviewed-on: https://chromium-review.googlesource.com/316030 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Load the WGL_NV_DX_interop entry points in FunctionsWGL.  BUG=540829  Change-Id: Iab080789f2a21b900e2641aa97c0e3392d007391 Reviewed-on: https://chromium-review.googlesource.com/316802 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix bootstrap instructions.  BUG=angleproject:1204 TEST=bootstrap and build in Linux and Windows 8  Change-Id: Iad43ed41588d4519e3881dc48771beae375b5d40 Reviewed-on: https://chromium-review.googlesource.com/313793 Tested-by: Frank Henigman <fjhenigman@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement full program binary support for ES3.  Refactor validation to be used in both the OES and ES3 entry points.  BUG=angleproject:600 BUG=angleproject:1101  Change-Id: I2008c4ea04ce07910f03ae0b997f8a77b66203d8 Reviewed-on: https://chromium-review.googlesource.com/316620 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't allocate VertexArray or TransformFeedback objects until binding.  Follow the spec more closely and only reserve IDs of vertex arrays and transform feedback objects before binding.  This saves memory and allows the glIs* calls to succeed.  BUG=angleproject:1218 BUG=angleproject:1101  Change-Id: I0039680c39c66c1c5506f6a1a9121a71791b77e9 Reviewed-on: https://chromium-review.googlesource.com/316591 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Don't allocate VertexArray or TransformFeedback objects until binding."  This reverts commit 070c0124be642383220ca44f795225b89d56f13b.  Change-Id: I4ffa528f63311615bb4e22593c6e8a0ec424cd2d Reviewed-on: https://chromium-review.googlesource.com/316780 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Use clamp wrap mode for Integer textures."  dEQP-GLES3 texture failures:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20dEQP%20%28NVIDIA%29/builds/4510/steps/angle_deqp_gles3_tests/logs/stdio  dEQP-GLES3.functional.shaders.texture_functions.texture.isampler* dEQP-GLES3.functional.shaders.texture_functions.texture.usampler*  BUG=angleproject:1244  This reverts commit 7a6a1ffeb275a8b565701305c8b42857ff2bf0b0.  Change-Id: I0e25e7aed0e0d78015d5b8f5a7b9a81e0a5fca4e Reviewed-on: https://chromium-review.googlesource.com/316641 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
OutputHLSL: Avoid using info sink stack as much as possible.  Due to how the traversers work it might not be trivial to avoid the info sink stack entirely but minimize its use to keep the code as functional as possible.  BUG=angleproject:958  Change-Id: I354313f10f496feea7c6a6f167b0617aeadbe5b0 Reviewed-on: https://chromium-review.googlesource.com/316412 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Protect against overflow in BinaryInputStream.  BUG=angleproject:1112  Change-Id: I6d58d9e0db97ec6c67661abd92b57f61f357d6b5 Reviewed-on: https://chromium-review.googlesource.com/316640 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Protect against overflow in BinaryInputStream."  This reverts commit dfa2fe31ad66ede57af1c0244ee99b8918eb2d9b.  Change-Id: If4a7eb1876876991c537d0a9077cede52ba40b95 Reviewed-on: https://chromium-review.googlesource.com/316621 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Mask off alpha channel for RGBA->RGB blits.  We emulate RGB8 in D3D11 with RGBA8 textures. Make sure when we blit that we don't copy the unused texture channel.  BUG=angleproject:1245 TEST=dEQP-GLES3.functional.fbo.blit.*  Change-Id: I805132fda984860a6d84ad4c1fc7169973938df9 Reviewed-on: https://chromium-review.googlesource.com/316010 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Use clamp wrap mode for Integer textures.  Until we can support all wrap modes for int textures use a correct clamping scheme. This fixes several dEQP GLES3 FBO tests.  This shuffles some of the tests in functional.texture.units since it hard-codes a different behaviour for all wrap modes ignoring the sampler setting.  BUG=angleproject:1244 TEST=dEQP-GLES3.functional.texture.*  Change-Id: Ic7e89a111728dfb18821534996bf5b9a5ad172b6 Reviewed-on: https://chromium-review.googlesource.com/313997 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Protect against overflow in BinaryInputStream.  BUG=angleproject:1112  Change-Id: Iedd92ce7a56b20f42e51ef86278eb64fbae3c353 Reviewed-on: https://chromium-review.googlesource.com/316031 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't allocate VertexArray or TransformFeedback objects until binding.  Follow the spec more closely and only reserve IDs of vertex arrays and transform feedback objects before binding.  This saves memory and allows the glIs* calls to succeed.  BUG=angleproject:1218 BUG=angleproject:1101  Change-Id: I7bf99870a7c93f5545325785cbecd891c6b77f8a Reviewed-on: https://chromium-review.googlesource.com/316402 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move TType::getCompleteString to Types.cpp.  Probably left over from previous refactoring.  BUG=angleproject:1247  Change-Id: Ieb4b60ae9f724248f92ae77d23e4bdd8c5d9265a Reviewed-on: https://chromium-review.googlesource.com/316400 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't print assertion expression as a format string.  If the assert contained '%' symbols it would be interpreted as a substituion.  BUG=angleproject:1189  Change-Id: Ib347bc1a892397373e7318e032070c0337f110de Reviewed-on: https://chromium-review.googlesource.com/316410 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Using dirty bit notification for D3D11 viewport state  BUG=angleproject:1161  This is a continuation of the dirty bit refactor  Change-Id: I101f415094dd406f6b0a40cb260f1cbbfec7b62c Reviewed-on: https://chromium-review.googlesource.com/313249 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Using dirty bit notification for D3D11 scissor rectangle state  BUG=angleproject:1161  This is a continuation of the dirty bit refactor  Change-Id: I1a9f297835943eee5f756e4e4721b2db543184ec Reviewed-on: https://chromium-review.googlesource.com/312987 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
D3D11: Fix blit from out-of-bounds.  Do not copy pixels in a negative read region. Also make sure we clamp the boundaries so the dEQP tests are mostly pixel-perfect.  We can't yet fix some default framebuffer tests because of issues with blitting RGBA8 (default FBO) to floating point framebuffers.  BUG=angleproject:1241 TEST=dEQP-GLES3.functional.fbo.blit.*  Change-Id: I16ee264b0b1a7e6b9121dde5ae4f96cfd27ea53e Reviewed-on: https://chromium-review.googlesource.com/315670 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add support for EGL_EXT_platform_device  This allows an application to use EGLDeviceEXT to initialize EGL.  For example if an application wants to initialize EGL using an existing D3D11 device (instead of ANGLE creating its D3D device) then the app may create an EGLDeviceEXT using EGL_ANGLE_device_creation_d3d11 and use this device to initialize EGL via EGL_EXT_platform_device.  BUG=angleproject:1190  Change-Id: Ife91ce95a63e29eb2b3f05aedfb668e4cac8f5ce Reviewed-on: https://chromium-review.googlesource.com/313444 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Revert "Revert "Add and implement EGL_ANGLE_device_creation[_d3d11]""  This reverts commit dd5c5b79333fdde7858a77d39e91cc3d30b74c9e.  BUG=angleproject:1190  Change-Id: I1bc1b232b6a916da6d18b546baf20e0854a2768f Reviewed-on: https://chromium-review.googlesource.com/315169 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Define EGL_EGLEXT_PROTOTYPES in GN projects  This makes sure that EGL_EGLEXT_PROTOTYPES is defined in the same places as GL_GLEXT_PROTOTYPES.  BUG=angleproject:1190  Change-Id: I0e55aad5728df765bff495822570e7590b157d68 Reviewed-on: https://chromium-review.googlesource.com/315208 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Disable stencil buffer when not attached.  Similarly to the D24S8 attachment getting confused when we use only the stencil portion ANGLE could write to the stencil portion when we were only using the depth. Fix this by internally disabling stencil test and writes when using this type of configuration.  BUG=angleproject:1237  Change-Id: Ib7868d5e9f8aea73304a132005541dab947aa619 Reviewed-on: https://chromium-review.googlesource.com/314032 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Don't read or write to the unused depth buffer.  When using STENCIL8 we emulate it on D3D11 with D24S8 since there is no native stencil-only format. However in many places we would write to the depth part of this format and confuse the D3D runtime when it would use the depth test. Fix this by never modifying the depth portion of the buffer or reading from it.  BUG=angleproject:1232  Change-Id: Ifd2e54eceae84e8deea85f439c132d07981b2286 Reviewed-on: https://chromium-review.googlesource.com/313996 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Rewrite WindowSurfaceCGL to use CAOpenGLLayer  It used to render to IOSurfaces and use setContents to directly give them to the OSX compositor. This was worth the complexity only because Chrome going to use that code path. This is no longer the case.  Instead we replace the implementation with one based on CAOpenGLLayer that basically gets a "draw" callback every frame. The complexity comes from the fact that this callback is called from another thread with another CGL context.  BUG=angleproject:1233  Change-Id: I1878d0071d057e043e0bb9043d9849f50e00d023 Reviewed-on: https://chromium-review.googlesource.com/314031 Reviewed-by: ccameron chromium <ccameron@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Add and implement EGL_ANGLE_device_creation[_d3d11]"  Causes failures on Windows/GN:  e:\b\build\slave\win_x64_gn\build\src\third_party\angle\src\tests\egl_tests\egldevicetest.cpp(108) : error C3861: 'eglCreateDeviceANGLE': identifier not found e:\b\build\slave\win_x64_gn\build\src\third_party\angle\src\tests\egl_tests\egldevicetest.cpp(113) : error C3861: 'eglQueryDeviceAttribEXT': identifier not found e:\b\build\slave\win_x64_gn\build\src\third_party\angle\src\tests\egl_tests\egldevicetest.cpp(119) : error C3861: 'eglReleaseDeviceANGLE': identifier not found e:\b\build\slave\win_x64_gn\build\src\third_party\angle\src\tests\egl_tests\egldevicetest.cpp(143) : error C3861: 'eglQueryDeviceAttribEXT': identifier not found e:\b\build\slave\win_x64_gn\build\src\third_party\angle\src\tests\egl_tests\egldevicetest.cpp(162) : error C3861: 'eglCreateDeviceANGLE': identifier not found e:\b\build\slave\win_x64_gn\build\src\third_party\angle\src\tests\egl_tests\egldevicetest.cpp(178) : error C3861: 'eglCreateDeviceANGLE': identifier not found  This reverts commit 4029ad42d5ffe94a0a744532ab3577b982f847b8.  BUG=angleproject:1190  Change-Id: Ibcdfd8cea7ba275cd67c0220f8d7a1069ec1cf97 Reviewed-on: https://chromium-review.googlesource.com/315480 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed 64 bit compilation errors in samples.sln, 15312978, 382, 105, 382
Fix compilation errors in samples.sln  Change-Id: Ia48f5b1a8f3da35a9f310025bbfea21557690515, 15312978, 382, 105, 382
Revert "Disable RTTI in VS release builds"  Fails compile on the Windows Debug GPU bot:  c:\b\build\slave\gpu_win_builder__dbg_\build\src\third_party\deqp\src\framework\opengl\simplereference\sglrreferencecontext.cpp(2342) : warning C4541: 'dynamic_cast' used on polymorphic type 'sglr::rc::Texture' with /GR-; unpredictable behavior may result c:\b\build\slave\gpu_win_builder__dbg_\build\src\third_party\deqp\src\framework\opengl\simplereference\sglrreferencecontext.cpp(2344) : warning C4541: 'dynamic_cast' used on polymorphic type 'sglr::rc::Texture' with /GR-; unpredictable behavior may result  Many other similar errors.  BUG=angleproject:1239  This reverts commit aca86045d9aae4d41939a3953103304b7ba9e3a2.  Change-Id: I523e12b32665bcc74a6437582be82db8174e42ac Reviewed-on: https://chromium-review.googlesource.com/315170 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement EGL_ANGLE_x11_visual  Reland with a fixed tests on AMD.  This extension will be used by Chrome to advertise the visual it will use for its windows. Having ANGLE use the same visual will bring several benefits:  - A blit will be avoided and the content of the window might be    rendered on the system framebuffer directly.  - There will be less latency when resizing windows which will make it    much less likely to see a black border when resizing.  BUG=522149  Change-Id: I66004b6ac45453330af7c4c810ddf2c26941be42 Reviewed-on: https://chromium-review.googlesource.com/314661 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Disable RTTI in VS release builds  Chrome forbids RTTI but standalone ANGLE currently allows it. Disallowing RTTI in standalone release builds brings ANGLE and Chrome closer and prevents accidental use of dynamic_cast in ANGLE.  It also reduces binary size. Win10 libGLESv2 is 47KB smaller after this.  BUG=angleproject:1239  Change-Id: Ib5fb50df66c3a94042e2d9bbb062c0d025cf3eef Reviewed-on: https://chromium-review.googlesource.com/314831 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Update link to ANGLE and Cross-Platform WebGL Support presentation  Change-Id: Ib3322b10f8549ce743f7ce8ee1b46d6341af4062 Reviewed-on: https://chromium-review.googlesource.com/314912 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Return correct error in Framebuffer::checkStatus.  UNSUPPORTED is a specific error meaning an implementation-specific incompatibility. For cases where the attachments are invalid according to the spec we should be returning INCOMPLETE_ATTACHMENT.  BUG=angleproject:1231  Change-Id: I4b4332ee5661738374e93c825a53d66d7ba1fad5 Reviewed-on: https://chromium-review.googlesource.com/313995 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add support for GL_OES_depth32.  This will allow ANGLE to be more conformant when it accepts 32-bit depth as a Renderbuffer format.  BUG=angleproject:1230  Change-Id: I9336c6f951d280b2332fc3e6d2e640852473aa03 Reviewed-on: https://chromium-review.googlesource.com/313994 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Suppress failing dEQP tests.  With the suppression changes from 5111a06 a few were removed that seem to fail only on certain configurations. Reinstate the failure expectations for the dEQP bots.  BUG=angleproject:1236  Change-Id: Ib642c60a7871f7994ae1f0082f22533e6650f082 Reviewed-on: https://chromium-review.googlesource.com/315090 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix D3D static buffer cache cleanup logic  BUG=angleproject:197  Change-Id: Ia71f4063fa13c72a3a8bd41ec8fe01a762543796 Reviewed-on: https://chromium-review.googlesource.com/313468 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add queries for GL_RASTERIZER_DISCARD.  BUG=angleproject:1238  Change-Id: Id3b219dfcc758cf19d61b7dc7eeabd8c2159d212 Reviewed-on: https://chromium-review.googlesource.com/315100 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed compilation with mingw.  Change-Id: I8102ce4dd934ac247a29e31140d3a1eca691802f Reviewed-on: https://chromium-review.googlesource.com/315060 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add *.VC.opendb to the .gitignore  These are new temporary files used by VS 2015 Update 1  Equivalent Chromium CR: https://codereview.chromium.org/1413153015  Change-Id: I7a73b3d45107cf2a81b604953482aed9f2c971f8 Reviewed-on: https://chromium-review.googlesource.com/314881 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Using dirty bit notification for D3D11 rasterizer state  BUG=angleproject:1161  This is a continuation of the dirty bit refactor  Change-Id: I78ab046aaeb7de6dd288433c86e6524dcb2d6a66 Reviewed-on: https://chromium-review.googlesource.com/312837 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Add link to browse source to README.md  This makes it more clear to anyone landing directly at README.md instead of the root of the repo how to browse the source.  Change-Id: I19b7e8e2f8e55385fa0825d4268623ef318bdaa0 Reviewed-on: https://chromium-review.googlesource.com/314441 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Using dirty bit notification for D3D11 depth stencil state  BUG=angleproject:1161  This is a continuation of the dirty bit refactor  Change-Id: If7d523e6200fef631051cab0bde47fdec8385c17 Reviewed-on: https://chromium-review.googlesource.com/312722 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Update dEQP integration.  Intead of generating a case list from a build dEQP executable and packing it into a gzip file we can use the Android CTS mustpass list. This has the benefit of allowing us to remove some failure expectations for broken tests. It also means we don't need to ever regenerate our case list files.  Also remove the old dEQP test integration since it is no longer supported or possibly even working.  And update our test expectations to match the new Android CTS must-pass lists.  This change will likely need to be landed simulatanously with a Chromium-side CL due to the nature of the gyp/DEPS configuration.  BUG=angleproject:1236  Change-Id: I352e4a651dfb88193a1c4991974502dee1edb67b Reviewed-on: https://chromium-review.googlesource.com/313792 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Ignore clear commands if rasterizer discard is enabled.  From the 3.0 spec (Section 3.1):  "When enabled RASTERIZER_DISCARD also causes the Clear and ClearBuffer* commands to be ignored."  BUG=angleproject:1227  Change-Id: I0316103827927e8af9732d7b4565d787b881ccb8 Reviewed-on: https://chromium-review.googlesource.com/313993 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "D3D11: Fix Integer Texture Cube mip mapping."  We were missing both the correct SRV parameter as well as the full computation of the mip level in the HLSL.  Re-land makes the mip computation only happen with implicit sampling. Before it would confuse the LOD0 computation.  BUG=angleproject:1208 TEST=dEQP-GLES3.functional.texture.*  Change-Id: I4b579033afe5cd1aca1f2d017e48a74c7fc324cc Reviewed-on: https://chromium-review.googlesource.com/314330 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add and implement EGL_ANGLE_device_creation[_d3d11]  BUG=angleproject:1190  Change-Id: I248935ef81803062cf9ba5776512cda456331f51 Reviewed-on: https://chromium-review.googlesource.com/309634 Tryjob-Request: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement EGL_ANGLE_x11_visual"  Fails on Linux AMD:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Linux%20Release%20%28ATI%29/builds/43819  EGLX11VisualHintTest.InvalidWindowVisualID: ../../third_party/angle/src/tests/egl_tests/EGLX11VisualTest.cpp:183: Failure Value of: EGL_TRUE == eglInitialize(display nullptr nullptr) Actual: false Expected: true  BUG=522149  This reverts commit b28e010aa10b3e4aec3207e767be10ee5ffb25fd.  Change-Id: I9a02f2aa3caadd787eb0099c0ddf9d781084fa1c Reviewed-on: https://chromium-review.googlesource.com/314660 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement EGL_ANGLE_x11_visual  This extension will be used by Chrome to advertise the visual it will use for its windows. Having ANGLE use the same visual will bring several benefits:  - A blit will be avoided and the content of the window might be    rendered on the system framebuffer directly.  - There will be less latency when resizing windows which will make it    much less likely to see a black border when resizing.  BUG=522149  Change-Id: Icd484c9a948ed5b5b9116247bb50560bffa30667 Reviewed-on: https://chromium-review.googlesource.com/312323 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Added information about generating Windows Store ANGLE projects.  Change-Id: I49b229b7d4f3d6d305fed023f62626a9966f692d Reviewed-on: https://chromium-review.googlesource.com/312456 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Hard-limit the number of uniform vectors in OpenGL.  Using the real limits (usually 4096) can cause the uniforms/gl-uniform-arrays WebGL test to time out.  This limit artificial limit can be lifted once the test is updated.  BUG=407309  Change-Id: I17a0a963e606800ec4f6f1972c777b597976622f Reviewed-on: https://chromium-review.googlesource.com/314460 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove assertion that OpenGL program linking succeeds.  This assertion is causing problems on the debug bots.  While the assertion is nice for local debugging causing the entire run of WebGL cts on the trybots to fail is too big of a drawback.  BUG=angleproject:889  Change-Id: Ie86d2f0e84132bef8fb94a693440af7e9b7fc8e9 Reviewed-on: https://chromium-review.googlesource.com/314480 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update gpu_test_expectations to support OSX 10.11  On the Chromium side there was also a large refactor of SplitString. This patch includes a replication of that refactor in string_utils and adds the Chromium unittests to string_utils_unittests.cpp  BUG=angleproject:1234  Change-Id: I4f71064fbf325c204e98a7b36ead118913d90f2c Reviewed-on: https://chromium-review.googlesource.com/314101 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Hide libpci pkg-config request behind use_libpci==1  This allows platforms that don't have libpci to configure the code without error.  BUG=560948  Change-Id: I155f35108d9be193afed5304b443a6afdf33b077 Reviewed-on: https://chromium-review.googlesource.com/314300 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Stephen Mcgruer <smcgruer@google.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove predefined precision qualifiers from ESSL3 samplers  New sampler types in ESSL3 should not have default precision qualifiers. This is specified in ESSL 3.00.4 section 4.5.4.  BUG=angleproject:1222 TEST=angle_unittests  Change-Id: I9c8e7a5fbb4278db80de79bcaeebaf23e64242a0 Reviewed-on: https://chromium-review.googlesource.com/312048 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add gl_FragDepth support for D3D11/ES3.  An incorrect check was blocking existing support we added for the extension.  BUG=angleproject:1226  Change-Id: I335053b1bebb37fd9296b36702031bd34c1bb59e Reviewed-on: https://chromium-review.googlesource.com/313992 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add checks for FBO attachment layer.  We would allow the app to attach layers that were out-of-bounds. Fix this by checking against the underlying resource dimensions. Also rework the code a bit to clean up the texture size query which is available from the ImageDesc.  BUG=angleproject:869  Change-Id: I984f1db16daea6ca650d795884d8ec2cb8f05ebb Reviewed-on: https://chromium-review.googlesource.com/313991 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Fix Integer Texture Cube mip mapping."  2 tests failed:     dEQP_GLES3.Default/functional_shaders_texture_functions_texture_isamplercube_vertex (c:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\tests\deqp_support\angle_deqp_gtest.cpp:234)     dEQP_GLES3.Default/functional_shaders_texture_functions_texture_usamplercube_vertex (c:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\tests\deqp_support\angle_deqp_gtest.cpp:234)  BUG=angleproject:1208  This reverts commit 5778557fe99e300f245a7bfc2200f6b0179e3fbf.  Change-Id: I6f7441bdbfbf937680b0d572645edee8ece649a1 Reviewed-on: https://chromium-review.googlesource.com/314301 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make Framebuffer size check ES2-only.  This is an ES2-only incompleteness check. We also need to require matching dimensions in D3D11 but make this an implementation specific check. Also make all implementation specific errors 'UNSUPPORTED' since that catches all "non-ES" framebuffer restrictions.  Note that we can't be conformant here in D3D11 currently since the spec only makes an exception for mismatching formats for UNSUPPORTED not for size checks. However we don't have an easy solution.  BUG=angleproject:1225  Change-Id: Ic80a04bce397fc12643b010c874f432033babc5d Reviewed-on: https://chromium-review.googlesource.com/313990 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix Integer Texture Cube mip mapping.  We were missing both the correct SRV parameter as well as the full computation of the mip level in the HLSL.  BUG=angleproject:1208  Change-Id: I345b1e0895495654de3863c4ebcc395d9b7371b9 Reviewed-on: https://chromium-review.googlesource.com/312060 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't accept default precision for uint  Default precision can only be specified for float int and sampler types. Default precision for int also applies to uint and uvec declarations.  BUG=angleproject:1221 TEST=angle_unittests  Change-Id: I31fdcde80da16e2ea8771838f7c1a6ab4e478194 Reviewed-on: https://chromium-review.googlesource.com/313314 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Roll dEQP 92f7752da8..cc0ded6c.  https://android.googlesource.com/platform/external/deqp/+log/92f7752da8..cc0ded6c  BUG=angleproject:1092  Change-Id: Ie891d4d12eeaabb367e105e2e5e2f6823fb816f7 Reviewed-on: https://chromium-review.googlesource.com/313021 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "D3D: Generate more shader debug info by default."  Re-land with fix for shader size query.  The debug info can be very useful to WebGL developers. Instead of hiding the feature behind an unsupported and broken flag always enable it so that WebGL devs can access the useful translated info.  Change the debug info policy to build the full info (including generated assembly) in Debug and all info excepth the assembly in Release.  BUG=angleproject:1179  Change-Id: I812b2c9ba98cb8c9d5ec95721441c70e8990b626 Reviewed-on: https://chromium-review.googlesource.com/313600 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Using dirty bit notification for d3d11 blend state  BUG=angleproject:1161  This is a re-land for commit ff2ab57. Dirty bits didn't check for sampleMask hence when sampleMask changed and nothing else d3D states didn't update. This commit also focuses on blend state for d3d11 to make the cl change smaller and more manageable.  This commit also some performance regression issues that were occuring in commit ff2ab57  Change-Id: I866066689911870a84125fa2150f9efbf1405ad0 Reviewed-on: https://chromium-review.googlesource.com/312468 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Add python perftests test runner.  This test runner can run the tests in an infinite loop giving much lower variance. It also automatically parses the output from several runs and prints out the mean and standard deviation of the population.  BUG=None  Change-Id: Ic9f6f7d3158e93949a8e17c99ea1e3856eb34076 Reviewed-on: https://chromium-review.googlesource.com/312262 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "D3D: Generate more shader debug info by default."  Has a bug where we would return the wrong size for the query.  BUG=angleproject:1179  This reverts commit 6de4d49477986339a92b542a18df22c49d10cf14.  Change-Id: Ib58aaf0b58d8f20765f7267b29acd8c62d287525 Reviewed-on: https://chromium-review.googlesource.com/313552 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Mark crashing dEQP-GLES3 TF Feedback test as SKIP.  This test was previously passing but adding the new enum support has somehow uncovered a crashing bug. Mark it as skipped.  BUG=angleproject:1150 BUG=angleproject:1151  Change-Id: Ieb0254606eab716a1628168433069ff8016e47a3 Reviewed-on: https://chromium-review.googlesource.com/313570 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Generate more shader debug info by default.  The debug info can be very useful to WebGL developers. Instead of hiding the feature behind an unsupported and broken flag always enable it so that WebGL devs can access the useful translated info.  Change the debug info policy to build the full info (including generated assembly) in Debug and all info excepth the assembly in Release.  BUG=angleproject:1179  Change-Id: I25656b76b8437cb2edc9d88cd33f2c4d19b6a3f0 Reviewed-on: https://chromium-review.googlesource.com/313160 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix instancing draw with line loops.  We were missing the implementation for the instanced draw for these. Implement them in the same way as for triangle fan.  BUG=angleproject:1101  Change-Id: I444f3a23383c63b8df6f9ebe25b255c8890632a1 Reviewed-on: https://chromium-review.googlesource.com/313007 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Fix incorrect instanced vertex offsets.  The spec says that DrawElements is equivalent to the instanced call with an instance ID of zero. This patch fixes a bug in our VertexDataManager where we would sometimes ignore the attribute divisor for DrawElements and stream the wrong amount of data/wrong start offset.  BUG=angleproject:1213 TEST=dEQP-GLES3.functional.draw.draw_elements.* TEST=dEQP-GLES3.functional.draw.draw_range_elements.* TEST=dEQP-GLES3.functional.draw.random.*  Change-Id: I1c430a14ab3be68a24e233e9cdd1e4fd88c920a0 Reviewed-on: https://chromium-review.googlesource.com/312062 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Check that texture offset is constant and valid  Offset passed to textureOffset and similar functions must be constant. See ESSL 3.00 spec section 8.8.  It must also be in the valid range between MIN_PROGRAM_TEXEL_OFFSET and MAX_PROGRAM_TEXEL_OFFSET. Using values outside the valid range makes the results of the texture lookup undefined as specified in GLES 3.0.4 section 3.8.10. We generate a compiler error if an offset is outside the valid range.  BUG=angleproject:1215 TEST=angle_unittests  Change-Id: Ida28361444d2f4050d516160f1491674c31868a1 Reviewed-on: https://chromium-review.googlesource.com/312223 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove incorrect comment from expectations files.  BUG=none TEST=none  Change-Id: I80283b825d4c9fe8c672c1efc9d6bc016b81ecc9 Reviewed-on: https://chromium-review.googlesource.com/312482 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Support glGet GL_TRANSFORM_FEEDBACK_BINDING.  BUG=angleproject:1150  Change-Id: If11bb2df6407248812d6dfa415395bbe315fa58c Reviewed-on: https://chromium-review.googlesource.com/311152 Tryjob-Request: Shannon Woods <shannonwoods@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Add support for EGL_EXT_platform_device  Change-Id: I17e2bc4c921a040fae1c9d2e108426bdcd37bf30, 15312978, 382, 105, 382
Re-land "In D3D cache static vertex buffers to prevent wasteful recreation"  BUG=angleproject:197  Changes since first failed patch:  - Optimized BufferD3D::getStaticVertexBuffer()  - Removed loop to commit static buffers  - Out-of-date static buffers (which are much rarer anyway after this patch)    are marked for deletion at the *next* draw call rather than searched for    before each draw call. That search was expensive.  The change should see a net improvement to DrawCallPerfBenchmark for D3D null.  Change-Id: If4942e0afd9e8fefadce8820a1305e13636547ef, 15312978, 382, 105, 382
Revert "In D3D cache static vertex buffers to prevent wasteful recreation"  This reverts commit af7a8316b2f2f566b69c6349dfa03178d88f4f67.  Change-Id: I5a0c2303ac385449076cf4a626c4c95ca02e9630, 15312978, 382, 105, 382
Add and implement EGL_ANGLE_device_creation[_d3d11]  BUG=angleproject:1190  Change-Id: I248935ef81803062cf9ba5776512cda456331f51, 15312978, 382, 105, 382
Regenerate WinRT projects after last merge  Change-Id: I3cfdd322047bda771ca471bbbcf8003b53851454, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into ms-master, 15312978, 382, 105, 382
Re-land "In D3D cache static vertex buffers to prevent wasteful recreation"  BUG=angleproject:197  Changes since first failed patch:  - Optimized BufferD3D::getStaticVertexBuffer()  - Removed loop to commit static buffers  - Out-of-date static buffers (which are much rarer anyway after this patch)    are marked for deletion at the *next* draw call rather than searched for    before each draw call. That search was expensive.  The change should see a net improvement to DrawCallPerfBenchmark for D3D null.  Change-Id: If4942e0afd9e8fefadce8820a1305e13636547ef Reviewed-on: https://chromium-review.googlesource.com/311115 Tested-by: Austin Kinross <aukinros@microsoft.com> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix invalid generated sampling functions in HLSL output  In some generated shaders "levels" would be read before it is assigned by GetDimensions when clamping mip level to valid range. Fix these cases.  BUG=angleproject:1092 TEST=dEQP-GLES3.functional.shaders.texture_functions.*      (12 tests start passing)  Change-Id: I9fce8d378606738e5172673d222bce7968e26789 Reviewed-on: https://chromium-review.googlesource.com/312022 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Make DebugAnnotator::getStatus work on Windows 10"  This reverts commit 0edf96a2f54a43d068244a86aaf9133c1bf71fe5., 15312978, 382, 105, 382
Detect when gl_FragData is indexed with != 0 in WebGL 2.0  WebGL 2.0 explicitly specifies it to be an error when gl_FragData is indexed with anything else than constant zero in spec section 'GLSL ES 1.00 Fragment Shader Output'.  This doesn't apply to WebGL 1.0 or GLES. dEQP-GLES2.functional.shaders.fragdata* test that dynamic indexing of gl_FragData is allowed.  TEST=angle_unittests BUG=angleproject:1210  Change-Id: Ib401242e7867f5e7943456b059dd8e24dc404098 Reviewed-on: https://chromium-review.googlesource.com/312045 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix parsing structure definitions in place of constructors  The shader parser used to accept structure definitions in place of constructors which is invalid GLSL. This patch fixes that.  BUG=angleproject:939 TEST=angle_unittests  Change-Id: Ibcf502160e91c19e693e9427b548a399d83e2a71 Reviewed-on: https://chromium-review.googlesource.com/312032 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix structure comparison constant folding  objectSize() will return the size of all data in the structure and simply iterating over the data will work for determining whether two structures are equal. The earlier complex and broken approach where the structure was traversed recursively is not needed.  BUG=angleproject:1211 TEST=angle_unittests  Change-Id: I0e5c5ccbb767d44ef6acb0f1f25f27dfc42866e1 Reviewed-on: https://chromium-review.googlesource.com/312490 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Qualify stored constant union data with const  This prevents accidentally changing data that may be shared between multiple TIntermConstantUnion nodes.  Besides making the code less prone to bugs in general this will make it easier to implement constant folding of array constructors.  BUG=541551 TEST=angle_unittests WebGL conformance tests  Change-Id: I4f3059f70b841d9dd0cf20fea4d37684da9cd47e Reviewed-on: https://chromium-review.googlesource.com/312440 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix ESSL3 indexing corner cases  Indexing interface blocks or fragment outputs with a non-constant expression is not valid even if ANGLE has been able to constant fold the expression.  BUG=angleproject:1210 TEST=angle_unittests  Change-Id: I2ccb67871b682976a31b8de306053b9b28c06437 Reviewed-on: https://chromium-review.googlesource.com/312044 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
bootstrap: make it work on Windows  gclient is a .bat file on Windows and subprocess won't run it unless shell=True.  BUG=angleproject:1204 TEST=run in Linux and Windows 8  Change-Id: I1f94673f23ef25fe35df64ffd1ad04ed69626ad0 Reviewed-on: https://chromium-review.googlesource.com/312324 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Austin Kinross <aukinros@microsoft.com> Tested-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Fix a user-after-free in a ValidationES unittest.  The State destructor was trying to unref a Program that had already been deleted. Fix this by unbinding resources from State before we exit the test.  BUG=554520  Change-Id: I2215b1e5d27a34a649572c8f81e96dfeef7e983e Reviewed-on: https://chromium-review.googlesource.com/312977 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix varying packing with structs.  Previously we would try to pass an entire struct through HLSL's shader interface. Instead split this off as if each field was its own variable which seems to be spec compliant (see ESSL 3.10).  In the future we may want to fix register packing to use specific components of float4/int4/uint4 HLSL registers. This could also fix the remaining bugs in the SM3 packing.  TEST=dEQP-GLES3.functional.shaders.linkage.varying.* BUG=angleproject:910 BUG=angleproject:1202  Change-Id: I1fd8b4505abc39bd2385ed5c088c316d55d0bc2c Reviewed-on: https://chromium-review.googlesource.com/311242 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Rework varying packing code.  In D3D we pack varyings by making a register map and using the recommended GLSL ES algorithm to reserve register space. We use this map to assign row and column slots to each varying and then produce a semantic index value.  The existing scheme had a number of bugs and was failing several angle_end2end_tests. The new design cleans up the code somewhat and uses a different counting scheme for the semantic indexes: just sort the varyings in packing order and use a simple incrementing semantic index per varying. In SM4+ the HLSL compiler sorts and packs the varyings correctly itself and in SM3 handle the cases we don't support by returning an error instead of a D3D compiler link error.  Also refactor how we store varying information for TF Feedback/ StreamOut. Only store the necessary D3D information instead of extra information like the name and type.  This fixes several tests in GLSLTest/*. This also will allow us to fix interpolation qualifier packing and the structure packing in HLSL which seems to work differently than the rest of the varying types.  BUG=angleproject:1202 TEST=botsdEQP-GLES3.functional.transform_feedback.*  Change-Id: Ie5bfbb4f71d8bf97f39115fc46d2e61b131df639 Reviewed-on: https://chromium-review.googlesource.com/311241 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ProgramD3D: Move some common code into a Metadata class.  This metadata class captures some of our commonly referenced but also complex flats into a shared place. We can then re-use them in the semantic code the DynamicHLSL linking code and the program code.  Refactoring patch only.  BUG=angleproject:1202  Change-Id: I8b6088cfa5488c5173a6f06c15abab5a4ead4cb8 Reviewed-on: https://chromium-review.googlesource.com/311700 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add bootstrap.py.  Add a script to run "gclient config" and edit the output since gclient will no longer do what we want.  BUG=angleproject:1204 TEST=none  Change-Id: I00e214490967e14034c935e051acc39229f27ff7 Reviewed-on: https://chromium-review.googlesource.com/312233 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Frank Henigman <fjhenigman@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "renderergl_utils: Require explicit location qualifier for OpenGLES3""  This reverts commit 45a7d64fd84a7cb292ff71890a61f8d2b7609aa4.  Change-Id: I7f94609fc7cf14220d98c61e73a13311d3cc4ecd Reviewed-on: https://chromium-review.googlesource.com/311245 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: add support for complete lack of extensions  We thought we could rely on GLX_create_context_attrib being present but this is not the case with VM drivers. Instead we fallback to creating contexts with glXCreateContext that doesn't offer control on which version and profile the context will have.  Likewise we may not always be able to use the multisample but we can safely assume that the number of samples and sample buffers are zero in this case.  BUG=angleproject:1206  Change-Id: I888c69e609764994baf86386c9683b3edeb320f7 Reviewed-on: https://chromium-review.googlesource.com/312230 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix GL_ETC1_RGB8_OES format.  Passes all ETC1 related dEQP tests on Windows.  BUG=angleproject:1212 TEST=dEQP-GLES2.capability.extensions.compressed_texture_formats.GL_OES_compressed_ETC1_RGB8_texture TEST=dEQP-GLES2.functional.texture.format.* TEST=dEQP-GLES2.functional.texture.wrap.* TEST=dEQP-GLES2.functional.texture.filtering.* TEST=dEQP-GLES3.functional.texture.format.compressed.etc1* TEST=dEQP-GLES3.functional.texture.filtering.*  Change-Id: I937b039f90161bb5e8777766ea0c032ddfbbf159 Reviewed-on: https://chromium-review.googlesource.com/312416 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Minmin Gong <mgong@microsoft.com>, 15312978, 382, 105, 382
Re-land "D3D: Move some varying packing code into a new file."  Re-land with fix for compile errors.  Refactoring patch which moves code only. Work and full description will follow in a subsequent CL.  BUG=angleproject:1202  Change-Id: Ib7c7dbd32491cdd9512dbecdc0e1e90303d8f28d Reviewed-on: https://chromium-review.googlesource.com/312481 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
GLX backend: fallback to lesser swap_control extensions  Re-reland with a warning fix.  We would like to use the EXT_swap_control extension to specify the swap interval of each drawable independently. However open source drivers do not expose this extension and instead expose the MESA and SGI versions that have a global swap interval.  This commit changes the code to use the best swap_control extension it can potentially changing the swap interval on each swap buffers on lesser extensions.  BUG=angleproject:1206  Change-Id: I7ecf1eed6808672f277d0242d65f90d7851d2a32 Reviewed-on: https://chromium-review.googlesource.com/312322 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "GLX backend: fallback to lesser swap_control extensions"  This reverts commit a1393c59e9466dfe3a3ccaf710c272aa26045b85.  Change-Id: I5da0f740a7073f14ad1ee7e2876a9cc71a706e7f Reviewed-on: https://chromium-review.googlesource.com/312231 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
GLX backend: fallback to lesser swap_control extensions  Reland with a compilation fix.  We would like to use the EXT_swap_control extension to specify the swap interval of each drawable independently. However open source drivers do not expose this extension and instead expose the MESA and SGI versions that have a global swap interval.  This commit changes the code to use the best swap_control extension it can potentially changing the swap interval on each swap buffers on lesser extensions.  BUG=angleproject:1206  Change-Id: I6c24217c7cfd5e09f60469cc7d6336cd68bc5c32 Reviewed-on: https://chromium-review.googlesource.com/312270 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Display[GLX|CGL]: correctly set the config conformant bits  Reland with a fix for a compilation that happened because of a bad rebase.  Previously there was a TODO to check if we supported ES3 before setting the conformant bitfield. Now it is done.  BUG=angleproject:1188  Change-Id: I3ef2bd2bc71fb61c465085d32cf08a633904caa6 Reviewed-on: https://chromium-review.googlesource.com/312271 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add missing GN build dependency on -lrt for linux.  Without this fix angle_end2end_tests links fine on Trusty but not on Precise or older versions of Linux (util/linux/LinuxTimer.cpp calls clock_gettime() which is part of libc on newer versions of the OS but requires -lrt on older versions. GYP had the dependency specified but GN didn't).  R=cwallez@chromium.org BUG=432959 531296  Change-Id: I70e1f701d099f3ba72c7e5dfd7af6d47658ffad9 Reviewed-on: https://chromium-review.googlesource.com/312298 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Unfold short-circuiting operators in loop conditions correctly  Sometimes short-circuiting operators need to be unfolded to if statements. If the unfolded operator is inside a loop condition or expression it needs to be evaluated repeatedly inside the loop. Add logic to UnfoldShortCircuitToIf that can move or copy the unfolded part of loop conditions or expressions to inside the loop.  The exact changes that need to be done depend on the type of the loop. For loops may require also moving the initializer to outside the loop.  The unfolded expression inside a loop condition or expression is moved or copied to inside the loop on the first traversal of the loop node and unfolding to if is deferred until a second traversal. This keeps the code relatively simple.  BUG=angleproject:1167 TEST=WebGL 2 conformance tests      dEQP-GLES2.functional.shaders.*select_iteration_count*  Change-Id: Ieffc0ea858186054378d387dca9aa64a5fa95137 Reviewed-on: https://chromium-review.googlesource.com/310230 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix constructor parsing issues  After this patch ANGLE no longer accepts constructors where any of multiple parameters is sampler or void.  Also structure array constructors with just one parameter are now accepted.  Error message for a constructor with no parameters is also more informative than before.  BUG=angleproject:1193 TEST=angle_unittests  Change-Id: I6b897973448cf500096f612b3b95dcc23aebc716 Reviewed-on: https://chromium-review.googlesource.com/311590 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "D3D: Move some varying packing code into a new file."  Compile error:  c:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\libangle\renderer\d3d\dynamichlsl.cpp(508) : error C3861: 'getSemanticInfo': identifier not found c:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\libangle\renderer\d3d\dynamichlsl.cpp(642) : error C3861: 'getSemanticInfo': identifier not found  BUG=angleproject:1202  This reverts commit d992cde27ea6ffd71205399c3ddb88c7085c99b4.  Change-Id: I11f34d2ac4cc047c397e45348cb9502676380be0 Reviewed-on: https://chromium-review.googlesource.com/312480 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Move some varying packing code into a new file.  Refactoring patch which moves code only. Work and full description will follow in a subsequent CL.  BUG=angleproject:1202  Change-Id: I60346c516209a0517fc2bac38e0d04ff56bcbc3c Reviewed-on: https://chromium-review.googlesource.com/311260 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Display[GLX|CGL]: correctly set the config conformant bits"  Fixes build on Linux.  This reverts commit 46439bae5d441e13abf071ac209f310f2b044256.  Change-Id: Ie6da92e3ee6cc535f2c153a12af0aa63f6bea665 Reviewed-on: https://chromium-review.googlesource.com/312442 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix constructor constant folding  The previous solution for constant folding constructors was significantly overengineered and partially incorrect. Switch to a much simpler constructor folding function that does not use an AST traverser but simply iterates over the constant folded parameters of the constructor and doesn't do any unnecessary checks. It also reuses some code for constant folding other built-in functions.  This fixes issues with initializing constant matrices with only a single parameter. Instead of copying the first component of the constructor parameter all over the matrix passing a vec4 or matrix argument now assigns the values correctly.  BUG=angleproject:1193 TEST=angle_unittests WebGL conformance tests  Change-Id: I50b10721ea30cb15843fba892c1b1a211f1d72e5 Reviewed-on: https://chromium-review.googlesource.com/311191 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Allow constant folding some non-constant expressions  This requires removing the assumption that constant folding implies constness in the constant expression sense from various places in the code.  This particularly benefits ternary operators which can now be simplified if just the condition is a compile-time constant.  In the future the groundwork that is laid here could be used to implement more aggressive constant folding of user-defined functions for example.  TEST=angle_unittests BUG=angleproject:851  Change-Id: I0eede806570d56746c3dad1e01aa89a91d66013d Reviewed-on: https://chromium-review.googlesource.com/310750 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "GLX backend: fallback to lesser swap_control extensions"  Compile error whoops  This reverts commit 10ad877c41c05aa0764748844244ead6ebca6c1c.  Change-Id: Ic8c8b7945c7f702b91fc34ab6862e1aadb3e82e7 Reviewed-on: https://chromium-review.googlesource.com/312260 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
GLX backend: fallback to lesser swap_control extensions  We would like to use the EXT_swap_control extension to specify the swap interval of each drawable independently. However open source drivers do not expose this extension and instead expose the MESA and SGI versions that have a global swap interval.  This commit changes the code to use the best swap_control extension it can potentially changing the swap interval on each swap buffers on lesser extensions.  BUG=angleproject:1206  Change-Id: I48e40e443ff9a258fc33b38efb0acf6b1f3db103 Reviewed-on: https://chromium-review.googlesource.com/311244 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Display[GLX|CGL]: correctly set the config conformant bits  Previously there was a TODO to check if we supported ES3 before setting the conformant bitfield. Now it is done.  BUG=angleproject:1188  Change-Id: Iffe30ebb5538e205695acd619ca17918d8550f3c Reviewed-on: https://chromium-review.googlesource.com/311690 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Rename LinkedVarying to D3DVarying.  Also move this type to D3D-only world. It was only used in the D3D renderer and has specific stuff like register/semantic indexes.  Refactoring patch to clean up further work with Varyings.  BUG=angleproject:1202  Change-Id: I4b1d6899e9eef356efc7d11e9cd6cf88b234aa76 Reviewed-on: https://chromium-review.googlesource.com/311240 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Implement fixed primitive restart with tri fans.  Similarly to line loops we fully unpack the index data into a triangle list.  BUG=angleproject:597  Change-Id: Icf91cb77df0a941640e34a975898543e1dac5752 Reviewed-on: https://chromium-review.googlesource.com/310501 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor EGLDeviceEXT to remove renderer dependency  BUG=angleproject:1190  Change-Id: I38604de469c5f7efaf37bcebf20bc6425df35e62 Reviewed-on: https://chromium-review.googlesource.com/309512 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Support writing initializers using HLSL literal syntax  Instead of using constructor functions to initialize variables it is better to use literal initializer syntax provided by HLSL when it is possible. This way shader complexity is reduced and constant array initialization doesn't have to go through as many AST transformations.  Before this patch vec4 initialization would result in the following kind of HLSL:  float4 f = float4(1.0 2.0 3.0 4.0);  After this patch it will be:  float4 f = {1.0 2.0 3.0 4.0};  Before this patch vec2 array initialization would result in the following kind of HLSL:  float2 f[2] = {0 0 0 0}; angle_construct_into_2_float2(f float2(1.0 2.0) float2(3.0 4.0));  After this patch it will be:  float2 f[2] = {1.0 2.0 3.0 4.0};  BUG=angleproject:1094 BUG=541551 TEST=WebGL conformance tests  Change-Id: I9816a8d95a2cba3964922f6b561862d478da6145 Reviewed-on: https://chromium-review.googlesource.com/311160 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix some EGL validation issues  BUG=angleproject:1207  Change-Id: I425397ca81dfd8be98ffdc5b874d978e7cf7758d Reviewed-on: https://chromium-review.googlesource.com/310194 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "GLX backend: fallback to lesser swap_control extensions"  This reverts commit 26e3736fe30b9f67ee4b488d8a9d31ded1b679d3., 15312978, 382, 105, 382
Revert "Revert "Revert "renderergl_utils: Require explicit location qualifier for OpenGLES3"""  This reverts commit 24db86441d148eb6a497b70c015296422ab48470., 15312978, 382, 105, 382
GLX backend: fallback to lesser swap_control extensions  Ideally we want to use EXT_swap_control as the code currently does as it allows us to specify the swap interval of each drawable independently. However open source drivers do not expose this extension and instead expose the MESA and SGI versions that have a global swap interval.  This commit changes the code to use the best swap_control extension it can potentially changing the swap interval on each swap buffers on lesser extensions.  BUG=angleproject:1206  Change-Id: I251c6edf400aeeae5359a4370020e74b8e6cae51, 15312978, 382, 105, 382
Revert "Revert "renderergl_utils: Require explicit location qualifier for OpenGLES3""  This reverts commit 45a7d64fd84a7cb292ff71890a61f8d2b7609aa4.  Change-Id: I2a8212c7507a7566baca200ed938d9e00f7103c2, 15312978, 382, 105, 382
Revert "Revert "DisplayGLX: rework how glXCreateContextAttribsARB is called""  This reverts commit 2df979ed06df3be3785d179f5bbe12f85dee69dc.  Change-Id: Iff4ec858b8f42a4749cfc55749eb8f57b419f98f Reviewed-on: https://chromium-review.googlesource.com/311271 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove DynamicHLSL_unittest.cpp  For some reason it cause compile errors with clang on Windows potentially with a wrong include order.  BUG=None  Change-Id: I11e9ab4dcc9f601b7d61616c7f61786bec29df91 Reviewed-on: https://chromium-review.googlesource.com/311151 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Implement ES3 primitive restart with line loops.  Unpack the index data into line strips which can result in a dynamically number of indices. To this end use a scratch vector in Renderer11 so we don't end up allocating memory every draw call.  BUG=angleproject:597  Change-Id: Id3270611023cb6d163cd024e078d30ba5556e2ad Reviewed-on: https://chromium-review.googlesource.com/310500 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Implement basic primitive restart.  D3D11 handles primitive restart similarly to OpenGL's fixed index with a couple differences. It can't be toggled off so we need to restrict the max element index (handled in a prior patch) and for smaller buffer types we need to rewrite the index data.  BUG=angleproject:597  Change-Id: Ib890ce9b3f5511784138ea3953a384b1c483ca9e Reviewed-on: https://chromium-review.googlesource.com/309639 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ES3: Don't validate precision qualifiers when linking UBOs.  According to the resolution of Khonos bug 10287 we shouldn't be validating these precisions. Note that this is counter to the current ESSL spec text but there's an open action item to change the spec language.  TEST=dEQP-GLES3.functional.shaders.linkage.uniform.block.differing_precision BUG=angleproject:1088  Change-Id: Ib05dca792b89e57e90d3a5f9efdb3a202230f585 Reviewed-on: https://chromium-review.googlesource.com/310760 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Using dirty bits notification for blend state"  Failing the dEQP-GLES3 tests:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20dEQP%20%28NVIDIA%29/builds/4036/  3 tests failed:     dEQP_GLES3.Default/functional_multisample_fbo_4_samples_sample_coverage_invert (c:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\tests\deqp_support\angle_deqp_gtest.cpp:234)     dEQP_GLES3.Default/functional_multisample_fbo_8_samples_sample_coverage_invert (c:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\tests\deqp_support\angle_deqp_gtest.cpp:234)     dEQP_GLES3.Default/functional_multisample_fbo_max_samples_sample_coverage_invert (c:\b\build\slave\gpu_win_builder\build\src\third_party\angle\src\tests\deqp_support\angle_deqp_gtest.cpp:234)  BUG=angleproject:1161  This reverts commit ff2ab571b00023926ce39a91bfe20e13578d1281.  Change-Id: Ibf61fc2c64ffc31778645bfe0292516b1f107397 Reviewed-on: https://chromium-review.googlesource.com/311243 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't use dashes in table fields of .md files  It makes gitiles sad.  Change-Id: I54c1c326bbc579e5591ad5cffae06650d5f24957 Reviewed-on: https://chromium-review.googlesource.com/311082 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Hash interface block names and field names.  BUG=544853  Change-Id: I4ca77ed87c15a168c696c15f2438ad21c00985f6 Reviewed-on: https://chromium-review.googlesource.com/310271 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Adds info from current landing page to README file  Also adds a table to document support for various APIs and platforms.  Change-Id: Ie032f553dec23516242a96ce6788fb086fad4229 Reviewed-on: https://chromium-review.googlesource.com/311021 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Revert "renderergl_utils: Require explicit location qualifier for OpenGLES3"  Causes angle_end2end_tests failures on Mac  This reverts commit d63243f5be2ac7d8dafa6aea5b23e036074af397.  Change-Id: Idf25d7fe9f4162813a4fc67927191747f660fceb Reviewed-on: https://chromium-review.googlesource.com/311041 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
renderergl_utils: Require explicit location qualifier for OpenGLES3  BUG=525930  Change-Id: I591308078c5a392a527291419567a11241a8be17 Reviewed-on: https://chromium-review.googlesource.com/309636 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: validate configs against the backing context's config  This is a step required before adding an ANGLE extension that will allow passing the Visual ID to use for the context at display creation time: the configs will have to be compatible with it even if the visual has non-standard sizes.  BUG=522149  Change-Id: I85e8ee3b9072934c665bddfa2b461d26f8903ff3 Reviewed-on: https://chromium-review.googlesource.com/311220 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable needed extensions in generated GLSL shaders and call them when possible.  reland: use the defined preprocessor function.  BUG=angleproject:1044  Change-Id: I6171708a2d55ec085ba2c598a1a863779842da6c Reviewed-on: https://chromium-review.googlesource.com/311270 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix issues in comma operator parsing  Always qualify comma operator result with EvqTemporary in ESSL3 as specified.  Also it is possible that in the future some expressions are qualified as EvqConst but they'd still have side effects in which case discarding them when they're the left operand of the comma operator would be wrong. This would be the case if ANGLE allowed "(a = b).length()" for example. For this reason it is better to check whether the left node has side effects rather than check its const qualification and only discard it if it doesn't.  Also Intermediate::addComma() never returns null so there's no need to check the result.  BUG=angleproject:1201 TEST=WebGL conformance tests      conformance/glsl/misc/sequence-operator-returns-constant.html      conformance2/glsl3/sequence-operator-returns-non-constant.html  Change-Id: Ibfbd92baa4910b14c0dc8f8a3c3008440d191cd6 Reviewed-on: https://chromium-review.googlesource.com/311171 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Move comma operator parsing to ParseContext  This change is pure refactoring. It will help with fixing comma operator return value qualifier bug.  BUG=angleproject:911 BUG=angleproject:1201  Change-Id: I481c337adbaf789cc959c8a1106f99ad7275e1e5 Reviewed-on: https://chromium-review.googlesource.com/311170 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix missing init when parsing storage qualifier fails  When parsing a storage qualifier results in an error the parser should not leave the type uninitialized. Otherwise after recovering from the error the parsed value could contain uninitialized memory which could cause flaky asserts in further parsing.  TEST=dEQP-GLES2.functional.shaders.functions.* BUG=angleproject:1200  Change-Id: Ia3add76df243898e35fee97d01555b953cff8379 Reviewed-on: https://chromium-review.googlesource.com/311140 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
When doing a LUMA blit render to an intermediate texture.  Instead of rendering the swizzled result to the destination texture render to another intermediate texture and then CopyTexImage it into the destination texture.  Rendering to arbitrary mip levels of the destination texture is not always supported but CopyTexImage-ing is.  BUG=angleproject:1113  Change-Id: I352a1fcc769ce92268744d3e7a6265dd2bfddb37 Reviewed-on: https://chromium-review.googlesource.com/310570 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Enable needed extensions in generated GLSL shaders and call them when possible."  This reverts commit 233b334213c1a4853e81f71ba90aa223b2a68dce.  Change-Id: Id99024b736324ad030ce63c5d0baae32b6d7f54b Reviewed-on: https://chromium-review.googlesource.com/311181 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add magic newlines to markdown files.  Change-Id: I225ecab48a7d3d0a04390c5535cf5b65709fd758 Reviewed-on: https://chromium-review.googlesource.com/311072 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fixing formatting try three.  Change-Id: I226d35e777e1388e01189dac0f7189e2cbf3d35a Reviewed-on: https://chromium-review.googlesource.com/311061 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
More formatting fixes.  Change-Id: I8ff32a61362e5329c922ec696ba69480145f316a Reviewed-on: https://chromium-review.googlesource.com/311081 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix .md file formatting  Change-Id: Ie9240f9b03ad8ab106659d2dc369893bfc2b652f Reviewed-on: https://chromium-review.googlesource.com/311071 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Enable needed extensions in generated GLSL shaders and call them when possible.  BUG=angleproject:1044  Change-Id: Ife94d2258fb912974aa97484a0e30f289dd96734 Reviewed-on: https://chromium-review.googlesource.com/278324 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "In D3D cache static vertex buffers to prevent wasteful recreation"  Perf bisect traced performance regression to this CL:  8.1% regression in angle_perftests/DrawCallPerf_d3d9_null/score 6.2% regression in angle_perftests/DrawCallPerf_d3d11_null/score  BUG=angleproject:197  This reverts commit 868651d334d060458af13c7ff9211c2f72be0cad.  Change-Id: Iaba7eb4e574eb886496361e61fd5fe78ca14dcb8 Reviewed-on: https://chromium-review.googlesource.com/311150 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Using dirty bits notification for blend state  BUG=angleproject:1161  Dirty bit notifications are used in GL for state tracking but not D3D. Before D3D would use memcmp to check a change in state for every call. This showed up as a hot spot in the perf test runs. Hence switching D3D over to the dirty bit system similar to GL backend will help.  Change-Id: I482edc852f1dcc888af3038ff3a61916496a02bc Reviewed-on: https://chromium-review.googlesource.com/305295 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Accept const array initialization in shader parsing  Array constructors are not folded unlike all other constant expressions. Change initializer parsing path so that it accepts constant initializers whether they are folded or not.  Some parts need to be adapted to work with expressions that are qualified as constant but that are not necessarily folded:  1. Identifier parsing 2. Indexing parsing 3. Field selection parsing 4. HLSL output for variable declarations 5. Determining unary operator result type 6. Determining binary operator result type 7. Determining built-in function call result type 8. Determining ternary operator result type  Corner cases that are not supported yet:  1. Using array constructors inside case labels 2. Using array constructors inside array size expressions 3. Detecting when a negative constant expression containing an array    constructor is used to index an array  In these cases being able to constant fold the expression is essential to validating that the code is correct so they require a more sophisticated solution. For now we keep the old code that rejects the shader if ANGLE hasn't been able to constant fold the case label or array size. In case of indexing an array with a negative constant expression containing an array constructor ANGLE will simply treat it as a non-constant expression.  BUG=541551 BUG=angleproject:1094 TEST=dEQP-GLES3.functional.shaders.constant_expressions.* (all pass)      angle_unittests  Change-Id: I0cbc47afd1651a4dece3d68acf7ec72a01fdf047 Reviewed-on: https://chromium-review.googlesource.com/310231 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
build: ensure gyp_angle uses angle's gyp  Prepend to sys.path instead of appending so that gyp_angle imports angle's gyp instead of whatever may be installed on the system.  BUG=angleproject:1203  Change-Id: I9f3cfddb71fbd53f30ebf5792c31ba0a8947bddb Reviewed-on: https://chromium-review.googlesource.com/311040 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update the gclient config instructions to not use relative paths.  As of https://codereview.chromium.org/1406053003 relative paths are no longer valid for the solution name.  Update the docs to use the full current directory instead.  BUG=angleproject:1204  Change-Id: I42b289fdad6d85901f431bb701f2a08e0ad0deb3 Reviewed-on: https://chromium-review.googlesource.com/311180 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the testing documentation to include the trybots.  BUG=504872  Change-Id: I9cbbe92afc9df6a4cb8f3ddf0c547492c6765c8e Reviewed-on: https://chromium-review.googlesource.com/310011 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Restrict use of MAX_UINT element indexes.  We need to block the app from using MAX_UINT on D3D11 because we can't disable primitive restart on this platform. Instead generate an INVALID_OPERATION error which is spec-compliant in ES3 because the result is undefined behaviour. This is also compliant with WebGL which explicitly defines an error here.  BUG=angleproject:597  Change-Id: I7ebc5371b63ff860dc6dddf79939e9629ebb2a3c Reviewed-on: https://chromium-review.googlesource.com/309638 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: on mesa only expose configs with the same depth-stencil  BUG=angleproject:1188  Change-Id: I19516cf3d037245144dfbe6fa2eed13a57aa6800 Reviewed-on: https://chromium-review.googlesource.com/309635 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
RendererGL: only support ES3 when GLSL packing builtins are available  BUG=angleproject:1188  Change-Id: I07638c52ef09ffc96d91eec25c32dd905207c49f Reviewed-on: https://chromium-review.googlesource.com/309650 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a ValidationContext class helper.  This class is a wrapper around gl::Data aka the metadata describing a gl::Context. We can use it for unit-testing validation functions by passing that through the validation methods instead of a Context and using mocks to expect certain errors.  BUG=angleproject:747 BUG=angleproject:597  Change-Id: I7bd85c7662860ba9a3a13406579a088d447e5631 Reviewed-on: https://chromium-review.googlesource.com/309637 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move variable identifier parsing to ParseContext  This change is purely refactoring existing functionality to make it easier to change variable identifier parsing.  BUG=angleproject:911 BUG=541551  Change-Id: I282fbb66d40cd71fa0f4804e4a8e893744cd6bfc Reviewed-on: https://chromium-review.googlesource.com/309724 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Update dEQP failing test expectations.  BUG=angleproject:1088 BUG=angleproject:1095 BUG=angleproject:1097 BUG=angleproject:1101  Change-Id: I40f4d5960ef52bb1049336d23da4034a41f2fe63 Reviewed-on: https://chromium-review.googlesource.com/310480 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix standalone build in MSVS 2013  Range-based for loop saves the end iterator by assigning it to a variable so the iterator class needs to have a copy constructor at least on some C++ compiler implementations.  The issue got introduced by a chain of three commits so it's better to just fix the issue rather than revert them all.  TEST=build on Windows  Change-Id: Ib6d8d7e97559838eaac44279454197445535f256 Reviewed-on: https://chromium-review.googlesource.com/309723 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "DisplayGLX: rework how glXCreateContextAttribsARB is called"  Breaks dEQP-GLES2.functional.texture.specification.basic_copyteximage2d.2d_alpha  BUG=angleproject:1188  This reverts commit 31e60cf221801a60c052112b5a0bbcfad9b5f705.  Change-Id: Icf1fcd984832a813536fe63e385b3cf9f667d66b Reviewed-on: https://chromium-review.googlesource.com/309801 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix provoking vertex for flat triangle strips.  Triangle strips alternate the provoking vertex based on the primitive so use the primitive ID in the GS to determine this. This might interact poorly with primitive restart so we might have to use a slow path for that.  BUG=angleproject:754  Change-Id: I4f6f520887d4c4c52d2ad020e6db148607f68325 Reviewed-on: https://chromium-review.googlesource.com/309156 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: rework how glXCreateContextAttribsARB is called  This patch adds handling of the EGL ANGLE platform api version display attributes for better testing.  It makes the code more resilient by ignoring X11 errors that could crash our program in the call to glXCreateContextAttribsARB.  It also makes sure that we always choose the most recent OpenGL version available on the system.  BUG=angleproject:1188  Change-Id: I26e1bf6733215db6f5841b54c471f644e2b15e89 Reviewed-on: https://chromium-review.googlesource.com/309633 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix basic provoking vertex flat shading cases.  The enables geometry shaders that correct for the flat shading on provoking vertexes. It does not fix it for triangle strips or in conjunction with primitive restart (which is not yet implemented in D3D11).  Also ensure we do not regress with flat shading enabled and transform feedback. In cases where we use flat shading do a double draw call first with an untransformed vertex stream and no geometry shader then with the geometry shader enabled.  This also fixes the dEQP fragment output tests with ints.  BUG=angleproject:754  Change-Id: Ib37e8ec32d19db17ea5d4dc88158cdae0c956bfc Reviewed-on: https://chromium-review.googlesource.com/309155 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor DynamicHLSL geometry shader code more.  This refactor adds a typed iterator class for helping to iterate over varying registers from packed varyings. We use the same iteration logic in several places and it has a triple loop so encapsulating this into an iterator class keeps it cleaner.  The other change is to use std::stringstream in places where we would return a std::string.  These refactorings will aid in subsequent work to implement provoking vertex fixes and to refactor our varying packing algorithm.  BUG=angleproject:754  Change-Id: Id44a1f68ccd4edc3458f1cf514f5eab4b8cd4151 Reviewed-on: https://chromium-review.googlesource.com/309811 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
PbufferSurfaceGLX: avoid creating (0 0)-sized pbuffers  It crashes on Mesa.  BUG=angleproject:1188  Change-Id: I1e1e3e696bfda0c127b683a620cbaf302087e43b Reviewed-on: https://chromium-review.googlesource.com/309630 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove dynamic indexing of matrices and vectors in HLSL  Re-re-relanding after clang warning fix.  Re-re-landing with fix to setting qualifiers on generated nodes. The previous version failed when a uniform was indexed because it would set the uniform qualifier on some of the generated nodes and that interfered with the operation of UniformsHLSL.  Re-landing after fixing D3D9 specific issues.  HLSL doesn't support dynamic indexing of matrices and vectors so replace that with helper functions that unroll dynamic indexing into switch/case and static indexing.  Both the indexed vector/matrix expression and the index may have side effects and these will be evaluated correctly. If necessary index expressions that have side effects will be written to a temporary variable that will replace the index.  Besides dEQP tests this change is tested by a WebGL 2 conformance test.  In the case that a dynamic index is out-of-range the base ESSL 3.00 spec allows undefined behavior. KHR_robust_buffer_access_behavior adds the requirement that program termination should not occur and that out-of-range reads must return either a value from the active program's memory or zero and out-of-range writes should only affect the active program's memory or do nothing. This patch clamps out-of-range indices so that either the first or last item of the matrix/vector is accessed.  The code is not transformed in case the it fits within the limited subset of ESSL 1.00 given in Appendix A of the spec. If the code isn't within the restricted subset even ESSL 1.00 shaders may require this workaround.  BUG=angleproject:1116 TEST=dEQP-GLES3.functional.shaders.indexing.* (all pass after change)      WebGL 2 conformance tests (glsl3/vector-dynamic-indexing.html)  Change-Id: I9f6d7c7ecda8ac4dc3c30b39e15a9a0b5381c5a8 Reviewed-on: https://chromium-review.googlesource.com/310010 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Add dynamic geometry shaders.  The geometry shader we want will depend on our current draw mode and if we're using flat shading in the shader. Without flat shading we'll still be using them only for point sprites but for other primitive types with flat shading enabled we'll be using them to correct the provoking vertex order with D3D11.  Note: no new features in this CL those are turned on in follow-ups.  BUG=angleproject:754  Change-Id: Iabf13ffd582f5a7200ee0df5aa9c3671aa7b6ed4 Reviewed-on: https://chromium-review.googlesource.com/309154 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor Geometry Shader support to enable pass-through.  This should be a refactoring change only. The new code is exercised in follow-up CLs.  BUG=angleproject:754  Change-Id: I99285e1e7772cae467013102f25c911ebc9f54a9 Reviewed-on: https://chromium-review.googlesource.com/309153 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Removed Sleep( ) workaround for Windows Store builds  Visual Studio SDKs now include the ability for Windows Store applications to use the Sleep( ) function.  Change-Id: Iaf2a978e778f82e918ba14a58bbb1807cc1fbaf4 Reviewed-on: https://chromium-review.googlesource.com/309890 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Use full GTest name in non-standalone.  With crbug.com/509883 fixed we can use the full test names.  BUG=509883 BUG=angleproject:1153  Change-Id: I62bf60fb5066de8c0cc118512ba0d9e9bbd94303 Reviewed-on: https://chromium-review.googlesource.com/309653 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Remove dynamic indexing of matrices and vectors in HLSL"  Failing build on Clang-win:  ..\..\third_party\angle\src\compiler\translator\RemoveDynamicIndexing.cpp(12843) :  error: expected '(' for function-style cast or type construction         fieldType.setPrimarySize(unsigned char(indexedType.getRows()));                                  ~~~~~~~~ ^  BUG=angleproject:1116  This reverts commit 7535b761dd4740c8e76b888d7c58c7cbeefd2083.  Change-Id: I7b502e3dcd45e17b7ed88fec18be702614d9ac65 Reviewed-on: https://chromium-review.googlesource.com/309772 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ProgramBinaryTest: use override where applicable  BUG=None  Change-Id: Ibb3c6ea919c34e967aaa5d475d6e05249d2ee6aa Reviewed-on: https://chromium-review.googlesource.com/309810 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Replace _countof with ArraySize  This macro only exists on MSVC  BUG=None  Change-Id: I23204d1307279840a7f85a005da9ed5c324e7dae Reviewed-on: https://chromium-review.googlesource.com/309800 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
platform_glx: Add support for ARB_create_context_profile  BUG=angleproject:1188  Change-Id: I5a72ff3521c01b4da661a90f6d761da61b3aad60 Reviewed-on: https://chromium-review.googlesource.com/309631 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
In D3D cache static vertex buffers to prevent wasteful recreation  BUG=angleproject:197  Change-Id: I66cd10609b2edbcf12b99530eafe1727511fe515 Reviewed-on: https://chromium-review.googlesource.com/296503 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix a typo in DisplayWGL  BUG=None  Change-Id: Ib9d43ced80f38c61f5936fb027433d9f2b4c7f98 Reviewed-on: https://chromium-review.googlesource.com/309632 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
OSXWindow fix a use after free of the WindowDelegate  This use after free was triggered when a window was made key and destroyed then another window was made key. dedResignKey was called on the former's WindowDelegate which had already been freed causing a crash.  BUG=angleproject:891  Change-Id: If47e88419f9a407a6a77c5cd9853b7b4860dc698 Reviewed-on: https://chromium-review.googlesource.com/305817 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Reland Fixed FL9_3 shaders that use glPointCoord without glPointSize.  This change fixes a Shader error on FL9_3 that reports Vertex/Pixel Shader linkage signatures between stages being incompatible when glPointCoord is used without glPointSize.  Change-Id: I107d06692c5375c07544038f5f4429c1e8d6e313 Reviewed-on: https://chromium-review.googlesource.com/305395 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add ASTC compressed texture format info to the GL layer.  BUG=angleproject:1185  Change-Id: Ie723687e0289812d6c2306589911b548ac321e22 Reviewed-on: https://chromium-review.googlesource.com/308491 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a test for flat shader 'provoking vertex'.  The provoking vertex or leading vertex is the vertex in a triangle which produces the value that gets used for a flat-shaded triangle. Flat shading means the same value gets used for the entire triangle.  It seems as though D3D and OpenGL have different definitions of which vertex is the leading/provoking one; GL says it is the *last* vertex of a primitive while while D3D says it is the first.  Additional complexity comes about from triangle strips which switch winding order and primitive restart which defines new primitives in the middle of prior primitives.  BUG=angleproject:754  Change-Id: If1217cba33dabf3b1e4ad13fd639d049cb16fe44 Reviewed-on: https://chromium-review.googlesource.com/309152 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix parsing integers larger than 0x7FFFFFFF  Parsing should accept all values between 0 and 0xFFFFFFFF as specified in ESSL 3.00 section 4.1.3.  When a signed literal is parsed it's interpreted as if it specifies the bit pattern of a two's complement integer. For example parsing "0xFFFFFFFF" results in -1. Decimal literals behave the same way so for example parsing "3000000000" results in -1294967296.  This change affects parsing of literals in ESSL 1.00 as well. In ESSL 3.00 an out-of-range integer literal now generates a compiler error.  Unit tests are added based on examples in the ESSL 3.00 spec and one example in GLSL 4.5 spec that ESSL should match.  BUG=541550 TEST=angle_unittests  Change-Id: I82f8ef5cfa2881019a3f80d77ff99707d61c000d Reviewed-on: https://chromium-review.googlesource.com/305420 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Corentin Wallez <cwallez@google.com>, 15312978, 382, 105, 382
DisplayGLX: make the dummy pbuffer of size (1 1)  This works around a Mesa crasher bug.  BUG=angleproject:1188  Change-Id: Ief7e6e841715cc04dea696bc1919d7a2d6fbc78d Reviewed-on: https://chromium-review.googlesource.com/309141 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FunctionsGLX: add glXGetCurrent(Drawable|Context) support  BUG=angleproject:1188  Change-Id: Ibf0fb4be3ec08cc43b2d9aba03a3d0fc12adce9d Reviewed-on: https://chromium-review.googlesource.com/309140 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement primitive restart boolean query.  We have support for primitive restart in the GL renderer but we didn't complete support for the state query.  BUG=angleproject:1101  Change-Id: I4c6ad10642f7de1d09718c4582f1037782cced58 Reviewed-on: https://chromium-review.googlesource.com/309151 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@google.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update WebGL test expectations.  BUG=None  Change-Id: Id2a88bcfd9ebf8152704ca9fc66d8401d5db43e2 Reviewed-on: https://chromium-review.googlesource.com/309150 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Output layout qualifiers in GLSL output  Output layout qualifiers for vertex shader attributes and fragment shader outputs. This applies both to ESSL output and GLSL output. If the source shader is in ESSL1 the code has no effect since there's no layout information in the AST.  BUG=525930 TEST=angle_unittests angle_end2end_tests  Change-Id: I48b3aa56116c15d11599b030eed4c45be2c8fc7e Reviewed-on: https://chromium-review.googlesource.com/304550 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@google.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Validate that compressed image formats are supported by the context.  This validation was previously acceptable because all renderers supported all compressed formats in the format tables.  Adding new formats that are not universally supported would have caused failures in the dEQP negative API tests.  BUG=angleproject:1185  Change-Id: I102a3286a351a7c8936527963a382d9673341fc0 Reviewed-on: https://chromium-review.googlesource.com/308490 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove dynamic indexing of matrices and vectors in HLSL  Re-re-landing with fix to setting qualifiers on generated nodes. The previous version failed when a uniform was indexed because it would set the uniform qualifier on some of the generated nodes and that interfered with the operation of UniformsHLSL.  Re-landing after fixing D3D9 specific issues.  HLSL doesn't support dynamic indexing of matrices and vectors so replace that with helper functions that unroll dynamic indexing into switch/case and static indexing.  Both the indexed vector/matrix expression and the index may have side effects and these will be evaluated correctly. If necessary index expressions that have side effects will be written to a temporary variable that will replace the index.  Besides dEQP tests this change is tested by a WebGL 2 conformance test.  In the case that a dynamic index is out-of-range the base ESSL 3.00 spec allows undefined behavior. KHR_robust_buffer_access_behavior adds the requirement that program termination should not occur and that out-of-range reads must return either a value from the active program's memory or zero and out-of-range writes should only affect the active program's memory or do nothing. This patch clamps out-of-range indices so that either the first or last item of the matrix/vector is accessed.  The code is not transformed in case the it fits within the limited subset of ESSL 1.00 given in Appendix A of the spec. If the code isn't within the restricted subset even ESSL 1.00 shaders may require this workaround.  BUG=angleproject:1116 TEST=dEQP-GLES3.functional.shaders.indexing.* (all pass after change)      WebGL 2 conformance tests (glsl3/vector-dynamic-indexing.html)  Change-Id: I16119f9092360fb72798f9550a6f4d3cfffdc92f Reviewed-on: https://chromium-review.googlesource.com/308790 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Suppress failing textures tests in Linux dEQP.  BUG=angleproject:1020  Change-Id: Ia074186c2f80b41c5a02523b3b3f564cd09ec557 Reviewed-on: https://chromium-review.googlesource.com/308920 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't use static const & locals for format tables.  This hits an unimplemented feature in Clang. Work around this by using values instead of references.  BUG=angleproject:1160  Change-Id: I94b08d8fd9a09bbbfbe4bcd1b6f9d7f0031ce18d Reviewed-on: https://chromium-review.googlesource.com/308910 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re-re-land "Add GL_OES_vertex_array_object to D3D11 and GL renderers"  + Include fixed validation logic for GL_UNPACK_SKIP_IMAGES and GL_UNPACK_ROW_LENGTH + Include fix for Clang build break  BUG=angleproject:1186  Change-Id: I403a066e29614f532db6931755265d2ee088d442 Reviewed-on: https://chromium-review.googlesource.com/308746 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Re-land "Add GL_OES_vertex_array_object to D3D11 and GL renderers""  Fails build on Clang because Caps.cpp defines a constructor initializer out-of-order with the member variable order in the header.  BUG=angleproject:1186  This reverts commit 7432321e03a70a99639b149f44cf80086feb4ea2.  Change-Id: I2840d02e6e7b6bbc76eb495b5462c43116a5c4a6 Reviewed-on: https://chromium-review.googlesource.com/308800 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update dEQP-GLES2 expectations.  Some texture.mipmap.2d.projected are passing and  fbo.api.valid_texcube_attachments seems to pass.  BUG=angleproject:1026 BUG=angleproject:1020  Change-Id: I46ada896978cbb0a3bcbfb3985a5a50e4095ab98 Reviewed-on: https://chromium-review.googlesource.com/308391 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Remove dynamic indexing of matrices and vectors in HLSL"  This reverts commit 3766a40d6fda7e7190514ab7838a3f37169d863f.  This CL was causing crashes in UniformHLSL.cpp where an internal uniform "base" was attempted to be declared in HLSL. Was crashing on an external WebGL 3D canvas page (http://www.taccgl.org/?dbg=t).  BUG=546686  Original commit message:  Re-landing after fixing D3D9 specific issues.  HLSL doesn't support dynamic indexing of matrices and vectors so replace that with helper functions that unroll dynamic indexing into switch/case and static indexing.  Both the indexed vector/matrix expression and the index may have side effects and these will be evaluated correctly. If necessary index expressions that have side effects will be written to a temporary variable that will replace the index.  Besides dEQP tests this change is tested by a WebGL 2 conformance test.  In the case that a dynamic index is out-of-range the base ESSL 3.00 spec allows undefined behavior. KHR_robust_buffer_access_behavior adds the requirement that program termination should not occur and that out-of-range reads must return either a value from the active program's memory or zero and out-of-range writes should only affect the active program's memory or do nothing. This patch clamps out-of-range indices so that either the first or last item of the matrix/vector is accessed.  The code is not transformed in case the it fits within the limited subset of ESSL 1.00 given in Appendix A of the spec. If the code isn't within the restricted subset even ESSL 1.00 shaders may require this workaround.  BUG=angleproject:1116 TEST=dEQP-GLES3.functional.shaders.indexing.* (all pass after change)      WebGL 2 conformance tests (glsl3/vector-dynamic-indexing.html)  Change-Id: I1d4b2e3888e91af7d5eebf743d12778698b6b903 Reviewed-on: https://chromium-review.googlesource.com/308770 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor RendererD3D::applyShaders.  Reduce the argument count to make future refactorings easier.  BUG=angleproject:754  Change-Id: Ia8acfc2bc8f922ad6a115e198ea51a62710a422c Reviewed-on: https://chromium-review.googlesource.com/307873 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix up the style in DynamicHLSL a bit.  Use std::stringstream when possible and use Context's caps instead of the Renderer's.  BUG=angleproject:754  Change-Id: I2dc773709bbd612ab7ea372a358337c0a81869a3 Reviewed-on: https://chromium-review.googlesource.com/307872 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed compilation on mingw.  BUG=angleproject:1184  This is reland of parts of commit 566273222683314d. It also adds <algorithm> include in FunctionsWGL.cpp which is needed for std::find on GCC.  Change-Id: I852008087afa6b12da6e7e29934fa83390fded21 Reviewed-on: https://chromium-review.googlesource.com/308090 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Changed GetTextureFormatInfo to use static switch  BUG=angleproject:1160  The find of the map table in GetTextureFormatInfo is showing up as a hotspot in draw call perf benchmark. Switching the map into a static switch should make it more efficient.  Other tables that only GetTextureFormatInfo uses is also converted into static switching instead of maps for performance. Other tables include swizzle_format_table and load_functions_table which are both only used by GetTextureFormatInfo to generate the TextureFormat for a given internalFormat and d3d device caps.  The static switches for each table is generated using a python script named gen_*.py. The data for each table is stored in JSON files. This makes it more flexible for additions and deletions.  Change-Id: I0f40fcc2a215c85661863ea225891071cb2f2c71 Reviewed-on: https://chromium-review.googlesource.com/301770 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Dian Xiang <dianx@google.com> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "Add GL_OES_vertex_array_object to D3D11 and GL renderers"  Include fixed validation logic for GL_UNPACK_SKIP_IMAGES and GL_UNPACK_ROW_LENGTH  BUG=angleproject:1186  Change-Id: I9910a67733702a05991f62129d200ea39adb910c Reviewed-on: https://chromium-review.googlesource.com/308421 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add "../../../third_party/deqp/src/data" to dEQP data directories  Change-Id: I9bd4127d2eb24657e45b3a3b4668794d86b9d0e3 Reviewed-on: https://chromium-review.googlesource.com/308481 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add GL_OES_vertex_array_object to D3D11 and GL renderers"  This is failing the WebGL 2 test:  WebglConformance.conformance2_state_gl_get_calls  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win8%20Debug%20%28NVIDIA%29/builds/9807  Also the dEQP-GLES3 tests: dEQP-GLES3.functional.state_query.integers.unpack_skip_images_get*  BUG=angleproject:1186  This reverts commit eb36e275b8f63ebd442a2580e858ef671ddfe1be.  Change-Id: If903c471f4610ac0b33a268df42f3329d672f429 Reviewed-on: https://chromium-review.googlesource.com/308460 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
angle: prevent huge allocations when GL_MAX_VERTEX_ATTRIBS fails  I'm not sure why yet but when using angle in skia getIntegerv(GL_MAX_VERTEX_ATTRIBS &maxVertexAttribs) sometimes fails and when that happens we attempt to allocate and array with the size of maxVertexAttribs which is uninitialized which could be huge.  Prevent this by initializing the variable.  Also sweep through other similar calls and ensure that these use initialized values (test code has not been updated)  BUG=skia:4380  Change-Id: If1f3cf72f2b2829ad3933637af8778d574a20f61 Reviewed-on: https://chromium-review.googlesource.com/307239 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Hendrik Wagenaar <hendrikw@chromium.org>, 15312978, 382, 105, 382
Revert "Add ASTC compressed texture format info to the GL layer."  This reverts commit 3bd6e18d1b6545b94bb82c23bcfa076579adf0ce.  Change-Id: I44a82cec1757061897f35f3f63dc6bcc09429866 Reviewed-on: https://chromium-review.googlesource.com/308410 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add GL_OES_vertex_array_object to D3D11 and GL renderers  BUG=angleproject:1186  Change-Id: I7c685084b42f977902228cadca3263064881ba77 Reviewed-on: https://chromium-review.googlesource.com/307038 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable EXT_discard_framebuffer in ANGLE's D3D11 backend.  This doesn't seem to cause the video-related WebGL test failures anymore that were previously seen.  BUG=497445  Change-Id: I705ae8735823ab7f4b26cf7696cdb746936e4447 Reviewed-on: https://chromium-review.googlesource.com/308001 Tryjob-Request: Kenneth Russell <kbr@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support GL_ETC1_RGB8_OES.  Passes all dEQP tests related to etc1.  Reland: Updated to work with the D3D11 renderer and re-tested with chromium's gles2_conform_test.  Change-Id: Id2ce1b0eb58129152f67016ce2dc3ab19208269c Reviewed-on: https://chromium-review.googlesource.com/299770 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Lazily load the Blit11 buffers and state objects.  BUG=angleproject:1014  Change-Id: I46629253d164a7522c3a97574fcf591f395b04ea Reviewed-on: https://chromium-review.googlesource.com/295144 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add ASTC compressed texture format info to the GL layer.  BUG=angleproject:1185  Change-Id: Ia0bbe85fe8fa2b6a55289ff291f30e215d7a3ba9 Reviewed-on: https://chromium-review.googlesource.com/301146 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Skip the TransformFeedbackTest.MultiContext on OSX AMD too.  BUG=angleproject:889  Change-Id: Idf8d00ac13382970aa8b16313a56db32a3fca05f Reviewed-on: https://chromium-review.googlesource.com/307891 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement TransformFeedbackGL.  Reland with supression for TransformFeedbackTest.MultiContext on Linux AMD.  BUG=angleproject:889  Change-Id: I6f2a2e856dacf16308de222dd0936bedbb3b175c Reviewed-on: https://chromium-review.googlesource.com/307871 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement TransformFeedbackGL."  Failing on AMD Linux bots.  This reverts commit a9c5288192f90ebf03b0d26d86964b4fbce74bcb.  Change-Id: I2a2db8c3d96c4b927d7d784486c6df772ae63084 Reviewed-on: https://chromium-review.googlesource.com/308130 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement TransformFeedbackGL.  BUG=angleproject:889  Change-Id: I347ac21cfd0a56654a75fb41ac24c6c67ede3a05 Reviewed-on: https://chromium-review.googlesource.com/302351 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use .def file to export functions using dllexport.  BUG=angleproject:1183  This is a reland of part of commit 566273222683314dfc8ac1cdb9bf6deb5d2b4c65. The original commit caused warnings on 64-bit MSVC linker. This version removes declspec(dllexport) from exported ANGLE APIs (for which we need a new ANGLE_PLATFORM_EXPORT macro). It also makes those APIs stdcall on Windows builds.  Change-Id: Iee2ab7e43ef0b98924f5759b5e1b333307052235 Reviewed-on: https://chromium-review.googlesource.com/304501 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't ASSERT shader compilation success in ShaderGL.  This assertion was useful for debugging the initial implementation but it is becoming an issue in tryjobs where tests will hang instead of fail due to driver bugs.  BUG=angleproject:882  Change-Id: Ib23a0d16dfe250ea175a166b5e277bf07d80a2fa Reviewed-on: https://chromium-review.googlesource.com/307460 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re-land "Only require that the stencil masks are same as many effective bits set"  It seems reasonable to validate the equality between stencilWriteMask and stencilBackWriteMask only by comparing the effective bits. An existing dEQP test[1] and a WebGL test[2] also use the max size of stencil bits for checking the stencil mask values.  [1] StencilWriteMaskSeparateTestCase (gles3/functional/ es3fIntegerStateQueryTests.cpp) [2] https://www.khronos.org/registry/webgl/sdk/tests/conformance/state/ gl-get-calls.html (Search for "minimumRequiredStencilMask ")  Re-land with fix for Clang warning.  Change-Id: I4cadaffced04ca55fa6daf7ac6a462368e0cfeec Reviewed-on: https://chromium-review.googlesource.com/307530 Reviewed-by: Jinyoung Hur <hurims@gmail.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Only require that the stencil masks are same as many effective bits set"  Reverting temporarily causes a compile warning with Clang:  ..\..\third_party\angle\src\libANGLE\renderer\d3d\d3d11\Renderer11.cpp(2427) :  error: field 'mDebug' will be initialized after field 'mCurStencilSize' [-Werror-Wreorder]       mDebug(nullptr)       ^ 1 error generated. ninja: build stopped: subcommand failed.  http://build.chromium.org/p/tryserver.chromium.win/builders/win_clang_dbg/builds/98  This reverts commit 685aa4b87d2c6a3f13134c77af8690e5f3d6aa6d.  Change-Id: I9dab08b26e2eddf508a7bcde7813c25be350bf31 Reviewed-on: https://chromium-review.googlesource.com/307520 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add support for EAC and ETC2 texture formats with D3D11.  Passes:  * dEQP-GLES3.functional.implementation_limits.num_compressed_texture_formats  * dEQP-GLES3.functional.implementation_limits.compressed_texture_formats  * dEQP-GLES3.functional.texture.*eac*  * dEQP-GLES3.functional.texture.*etc2*  BUG=angleproject:598  Change-Id: Iaec1756b540f8f44c821fd8b9ba63f115ebe6de0 Reviewed-on: https://chromium-review.googlesource.com/305520 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix ANGLE documentation about Chromium build.  BUG=angleproject:848  Change-Id: If70498c10d50dad3da3852c12c6bd732166c54e4 Reviewed-on: https://chromium-review.googlesource.com/307070 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make DebugAnnotator::getStatus work on Windows 10 (WinRT)  Change-Id: I860a814490ac643eb3d7d1b770c956f0dce3e39e Reviewed-on: https://chromium-review.googlesource.com/305309 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Do not attempt to compile angle_end2end_tests or angle_perftests on Android  BUG=507294  Change-Id: Ied198a26f5eecab1dc608a06c2cc5e3be08cc28c Reviewed-on: https://chromium-review.googlesource.com/306460 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Peter Kotwicz <pkotwicz@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Peter Kotwicz <pkotwicz@chromium.org>, 15312978, 382, 105, 382
Fix MultipleDrawBuffers sample when GL_OES_texture_npot isn't active  If the GL_OES_texture_npot extension isn't active then setting GL_TEXTURE_WRAP_S/T to GL_REPEAT for a NPOT texture results in black rendering. This is specified in Section 3.8.2 of the OpenGL ES 2.0 specification.  Setting GL_TEXTURE_WRAP_S/T to GL_CLAMP_TO_EDGE is valid even if the NPOT extension isn't active.  Change-Id: Ibd553620995df32138bf8153d1036fd05d386d90 Reviewed-on: https://chromium-review.googlesource.com/306302 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix debug annotations and shaders.  The Program refactor inadvertantly broken Debug annotations. Fix this by correctly passing the path to the temporary shader source in the first "C" string argument to ShCompile instead of as the first part of the source string.  BUG=angleproject:1177 TEST=manual testing with MSVS  Change-Id: Ie77bb11b51645a474b542ddd2ae0f391e019e341 Reviewed-on: https://chromium-review.googlesource.com/306210 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add missing include guard to FunctionsWGL.h  Change-Id: I603eb99219234bb0292432ec41ede011c9c7d3ca Reviewed-on: https://chromium-review.googlesource.com/305830 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove extra unnecessary code from ms-master  Change-Id: Idec4209350503c89a338be95fda19f779bce48c3, 15312978, 382, 105, 382
Only require that the stencil masks are same as many effective bits set  It seems reasonable to validate the equality between stencilWriteMask and stencilBackWriteMask only by comparing the effective bits. An existing dEQP test[1] and a WebGL test[2] also use the max size of stencil bits for checking the stencil mask values.  [1] StencilWriteMaskSeparateTestCase (gles3/functional/ es3fIntegerStateQueryTests.cpp) [2] https://www.khronos.org/registry/webgl/sdk/tests/conformance/state/ gl-get-calls.html (Search for "minimumRequiredStencilMask ")  Change-Id: I68cefbe8a9f69c5a9ebcb30027a05581e3024add Reviewed-on: https://chromium-review.googlesource.com/302703 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jinyoung Hur <hurims@gmail.com> Commit-Queue: Jinyoung Hur <hurims@gmail.com> Tryjob-Request: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
angle: move DeallocateCurrent into windows only code  DeallocateCurrent is only called from within DllMain which means it's only called on windows.  On the mac the warning unused-function may be triggered.  Move DeallocateCurrent to windows only code.  Change-Id: I61ba602af78d546a91cf009ae7350cf03eaa84dd Reviewed-on: https://chromium-review.googlesource.com/305880 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed incorrect buffer count for emulated points rendering  Emulated points rendering for FL9_3 was getting lucky because the value of maxDiff just happened to be large enuough to include the additional pointsprite vertex buffer in the total buffer count used in IASetVertexBuffers.  maxDiff is calculated while buffers and offsets are being configured. The pointsprite buffer was not updating maxDiff resulting in an off-by one calculation which causes TDRs on some Qualcomm chipsets.  This issue was discovered using Cocos2dx.  BUG=angleproject:1176  Change-Id: I3b3af1757e1cef48bbc62e68695a3e239fef77bf Reviewed-on: https://chromium-review.googlesource.com/305752 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Don't include samplers in uniform vector count validation  Change-Id: Id2820643b70d3266c82eb10a5f05d3a5886e9323 Reviewed-on: https://chromium-review.googlesource.com/304871 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
UniformTest.SamplerUniformsAppearOnce should check for VTF support  Change-Id: If4b1602a5f706b5343fc1757962341602354b88e Reviewed-on: https://chromium-review.googlesource.com/304389 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Fix "blob content mismatch between level9 and d3d10 shader" errors on 9_3  Fixes these dEQP failures on 9_3: + dEQP-GLES2.functional.shaders.struct.local.loop_nested_struct_array_vertex + dEQP-GLES2.functional.shaders.struct.local.loop_nested_struct_array_fragment  Change-Id: I3e3b3552fe842c8a3c04363bf966c121e40dd9dc Reviewed-on: https://chromium-review.googlesource.com/304489 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Re-land "Implements more pack/unpack states."  Pack: row length skip rows skip pixels. Unpack: image height skip images skip rows skip pixels. Note that PBOs are not covered by this change.  Re-land with fix for test expectations.  BUG=angleproject:512 BUG=angleproject:1095  Change-Id: I71d8d3bd8fc1f2c75ca16ac2634d5eafcbd71f26 Reviewed-on: https://chromium-review.googlesource.com/305522 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Implements more pack/unpack states. Pack: row length skip rows skip pixels. Unpack: image height skip images skip rows skip pixels. Note that PBOs are not covered by this change."  Expectations still not correct. This removes suppressions for two failing tests:  functional.texture.specification.teximage3d_depth_pbo.depth_component32f_2d_array dEQP-GLES3.functional.texture.specification.teximage3d_depth_pbo.depth32f_stencil8_2d_array  BUG=angleproject:512 BUG=angleproject:1095  This reverts commit 72e7013e68a24107b9082629fc52d59a78998eb2.  Change-Id: Id81b6e616e61535b8504890ce57591813e22af69 Reviewed-on: https://chromium-review.googlesource.com/305521 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Automatically enable highp in fragment shaders on ESSL3  Most code using the translator already enables highp with the resources flag when a shader spec that accepts ESSL3 is used but for example the shader_translator utility doesn't. This fix makes sure that highp is always enabled when a fragment shader written in ESSL3 or newer is being compiled. This will make shader_translator easier to use for testing ESSL3 shaders.  BUG=541550 TEST=angle_unittests  Change-Id: Ia1911677c55f3c5d921829a8cbb808847ac8b636 Reviewed-on: https://chromium-review.googlesource.com/305190 Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make DebugAnnotator::getStatus work on Windows 10  Change-Id: I860a814490ac643eb3d7d1b770c956f0dce3e39e, 15312978, 382, 105, 382
Revert "Fixed FL9_3 shaders that use glPointCoord without glPointSize."  Failing test in angle_end2end_tests:  GLSLTest.MaxMinusTwoVaryingVec4PlusTwoSpecialVariables: program link failed: C:\fakepath(875-18): error X4000: variable 'output' used without having been completely initialized  This reverts commit 73e32ee161b7b613e9e25e3cc393851c430eeb98.  Change-Id: Ie47cb3a92ccfa1271a880a8b7e5a87b05963bab9 Reviewed-on: https://chromium-review.googlesource.com/305530 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Regenerated projects, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into ms-master, 15312978, 382, 105, 382
Revert "Fixed Shader error involving Vertex/Pixel Shader linkage signatures between stages being incompatible when glPointCoord is used without glPointSize."  This reverts commit 4e308803d9a2eec57e7a5f81859420addbdbf7f6., 15312978, 382, 105, 382
Implements more pack/unpack states. Pack: row length skip rows skip pixels. Unpack: image height skip images skip rows skip pixels. Note that PBOs are not covered by this change.  BUG=angleproject:512 BUG=angleproject:1095  Change-Id: Ia2fd7e52615d4aa08011dd615fcc20b79672d355 Reviewed-on: https://chromium-review.googlesource.com/304908 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed FL9_3 shaders that use glPointCoord without glPointSize.  This change fixes a Shader error on FL9_3 that reports Vertex/Pixel Shader linkage signatures between stages being incompatible when glPointCoord is used without glPointSize.  Change-Id: I93ffb6c6dd38f26e2156a374b1b58ecc3a5f250b Reviewed-on: https://chromium-review.googlesource.com/301450 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com>, 15312978, 382, 105, 382
Use named value-parameterized tests for dEQP gtests  This replace the non-descriptive digit at the end of the test name by the name of the dEQP test being run.  Reland enabling the named tests only in standalone.  BUG=angleproject:1153  Change-Id: I1336d38425c19305fae8279a42d4931cc516215c Reviewed-on: https://chromium-review.googlesource.com/304171 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
glTexSubImage2D should always allow non-power-of-two inputs  If GL_OES_texture_npot isn't active then ANGLE currently prevents calls to glTexSubImage2D with: - level > 0 - width/height NPOT  This isn't correct. It is legitimate to supply data to a NPOT subregion of a POT texture via glTexSubImage2D.  Fixes these dEQP tests on 9_3: dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.a8_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.a8_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.l8_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.l8_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.la88_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.la88_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb565_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb565_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb888_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb888_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba4444_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba4444_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba5551_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba5551_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba8888_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba8888_cube  Change-Id: I5889a27edbfa807995fa20b16f36456f676b80fc Reviewed-on: https://chromium-review.googlesource.com/304612 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Allow double underscore in macro names  Double underscore is allowed according to GLSL ES 3.10 and based on Khronos discussions the intent is that this should also apply to older specs. The dEQP tests also check this and WebGL tests that check the opposite were recently removed. The error is changed into a warning.  BUG=angleproject:989 TEST=angle_unittests      dEQP-GLES3.functional.shaders.preprocessor.* (2 tests start passing)      dEQP-GLES2.functional.shaders.preprocessor.* (2 tests start passing)  Change-Id: I582c01b4adc8fc416354351e02b776f2cc602408 Reviewed-on: https://chromium-review.googlesource.com/300965 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
glTexSubImage2D should always allow non-power-of-two inputs  If GL_OES_texture_npot isn't active then ANGLE currently prevents calls to glTexSubImage2D with: - level > 0 - width/height NPOT  This isn't correct. It is legitimate to supply data to a NPOT subregion of a POT texture via glTexSubImage2D.  Fixes these dEQP tests on 9_3: dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.a8_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.a8_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.l8_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.l8_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.la88_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.la88_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb565_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb565_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb888_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgb888_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba4444_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba4444_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba5551_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba5551_cube dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba8888_2d dEQP-GLES2.functional.texture.specification.basic_texsubimage2d.rgba8888_cube  Change-Id: I5889a27edbfa807995fa20b16f36456f676b80fc, 15312978, 382, 105, 382
Generated projects, 15312978, 382, 105, 382
Fixed TDR for emulated pointsprites, 15312978, 382, 105, 382
Made program binaries cache information needed for getTransformFeedbackVarying  BUG=angleproject:1173 Change-Id: Ib8883b32f54f5d38fb94e85decae2dcee108facf Reviewed-on: https://chromium-review.googlesource.com/304381 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Merge remote branch 'google/master' into ms-master  Change-Id: I78c20b08b940510ce79ba53c1d6e7ccae49b146a, 15312978, 382, 105, 382
Treat linker warnings as errors on Windows  This would have avoided the issue seen here: https://chromium-review.googlesource.com/#/c/304501/  Currently linker warnings are only visible in build logs. VS outputs 0 warnings/0 errors even if there are linker warnings.  If linker warnings were treated as errors then the issue above would have caused a build break.  Change-Id: I4b529b778989a7299f83e0ef3e40cccf2c17e905 Reviewed-on: https://chromium-review.googlesource.com/304886 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Program: Clean up UBO info gathering.  The data size & block member info was getting messy so clean up how we query this from the Impl layer.  Also remove the register information from gl::UniformBlock moving it into the D3D-only world.  BUG=angleproject:1172  Change-Id: I40af658ebbd6b7c1a4251906a387ebcbb621cf77 Reviewed-on: https://chromium-review.googlesource.com/304150 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Fixed compilation on mingw."  This causes some linker warnings. I don't think we should add linker warnings to Chrome so reverting this temporarily until we can land your CL with the correct using of export keywords.  Please re-submit the fixed CL.  This reverts commit 566273222683314dfc8ac1cdb9bf6deb5d2b4c65.  Change-Id: I21fa623af31fac06de6afbefa50c9ea1ec157c15 Reviewed-on: https://chromium-review.googlesource.com/305000 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Implements more pack/unpack states. Pack: row length skip rows skip pixels. Unpack: image height skip images skip rows skip pixels."  This is causing failures in dEQP-GLES3.functional.texture.specification.teximage3d_depth_pbo.depth_component24_2d_array  First failing build on the bot: http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20dEQP%20%28NVIDIA%29/builds/3635  Please fix the failure and re-land your CL with the fix.  BUG=angleproject:512 BUG=angleproject:1095  This reverts commit f1bb3f0569d5ef41b17f8ad0add7308f9d0f0de1.  Change-Id: I30f61db888b0adf73a1d98bbeeb2428068119627 Reviewed-on: https://chromium-review.googlesource.com/304990 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update templates to define GL_GLEXT_PROTOTYPES  Change-Id: Ie9f9941f9b4a3e547ef1e9a57d265635bca00b65, 15312978, 382, 105, 382
Don't include samplers in uniform vector count validation, 15312978, 382, 105, 382
Implements more pack/unpack states. Pack: row length skip rows skip pixels. Unpack: image height skip images skip rows skip pixels.  BUG=angleproject:512 BUG=angleproject:1095  Change-Id: I11e3bc05d23419b72c92b96aabd3f0bacd983626 Reviewed-on: https://chromium-review.googlesource.com/304370 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Suppress EGLSurfaceTest.MakeCurrentTwice on Mac chromium builds  This is to remove a failure on the intel trybots were ANGLE is currently enable to create any context while this test expects creation to succeed.  BUG=angleproject:891  Change-Id: I0450da3211fd958a17f6db0d7e2a85968d6e3a87 Reviewed-on: https://chromium-review.googlesource.com/304730 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Only support ES3 if texture swizzling is available  On OSX 10.8 with an Intel HD 3000 we were wrongly exposing ES3 when texture swizzling was not available.  BUG=angleproject:891  Change-Id: If71acdc1943ab2f013dc80cd28eab130c32fb201 Reviewed-on: https://chromium-review.googlesource.com/303392 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix WinRT compilation issue in ShaderD3D.cpp  Change-Id: If7bd4e9cdba3d893f2ee28a70b894af3fb37ae30 Reviewed-on: https://chromium-review.googlesource.com/304488 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix WinRT compilation issue in ShaderD3D.cpp, 15312978, 382, 105, 382
UniformTest.SamplerUniformsAppearOnce should check for VTF support, 15312978, 382, 105, 382
Minimize delta between master and ms-master, 15312978, 382, 105, 382
Regenerate projects after the last merge, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into ms-master, 15312978, 382, 105, 382
Store WGL extensions in FunctionsWGL.  Add helpers for checking which extensions are available instead of discarding the extension strings after function loading.  BUG=angleproject:1144  Change-Id: Ie3d209cd5f6f116bbedaa618a59a4c2d7ddda4d6 Reviewed-on: https://chromium-review.googlesource.com/296360 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add suppressions for several Intel failures.  Also add a new test for UBOs to end2end_tests.  BUG=540538  Change-Id: I6ffa6ba061a2c33811c65719deaa4302f1dbd704 Reviewed-on: https://chromium-review.googlesource.com/304521 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add WinrtWindow.cpp and WinRT version of angle_util"  This reverts commit 9cc7f4b92379cee818ad0d656ce75dc2c1d932b8., 15312978, 382, 105, 382
Revert "Generate tests.sln for WinRT and make it include dEQP projects"  This reverts commit 7d7d6fe2548afdbfdc91ae57d22db4cef9838050., 15312978, 382, 105, 382
Revert "In WinRT XAML allow eglCreateWindowSurface to be called from any thread"  This reverts commit fdee2fc0a60aa8456c80974c9116a9ea4b069bb1., 15312978, 382, 105, 382
Revert "Fixed rendering on FL9_3 with shaders that reference glPointSize and are not used with GL_POINTS rendering mode."  This reverts commit eb81846880978c5eed0212544fe9256dfc987dd5., 15312978, 382, 105, 382
Fix "blob content mismatch between level9 and d3d10 shader" errors on 9_3  Fixes these dEQP failures on 9_3: + dEQP-GLES2.functional.shaders.struct.local.loop_nested_struct_array_vertex + dEQP-GLES2.functional.shaders.struct.local.loop_nested_struct_array_fragment, 15312978, 382, 105, 382
Fix setting const qualifier on indexing expression  Resubmitting now that separate fix for updating mangled names of types has been merged. A unit test is added to make sure that the same regression doesn't happen again.  Previously constness of indexing expressions did not take the index expression into account. Now constness correctly takes into account both the base expression and the index expression.  Setting the type of expressions that index arrays is also simplified.  BUG=angleproject:1170 TEST=angle_unittests  Change-Id: Ie9b6aaee8185b945c03657b13d9513cc55cd2a9f Reviewed-on: https://chromium-review.googlesource.com/303601 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Invalidate mangled name of TType if the type is changed  Sometimes the mangled name of a type is already generated when the type is still being changed. For example this could happen when the type of A[i] is generated by copying the type of A (already mangled) and calling clearArrayness() on the copy. Make sure that the mangled name gets updated if the type is changed by clearing the mangled name when something affecting it is changed.  BUG=angleproject:1170 BUG=538692 TEST=angle_unittests  Change-Id: I9dfacea653f56536e1573a6dbf60ff21da7cc5ab Reviewed-on: https://chromium-review.googlesource.com/303846 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Implement QueryGL.  Passes all tests in:  * dEQP-GLES3.functional.occlusion_query  * angle_end2end_tests  BUG=angleproject:887  Change-Id: I643ab4c28cb545de9e7b0e1740e3fd8e2aa9d3d9 Reviewed-on: https://chromium-review.googlesource.com/302338 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed compilation on mingw.  Change-Id: I5734f789f25fbc6b9b90f2043459a3a5f72008c4 Reviewed-on: https://chromium-review.googlesource.com/303602 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Check for GL_OES_get_program_binary before running ProgramBinaryTest.  BUG=angleproject:882  Change-Id: I2e5f4aeac6ff413d5f69097957718c52bd7828dd Reviewed-on: https://chromium-review.googlesource.com/304170 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only apply uniform buffers referenced by the Program.  Continues to pass dEQP-GLES3.functional.ubo.*  Performance regression in draw call overhead is fixed.  BUG=angleproject:882 BUG=angleproject:1171  Change-Id: I1d827d70611c1bf743a7930796e31a54aca04b1e Reviewed-on: https://chromium-review.googlesource.com/303473 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add texture2DRect -> texture conversion for OpenGL core profile  BUG=534114  Change-Id: If0e1557a2399436b1b160407ced2d265f42df5f0 Reviewed-on: https://chromium-review.googlesource.com/303761 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: ccameron chromium <ccameron@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make more gl::Program methods const.  BUG=angleproject:1123  Change-Id: Ib48c523538322871a0deec7ba6497c8797967ef1 Reviewed-on: https://chromium-review.googlesource.com/303305 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Correcting INVALID_ENUM issue for GLES3.  Similar to prior fix for GLES2 validation now correctly returns INVALID_ENUM instead of shorting out.  BUG=angleproject:1168  Change-Id: I8247b0b3520b0f116856049c85606bb44fa24021 Reviewed-on: https://chromium-review.googlesource.com/303472 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Tommy Martino <tmartino@chromium.org>, 15312978, 382, 105, 382
Revert "Implement program binary in ProgramGL."  Causing issues on AMD and Intel bots.  This reverts commit 6d8926691a8ed59add7602af602af3e6f7a81ab6.  Change-Id: Ifb395f78a6a44b874ac13da1f252f604a1a7b0bc Reviewed-on: https://chromium-review.googlesource.com/303439 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add angle_perftests to GN.  Also clean up the formatting a bit with gn format.  BUG=537008  Change-Id: I23337e634f20f611aaae7d17ef47b5784738bbe8 Reviewed-on: https://chromium-review.googlesource.com/303793 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement program binary in ProgramGL.  Verified by end2end tests and manually checking that chrome can load and save program binaries.  BUG=angleproject:882  Change-Id: Ic7e4b443365af6ea2d9ce5b0ecfb685eac85f479 Reviewed-on: https://chromium-review.googlesource.com/303828 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix standalone ninja build on Linux  Preprocessor conditions referring to undefined macros failed standalone build which uses the -Werror=undef setting.  This same error has been in multiple patches and reverting them would cause test breakage so fixing the issue is simpler than reverting.  Change-Id: I4a079ef5d823eed76ebdefa8be413f63d29a5f6a Reviewed-on: https://chromium-review.googlesource.com/304020 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Improve handling of internal function calls  Many parts of the shader translator that deal with function calls have been written without internal function calls in mind. Fix some of these so that they can handle internal function calls.  -Fix TLValueTrackingTraverser handling a shader where there are an  internal and non-internal function of the same name. -Maintain internalness when shallow copying function calls in  SeparateExpressionReturningArrays and ArrayReturnValueToOutParameter  AST transformations. -Output function internalness in intermOut.  BUG=angleproject:1116 TEST=angle_unittests  Change-Id: Ic65e2803062b807651f1b3952409face6aceb780 Reviewed-on: https://chromium-review.googlesource.com/303353 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Fix setting const qualifier on indexing expression"  Failing to compile shaders which are used in some layout_tests see http://crbug.com/538692 for logs and bad shaders.  We should diagnose if the shaders are faulty or if there's a bug in this CL and take appropriate action but first priority  is to get the tests running again.  BUG=538692 BUG=angleproject:1170  This reverts commit 16a79cd169420cdf0254964b1bac9dd9964a8119.  Change-Id: Iea14c58d87041bcf5ba645b7076ba0936dea6b9d Reviewed-on: https://chromium-review.googlesource.com/303794 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Check for GL_INVALID_INDEX instead of -1 for GetUniformIndices  While they have the same bit representation the variable was unsigned so the comparison would always fail which triggered a compilation warning.  BUG=  Change-Id: Idbbdb942b71d59f95e65c072dbbfdf31d14eda05 Reviewed-on: https://chromium-review.googlesource.com/303391 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
UniformTest.FloatUniformStateQuery do computations in doubles  When using floats when testing INT_MAX the loss of precision causes an undefined behavior when casting from float to int. In this cause on clang 3.6 on Mac the integer wrapped and became INT_MIN.  Reland with warnings fixes for MSVC on standalone builds.  BUG=angleproject:891  Change-Id: Ieed609840ae22e89f51c3a85cd5309c4d8bc52ea Reviewed-on: https://chromium-review.googlesource.com/303900 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Return the correct value when querying GL_MAX_FRAGMENT_UNIFORM_VECTORS.  BUG=angleproject:1087  Change-Id: Ibd0918f29b65c509e749953059d584ea83776a31 Reviewed-on: https://chromium-review.googlesource.com/303775 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Add Cherry (Web-based GUI) to DEPS.  Cherry allows us to view results from dEQP test passes and is an open-source project.  BUG=None  Change-Id: I6edc2220fe4e9daf85dc6cf44053f59a51269cb5 Reviewed-on: https://chromium-review.googlesource.com/303464 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Load the ARB_sampler_objects entry points in FunctionsGL.  Load the sampler object entry points and limit supported ES version to 2 if samplers are not available.  BUG=angleproject:1162  Change-Id: Ida7cf0cc0a81dd3714d958a98efe0c6e973ecca2 Reviewed-on: https://chromium-review.googlesource.com/303770 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove ProgramImpl::getBinaryFormat.  Because we only expose GL_ANGLE_program_binary we're only allowed to use the GL_PROGRAM_BINARY_ANGLE binary type.  This should be enforced at the GL level.  If implementations wish to use multiple types of formats internally they are able to by writing those enums to their binaries.  BUG=angleproject:882 BUG=angleproject:1123  Change-Id: I43685958814e4333b7cef3952d92c1017dc885f8 Reviewed-on: https://chromium-review.googlesource.com/303827 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the unused ProgramImpl::getShaderVersion method.  BUG=angleproject:882 BUG=angleproject:1123  Change-Id: Iace1d6c2c594f0b00c18d595f14cef9bce6f3595 Reviewed-on: https://chromium-review.googlesource.com/303826 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Correcting INVALID_OPERATION to INVALID_ENUM  Should return INVALID_ENUM when uncompressed texture passed to compressed image constructor.  BUG=angleproject:1168  Change-Id: If30f0407e7455d6e19432831883d33a1e8bfec9a Reviewed-on: https://chromium-review.googlesource.com/303750 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "UniformTest.FloatUniformStateQuery do computations in doubles"  This change broke standalone build on Windows. Two casts from double to GLfloat were missing.  This reverts commit 7aa4cae26f755dc9e6646e669fc3222f9dd63b20.  BUG=angleproject:891  Change-Id: I69cf773c940fd43b06f21c1ee86e60bac6825684 Reviewed-on: https://chromium-review.googlesource.com/303352 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix an undefined behavior in clampCast  This undefined behavior appeared in angle_end2end_tests compiled with clang 3.6 on Mac.  BUG=angleproject:891  Change-Id: I840b40a7bd54c9cfaeb0fe6784b73f875f9d5502 Reviewed-on: https://chromium-review.googlesource.com/303337 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
UniformTest.FloatUniformStateQuery do computations in doubles  When using floats when testing INT_MAX the loss of precision causes an undefined behavior when casting from float to int. In this cause on clang 3.6 on Mac the integer wrapped and became INT_MIN.  BUG=angleproject:891  Change-Id: Ieb3199fd33c25e7da8d154f88658e06f01d53c0e Reviewed-on: https://chromium-review.googlesource.com/303338 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add -Wnon-virtual-dtor and fix a warning.  BUG=  Change-Id: I234e3a963e110762bac2a89d146b60f028928fb5 Reviewed-on: https://chromium-review.googlesource.com/302487 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Support UBOs in RendererGL and ProgramGL.  Reland: fix compile warnings on Windows.  BUG=angleproject:882 BUG=angleproject:883  Change-Id: If4844d50d43ff9b765f64606e8f08d65a1afd9a4 Reviewed-on: https://chromium-review.googlesource.com/303431 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Support UBOs in RendererGL and ProgramGL."  Compile error.  This reverts commit 97d82b724b71be464f2aff377f056cade44fca94.  Change-Id: I71ae10cb01b8ded0297eaf4742fb1098ce02a9bb Reviewed-on: https://chromium-review.googlesource.com/303303 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support UBOs in RendererGL and ProgramGL.  BUG=angleproject:882 BUG=angleproject:883  Change-Id: I36f8ef42d87e289658a6ba4899380bc72b9bcebf Reviewed-on: https://chromium-review.googlesource.com/299871 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement GL_EXT_debug_marker for RendererGL.  Passes dEQP-GLES2.functional.debug_marker.*  Change-Id: I37f2b6724f32867d2e428613b1b6d9c8377c6d60 Reviewed-on: https://chromium-review.googlesource.com/302990 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a possible OOB read in InsertD3D11FormatInfo.  It's unclear how this might happen as it's during static map init but add a fail-safe to be sure.  BUG=526779  Change-Id: I5aa33f9bed30d4a8c1e9937a0b8c5fd11a7503d7 Reviewed-on: https://chromium-review.googlesource.com/302385 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix setting const qualifier on indexing expression  Previously constness of indexing expressions did not take the index expression into account. Now constness correctly takes into account both the base expression and the index expression.  Setting the type of expressions that index arrays is also simplified.  BUG=angleproject:1170 TEST=angle_unittests  Change-Id: Ie2d122020cc252655ab0eea96886b9f85931b80a Reviewed-on: https://chromium-review.googlesource.com/303350 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
compiler: Rewrite do-while loops as while loops  This works around a Mac driver shader compiler bug that makes many do-while loops cause GPU-hangs when ran.  BUG=angleproject:891  Change-Id: I29828d6ea9e887ad0ed0c577f1deb41fb632a900 Reviewed-on: https://chromium-review.googlesource.com/302465 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add suppressions for failing end2end tests on Mac Intel  BUG=angleproject:891  Change-Id: I88a8bcc4a6911c92bdb981aca34a0557ad451df7 Reviewed-on: https://chromium-review.googlesource.com/303390 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
OSXWindow release the tracking area instead of deallocing it  The Mac AMD GPU FYI bots were crashing on end2end tests exit because the NSView was trying to deallocated an NSTrackingArea that had been previously deallocated.  BUG=angleproject:891  Change-Id: I933e437254cad65f18cb0518a401b8b8e9dc59a0 Reviewed-on: https://chromium-review.googlesource.com/303302 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Sync scissor state before calling BlitFramebuffer.  Now passes:  * dEQP-GLES3.functional.fragment_ops.scissor.framebuffer_blit_center  * dEQP-GLES3.functional.fragment_ops.scissor.framebuffer_blit_corner  * dEQP-GLES3.functional.fragment_ops.scissor.framebuffer_blit_none  BUG=angleproject:885  Change-Id: Ifec2995562c684b3a4b287619c9bf7a25512b1fd Reviewed-on: https://chromium-review.googlesource.com/302384 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement gl_FragDepth for GLES SL 3.0  Makes it an error to access gl_FragDepthEXT  in #version 300 es shader.  TODO: Lacks the feature to make "#extension GL_EXT_frag_depth : require" an error for #version 300 es.  Reland of: https://chromium-review.googlesource.com/#/c/287570  BUG=angleproject:1102 TEST=angle_unittest  Change-Id: I064d918d65f37539cb1e14f12173ca5591a4ea3f Reviewed-on: https://chromium-review.googlesource.com/301711 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Skip BlendMinMax test on Intel OpenGL due to driver flakyness.  Change-Id: I72da31fa0bfbed578e20ff39b82d8c8e716fd276 Reviewed-on: https://chromium-review.googlesource.com/302337 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
TOutputGLSLBase::visitLoop clarify the function slightly  Since only for loops can be unrolled handle each type of loop only once. This improvement was going to be part of a do-while workaround for Mac that will instead be done at the AST level.  BUG=angleproject:891  Change-Id: Ic8ecf41aa6d9abd7a01c2230e908c85152f52b62 Reviewed-on: https://chromium-review.googlesource.com/302332 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add dEQP GLES2 test expectations for Mac  BUG=angleproject:891  Change-Id: Ib7d16a9266fe23fb9374cec94f3baa4ad135c0d3 Reviewed-on: https://chromium-review.googlesource.com/302333 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
RewriteElseBlocks.cpp: add missing override  Change-Id: Ic98de554cabffabd3cdd58b2a44a554cb2c3cd53 Reviewed-on: https://chromium-review.googlesource.com/302464 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Explicitly enable framebuffer SRGB blending in StateManagerGL.  In DesktopGL SRGB blending must be enabled or linear blending will be used.  reland: Work around issues on AMD drivers where SRGB blending would be used on clears of linear attachments.  Passes all dEQP-GLES3.functional.fragment_ops.blend.fbo_srgb.* tests (1106 new passing tests).  BUG=angleproject:883 BUG=angleproject:885  Change-Id: I974a55fe3acc77ac77e93f19c83ee3b76f784df2 Reviewed-on: https://chromium-review.googlesource.com/302336 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Explicitly enable framebuffer SRGB blending in StateManagerGL."  More compile errors on mac.  This reverts commit 056fae4a01db306b8f9c1e57374e18ebffbdf8eb.  Change-Id: I579b9e50ded7240be4f488a48588a89ecb4bea44 Reviewed-on: https://chromium-review.googlesource.com/302571 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Delete function that's unused after https://chromium-review.googlesource.com/#/c/299691/  BUG=505316  Change-Id: Iac794dc8a13f9aabc6f53e34dab8750dc1ed994a Reviewed-on: https://chromium-review.googlesource.com/302830 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Explicitly enable framebuffer SRGB blending in StateManagerGL.  In DesktopGL SRGB blending must be enabled or linear blending will be used.  reland: Work around issues on AMD drivers where SRGB blending would be used on clears of linear attachments.  Passes all dEQP-GLES3.functional.fragment_ops.blend.fbo_srgb.* tests (1106 new passing tests).  BUG=angleproject:883 BUG=angleproject:885  Change-Id: I6c2b4552c571707a8d8d80d3573bcb38797c3929 Reviewed-on: https://chromium-review.googlesource.com/302791 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix possible compiler errors on linux  Change-Id: Ifc45446c749690eddc406f66f144304262f04664 Reviewed-on: https://chromium-review.googlesource.com/302478 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Sampler.cpp: Fix a warning on Linux and Mac  BUG=  Change-Id: I58a19de9d5978aa4d65ac2ab1acd2fbd233ec6a2 Reviewed-on: https://chromium-review.googlesource.com/302463 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Explicitly enable framebuffer SRGB blending in StateManagerGL."  Compilation failure on mac and linux.  This reverts commit e19d7f90355f02ac7a7cd0a2ac130e0859cd3cc7.  Change-Id: I638c3ffebb8c7ad0e3fe2e1e65d6212487bfc6ae Reviewed-on: https://chromium-review.googlesource.com/302790 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Explicitly enable framebuffer SRGB blending in StateManagerGL.  In DesktopGL SRGB blending must be enabled or linear blending will be used.  reland: Work around issues on AMD drivers where SRGB blending would be used on clears of linear attachments.  Passes all dEQP-GLES3.functional.fragment_ops.blend.fbo_srgb.* tests (1106 new passing tests).  BUG=angleproject:883 BUG=angleproject:885  Change-Id: I03fbb0910ce414552ba841099a177446d0ace7b6 Reviewed-on: https://chromium-review.googlesource.com/301702 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move more sample_util sources to util.  These sample utils can also be useful for writing perf tests.  BUG=angleproject:1164  Change-Id: I44b5d63b57bfce7a541442fd02cd729a1bab17f0 Reviewed-on: https://chromium-review.googlesource.com/301468 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactoring TextureFormat and its helper functions to individual classes  BUG=angleproject:1160  This is the first step to BUG=angleproject:1160 optimizing GetTextureFormatInfo to use static switching rather than building maps and using the find function. Also reordered the includes in alphabetical src files first format  The next step is to modify the GetTextureFormatInfo not to build a map but to use static switching. The step after that is to use a JSON generator to generate the switching hence refactoring TextureFormat to be in its own class so we only need to generate what's necesary. The helper functions such as swizzle texture format can also be done using the same approach. Hence they're also refactored into their own files.  Change-Id: I753f437ca0df69ee5584d254fe0d2ea8b09a857e Reviewed-on: https://chromium-review.googlesource.com/300288 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Add a SamplerImpl object and implement it for the GL backend.  Passes all tests in dEQP-GLES3.functional.samplers  BUG=angleproject:1162  Change-Id: I7713031a677aac2b41889a6b4297ab512e184863 Reviewed-on: https://chromium-review.googlesource.com/301582 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Compile the dEQP test targets on Mac  BUG=angleproject:891  Change-Id: I4bc2817106c8170684a76972badd38c02c0abf0e Reviewed-on: https://chromium-review.googlesource.com/299852 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Allow limited form of expressions in #line directives  Reuse ExpressionParser that's also used for parsing preprocessor conditionals to parse line and file numbers in #line directives. According to recent Khronos discussions the intent of the spec is that expressions in #line directives should be interpreted similarly to expressions in conditional directives so reusing ExpressionParser is a natural way to implement this. This enables simple math operators operating on integers. There are a few unclear corner cases but this approach is enough to support practical use cases and pass the dEQP tests.  Valid line directives have one of the following forms:   #line line-expression  #line line-expression file-expression  ExpressionParser is first run to parse the line-expression. In ambiguous cases the ExpressionParser consumes as much of the line as possible to form line-expression. Then if end-of-line hasn't been reached file-expression is parsed by running ExpressionParser again. As an example of an ambiguous case:   #line 1 + 2  This could alternatively be interpreted to mean line-expression "1" and file-expression "+ 2" where + is the unary + operator but ANGLE now interprets it to mean line-expression "1 + 2". Because of these ambiguous cases a bison grammar that would parse multiple expressions on the same line couldn't be easily constructed so this solution where ExpressionParser is run twice was chosen instead.  The problematic corner cases are:  - ExpressionParser uses 64-bit integers internally for evaluating the expression's value. It's possible to interpret the ESSL3 spec so that 32-bit integer wraparound behavior would be required also for #line directive expressions.  - It's unclear whether the defined operator can be used in #line expressions. In this patch it is disabled. Hoping for further clarification from Khronos.  - It's unclear how short-circuiting should affect the parsing of undefined identifiers in #line expressions. Now it's consistent with #if expressions (undefined identifiers are OK if they're short-circuited).  dEQP expectations are updated for preprocessor tests including ones not affected specifically by this change.  BUG=angleproject:989 TEST=angle_unittests      dEQP-GLES3.functional.shaders.preprocessor.* (4 start passing)      dEQP-GLES2.functional.shaders.preprocessor.* (4 start passing)  Change-Id: I55c5bf75857da5de855cc600d3603ee19399f328 Reviewed-on: https://chromium-review.googlesource.com/300964 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Suppress TextureLimitsTest.MaxCombinedTextures on Intel GL.  This test probably triggers a driver bug.  BUG=angleproject:1123  Change-Id: I81921e7faf51ac60f1175a04ee17e920a346059d Reviewed-on: https://chromium-review.googlesource.com/302461 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix up-side-down issue in copyImage by blitting., 15312978, 382, 105, 382
Split the SamplerState struct into SamplerState and TextureState.  SamplerState is now only the members that are overridden by a sampler object this makes it easy to update those specific members.  Opted for getters and setters for each member in Texture and Sampler because it will be required to enable dirty bits for these states.  Added maxAnisotropy to the SamplerState instead of texture state.  The sampler objects extension mentions it should be there.  BUG=angleproject:1162  Change-Id: I5aa6d702bd5915ee9df1976afef3c8c1f69d27c8 Reviewed-on: https://chromium-review.googlesource.com/300490 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove rx::ShaderSh and move the shared code to the GL.  The GL layer can interact with the translator directly to query all the active shader variables and call ShCompile.  BUG=angleproject:1159  Change-Id: I334a9bef28f93cf85dd8cac0fb8542ac567cc3ec Reviewed-on: https://chromium-review.googlesource.com/299877 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make a shader Shader::Data state structure.  This design follows the similar designs for Program Framebuffer etc. Because of the current design share a mutable pointer with the Impl so the patch becomes a bit smaller and easier to review. In a follow- up patch we can move the shared code into the GL layer.  BUG=angleproject:1159  Change-Id: Ib243e74779f23be51cdca80f1b5c6e5f3e36059d Reviewed-on: https://chromium-review.googlesource.com/299876 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an interm ShaderSh class.  This class logic will eventually move to the GL layer. Keep it in the Renderer layer for now for refactoring purposes.  BUG=angleproject:1159  Change-Id: I91843099367f9a0293cc43ab98626bf79eb75ebf Reviewed-on: https://chromium-review.googlesource.com/299875 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-re-land "Move sampler validation to the GL layer."  This previously was D3D-only but is required for every draw call. This completes the work of removing the D3D-specific Impl methods from ProgramImpl.  Also add several regression tests to cover texture and sampler validation.  Re-land with a fix for duplicate sampler active uniforms.  Re-re-land with a fix for a test comparison warning on Linux.  BUG=angleproject:1123  Change-Id: Iaf7b33861c07b9ceed4bd53ac2f010d35f05df45 Reviewed-on: https://chromium-review.googlesource.com/301712 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Explicitly enable framebuffer SRGB blending in StateManagerGL."  Causing failures on AMD OpenGL drivers for sRGB clears.  This reverts commit 04b89c975b3c7f6b86191d0255136a8a798f0b66.  Change-Id: I51ee856d1c4d37882e5b1d1926415c398fa7ff5c Reviewed-on: https://chromium-review.googlesource.com/301721 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Re-land "Move sampler validation to the GL layer.""  Build failure on Linux:  In file included from ../../third_party/angle/src/tests/gl_tests/UniformTest.cpp:7: In file included from ../../third_party/angle/src/tests/test_utils/ANGLETest.h:10: ../../testing/gtest/include/gtest/gtest.h:1392:16: error: comparison of integers of different signs: 'const int' and 'const unsigned int' [-Werror-Wsign-compare]   if (expected == actual) {       ~~~~~~~~ ^  ~~~~~~ ../../testing/gtest/include/gtest/gtest.h:1422:12: note: in instantiation of function template specialization 'testing::internal::CmpHelperEQ<int unsigned int>' requested here     return CmpHelperEQ(expected_expression actual_expression expected            ^ ../../third_party/angle/src/tests/gl_tests/UniformTest.cpp:487:5: note: in instantiation of function template specialization 'testing::internal::EqHelper<false>::Compare<int unsigned int>' requested here     EXPECT_EQ(GL_SAMPLER_2D type);     ^  BUG=angleproject:1123  This reverts commit 6cbf4385280c4c1dd97f0882ecb18dbc4c341fd4.  Change-Id: I95279b37d253e3ea78faa53f3773f2dc3d17df95 Reviewed-on: https://chromium-review.googlesource.com/302030 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implements GL_EXT_unpack_subimage and GL_NV_pack_subimage. Pack/unpack subimages is core features of GLES3. Those 2 extensions expose them to GLES2.  BUG=angleproject:512  Change-Id: I6834cf5d4a91bc3430c60dcec29c449826fd6d93 Reviewed-on: https://chromium-review.googlesource.com/299790 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Minmin Gong <mgong@microsoft.com>, 15312978, 382, 105, 382
Fixed FL9_3 shaders that use glPointSize without GL_POINTS mode  This change fixes rendering on FL9_3 with shaders that reference glPointSize and are not used with GL_POINTS rendering mode. A TDR occurs on some hardware because of missing vertex buffers specified by the vertex layout.  Change-Id: Ie49b75f7177c32c7f021a0409d15c27b18140c4b Reviewed-on: https://chromium-review.googlesource.com/299719 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Explicitly enable framebuffer SRGB blending in StateManagerGL.  In DesktopGL SRGB blending must be enabled or linear blending will be used.  Passes all dEQP-GLES3.functional.fragment_ops.blend.fbo_srgb.* tests (1106 new passing tests).  BUG=angleproject:883 BUG=angleproject:885  Change-Id: I0dfb744faa811f10be47c5bd8295b368baf3b04b Reviewed-on: https://chromium-review.googlesource.com/298620 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove CompilerImpl and merge code to gl::Compiler.  This class uses no Impl-specific code. We can also do a similar code relocation for the gl::Shader class but in several steps because it is a bit more complex.  BUG=angleproject:1159  Change-Id: I4d3ce3253df0a2bdee1d98e46cfd4b999d86be6e Reviewed-on: https://chromium-review.googlesource.com/299874 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "Move sampler validation to the GL layer."  This previously was D3D-only but is required for every draw call. This completes the work of removing the D3D-specific Impl methods from ProgramImpl.  Also add several regression tests to cover texture and sampler validation.  Re-land with a fix for duplicate sampler active uniforms.  BUG=angleproject:1123  Change-Id: Iefef06e7901873c98bf2ba7864efd16a4c6435d3 Reviewed-on: https://chromium-review.googlesource.com/301581 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make preprocessor ExpressionParser only lex what it can parse  This cleans up ExpressionParser so that the lexer only consumes one extra token in case the parser finishes. The parser will also finish with YYACCEPT once it has parsed a complete expression. This will make the preprocessor to generate a more informative unexpected token error instead of a syntax error if there are extra tokens after #if.  This will also enable reusing ExpressionParser for parsing expressions in line directives. The format for a line directive that specifies both line and file numbers is as follows:   #if line-expression file_expression  ExpressionParser will need to be run twice for each line: first to parse line-expression and then to parse file-expression. For that reason it is essential that ExpressionParser for line-expression stops before consuming more than one token of file-expression.  BUG=angleproject:989 TEST=angle_unittests dEQP-GLES3.functional.shaders.preprocessor.*  Change-Id: I0bb92f733c18891eeddbc61e7c5bebdf1003559a Reviewed-on: https://chromium-review.googlesource.com/300962 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tryjob-Request: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support primitive restart in RendererGL.  Store index ranges in a new struct that tracks how many real indices were seen.  Update index caching to key on primitive restart being enabled and update index counting functions to skip primitive restart indicies when needed.  Passes dEQP-GLES3.functional.primitive_restart.*  Change-Id: Id1e25a5adcdcd4e998836e8ff6679c64be4c3066 Reviewed-on: https://chromium-review.googlesource.com/297770 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add AppPackages and Generated Files/ to the .gitignore, 15312978, 382, 105, 382
In WinRT XAML allow eglCreateWindowSurface to be called from any thread  Before this change eglCreateWindowSurface had to be called from one specific XAML thread which may have been a different thread to the one where rendering was performed. This change fixes this so eglCreateWindowSurface can be called from any thread.  Change-Id: Ic383a508c223d1b0463e8a8f1d8e8d6880c26844 Reviewed-on: https://chromium-review.googlesource.com/300131 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Exclude "test" and "util" projects from winrt directories, 15312978, 382, 105, 382
Exclude "build" projects from winrt directory, 15312978, 382, 105, 382
[Docs] Add wiki content to Markdown docs  Change-Id: I729d3208b206e83f99e73002b45402c4f6f9f443 Reviewed-on: https://chromium-review.googlesource.com/301560 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
In WinRT XAML allow eglCreateWindowSurface to be called from any thread  Before this change eglCreateWindowSurface had to be called from one specific XAML thread which may have been a different thread to the one where rendering was performed. This change fixes this so eglCreateWindowSurface can be called from any thread.  Change-Id: Ic383a508c223d1b0463e8a8f1d8e8d6880c26844, 15312978, 382, 105, 382
Generate tests.sln for WinRT and make it include dEQP projects  Change-Id: I34284965f7b4f9d11aa7bab263292d4f41312d04 Reviewed-on: https://chromium-review.googlesource.com/297307 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add WinrtWindow.cpp and WinRT version of angle_util  Change-Id: If4ff4b966f5bd388d32c72a2d1bcf9cf29e6032d Reviewed-on: https://chromium-review.googlesource.com/297308 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Revert "Move sampler validation to the GL layer."  Probably causing failures in the dEQP-GLES2 GL back-end tests:  dEQP-GLES2.functional.uniform_api.info_query.basic.sampler2D_both  BUG=angleproject:1123  This reverts commit 6fa156b66da2090c98f1a044a948694c7ac83324.  Change-Id: I3cc993c34aae4a108037ce81709b71d16ece814e Reviewed-on: https://chromium-review.googlesource.com/301580 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move sampler validation to the GL layer.  This previously was D3D-only but is required for every draw call. This completes the work of removing the D3D-specific Impl methods from ProgramImpl.  Also add several regression tests to cover texture and sampler validation.  BUG=angleproject:1123  Change-Id: I167cbc8f47b4a397d2ae6cc507bdac35168bcacd Reviewed-on: https://chromium-review.googlesource.com/299400 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-add the GERRIT_HOST and GERRIT_PORT codereview settings.  Some users get 404s when running 'git cl upload' because gclient attempts to upload as a reitveld patch.  Change-Id: I8fb5a46480f91489a05fbff918a106312cf0118c Reviewed-on: https://chromium-review.googlesource.com/301474 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support parsing defined operator generated by macro expansion  dEQP tests enforce that the defined operator should be parsed even when it is generated as a result of macro expansion even though this is undefined according to the C++ preprocessor spec.  Implement support for this by putting the parsing for the defined operator inside MacroExpander. The operator gets processed right after it is generated by macro expansion. Parsing the defined operator is toggled with a boolean according to the context where MacroExpander is used.  BUG=angleproject:989 TEST=angle_unittests      dEQP-GLES3.functional.shaders.preprocessor.* - 2 tests start passing:      dEQP-GLES3.functional.shaders.preprocessor.conditional_inclusion.basic_2*  Change-Id: I780e63bd4558253657d898685d62339017564a06 Reviewed-on: https://chromium-review.googlesource.com/300970 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add WinrtWindow.cpp and WinRT version of angle_util  Change-Id: If4ff4b966f5bd388d32c72a2d1bcf9cf29e6032d Reviewed-on: https://chromium-review.googlesource.com/297308 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Update README to point to correct Win10 solution path  Change-Id: Iebff274e2bd275f8039c2a16328d15b8ef40f598, 15312978, 382, 105, 382
Update desktop projects to require VS2015, 15312978, 382, 105, 382
Fixed Shader error involving Vertex/Pixel Shader linkage signatures between stages being incompatible when glPointCoord is used without glPointSize., 15312978, 382, 105, 382
Revert "Avoid a copy in TextureStorage11::setData"  Speculative fix for performance regression.  BUG=532647  This reverts commit 9cf9bcbecaa1e54a47a92eb784e7f591f7b65c57.  Change-Id: I53e41f6c17f89c400e38bfcdf3147946c27906c0 Reviewed-on: https://chromium-review.googlesource.com/300540 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Try Sleep(1) instead of Sleep(0) while waiting for queries."  Caused significant slowdown in some chrome use cases that used glFinish or synchronous fences.  BUG=532571  This reverts commit a53000b09b012235af228f2b4f48cc9fb477a45a.  Change-Id: Id260e9ced472c409b2fa0b28b2b3dea99d412fdf Reviewed-on: https://chromium-review.googlesource.com/300491 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement missing util/ functions on Mac  SetLowPriorityProcess's implementation can be shared between Mac and Linux so even though it isn't using a Posix API it lives in the posix file. CreateOSPixmap needed to be implemented but will never be used by dEQP as our Mac EGL backend doesn't expose configs supporting pixmaps.  Reland with a Linux compilation fix (forgot to delete SetLowPriorityProcess).  BUG=angleproject:891  Change-Id: If8145501e1787d08d82402a6baa60a5404cac6b1 Reviewed-on: https://chromium-review.googlesource.com/299773 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement missing util/ functions on Mac"  This reverts commit 959e197c84065267811b0a28e1d8e4aa5f98cf82.  BUG=  Change-Id: I71ea2894c74be8fda80a59c99bc53f4fcb7e9115 Reviewed-on: https://chromium-review.googlesource.com/299873 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Adding checks in DrawBuffers to return INVALID_ENUM  When a enum is given that is not a BACK NONE or COLOR_ATTACHMENTi where i ranges from 0 to MAX_COLOR_ATTACHMENT an INVALID_ENUM should be returned rather than an INVALID_OPERATION.  BUG=angleproject:1148  Change-Id: I3663f897face14f6ba46a15fb982efda6f4f4b05 Reviewed-on: https://chromium-review.googlesource.com/299312 Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Dian Xiang <dianx@google.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Never de-init default Platform.  This fixes a crash after calling eglTerminate then using a previously initialized Display.  BUG=None  Change-Id: Ica974033d9da2ac15c07d6a39801781c2d776427 Reviewed-on: https://chromium-review.googlesource.com/299691 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Optimizing updatecachedInputLayout to not update inactive vertex attribs  BUG=angleproject:1158 part a  We only need to iterate and update the active attributes in a program. This can further be optimized by updating the cache more intelligently possibly by marking attributes as "need update" when necessary  Change-Id: I41e9c033116582c82a56b8d20ea245f06e8fa3d1 Reviewed-on: https://chromium-review.googlesource.com/299758 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement missing util/ functions on Mac  SetLowPriorityProcess's implementation can be shared between Mac and Linux so even though it isn't using a Posix API it lives in the posix file. CreateOSPixmap needed to be implemented but will never be used by dEQP as our Mac EGL backend doesn't expose configs supporting pixmaps.  BUG=angleproject:891  Change-Id: I7b53b44b3465045954ec8e5997f703525ece92d0 Reviewed-on: https://chromium-review.googlesource.com/299851 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Port gpu_test_expectations to Mac  BUG=angleproject:891  Change-Id: I06ad3b25914bc9ec4541b38a9b160983b7dcb720 Reviewed-on: https://chromium-review.googlesource.com/299850 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
ANGLE: Assert to check pointer  The assert was checking the value (which is unitialized) rather than the pointer.  Change-Id: Id8d57953b32b62739e64d88dedd26f0b15a2385f Reviewed-on: https://chromium-review.googlesource.com/299819 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Hendrik Wagenaar <hendrikw@chromium.org>, 15312978, 382, 105, 382
Generate tests.sln for WinRT and make it include dEQP projects  Change-Id: I34284965f7b4f9d11aa7bab263292d4f41312d04 Reviewed-on: https://chromium-review.googlesource.com/297307 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed rendering on FL9_3 with shaders that reference glPointSize and are not used with GL_POINTS rendering mode., 15312978, 382, 105, 382
Update to the latest versions of the GL and EGL headers.  Add GLES 3.1 and 3.2 headers.  Remove GLES 3.0 extension headers and entry point files.  Re-land fixes double define from different style defines in libGLESv2.gypi and other projects.  Re-land fixes missing defines in angle_util project in gn.  Change-Id: I1952413cd4390e6f5450df809f8f5867bf6f49e2 Reviewed-on: https://chromium-review.googlesource.com/299771 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix warning about out-of-order field initialization.  Change-Id: I38a3f93ea07c9bbd779d18bf7d3e2a5a6ee4113a Reviewed-on: https://chromium-review.googlesource.com/299772 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Revert "Update to the latest versions of the GL and EGL headers."  Issues with GN build.  This reverts commit 8284436798dd184afe61cbb586185cb68e503d6f.  Change-Id: I99d186019135bbbe250e95c9567854108d31c556 Reviewed-on: https://chromium-review.googlesource.com/299870 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use SDKROOT in the paths to OSX framework to match Chromium  BUG=angleproject:891  Change-Id: I458a12bd6b4be3b262d76184c51bde1f2b803c67 Reviewed-on: https://chromium-review.googlesource.com/299730 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove the usage of some c++11 library features  That were causing compilation error in Chromium Mac builds  BUG=angleproject:891  Change-Id: I45777451b300928e8c8d232a5b7ecffa7f1c3cbe Reviewed-on: https://chromium-review.googlesource.com/299721 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
In Chromium Mac builds do not find cstdint use stdint.h instead  BUG=angleproject:891  Change-Id: Idf2a89ad26955df3579bb2c1883137589f68f573 Reviewed-on: https://chromium-review.googlesource.com/299720 Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
IndexBufferOffsetTest: fix -Wnewline-eof for Mac  BUG=angleproject:891  Change-Id: Ic36d549d1a5ae52c49185064c2fdf60bd0074c0d Reviewed-on: https://chromium-review.googlesource.com/299723 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
OSXWindow::setMousePosition add a workaround for OSX 10.6 SDK  -[NSWindow convertRectToScreen] was introduced in OSX 10.7 use convertBaseToScreen instead for OSX 10.6  BUG=angleproject:891  Change-Id: I255a71d98bc9bf22735a7cb8b9ce1ea24061742f Reviewed-on: https://chromium-review.googlesource.com/299722 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement Pbuffers for the CGL backend using renderbuffers  The CGL pbuffers have been deprecated since OSX 10.7 but our testing requires that an EGL implementation supports pbuffers. This commit implement pbuffers on top of renderbuffer using only OpenGL.  BUG=angleproject:891  Change-Id: Ie8e09c9300a00800600c3a77044ba05205f805da Reviewed-on: https://chromium-review.googlesource.com/299442 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Avoid a copy in TextureStorage11::setData  This code always allocates a new memory buffer for the texture memory picks a load function to copy/convert the input data into it and the uploads.  In the case where the input format matches the upload format we should be able to skip the allocation and copy and be much happier.  Change-Id: I8b8c106e0d397bef1c4bcfdb0df60669030776a3 Reviewed-on: https://chromium-review.googlesource.com/293742 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
SixteenBppTextureTest: test the FBO are renderable before drawing  It is valid for the implementation to return a GL_FRAMEBUFFER_UNSUPPORTED for framebuffer completeness. Check for that case and return early. This fixes the RGB5_A1 tests on Mac that doesn't support rendering to this format.  BUG=angleproject:891  Change-Id: If37d8f82e994a93a470cbdc01d758fe60d54a5b2 Reviewed-on: https://chromium-review.googlesource.com/298863 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
EGLContextCompatTest: fix typo in WindowDifferentConfig  It was incorrectly calling the pbuffer function.  BUG=angleproject:891  Change-Id: I6959540262a8ef80886e41da795f9e4aff218535 Reviewed-on: https://chromium-review.googlesource.com/299441 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Formatutilsgl: Make floating point formats renderable on core GL 3.0  Previously they were listed as requiring ARB_color_buffer_float in all cases even if the extension has been merged in Desktop GL 3.0. Make it require Desktop GL 3.0 _or_ the extension. This fixes the PackUnpackTest and BlendMinMaxTest on Mac  BUG=angleproject:891  Change-Id: I504d9ed3ed9f1d908964181a6c21b79f1faee9b1 Reviewed-on: https://chromium-review.googlesource.com/298862 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceCGL: add a depth-stencil buffer  In our EGL config we advertise a depth-stencil buffer but do not provide it. This fixes a lot of end2end tests that were relying on the presence of the depth buffer.  BUG=angleproject:891  Change-Id: I48e0eb27753ee64c08bf51b8ec13bfe20360332d Reviewed-on: https://chromium-review.googlesource.com/298861 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Rename Optional::None to Invalid.  This fixes a name conflict with the XWindow headers on Linux. Only becomes an issue when using Optional inside GL-level libANGLE.  BUG=angleproject:1123  Change-Id: I7f0eb278a8b6eb6fecd864e556428678cb90dcea Reviewed-on: https://chromium-review.googlesource.com/298892 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Support GL_ETC1_RGB8_OES in the OpenGL renderer."  This reverts commit 20bf7034533fbd9ff57296c5f9a5b1b9e06059db.  Broke GL2ExtensionTests_compressed_etc1_rgb8_texture_input_run on win bots  Change-Id: I2b48aac1512d916671d41e03f0409c404d6d7c88 Reviewed-on: https://chromium-review.googlesource.com/299429 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Support GL_ETC1_RGB8_OES in the OpenGL renderer.  Passes all dEQP tests related to etc1.  Change-Id: I33f37c44396899d87e9ef19bd7a6e2b2482d232a Reviewed-on: https://chromium-review.googlesource.com/299342 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update to the latest versions of the GL and EGL headers.  Add GLES 3.1 and 3.2 headers.  Remove GLES 3.0 extension headers and entry point files.  Re-land fixes double define from different style defines in libGLESv2.gypi and other projects.  Change-Id: I6204dc767bd83b7aa7e4d6e2fa338b2ce7f304d8 Reviewed-on: https://chromium-review.googlesource.com/299401 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Update to the latest versions of the GL and EGL headers."  Linux compile failures to do gyp defines.  This reverts commit 8bbeabc1795473f7b3141219be3970fea3b95a71.  Change-Id: Icb31dd817414b3a9ab36e88cedab9c725af26b6b Reviewed-on: https://chromium-review.googlesource.com/299173 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Support GL_ETC1_RGB8_OES in the OpenGL renderer."  Failing some ES2 dEQP tests.  This reverts commit 4aba0b90ec3d2dcd550ed4111f5739191f022028.  Change-Id: Ie39055872d25bce0f387e9e983ebab648c0493f0 Reviewed-on: https://chromium-review.googlesource.com/298972 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update to the latest versions of the GL and EGL headers.  Add GLES 3.1 and 3.2 headers.  Remove GLES 3.0 extension headers and entry point files.  Change-Id: Icaa444efa52f3b9d1497189da92bc364545a6e3a Reviewed-on: https://chromium-review.googlesource.com/299172 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Default test window size to 16x16.  This fixes a crash on Linux whenever we try to create a test without specifying a default width and height. Did not seem to have a problem on Windows.  TEST=angle_end2end_tests (Windows/Linux) BUG=angleproject:1123  Change-Id: I1afcea9e833208d8a67d363678b9736c2a222066 Reviewed-on: https://chromium-review.googlesource.com/298835 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Update to the latest versions of the GL and EGL headers."  Broke the Clang compile.  In file included from ../../third_party/angle/include/GLSLANG/ShaderLang.h:28: ../../third_party/angle/include/KHR/khrplatform.h:282:30: error: no newline at end of file [-Werror-Wnewline-eof] #endif /* __khrplatform_h_ */  Several other similar errors.  BUG=None  This reverts commit aac2035d851fc92b159dc8e01cfd2ebb86e99e4a.  Change-Id: I407e7e65bb6a46d1d941c54cdf14a14758e22d96 Reviewed-on: https://chromium-review.googlesource.com/298834 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use a offline texture to simulate reading back buffer., 15312978, 382, 105, 382
Support GL_ETC1_RGB8_OES in the OpenGL renderer.  Passes all dEQP tests related to etc1.  Change-Id: I3ab2d51b7664cb2411fdc3247ff65a9e3258185a Reviewed-on: https://chromium-review.googlesource.com/299340 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update to the latest versions of the GL and EGL headers.  Add GLES 3.1 and 3.2 headers.  Remove GLES 3.0 extension headers and entry point files.  Change-Id: I8e9df6262dc1b2536a409c5791734e4a4d63b115 Reviewed-on: https://chromium-review.googlesource.com/299341 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re-land "Added support for premultiplied alpha mode for composition swapchains"  Change-Id: Ic0c863c3d4936947fc520a5394e38e458659df46 Reviewed-on: https://chromium-review.googlesource.com/298880 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re^6-land "Move Uniform and UBO info to the gl::Program layer."  This data was previously stored entirely in the Impl level. Move as much as possible to the GL level using a read-only view in the Impl level. Some information in D3D-specific and should be stored separately in the Impl.  This patch has a lot of refactoring that splits the D3D and GL info and moves as much validation as possible to the GL layer where it is shared between the back-ends.  Re-land with fix for dEQP unused uniforms. The fix involves storing a local copy of all uniform data in the GL layer. This will also let us validate sampler indexes during draw calls at the GL layer.  Re-re-land with a fix for multiply defined symbols on Clang.  Re-re-re-land with a fix for boolean uniforms and Uniform{1234}f.  Re^4-land with a fix for boolean uniform arrays and UBO uniforms.  Re^5-land with a fix for a test warning on Linux.  Re^6-land with a fix for transposed matrix uniform arrays.  BUG=angleproject:1123 TEST=end2end_tests bots dEQP GLES3.ubo and GLES2.uniform_api  Change-Id: Ie6fcde1c16eb05d67191b629338b88302a2563f5 Reviewed-on: https://chromium-review.googlesource.com/298971 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Re^5-land "Move Uniform and UBO info to the gl::Program layer.""  Failing dEQP-GLES3.functional.uniform_api.random.22 and 23: There's a bug with arrays of tranpsosed matrix uniforms.  BUG=angleproject:1123  This reverts commit 78d356929bd0441d81e2dd8a63130cd6788e2fde.  Change-Id: If39b5908af39671dfe98965e6a1ba77fd18ea8fc Reviewed-on: https://chromium-review.googlesource.com/299320 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Call the correct vertex attrib function for stream integer attribs.  Fixes tests related to integer attributes in dEQP-GLES3.functional.shaders.builtin_functions.*  BUG=angleproject:880  Change-Id: I107c5c9fd1adc29f58617fab095374daa74a0da1 Reviewed-on: https://chromium-review.googlesource.com/298970 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement EGL image classes for the D3D renderers.  BUG=angleproject:970  Change-Id: I24d393fcd75dd4ee510785e8475b093868701c77 Reviewed-on: https://chromium-review.googlesource.com/295152 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re^5-land "Move Uniform and UBO info to the gl::Program layer."  This data was previously stored entirely in the Impl level. Move as much as possible to the GL level using a read-only view in the Impl level. Some information in D3D-specific and should be stored separately in the Impl.  This patch has a lot of refactoring that splits the D3D and GL info and moves as much validation as possible to the GL layer where it is shared between the back-ends.  Re-land with fix for dEQP unused uniforms. The fix involves storing a local copy of all uniform data in the GL layer. This will also let us validate sampler indexes during draw calls at the GL layer.  Re-re-land with a fix for multiply defined symbols on Clang.  Re-re-re-land with a fix for boolean uniforms and Uniform{1234}f.  Re^4-land with a fix for boolean uniform arrays and UBO uniforms.  Re^5-land with a fix for a test warning on Linux.  BUG=angleproject:1123 TEST=end2end_tests bots dEQP GLES3.ubo and GLES2.uniform_api  Change-Id: I03afcd446d9e74573c4d4c712ed7407b91d8001c Reviewed-on: https://chromium-review.googlesource.com/299180 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Re^4-land "Move Uniform and UBO info to the gl::Program layer.""  Test has a warning on Linux:  In file included from ../../third_party/angle/src/tests/test_utils/ANGLETest.h:13: ../../testing/gtest/include/gtest/gtest.h:1392:16: error: comparison of integers of different signs: 'const int' and 'const unsigned int' [-Werror-Wsign-compare]   if (expected == actual) {       ~~~~~~~~ ^  ~~~~~~ ../../testing/gtest/include/gtest/gtest.h:1422:12: note: in instantiation of function template specialization 'testing::internal::CmpHelperEQ<int unsigned int>' requested here     return CmpHelperEQ(expected_expression actual_expression expected            ^ ../../third_party/angle/src/tests/gl_tests/UniformBufferTest.cpp:357:5: note: in instantiation of function template specialization 'testing::internal::EqHelper<false>::Compare<int unsigned int>' requested here     EXPECT_EQ(GL_FLOAT type);     ^  BUG=angleproject:1123  This reverts commit 2ae1ee6161c24aab065190b1528f6195e80e34d0.  Change-Id: Ic3dabea54068377d1f2c5f722ba52966cf1a0491 Reviewed-on: https://chromium-review.googlesource.com/299170 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re^4-land "Move Uniform and UBO info to the gl::Program layer."  This data was previously stored entirely in the Impl level. Move as much as possible to the GL level using a read-only view in the Impl level. Some information in D3D-specific and should be stored separately in the Impl.  This patch has a lot of refactoring that splits the D3D and GL info and moves as much validation as possible to the GL layer where it is shared between the back-ends.  Re-land with fix for dEQP unused uniforms. The fix involves storing a local copy of all uniform data in the GL layer. This will also let us validate sampler indexes during draw calls at the GL layer.  Re-re-land with a fix for multiply defined symbols on Clang.  Re-re-re-land with a fix for boolean uniforms and Uniform{1234}f.  Re^4-land with a fix for boolean uniform arrays and UBO uniforms.  BUG=angleproject:1123 TEST=end2end_tests bots dEQP GLES3.ubo and GLES2.uniform_api  Change-Id: I4c9f5ed31b81380507bef7981f97086d642801ae Reviewed-on: https://chromium-review.googlesource.com/298451 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Adding in checks for program and shader names to return INVALID_OPERATION  When a valid program is given instead of a shader an INVALID_OPERATION is returned rather than INVALID_VALUE when a shader related function is called. The reverse happens when a program related function is called and a valid shader program is given to it.  This commit also refactors other places that requires a similar check to use the same validation function and error message.  BUG=angleproject:1029 dEQP-GLES2.functional.negative_api.state.get_shader_info_log dEQP-GLES2.functional.negative_api.state.get_shader_source dEQP-GLES2.functional.negative_api.state.get_programiv dEQP-GLES2.functional.negative_api.state.get_program_info_log  BUG=angleproject:1101 dEQP-GLES3.functional.negative_api.state.get_shader_info_log dEQP-GLES3.functional.negative_api.state.get_shader_source dEQP-GLES3.functional.negative_api.state.get_programiv dEQP-GLES3.functional.negative_api.state.get_program_info_log  Change-Id: I707b6ba10da0288128af185ce8dfb906fca0f766 Reviewed-on: https://chromium-review.googlesource.com/298604 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
Work around depth texture sampling differences in GL versions.  ES3 requires that only the red channel has data when sampling from depth textures while desktop GL treats them as luminance textures.  Set the swizzle state of the texture to sample 0 from the blue and green channels in TextureGL.  Passes 75 new tests in dEQP-GLES3.functional.texture.format and dEQP-GLES3.functional.texture.specification.  BUG=angleproject:884  Change-Id: I863472961dcbbf8af864f5e1d85a4aea41f47bda Reviewed-on: https://chromium-review.googlesource.com/298481 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix the named parameter for the IndexConversion perftest  It seems that the compiler didn't resolve the overloaded operator<< with the structure's grandparent structure. Fix it by explicitely casting to the grandparent before calling operator<<. Also provides slightly more information on the number of iterations/triangles.  This wasn't caught with local testing as IndexConversion isn't compiled in angle_perftests on Linux.  BUG=angleproject:1153 BUG=530226  Change-Id: Ifa602eb0728d052bc651f0dd030f9f880c00dc51 Reviewed-on: https://chromium-review.googlesource.com/298860 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Added support for premultiplied alpha mode for composition swapchains"  Unused member warning:  ..\..\third_party\angle\src\libANGLE/renderer/d3d/d3d11/NativeWindow.h(6824) :  error: private field 'mConfig' is not used [-Werror-Wunused-private-field]     const egl::Config *mConfig;                        ^ BUG=None  This reverts commit 9823337204555935804985c5b93a38adc69cb681.  Change-Id: I8ed41770eb3fe70ab7e32ba9a0860e2c397e22c5 Reviewed-on: https://chromium-review.googlesource.com/298830 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement a minimal EGL -> CGL backend  This succesfully renders HelloTriangle and some samples but fails on a lot of tests. In particular it doesn't handle resizing the window and doesn't have depth or stencil buffers.  BUG=angleproject:891  Change-Id: I16356471b470f764acb38e8dd3589e9c0129829d Reviewed-on: https://chromium-review.googlesource.com/290770 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Returning INVALID_OPERATION when a valid program is passed to getShaderiv  BUG=angleproject:1147  Change-Id: I7f3e77f8f5f55887fe03172eadce78129ffeb10f Reviewed-on: https://chromium-review.googlesource.com/298064 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tryjob-Request: Dian Xiang <dianx@google.com> Tested-by: Dian Xiang <dianx@google.com>, 15312978, 382, 105, 382
win clang build fix  BUG= TEST=win clang bots build  Change-Id: I802be2e72a884e50cf13120d3cd9c76a8f8eb86f Reviewed-on: https://chromium-review.googlesource.com/298253 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support ETC2 texture formats with RendererGL.  400 tests in dEQP-GLES3.functional.texture go from unsupported to passing.  BUG=angleproject:884  Change-Id: I51927dffbc5931c7d1b80e72f55c620197736724 Reviewed-on: https://chromium-review.googlesource.com/298484 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add LUMA format entries into the tables in formatutilsgl.  BUG=angleproject:884  Change-Id: Ie4f378bc18cda57a91c16832c33f0ddc81f9c105 Reviewed-on: https://chromium-review.googlesource.com/298483 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pass the texture unit to TextureGL::syncSamplerState.  When syncing the texture's sampler state make sure the correct texture unit is active.  When StateManagerGL syncs the textures it may not set the active texture if the texture ID has not changed.  BUG=angleproject:884 BUG=angleproject:883 BUG=angleproject:1051  Change-Id: Ib22874c22a12b1b9bd68887ac5a449c507e7bdc6 Reviewed-on: https://chromium-review.googlesource.com/298482 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't sync the multisample state in StateManagerGL.  GL_MULTISAMPLE is not a real state in GLES but existed for the D3D renderers to sync the rasterizer state more easily.  Instead of syncing it in StateManagerGL rely on the default value of GL_TRUE in Desktop GL.  All tests in dEQP-GLES3.functional.multisample.* now pass.  BUG=angleproject:885 BUG=angleproject:883  Change-Id: Idbe5fbc1b43a6e66008fe87da41601277dbe7311 Reviewed-on: https://chromium-review.googlesource.com/298441 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Re-re-re-land "Move Uniform and UBO info to the gl::Program layer.""  Seems to be failing the dEQP-GLES2.functional.uniform_api tests relating to boolean arrays.  BUG=angleproject:1123  This reverts commit 892a6a4b17b35e89898be8b4605c1ee595d3ae13.  Change-Id: Ifc4ce3ca806ef88a02ac6f693334ac37ce098a88 Reviewed-on: https://chromium-review.googlesource.com/298520 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-re-re-land "Move Uniform and UBO info to the gl::Program layer."  This data was previously stored entirely in the Impl level. Move as much as possible to the GL level using a read-only view in the Impl level. Some information in D3D-specific and should be stored separately in the Impl.  This patch has a lot of refactoring that splits the D3D and GL info and moves as much validation as possible to the GL layer where it is shared between the back-ends.  Re-land with fix for dEQP unused uniforms. The fix involves storing a local copy of all uniform data in the GL layer. This will also let us validate sampler indexes during draw calls at the GL layer.  Re-re-land with a fix for multiply defined symbols on Clang.  Re-re-re-land with a fix for boolean uniforms and Uniform{1234}f.  BUG=angleproject:1123 TEST=end2end_testsCanary WebGL (D3D11/GL) dEQP-GLES2+3.functional.uniform_api  Change-Id: Ia40820a5ce2f34ec2d27648b1dc940a8955e9999 Reviewed-on: https://chromium-review.googlesource.com/298440 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix compilation on Mac  BUG=angleproject:891  Change-Id: I2b787778268e8c29f0cf36d91520a04e92208f6f Reviewed-on: https://chromium-review.googlesource.com/298030 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Suppress two failing end2end_tests on Intel.  The UniformTest suppression we can work around with a patch to handle GetUniform queries entirely in ANGLE. The suppression for BlendMinMax is a long-standing failure for an unknown reason.  BUG=angleproject:809  Change-Id: Ib89af1579a74dc5065f169b31307678429724a7c Reviewed-on: https://chromium-review.googlesource.com/298450 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix preprocessor macro replacement list location  According to the dEQP tests a macro replacement list generated by a function-like macro invocation should get its location from the closing parenthesis of the invocation. The tests check this by using __LINE__ in a macro with a multi-line invocation. It's not quite clear from the spec that the enforced behavior is expected as opposed to the replacement list getting its location from the macro name but a minor correction to the preprocessor makes the dEQP tests pass.  Newlines in the preprocessor unit tests are generated according to the source locations in the token list produced by the preprocessor so the expectations of a few tests also need to be updated.  BUG=angleproject:989 TEST=dEQP-GLES3.functional.shaders.preprocessor.predefined_macros.*      (2 start passing with this change)      angle_unittests  Change-Id: I4cc9da09bd0985310a05ebf6def680916a46308a Reviewed-on: https://chromium-review.googlesource.com/297990 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Don't split the file into two chunks in shader_translator  Splitting the file into two strings in shader_translator complicated testing line/file numbering related functionality with it since each chunk passed to ShCompile has its own file number and line numbering. These are exposed to the preprocessor in __FILE__ and __LINE__ predefined macros.  Just supply the file to ShCompile in a single string. Also since the original motivation for splitting the string seems to have been to exercise ShCompile with multiple strings add a new unit test that ensures that ShCompile handles multiple strings as expected.  BUG=angleproject:989 TEST=angle_unittests  Change-Id: I31d24925ec85ca3411e537df25a985f09737403e Reviewed-on: https://chromium-review.googlesource.com/297251 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Re-re-land "Move Uniform and UBO info to the gl::Program layer.""  Failes the gles2_conform_test:  GLES2ConformTest.GL2Tests_glGetUniform_input_run  Possibly also WebGL failures will investigate.  BUG=angleproject:1123  This reverts commit 10750cb936288d8dd09d49fadd592904c06c56f9.  Change-Id: I1ae59325e1831589019bc5a27ffc2091d3994a65 Reviewed-on: https://chromium-review.googlesource.com/298200 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-re-land "Move Uniform and UBO info to the gl::Program layer."  This data was previously stored entirely in the Impl level. Move as much as possible to the GL level using a read-only view in the Impl level. Some information in D3D-specific and should be stored separately in the Impl.  This patch has a lot of refactoring that splits the D3D and GL info and moves as much validation as possible to the GL layer where it is shared between the back-ends.  Re-land with fix for dEQP unused uniforms. The fix involves storing a local copy of all uniform data in the GL layer. This will also let us validate sampler indexes during draw calls at the GL layer.  Re-re-land with a fix for multiply defined symbols on Clang.  BUG=angleproject:1123 TEST=end2end_testsCanary WebGL (D3D11/GL) dEQP-GLES2+3.functional.uniform_api  Change-Id: I7b55e4964fbe64e0106c37928c894146937a2476 Reviewed-on: https://chromium-review.googlesource.com/298110 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Re-land "Move Uniform and UBO info to the gl::Program layer.""  Problems with multiply defined symbols in the Linux builder.  BUG=angleproject:1123  This reverts commit ff1abe63c3d8af28e9755c8d0c95b2aeca27a0d9.  Change-Id: Ifcb2ad885d0841c128ffd69afb6594e37eba17fc Reviewed-on: https://chromium-review.googlesource.com/298100 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "Move Uniform and UBO info to the gl::Program layer."  This data was previously stored entirely in the Impl level. Move as much as possible to the GL level using a read-only view in the Impl level. Some information in D3D-specific and should be stored separately in the Impl.  This patch has a lot of refactoring that splits the D3D and GL info and moves as much validation as possible to the GL layer where it is shared between the back-ends.  Re-land with fix for dEQP unused uniforms. The fix involves storing a local copy of all uniform data in the GL layer. This will also let us validate sampler indexes during draw calls at the GL layer.  BUG=angleproject:1123 TEST=end2end_testsCanary WebGL (D3D11/GL) dEQP-GLES2+3.functional.uniform_api  Change-Id: I9074c057c2c67d4d3221ec11c5556a26e07c7ceb Reviewed-on: https://chromium-review.googlesource.com/297070 Tryjob-Request: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Set seamless cubemap filtering in StateManagerGL.  Cubemap filtering is supposed to be seamless for ES3+ contexts.  Fixes 298 failures in dEQP-GLES3.functional.texture mostly in dEQP-GLES3.functional.texture.filtering and dEQP-GLES3.functional.texture.shadow.  BUG=angleproject:986 BUG=angleproject:1149  Change-Id: I6054365086bb3b9d9b085c260f88e2c43eb75bfe Reviewed-on: https://chromium-review.googlesource.com/296966 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added support for premultiplied alpha mode for composition swapchains  Change-Id: Iee1d327a03469d7daf6cc412709c0a36e1c83e32 Reviewed-on: https://chromium-review.googlesource.com/296721 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com> Tryjob-Request: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use named value-parameterized tests for angle_end2end_tests  This replace the non-descriptive digit at the end of the test name by the name of the configuration being tested.  Reland with a fix for gtest initialization on Windows caused by ProgramBinaryTest having the same parameter name twice.  BUG=angleproject:1153  Change-Id: I9b0f661a535b760793d9d87ef0c8298f6b83830d Reviewed-on: https://chromium-review.googlesource.com/297701 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Mark GL_RGB10_A2UI as a renderable format.  dEQP-GLES3.functional.fbo.color.tex3d.rgb10_a2ui was already failing but because the framebuffer was marked as unsupported dEQP considers the test to be passing.  BUG=angleproject:1149 BUG=angleproject:1097  Change-Id: I82223e8e927d1fd6d66f75b5fdea7989c92d706d Reviewed-on: https://chromium-review.googlesource.com/298031 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't evaluate short-circuited preprocessor expressions  Resubmit with clang build issue fixed. The result of a short-circuited operation is now either 0 or 1.  ESSL 3.00 spec section 3.4 mentions that the second operand in a logical && or || preprocessor operation is evaluated only if the first operand doesn't short-circuit the expression. The non-evaluated part of a preprocessor expression may also have undefined identifiers.  Make the expression parser follow the spec by ignoring errors that are generated inside short-circuited expressions. This includes undefined identifiers and divide by zero.  BUG=angleproject:347 TEST=dEQP-GLES3.functional.shaders.preprocessor.undefined_identifiers.*      angle_unittests  Change-Id: I4163f96ec46d40ac859ffb39d91b89490041e44d Reviewed-on: https://chromium-review.googlesource.com/297252 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Don't evaluate short-circuited preprocessor expressions"  Build break on Clang:  FAILED: /b/build/goma/gomacc ../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -MF obj/third_party/angle/src/compiler/preprocessor/preprocessor.ExpressionParser.o.d -DV8_DEPRECATION_WARNINGS -DCLD_VERSION=2 -D__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE=0 -DCHROMIUM_BUILD -DCR_CLANG_REVISION=245965-1 -DUSE_LIBJPEG_TURBO=1 -DENABLE_ONE_CLICK_SIGNIN -DENABLE_PRE_SYNC_BACKUP -DENABLE_WEBRTC=1 -DENABLE_MEDIA_ROUTER=1 -DUSE_PROPRIETARY_CODECS -DENABLE_PEPPER_CDMS -DENABLE_CONFIGURATION_POLICY -DENABLE_NOTIFICATIONS -DENABLE_HIDPI=1 -DSYSTEM_NATIVELY_SIGNALS_MEMORY_PRESSURE -DDONT_EMBED_BUILD_METADATA -DDCHECK_ALWAYS_ON=1 -DFIELDTRIAL_TESTING_ENABLED -DENABLE_TASK_MANAGER=1 -DENABLE_EXTENSIONS=1 -DENABLE_PDF=1 -DENABLE_PLUGIN_INSTALLATION=1 -DENABLE_PLUGINS=1 -DENABLE_SESSION_SERVICE=1 -DENABLE_THEMES=1 -DENABLE_AUTOFILL_DIALOG=1 -DENABLE_BACKGROUND=1 -DENABLE_GOOGLE_NOW=1 -DENABLE_PRINTING=1 -DENABLE_BASIC_PRINTING=1 -DENABLE_PRINT_PREVIEW=1 -DENABLE_SPELLCHECK=1 -DUSE_BROWSER_SPELLCHECKER=1 -DENABLE_CAPTIVE_PORTAL_DETECTION=1 -DENABLE_APP_LIST=1 -DENABLE_SETTINGS_APP=1 -DENABLE_SUPERVISED_USERS=1 -DENABLE_SERVICE_DISCOVERY=1 -DENABLE_WIFI_BOOTSTRAPPING=1 -DV8_USE_EXTERNAL_STARTUP_DATA -DFULL_SAFE_BROWSING -DSAFE_BROWSING_CSD -DSAFE_BROWSING_DB_LOCAL -DSAFE_BROWSING_SERVICE -DUSE_LIBPCI=1 -DUSE_OPENSSL=1 -DNDEBUG -DNVALGRIND -DDYNAMIC_ANNOTATIONS_ENABLED=0 -Igen -isysroot /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk -O2 -gdwarf-2 -fvisibility=hidden -Werror -Wnewline-eof -mmacosx-version-min=10.6 -arch x86_64 -Wendif-labels -Wno-unused-parameter -Wno-missing-field-initializers -Wno-selector-type-mismatch -Wpartial-availability -Wheader-hygiene -Wno-char-subscripts -Wno-unneeded-internal-declaration -Wno-covered-switch-default -Wstring-conversion -Wno-c++11-narrowing -Wno-deprecated-register -Wno-inconsistent-missing-override -Wno-shift-negative-value -Wno-unused-function -Wno-unused-variable -std=c++11 -fno-rtti -fno-exceptions -fvisibility-inlines-hidden -fno-threadsafe-statics -Xclang -load -Xclang /b/build/slave/GPU_Mac_Builder/build/src/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.dylib -Xclang -add-plugin -Xclang find-bad-constructs -Xclang -plugin-arg-find-bad-constructs -Xclang check-templates -fcolor-diagnostics -fno-strict-aliasing  -c ../../third_party/angle/src/compiler/preprocessor/ExpressionParser.cpp -o obj/third_party/angle/src/compiler/preprocessor/preprocessor.ExpressionParser.o ../../third_party/angle/src/compiler/preprocessor/ExpressionParser.cpp:1372:35: error: use of logical '||' with constant operand [-Werror-Wconstant-logical-operand]             (yyval) = (yyvsp[-3]) || 0;                                   ^  ~ ../../third_party/angle/src/compiler/preprocessor/ExpressionParser.cpp:1372:35: note: use '|' for a bitwise operation             (yyval) = (yyvsp[-3]) || 0;                                   ^~                                   | ../../third_party/angle/src/compiler/preprocessor/ExpressionParser.cpp:1406:35: error: use of logical '&&' with constant operand [-Werror-Wconstant-logical-operand]             (yyval) = (yyvsp[-3]) && 0;                                   ^  ~ ../../third_party/angle/src/compiler/preprocessor/ExpressionParser.cpp:1406:35: note: use '&' for a bitwise operation             (yyval) = (yyvsp[-3]) && 0;                                   ^~                                   & ../../third_party/angle/src/compiler/preprocessor/ExpressionParser.cpp:1406:35: note: remove constant to silence this warning             (yyval) = (yyvsp[-3]) && 0;                                  ~^~~~  BUG=angleproject:347  This reverts commit 6ffe613518482b966b913013c51221ce06ca7c33.  Change-Id: I6d81666cca573f320bfb1164a6c794b6f75f7463 Reviewed-on: https://chromium-review.googlesource.com/298020 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Mark GL_RGB10_A2UI as a renderable format."  Fails the dEQP test:  dEQP-GLES3.functional.fbo.color.tex3d.rgb10_a2ui  BUG=angleproject:1149  This reverts commit d0f9fdc772d0b286a50978f4a16c94e2af3dfee7.  Change-Id: I5b76255be3fc1f0734395dac609e2949fc8c8185 Reviewed-on: https://chromium-review.googlesource.com/298010 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't evaluate short-circuited preprocessor expressions  ESSL 3.00 spec section 3.4 mentions that the second operand in a logical && or || preprocessor operation is evaluated only if the first operand doesn't short-circuit the expression. The non-evaluated part of a preprocessor expression may also have undefined identifiers.  Make the expression parser follow the spec by ignoring errors that are generated inside short-circuited expressions. This includes undefined identifiers and divide by zero.  BUG=angleproject:347 TEST=dEQP-GLES3.functional.shaders.preprocessor.undefined_identifiers.*      angle_unittests  Change-Id: Ieed02a71298af838f784a5d1197d4f4a9ba0e3c8 Reviewed-on: https://chromium-review.googlesource.com/295033 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Suppress failing Uniform test on AMD.  This test exposes a driver bug in state query where the AMD driver does not cast state values correctly. Suppress this for now but we can quickly turn it on with the Uniforms refactor which does all of the necessary state retrieval within ANGLE without consulting the driver.  BUG=angleproject:1123  Change-Id: I5c1f1c16e3a59582267de3365e388ffef4d57467 Reviewed-on: https://chromium-review.googlesource.com/296667 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Always rebind backbuffer RTV when render-to-backbuffer is active, 15312978, 382, 105, 382
In D3D cache static vertex buffers to prevent wasteful recreation  BUG=angleproject:197  Change-Id: I66cd10609b2edbcf12b99530eafe1727511fe515, 15312978, 382, 105, 382
Regenerate projects after the latest merge, 15312978, 382, 105, 382
Fix D3D9 reserved uniform vectors issue, 15312978, 382, 105, 382
Merge branch 'google/master' into ms-master, 15312978, 382, 105, 382
Fix GetUniform rounding in D3D. Also add a test.  The test will help cover a bug that I found when doing the refactor of gl::Program.  BUG=angleproject:1123  Change-Id: Id353ffaffef83ad1538580ad01668c915bf9853f Reviewed-on: https://chromium-review.googlesource.com/297031 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Use named value-parameterized tests for dEQP gtests"  This reverts commit 0db7b15554f30c528a69285ec19150f36be263f7.  BUG=  Change-Id: Ia2de8268bd51d865ad87875c55cb5bfcc51e29f6 Reviewed-on: https://chromium-review.googlesource.com/297760 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Don't use the mip level to validate the 2D texture depth parameter.  BUG=angleproject:1149  Change-Id: I5dd45c99b373d480814c9fbdbe0abd419a270c89 Reviewed-on: https://chromium-review.googlesource.com/297052 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix typo when syncing GL_UNPACK_SKIP_ROWS and GL_PACK_SKIP_ROWS.  Causes crashes in the dEQP ReadPixels test.  BUG=angleproject:1149 BUG=angleproject:883  Change-Id: I090e21ebd7781ce3372b8842421e7da3e4bedbac Reviewed-on: https://chromium-review.googlesource.com/287629 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Apply the pixel pack state before ReadPixels in FramebufferGL.  This ensures that the PBO is bound because it does not have a dirty bit yet.  BUG=angleproject:1149 BUG=angleproject:885  Change-Id: Iad96abc4dec4e6ac8187975c7638dfd7f18951e7 Reviewed-on: https://chromium-review.googlesource.com/296963 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Mark GL_RGB10_A2UI as a renderable format.  BUG=angleproject:1149  Change-Id: Ia808c0d411133d135eef8e90485ba346086f012c Reviewed-on: https://chromium-review.googlesource.com/296964 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Skip deletion of null framebuffers.  It's valid to have a map entry that is null to represent a framebuffer that has been generated but never bound.  This was causing crashes after dEQP pbo tests were run during dEQP shutdown.  BUG=angleproject:1149  Change-Id: Idcedac23e5c4e17ed025b10c2939572b394d3aec Reviewed-on: https://chromium-review.googlesource.com/296962 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use named value-parameterized tests for dEQP gtests  This replace the non-descriptive digit at the end of the test name by the name of the dEQP test being run.  BUG=angleproject:1153  Change-Id: Ibc9e5fbf46ffbf3a8c783807161b2bdc63119f54 Reviewed-on: https://chromium-review.googlesource.com/296686 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Tryjob-Request: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix the vertex copy loop iterating over one too many elements.  BUG=angleproject:1149 BUG=angleproject:880  Change-Id: I2840043ded50f805afa3032fc1f0362fa91b8877 Reviewed-on: https://chromium-review.googlesource.com/297088 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Use named value-parameterized tests for angle_end2end_tests"  Causing crashes on windows.  This reverts commit dfa569e67829f891ae4481812ca7a0371c9d4e17.  Change-Id: Icbe56455d172ec92395c4f889557091f98a30240 Reviewed-on: https://chromium-review.googlesource.com/297700 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed GL_MAX_VERTEX_UNIFORM_VECTORS and GL_MAX_FRAGMENT_UNIFORM_VECTORS to report accurate maximum value.  Change-Id: Ic581e1ef0c6be2bf1ff0092b373b3c480b6fbd8a Reviewed-on: https://chromium-review.googlesource.com/294755 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com> Tryjob-Request: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove dynamic indexing of matrices and vectors in HLSL  Re-landing after fixing D3D9 specific issues.  HLSL doesn't support dynamic indexing of matrices and vectors so replace that with helper functions that unroll dynamic indexing into switch/case and static indexing.  Both the indexed vector/matrix expression and the index may have side effects and these will be evaluated correctly. If necessary index expressions that have side effects will be written to a temporary variable that will replace the index.  Besides dEQP tests this change is tested by a WebGL 2 conformance test.  In the case that a dynamic index is out-of-range the base ESSL 3.00 spec allows undefined behavior. KHR_robust_buffer_access_behavior adds the requirement that program termination should not occur and that out-of-range reads must return either a value from the active program's memory or zero and out-of-range writes should only affect the active program's memory or do nothing. This patch clamps out-of-range indices so that either the first or last item of the matrix/vector is accessed.  The code is not transformed in case the it fits within the limited subset of ESSL 1.00 given in Appendix A of the spec. If the code isn't within the restricted subset even ESSL 1.00 shaders may require this workaround.  BUG=angleproject:1116 TEST=dEQP-GLES3.functional.shaders.indexing.* (all pass after change)      WebGL 2 conformance tests (glsl3/vector-dynamic-indexing.html)  Change-Id: I66a5e5a8d7f4267da0045f1cc2ba6b0dc7eb3f5d Reviewed-on: https://chromium-review.googlesource.com/296671 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Roll GYP with updates for Windows 10 project generation"  This reverts commit 061a681dcf03b70b5b530d28a5b3d05bf9061d57., 15312978, 382, 105, 382
Revert "Fix Win10/VS2015 issues"  This reverts commit a8953ac351565c946ebd52cc7cf715d35a738757., 15312978, 382, 105, 382
Revert "Updated GYP files to include msvs_target_platform_version"  This reverts commit ba02ee4630720084880f7b821744803f8d0e6588., 15312978, 382, 105, 382
Revert "Changed d3d11 desktop renderer to use d3d9 debug annotation interfaces."  This reverts commit f646cf4cc26c772fd396de826b3d40ec95f7b594., 15312978, 382, 105, 382
Revert "Add EGLRenderSurfaceScaleProperty"  This reverts commit 70dc0459f1dcc3cef47fac66e6f8affb45952bb4., 15312978, 382, 105, 382
Revert old static buffer fix, 15312978, 382, 105, 382
Use named value-parameterized tests for angle_end2end_tests  This replace the non-descriptive digit at the end of the test name by the name of the configuration being tested.  BUG=angleproject:1153  Change-Id: Ieed08c8e5f111c079c183dd96cf3fe1cfff52f7f Reviewed-on: https://chromium-review.googlesource.com/296685 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Roll googletest 23574bf2..9855a871  BUG=angleproject:1153  Change-Id: I0b0be8133c04a3ebfed7e9ed20d7375ee5e07903 Reviewed-on: https://chromium-review.googlesource.com/296684 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Comment out UNIMPLEMENTEDs in TransformFeedbackGL.  dEQP's resetState function triggers these assertions when testing.  BUG=angleproject:1149  Change-Id: Ib6fc3acdf15cadf3ffafad8ffda4788e34f520f0 Reviewed-on: https://chromium-review.googlesource.com/297082 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support writing interface blocks in OutputGLSL.  BUG=angleproject:882 BUG=angleproject:1149  Change-Id: Iea0b1d0bc586ec9517a06793386c91890b7a5115 Reviewed-on: https://chromium-review.googlesource.com/297086 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Allow OutputGLSL to write non-square matrices.  Fixes assertion failures when ShaderGL fails to compile the generated shaders.  BUG=angleproject:882 BUG=angleproject:1149  Change-Id: Ib7c23a54bdb81852864d792f29c89644084859a3 Reviewed-on: https://chromium-review.googlesource.com/297085 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement translation of EOpIndexDirectInterfaceBlock in OutputGLSL.  BUG=angleproject:882 BUG=angleproject:1149  Change-Id: I5e0808dd3576339aa87aade3a349586d01b28f74 Reviewed-on: https://chromium-review.googlesource.com/297087 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Avoid copy of PixelUnpackState in Texture::setImage.  The ternary operator determines that the common type is the value type causing a copy of PixelUnpackState.  If PixelUnpackState::pixelBuffer is non-null then there is an assertion failure in the destructor on any call to Texture::setImage.  See:http://stackoverflow.com/a/30088030  BUG=angleproject:1149  Change-Id: I9654e65956339d6b6966ad65a98cf37ad4e00452 Reviewed-on: https://chromium-review.googlesource.com/297084 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support syncing pixel pack and unpack buffers in StateManagerGL.  BUG=angleproject:1149  Change-Id: I641693e67bf35733a591107fdd3812d0badd17f2 Reviewed-on: https://chromium-review.googlesource.com/297083 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Properly check for EGL_KHR_create_context before creating ES3 context.  Mark EGL_KHR_create_context as supported in the DisplayGLs.  BUG=angleproject:1149  Change-Id: I20671535680eb2c3b9c08205cee243b3aa5c5821 Reviewed-on: https://chromium-review.googlesource.com/297080 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Mark the pack and unpack buffer types as valid in ES3.  dEQP resetState generates a GL error and exits when trying to reset the pixel buffers after a test.  BUG=angleproject:1149  Change-Id: I133788c6c2f17074bf5bbf5cd17b63338352765f Reviewed-on: https://chromium-review.googlesource.com/297081 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only validate that color and alpha blend funcs are non-constant on D3D renderers.  BUG=angleproject:1025  Change-Id: I9c6008cc2f268bda4afa2c67e0b3d3716e77ea31 Reviewed-on: https://chromium-review.googlesource.com/296681 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Force index/loop validation on the D3D9 backend  D3D9 shader models have limited support for looping so the Appendix A index/loop limitations are necessary. This is consistent with applying the limitations on D3D9_3 feature level and lower of the D3D11 backend too.  Also when the limitations are not in place a workaround for dynamic indexing of vectors and matrices will be applied. This workaround does not work on the D3D9 backend as demonstrated with some WebGL conformance failures caused by it in Chrome on D3D9.  BUG=525188 TEST=angle_end2end_tests  Change-Id: I6411594f067f2740f55d7560427026b23b15dac7 Reviewed-on: https://chromium-review.googlesource.com/296940 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
translator: Add sh::OutputVariable type.  This replaces the dual-use of sh::Attribute which can be a bit confusing to people expecting a literal output variable.  Currently not used in Chromium so should be safe to land.  BUG=angleproject:1146  Change-Id: I436f2bc9dc4ddc3709369cb2baa344c6b13a21a2 Reviewed-on: https://chromium-review.googlesource.com/296683 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make the end2end tests compile in the GN build.  BUG=angleproject:929  Change-Id: Ifc5ad03579c3e187721842f7585f3f06b69cbf45 Reviewed-on: https://chromium-review.googlesource.com/296682 Reviewed-by: Dirk Pranke <dpranke@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Move Uniform and UBO info to the gl::Program layer."  Seems to be failing dEQP-GLES2.functional.uniform_api.value.unused_uniforms.* on Linux (possibly Win as well)  BUG=angleproject:1123  This reverts commit 54f882c9167b1aff5b3700187a2048bd886e8b17.  Change-Id: I7dbbf40aae8dd9ebd35895df0dd338a3b6b9cc96 Reviewed-on: https://chromium-review.googlesource.com/297051 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move Uniform and UBO info to the gl::Program layer.  This data was previously stored entirely in the Impl level. Move as much as possible to the GL level using a read-only view in the Impl level. Some information in D3D-specific and should be stored separately in the Impl.  This patch has a lot of refactoring that splits the D3D and GL info and moves as much validation as possible to the GL layer where it is shared between the back-ends.  BUG=angleproject:1123 TEST=end2end_testsCanary WebGL (D3D11/GL) dEQP-GLES2+3.functional.uniform_api  Change-Id: I8b7e1380a61590a46ccee646a47ffe9bda287f6b Reviewed-on: https://chromium-review.googlesource.com/295124 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Clean up interface to ProgramImpl::link.""  Should be fixed now with the fix the prior CL.  BUG=angleproject:1123  This reverts commit 63069dfc20bc34fe6962dee694953893ee6fc663.  Change-Id: Ie1826673820e3a24f9bb3e4ff5c723ac47570041 Reviewed-on: https://chromium-review.googlesource.com/297050 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Re-land "Compute packed varyings in ProgramD3D only."  Instead of storing varying information in the shader use a temporary set when linking a D3D program. This also means we won't have to modify information in the Shader object when linking a D3D program.  This completes the refactoring for PackedVaryings.  Re-land with fix for missing init of PackedVarying::vertexOnly.  BUG=angleproject:1123  Change-Id: If110809c3817d88b0370ac575d739d7385b067d9 Reviewed-on: https://chromium-review.googlesource.com/296731 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Only validate that stencil refs and masks are the same on D3D renderers.  BUG=angleproject:1025  Change-Id: If79046f9f81ad20c5f2f7296245b0cb74a4102aa Reviewed-on: https://chromium-review.googlesource.com/296680 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add back a suppression for a bot specific dEQP GLES2 failure on Windows  BUG=angleproject:1127  Change-Id: I749c2c39dfaf60d5e39a00bd7954fcb1d7e931ac Reviewed-on: https://chromium-review.googlesource.com/296960 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
ProgramBinaryTest: fix an unreachable code warning  This warning was found by the GN build on Windows: the FAIL macro contains a return which caused code after the FAIL to be unreachable.  BUG=angleproject:929  Change-Id: Id4bda39ea9f76d2b59c44391cb2de8a3bfb6947c Reviewed-on: https://chromium-review.googlesource.com/296950 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make the unittests compile in the GN build.  This changes angle_unittests.gypi to use a variable per list of files so that we can grab the list of files in conditions in BUILD.gn  BUG=angleproject:929  Change-Id: I7fc73fd84d8efc1ea545fe672b1dba1c429b317f Reviewed-on: https://chromium-review.googlesource.com/296443 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
BitSetIterator_unittest: fix an unreachable code warning  Because gtest's FAIL macro does a return MSVC complained that the update part of a range-based for loop was unreachable. Fixed this by having a boolean value set to true if we execute the loop body.  BUG=angleproject:929  Change-Id: I6c1fec7ed6cf1a3aba6f02b68c1015bee2feebfd Reviewed-on: https://chromium-review.googlesource.com/296730 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Compute packed varyings in ProgramD3D only."  Likely the cause of Windows bot failures.  BUG=angleproject:1123  This reverts commit 532061bbfb160586a06f0e47b6bbb5350e735203.  Change-Id: Ia4f0161b97bfbf2adb4cafaa5fa5484f04fad245 Reviewed-on: https://chromium-review.googlesource.com/296710 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Clean up interface to ProgramImpl::link."  Probably causing bot failures in a prior dependent patch.  BUG=angleproject:1123  This reverts commit b83592750d00ca96413575016b0e27bc9d861f58.  Change-Id: I7642c4a66b190dda49cbb16611abc893f3eb6422 Reviewed-on: https://chromium-review.googlesource.com/296700 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Change the FLATTEN heuristic to "ifs with a loop with a gradient"  This heuristic makes more sense than the previous "ifs with a discontinuous loop" as the reason we need to flatten is that we need gradients to be in branchless code.  Change the UnrollFlatten test accordingly.  Tested with:  - the WebGL CTS  - dev.miaumiau.cat/rayTracer "Skull Demo"  - THe turbulenz engine GPU particle demo  - Lots of ShaderToy Samples (inc. Volcanic Metropolis and Hierarchical    Voronoi)  - Google Maps Earth mode  - Lots of Chrome experiments  - madebyevan.com/webgl-water  BUG=524297  Change-Id: Iaa727036fffcfde3952716a1ef33b6ee0546b69d Reviewed-on: https://chromium-review.googlesource.com/296442 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Prefer glDepthRangef and glClearDepthf to the double version.  ES only has the float versions.  BUG=angleproject:1145  Change-Id: I6c96b553d20e8aa160f68fe1b3fa0200d64108a3 Reviewed-on: https://chromium-review.googlesource.com/296361 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix wrongly formatted dEQP GLES2 expectations  The formatting problem was introduced in 770f8f8658806b278f67e55ca195e022b683f9e0 and prevented the bots from running the dEQP tests.  BUG=angleproject:1143  Change-Id: I427f6472625df19111ff56685b7e70b9e9aae866 Reviewed-on: https://chromium-review.googlesource.com/295199 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make unittest #includes start from src  This is will help avoid adding many include directories for the GN build.  BUG=angleproject:929  Change-Id: If8f7e98526df3560b8e410ec86271a2da0c6889d Reviewed-on: https://chromium-review.googlesource.com/296480 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Mark TF Feedback array element capture as unsupported.  According to dEQP this is an undefined section of the spec. Mark it as unsupported for now until we can investgate if it's possible on certain platforms.  Noticed this when testing with the Program refactor.  BUG=angleproject:1123 TEST=dEQP-GLES3.functional.transform_feedback.array_element.*  Change-Id: I830dddf418e28fb4536f09500f4069def1d97b58 Reviewed-on: https://chromium-review.googlesource.com/295984 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Supress failures in RGB->L CopyTex[Sub]Image calls on Intel OpenGL.  BUG=angleproject:1113  Change-Id: Ie16a28046546fad2ff1c1af35ca67c434b9f5216 Reviewed-on: https://chromium-review.googlesource.com/296481 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement drawRangeElements in RendererGL.  BUG=angleproject:1136  Change-Id: I8b84b845da09f60bfd5e8f400da47d759f0d8f1a Reviewed-on: https://chromium-review.googlesource.com/295234 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix unsigned/signed comparison in VertexDataManager.  Affects Debug/Win32 only.  BUG=angleproject:1136  Change-Id: I29fbf06077014c313489be07ff983009afb652fd Reviewed-on: https://chromium-review.googlesource.com/296362 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up interface to ProgramImpl::link.  We no longer need to pass mutable shaders with the changed to packed varyings.  BUG=angleproject:1123  Change-Id: I0a4bbf5d770ff48e10e3de2146840d8987b1e826 Reviewed-on: https://chromium-review.googlesource.com/295194 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Compute packed varyings in ProgramD3D only.  Instead of storing varying information in the shader use a temporary set when linking a D3D program. This also means we won't have to modify information in the Shader object when linking a D3D program.  This completes the refactoring for PackedVaryings.  BUG=angleproject:1123  Change-Id: I241610e87f7d14f3e18b0d8bd84f1a3509c05dfd Reviewed-on: https://chromium-review.googlesource.com/295193 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
HLSLCompiler: fix an infinite loop when failing to compile  When compiling shaders that produce errors X3531 or X4014 even when macros is nullptr we would try the same permutation infinitely.  BUG=524297  Change-Id: Id2a26ce2a5344bff4566440342adad5031368994 Reviewed-on: https://chromium-review.googlesource.com/296441 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement the instanced draw calls in RendererGL.  BUG=angleproject:1136  Change-Id: I1167365618bdc3ca37ac0f4c60809de32c7a9d78 Reviewed-on: https://chromium-review.googlesource.com/295733 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement the instanced draw calls in RendererGL."  Causing crashes in some dEQP tests.  This reverts commit c1948415e52dbaefb0d3176b75a58a7b86bd091a.  Change-Id: Idedb32484b4f2b09090346bc4228fe536190a621 Reviewed-on: https://chromium-review.googlesource.com/296440 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix dEQP renderer selection flag in documentation.  BUG=None  Change-Id: Ibefeab05c9c9ac87263a23fd69e6725bf4998673 Reviewed-on: https://chromium-review.googlesource.com/295148 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement the instanced draw calls in RendererGL.  BUG=angleproject:1136  Change-Id: Id04e357b97c04b3843b25827f705fd802e6a68e3 Reviewed-on: https://chromium-review.googlesource.com/295233 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re-land "Fix warnings with ANGLE and VS2015."  With fix for VS2013.  BUG=None  Change-Id: I9f656efa6b540a03ce21f6b65fde0753c0d72538 Reviewed-on: https://chromium-review.googlesource.com/295157 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix warnings with ANGLE and VS2015."  Seems to break VS2013. Reverting.  This reverts commit 51e275b4dfb961b59b055655b6e3f49aae48a443.  Change-Id: I37843bf457122614007ba455f6ee751577b14604 Reviewed-on: https://chromium-review.googlesource.com/296290 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix warnings with ANGLE and VS2015.  BUG=None  Change-Id: I47b08593a38d710b59051a3107933c08c2789ca2 Reviewed-on: https://chromium-review.googlesource.com/295722 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix Chromium compilation error in VariablePack_test.cpp  BUG=  Change-Id: I59c9716774df4615da6dd412795639e055f45034 Reviewed-on: https://chromium-review.googlesource.com/295732 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add row-sharing packing tests for VariablePacker_test.cpp  Recent test failures leads to suspicion that our variable packing algorithm is buggy - turns out to be an underlying driver bug.  With the added test cases such suspicion shouldn't even arise.  BUG=angleproject:1142 TEST=angle_unittests  Change-Id: I1fb3c5c7798d9ad17668a3d633286e031da79cab Reviewed-on: https://chromium-review.googlesource.com/295901 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix missing copy rules for DEQP EGL test cases and expectations.  BUG=angleproject:1139  Change-Id: I9d58b2c0b1e6465b58b2f3d4aad4b1d3517ae3ec Reviewed-on: https://chromium-review.googlesource.com/295147 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Only update the synced parts of mAppliedAttributes.  Members such as divisor are not synced in VertexArrayGL::updateAttribPointer so assigning the whole attribute causes the divisor to not be synced.  BUG=angleproject:1136  Change-Id: I947a144f81ae67953947e363debd1d1cff78207a Reviewed-on: https://chromium-review.googlesource.com/295145 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add back suppressions for bot-specific dEQP GLES2 failures on Linux  BUG=angleproject:1143  Change-Id: I5bd1a7de7b147062f2e093a30efe4ed06eb80ec2 Reviewed-on: https://chromium-review.googlesource.com/295247 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update the Windows dEQP GLES2 test expectations  BUG=angleproject:1127  Change-Id: I6f38e5441c4a288e9c1f55fefa31d5d2f10a700c Reviewed-on: https://chromium-review.googlesource.com/295246 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
angle_unittests add forgotten VariablePacker test.  Also add a warning on top of the UnrollFlatten test that it works only when HLSL is enabled.  BUG=angleproject:1140  Change-Id: Ide961bbed70dc9ed2a604f13273e4209b1dec29b Reviewed-on: https://chromium-review.googlesource.com/295125 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add back one left out compiler test to angle_unittests  VariablePacker_test.cpp  The other one UnrollFlatten_test.cpp crashes.  BUG= TEST=angle_unittests  Change-Id: I78e6e81e9b61f2a1599a5a0601b5b76165b180de Reviewed-on: https://chromium-review.googlesource.com/295767 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Update the dEQP wiki page.  BUG=none  Change-Id: I3a3095b270ca3c199c14840f75b480e15298fa5c Reviewed-on: https://chromium-review.googlesource.com/295117 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Update the dEQP GLES2 test expectations for Linux  BUG=angleproject:1127  Change-Id: Ia5f9442ef718625ed913fe3a76301a0edea00390 Reviewed-on: https://chromium-review.googlesource.com/295720 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix preprocessor failure in string concatenation.  BUG=angleproject:1138  Change-Id: I20f3b542884fbaa2b2cccd65ceb45e54174bccc2 Reviewed-on: https://chromium-review.googlesource.com/295831 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix warning about initialization order in BlitGL.  BUG=angleproject:1113  Change-Id: I808d521ffc257c2f45badbbd462698f91def314f Reviewed-on: https://chromium-review.googlesource.com/295830 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove unused mOptimize/mDebug flags from TIntermAggregate  These flags were written but they were never read.  TEST=compile BUG=angleproject:1116  Change-Id: I41e3e89f13861ebda4828c76c753ca17c74c4358 Reviewed-on: https://chromium-review.googlesource.com/294931 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Split the Context and Renderer draw* to one per entry point.  BUG=angleproject:1136  Change-Id: Ic7ff9c23201e1fe03c5a2135be24d61cfe3d6268 Reviewed-on: https://chromium-review.googlesource.com/295232 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a warning on Linux  BUG=  Change-Id: I5c4f5df14321644d7ac42af6059400ae43d0fe4d Reviewed-on: https://chromium-review.googlesource.com/295721 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tryjob-Request: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Remove dynamic indexing of matrices and vectors in HLSL"  Seems to be failing a WebGL/ES2 CTS test in D3D9:  conformance/ogles/GL/mat3/mat3_001_to_006  BUG=angleproject:1116 BUG=525188  This reverts commit 83f3411da456faac8570892e3dd7d76edf4095e5.  Change-Id: Ic186f51240dbdd96ccab3f5470329cdc9727c618 Reviewed-on: https://chromium-review.googlesource.com/295730 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
gl::GetString check for a valid context  glGetString() without a current context could cause a null dereference for some enums. Always return nullptr when no context is bound.  BUG=angleproject:1106  Change-Id: Ic36f1adff8b2e3cd54a7b33b2e12899781feba82 Reviewed-on: https://chromium-review.googlesource.com/295142 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Context: directly delete the resource instead of also detaching  Otherwise when detaching vertex array 0 and N the following would happen:  - call Context::deleteVertexArray(0)    - call Context::detachVertexArray(0)      - call State::removeVertexArrayBinding(0)        set mVertexArray to nullptr returns true      - call State::bindVertexArray(0)        reset mVertexArray to its previous value  - call Context::deleteVertexArray(n)    - call Context::detachVertexArray(n)      - call State::removeVertexArrayBinding(n)        Incorrectly call mVertexArray->id() which is a use after free.  BUG=angleproject:1137  Change-Id: I594044fee6c90b1775a61943b15df92bf323ff2a Reviewed-on: https://chromium-review.googlesource.com/295123 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add targets that run the EGL dEQP tests.  Generates lots of assertion failures when run expectations and assertion fixes to come.  BUG=angleproject:1139  Change-Id: Ia55b4b2ca3a7844d8d9d05cb7043cd42d55b86ed Reviewed-on: https://chromium-review.googlesource.com/295243 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement EGL_KHR_get_all_proc_addresses.  BUG=angleproject:1138  Change-Id: I0dd4e1a092e889cdb9de4773162e5416ac9be65d Reviewed-on: https://chromium-review.googlesource.com/295242 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Work around deprecated LUMA formats in the core profile.  Use R and RG textures with swizzle states to emulate them. A manual blit is required when calling CopyTex[Sub]Image from a RGB[A] framebuffer to an emulated L[A] texture so that the alpha channel ends up in the correct channel of the destination texture.  Fixes the following tests when using the core profile:  * conformance/extensions/oes-texture-float.html  * conformance/extensions/oes-texture-half-float.html  * conformance/textures/misc/tex-sub-image-2d.html  * conformance/textures/misc/texture-formats-test.html  * conformance/textures/misc/texture-npot.html  BUG=angleproject:1113  Change-Id: If5540e66d9017596bd83d95ec3ede043cbcfe0d2 Reviewed-on: https://chromium-review.googlesource.com/293905 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
VertexArrayGL: fix an off by one error for indexRange for drawElements  DrawElements' range was of the form [start end] while DrawArrays' was of the form [start end) which caused an out of bound array access in the client vertex pointers.  This issue was detected while running angle_end2end_tests with AddressSanitizer.  BUG=angleproject:1137  Change-Id: Id9abddf29eaf73bacfd08d1616a999be2fe616b8 Reviewed-on: https://chromium-review.googlesource.com/295122 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove dynamic indexing of matrices and vectors in HLSL  HLSL doesn't support dynamic indexing of matrices and vectors so replace that with helper functions that unroll dynamic indexing into switch/case and static indexing.  Both the indexed vector/matrix expression and the index may have side effects and these will be evaluated correctly. If necessary index expressions that have side effects will be written to a temporary variable that will replace the index.  Besides dEQP tests this change is tested by a WebGL 2 conformance test.  In the case that a dynamic index is out-of-range the base ESSL 3.00 spec allows undefined behavior. KHR_robust_buffer_access_behavior adds the requirement that program termination should not occur and that out-of-range reads must return either a value from the active program's memory or zero and out-of-range writes should only affect the active program's memory or do nothing. This patch clamps out-of-range indices so that either the first or last item of the matrix/vector is accessed.  The code is not transformed in case the it fits within the limited subset of ESSL 1.00 given in Appendix A of the spec. If the code isn't within the restricted subset even ESSL 1.00 shaders may require this workaround.  BUG=angleproject:1116 TEST=dEQP-GLES3.functional.shaders.indexing.* (all pass after change)      WebGL 2 conformance tests (glsl3/vector-dynamic-indexing.html)  Change-Id: I024722ef4ca1e14d5ad47fdc540397e18858bed6 Reviewed-on: https://chromium-review.googlesource.com/290515 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make PackedVarying a D3D-only type.  The register assignment stuff only applies to the D3D back-end. Cleans up the GL back-ends use of PackedVarying and will lead to future cleanups relating to packing varyings.  BUG=angleproject:1123  Change-Id: Iaaa5fc03577e5b61ea6ae76ee1e15ad608037f34 Reviewed-on: https://chromium-review.googlesource.com/295190 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix debug build on Linux  Compiling an assert in Program.cpp was failing at least on GCC 4.8 because it compared unsigned size_t to zero a comparison that was always true. The C standard defines size_t as unsigned so the assert shouldn't be necessary on other platforms either.  There was already a commit on top of the patch that added the bug so it is simpler to fix the problem by changing the assert rather than reverting.  TEST=standalone debug build on Linux  Change-Id: Ifd910332a770f7360a15c31706beca740d0f289d Reviewed-on: https://chromium-review.googlesource.com/294971 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add deep copying support for typed AST nodes  Resubmit with inconsistent override warnings fixed.  Removing dynamic indexing of vectors and matrices will require copying the indexed nodes in case they are written. Any type of l-value node that doesn't have side effects may need to be copied. Add a copying function for all typed node classes so that this copying can be performed.  Private copy constructors are used to implement the deepCopy function in order to make maintenance easier. With copy constructors each subclass only needs to take care of copying its own members and not the base class members which reduces the possibility of errors. Copy constructors are disabled for all node classes that don't support deep copying by inheriting TIntermNode from angle::NonCopyable.  Assignment operator is disabled for all node classes through inheriting angle::NonCopyable. This applies also to classes that now get the private copy constructor.  Explicit copy constructor and assignment operator declarations are added to some classes which show up in node member variables to make code clearer.  BUG=angleproject:1116 TEST=angle_unittests  Change-Id: I7964976f5dac7dfd745b8c6612ca06fb01d271c4 Reviewed-on: https://chromium-review.googlesource.com/295080 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix two leaks and a delete vs delete[] reported by ASAN  BUG=angleproject:1137  Change-Id: Ic654b79aa56ae0c0a24097b85ab48f5af53ca1f7 Reviewed-on: https://chromium-review.googlesource.com/295154 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Surface: do not leak the default framebuffer  Due to the many merges and changes to 37c3979e47bf93958b426aaa31c1d65aef881b5f the default framebuffer deletion "disappeared". Add it back to the destructor of Surface.  Update Surface_unittests and remove one of the two tests as they were equivalent.  BUG=524495 BUG=angleproject:1137  Change-Id: I1309285ea00976ae2685628ea3f92731a9259718 Reviewed-on: https://chromium-review.googlesource.com/295153 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
VertexArrayGL: fix the streaming of offset non-packed strides  When the packed stride and source stride were different the streaming code path used a loop that added two times the offset for the start of the index range.  BUG=angleproject:1135  Change-Id: I6d314a1a28abec4df22f7c798c1af87a18d8b7ec Reviewed-on: https://chromium-review.googlesource.com/295225 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make output variables part of Program's shared data.  Also initialize this structure within Program instead of DynamicHLSL. This should have benefits for other back-ends. Also these variables weren't being serialized and de-serialized with the program binary which could mess up WebGL apps that use MRT.  BUG=angleproject:1123  Change-Id: Ic0dd4840f26441a1bee8527dfa178b24daf82f8a Reviewed-on: https://chromium-review.googlesource.com/294571 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make the Program's semantic index D3D-only.  This concept isn't strictly necessary for GL-side validation. Instead we can use a bitset to track active attribs and determine is a particular location is active.  BUG=angleproject:1123  Change-Id: If7a920a3071672116bafffb3368671f721723b65 Reviewed-on: https://chromium-review.googlesource.com/294570 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Try Sleep(1) instead of Sleep(0) while waiting for queries.  On a loaded machine Sleep(0) can be very slow (40+ms) while Sleep(1) is consistantly 1-2ms.  BUG=488571  Change-Id: I71de0b4cfc334a2476b7c613c103e77fe759041d Reviewed-on: https://chromium-review.googlesource.com/273183 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always collect variables when generating HLSL  HLSL output needs uniform information generated by the collectVariables() step to be able to write uniform registers.  Tested manually by compiling a shader with a uniform with shader_translator.  BUG=angleproject:1132  Change-Id: I91d19b5fa789b7b33cf76a654ffbbd17d279db01 Reviewed-on: https://chromium-review.googlesource.com/294962 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Support creating render targets of non-zero mip levels in TextureStorage9.  BUG=angleproject:970  Change-Id: I02caf1a5d15a8e32e68b63362e86e3a689dbdb5a Reviewed-on: https://chromium-review.googlesource.com/293221 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
When possible create RenderTarget9s from textures.  Unless the RenderTarget9 is backed by a texture it's not possible to sample from it.  This is required to sample from D3D9 renderbuffers when they are bound to texture targets.  BUG=angleproject:970  Change-Id: Id667a5e44c1f959609bc653a974ede5b93ec9a3e Reviewed-on: https://chromium-review.googlesource.com/293290 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Bind native GL attributes to match the locations in gl::Program.  Simplifies a lot of logic when we don't have to maintain mappings between the driver and gl-layer locations.  BUG=angleproject:882 BUG=angleproject:1123  Change-Id: Ia94257a322f768fdfa3167000a46a0715820ef4d Reviewed-on: https://chromium-review.googlesource.com/295231 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enabled loop indexing validation for fragment shaders compiled using renderers configured for FL9_3 and below.  BUG=angleproject:1130  Change-Id: I2b5d7091c394565354b14fbf9297276dce8d92a5 Reviewed-on: https://chromium-review.googlesource.com/294733 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
gpu_test_expectations: Fix a -Wheader-hygiene  Reland with a fix for the compilation on Windows. Rereland with a fix for the Chromium compilation on Windowds.  Our angle_config.h was using "using namespace" in a header as a way to import symbols to shim Chromium's base. This patch changes this to import each function separately using "using".  This patch will allow our gpu_test_expectations to compile inside Chromium on Linux.  BUG=angleproject:1127  Change-Id: Iefb9e253e278fa766a11e50fc6a69eceb2e81dd9 Reviewed-on: https://chromium-review.googlesource.com/295192 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Track local dirty state in StateManagerGL.  Make the state setting functions of StateManagerGL public.  BUG=angleproject:1113  Change-Id: Ic435c06ece24064a2f2403119fa30309aba37608 Reviewed-on: https://chromium-review.googlesource.com/295240 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re-land "Move shader attributes into Program shared data."  Re-land with a fix for a warning in 32-bit Windows.  Making the Program own the attribs and the Impl only see a read-only copy cleans up the Impl object. It also allows us to more cleanly isolate certain coded into D3D.  BUG=angleproject:1123  Change-Id: I73bda4b6d9e675d87d087d44757c598437d607f2 Reviewed-on: https://chromium-review.googlesource.com/295191 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Move shader attributes into Program shared data."  Once again a signed/unsigned mismatch warning in 32-bit.  src\libangle\renderer\gl\programgl.cpp(190) : warning C4018: '<' : signed/unsigned mismatch  BUG=angleproject:1123 This reverts commit 2d7731838722a53102e5086dba445e37f6e98d7e.  Change-Id: Icd26906ead1eaa06b4bd3ff7fc2b10bef4f46022 Reviewed-on: https://chromium-review.googlesource.com/295241 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move shader attributes into Program shared data.  Making the Program own the attribs and the Impl only see a read-only copy cleans up the Impl object. It also allows us to more cleanly isolate certain coded into D3D.  BUG=angleproject:1123  Change-Id: I469051eb066fc56e55282affa2d5398b394ab8d2 Reviewed-on: https://chromium-review.googlesource.com/293826 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "gpu_test_expectations: Fix a -Wheader-hygiene"  When building in Chromium on Windows we got a symbol clash for base::SysInfo::OperatingSystemVersionNumbers  This reverts commit d2eaa37d77cecde113267fd0fb66697f9b5dfe09.  BUG=  Change-Id: Icffa01a26368cecc9eb3c2ada8bf41143bd3c50a Reviewed-on: https://chromium-review.googlesource.com/295230 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clean up Program::validate.  This method should really be an Impl method since it corresponds to a specific OpenGL call. Making it an Impl method also allows us to remove applyUniforms which doesn't correspond to a GL call.  BUG=angleproject:1123  Change-Id: I2abee3cfaa7393cad44566782d51ed701e84846b Reviewed-on: https://chromium-review.googlesource.com/293825 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move UBO bindings into Program shared state.  Sharing the bindings with the Impl (read-only) allows us to clean out the applyUniformBuffers method from the Impl class and make it D3D- only.  BUG=angleproject:1123  Change-Id: Icb51a90cb227bbbdd83319ea308b68aa1c4c325e Reviewed-on: https://chromium-review.googlesource.com/293824 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make more Program sampler methods D3D-only.  Several of these methods that deal with the sampler mapping can be made D3D-only quite simply by casting to ProgramD3D in the Renderer.  BUG=angleproject:1123  Change-Id: Ia6648d26744f9aa69a4a0facb356209df471fa7b Reviewed-on: https://chromium-review.googlesource.com/293823 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
gpu_test_expectations: Fix a -Wheader-hygiene  Reland with a fix for the compilation on Windows.  Our angle_config.h was using "using namespace" in a header as a way to import symbols to shim Chromium's base. This patch changes this to import each function separately using "using".  This patch will allow our gpu_test_expectations to compile inside Chromium on Linux.  BUG=angleproject:1127  Change-Id: I19b97c2a37accc683a35809859c604bcaf3dcc43 Reviewed-on: https://chromium-review.googlesource.com/295150 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "gpu_test_expectations: Fix a -Wheader-hygiene"  This patch causes a compile failure probably because some symbols had been declared in the root namespace and should have been moved to base. (but weren't compiled under Linux)  BUG=  This reverts commit f41e04dbb8602a349351c537b735eb991588a944.  Change-Id: Ia2292bf9dcbf429f47c8c8632356574a91ff0a1d Reviewed-on: https://chromium-review.googlesource.com/295110 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
dEQP.gypi: tweaks to enable in-Chromium compilation on Linux  Two things were needed:  - The re-enabling of exception and RTTI as it is disabled in Chromium    and in a different way than in ANGLE standalone  - Link decpp with dl  BUG=angleproject:1127  Change-Id: I9ac37545762dc13320c7fba418fba82d7961e83e Reviewed-on: https://chromium-review.googlesource.com/294822 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
gpu_test_expectations: Fix a -Wheader-hygiene  Our angle_config.h was using "using namespace" in a header as a way to import symbols to shim Chromium's base. This patch changes this to import each function separately using "using".  This patch will allow our gpu_test_expectations to compile inside Chromium on Linux.  BUG=angleproject:1127  Change-Id: I99a78ab9fddc11b81e3e5154d41cd8bbbb2ac28d Reviewed-on: https://chromium-review.googlesource.com/294821 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Use override in all the places where it is possible  This will avoid -Winconsistent-overrides in the future. Done using the -Wsuggest-override warning of GCC 5.1  BUG=  Change-Id: I707a649dc368f5dd1e139fd144370abcac0b6263 Reviewed-on: https://chromium-review.googlesource.com/294920 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Make the default framebuffer owned by Surface""  Reland the commit after fixing a bug in FramebufferAttachment.  This reverts commit 18fdcbcf1d02d3b3b4b5c712f05058f2e8d629c6.  BUG=angleproject:891  Change-Id: I07e08de52bfce8d84d070fc7bc15883009298a4d Reviewed-on: https://chromium-review.googlesource.com/294831 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FramebufferAttachment: do not attach with an uninitialized mResource  Otherwise attach will try to call onDetach on mResource causing an UB (and a segfault in most cases).  This fixes a crash when running angle_unittests on Mac with another patch.  BUG=angleproject:891  Change-Id: I09d34d7246849059a13bc2fb00a61837cccd97d7 Reviewed-on: https://chromium-review.googlesource.com/294830 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Add deep copying support for typed AST nodes"  This reverts commit d0d59aa4cbce2da92deaa0f4021dfed8885e8d01 and commit 760379532b02ae039790f1e8f1c89e03481aab4b  To be fixed will be the newline at the end of IntermNode_tests.cpp and the -Winconsistent-missing-override  BUG=  Change-Id: I57693bdff01f9e3f03b2fbb5dc53fa21e68c2789 Reviewed-on: https://chromium-review.googlesource.com/294820 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Only apply Appendix A limitations to ESSL 1.00 shaders  ESSL 1.00 specifies a set of minimum functionality and ANGLE automatically checks that WebGL shaders stay within this minimum functionality. However this should only apply to ESSL 1.00. ESSL 3.00 shaders compiled for WebGL 2.0 should not be subject to these restrictions since there is no similar spec for minimum functionality for ESSL 3.00.  In case a non-WebGL based shader spec is used the restrictions can be toggled from outside by specifying the SH_VALIDATE_LOOP_INDEXING flag same as before this patch.  BUG=angleproject:1116 TEST=WebGL 2 conformance tests  Change-Id: Idaec0fb4c7c85cd72020d0b23112fddb1b020571 Reviewed-on: https://chromium-review.googlesource.com/293933 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix compilation on Mac adding a newline in IntermNode_test.cpp  BUG=  Change-Id: Ie935486bf44bacb89660419c0dabd0ff38838c90 Reviewed-on: https://chromium-review.googlesource.com/294800 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix regression with GetNextGLSLAttributeType.  A refactoring bug slipped in that used the non-transposed row count for non-square matrices causing an ASSERT failure in Debug. It's unfortunately not easy to revert the previous change so instead fix it here.  BUG=angleproject:1129  Change-Id: I0de66de46a24b402c93da68f189a2c65616c2006 Reviewed-on: https://chromium-review.googlesource.com/294641 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make Release compile with c++11 on Mac standalone  BUG=angleproject:891  Change-Id: Id61e61a2efff019e92316adbe34fc2378302aff5 Reviewed-on: https://chromium-review.googlesource.com/294600 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Suppress dEQP negative_api compressedtexsubimage2d_invalid_size on Linux  Temporarily suppress this test as it might be caused by a dEQP bug.  BUG=angleproject:1128  Change-Id: I9c6f1b95edca55f54f3292227ebc81d4ddc57f0a Reviewed-on: https://chromium-review.googlesource.com/294580 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add deep copying support for typed AST nodes  Removing dynamic indexing of vectors and matrices will require copying the indexed nodes in case they are written. Any type of l-value node that doesn't have side effects may need to be copied. Add a copying function for all typed node classes so that this copying can be performed.  Private copy constructors are used to implement the deepCopy function in order to make maintenance easier. With copy constructors each subclass only needs to take care of copying its own members and not the base class members which reduces the possibility of errors. Copy constructors are disabled for all node classes that don't support deep copying by inheriting TIntermNode from angle::NonCopyable.  Assignment operator is disabled for all node classes through inheriting angle::NonCopyable. This applies also to classes that now get the private copy constructor.  Explicit copy constructor and assignment operator declarations are added to some classes which show up in node member variables to make code clearer.  BUG=angleproject:1116 TEST=angle_unittests  Change-Id: Ia757b69397837f8309f0e7511c0cd24ca2c7a721 Reviewed-on: https://chromium-review.googlesource.com/293931 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make Program::usesPointSize D3D-only.  This test is only used in the D3D code so we can remove this Impl method. If we need it in the future we can always support it more generally from the translator or handle it differently on each Renderer.  BUG=angleproject:1123  Change-Id: Ic4a22ad6cec93726195e68200fc25cc2956be44c Reviewed-on: https://chromium-review.googlesource.com/293822 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make ProgramImpl::compileProgramExecutables D3D-only.  Finally we can isolate this method into the D3D-only code and remove the interface from ProgramImpl.  BUG=angleproject:1123  Change-Id: I253b15d44d4cf8bbb5dbeaa78bbcc431a5267bf7 Reviewed-on: https://chromium-review.googlesource.com/293765 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Make the default framebuffer owned by Surface"  Seems to be causing failures on the Mac GPU FYI bots. SurfaceTest.DestructionDeletesImpl seems to crash.  BUG=angleproject:891 BUG=522557  This reverts commit 264ab56f2e70431e8310f9353952acd3b22b466f.  Change-Id: I80aeecb8e191de011d9afe6534d0285dcffa82a3 Reviewed-on: https://chromium-review.googlesource.com/294540 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ProgramGL: Mark all columns of matrix attributes as active  The active attributes are used to determine which of the vertex attributes to enable. Matrices take up several attributes depending on the number of column they have; this patch marks all the columns of active matrix attributes as active.  TEST=dEQP-GLES2.functional.shaders.linkage.varying_type_mat*  BUG=angleproject:1127  Change-Id: I82f548f329f872c4e66aa0e4e71c6061a55b9987 Reviewed-on: https://chromium-review.googlesource.com/294261 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add full support for line continuation in the preprocessor  Re-landing earlier change with constant signedness fixed (was causing build issues on Linux).  Line continuation in ESSL 3.00 needs to be processed before tokenization since tokens can span the line continuation. On the other hand ANGLE's tokenizer keeps track of line numbers and whenever a line continuation appears the line number still needs to be incremented by one just like on a regular newline.  That's why line continuation is now implemented as follows: when the shader strings are concatenated in Input they are also checked for line continuation. Whenever line continuation is encountered the string is cut before that point. When the tokenizer asks for more input the string starting from the character after line continuation is passed to it and the line number is incremented from Input. This way the tokenizer can parse tokens that span multiple lines - it never sees the line continuation - but still keeps track of the line number correctly.  Relevant spec is in ESSL 3.00 section 3.2 "Source strings".  Support for line continuation also applies to ESSL 1.00. ESSL 3.00 spec section 1.5 says that line continuation support is mandated when an ESSL 1.00 shader is used with the OpenGL ES 3.0 API and is optional when ESSL 1.00 is used with the OpenGL ES 2.0 API.  TEST=dEQP-GLES3.functional.shaders.preprocessor.line_continuation.*      (all pass)      angle_unittests BUG=angleproject:1125  Change-Id: Ic086aacac53cd75bf93c0fda782416501d2f842b Reviewed-on: https://chromium-review.googlesource.com/294200 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make the default framebuffer owned by Surface  Reland with a fix for SurfaceTest in angle_unittests and fixes for signed-unsigned warnings  In CGL there is no notion of default Framebuffer and MakeCurrent only makes a context current but not a drawable. Instead everything is done via render to texture. For that reason different surfaces will have different FBOs as default framebuffers which causes that change.  BUG=angleproject:891  Change-Id: I0664896bc335b1a757226aaa212536b8f9d0f08f Reviewed-on: https://chromium-review.googlesource.com/293752 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Move TF Feedback linked varyings into D3D-only.  The LinkedVarying structure is a D3D-specific type and the GL back-end doesn't need the extra info. Isolate this into the D3D back-end so we can clean up the Impl inteface.  BUG=angleproject:1123  Change-Id: I76d77ac505876d865e3e02f47acbfd6665a9507e Reviewed-on: https://chromium-review.googlesource.com/293764 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Make the default framebuffer owned by Surface"  Compilation warning on Windows  This reverts commit 6cb2ae8292e69aa110c89e0465366b9f049c1168.  Change-Id: I4ecadf5d8e909f986da186a7326cfa0922ae8710 Reviewed-on: https://chromium-review.googlesource.com/294241 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make the default framebuffer owned by Surface  Reland with a fix for SurfaceTest in angle_unittests and fixes for signed-unsigned warnings  In CGL there is no notion of default Framebuffer and MakeCurrent only makes a context current but not a drawable. Instead everything is done via render to texture. For that reason different surfaces will have different FBOs as default framebuffers which causes that change.  BUG=angleproject:891  Change-Id: Ie9a72de01a58e583a1bfa3f4a055debb860b912f Reviewed-on: https://chromium-review.googlesource.com/293713 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clean up uniform block Program Impl APIs.  The D3D-specific code we can split into D3D-only methods and the GL-level shared code we can place in Program instead of making Impl methods. This cleans up the Impl inteface significantly.  BUG=angleproject:1123  Change-Id: Ibcb7d07733eb939adf5bb4f5395a661875a60238 Reviewed-on: https://chromium-review.googlesource.com/293763 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix improper error handling in Image11.  A device lost event would improperly skip returning an error which could lead us down a code path that would read/write to invalid locations.  BUG=519642  Change-Id: Iba437b9b24cdf44320a944a85146f5f73be9f7a6 Reviewed-on: https://chromium-review.googlesource.com/293903 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Clean up Program::linkUniforms.  This method previously relied on output from the D3D back-end from ProgramImpl::link. Split the D3D-specific code into its own method and do the linking validation before we call link.  BUG=angleproject:1123  Change-Id: I582671e21af605af9f4451b02fc96ad29c923048 Reviewed-on: https://chromium-review.googlesource.com/293762 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Work around deprecated LUMA formats in the core profile."  Caused failures in the WebglConformance.conformance_textures_misc_copy_tex_image_2d_formats test on the ATI FYI waterfall bot. This reverts commit 61f51dc1b7d383bcb3632218cd2434f65cac4b7a.  Change-Id: Iddea03d53ae2a9b639e36931f01c1e889e550af4 Reviewed-on: https://chromium-review.googlesource.com/294262 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix build after https://chromium-review.googlesource.com/#/c/293865  Change-Id: I691d80deff03b49463b08d093934b44b049a0606 Reviewed-on: https://chromium-review.googlesource.com/294163 Reviewed-by: Nico Weber <thakis@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Rename TextureD3D::setImage() to setImageImpl().  This makes it clear that this is not an attempted override of the virtual base class's method rx::TextureImpl::setImage().  Do the same for TextureD3D::setCompressedImage(). No intended behavior change.  BUG=angleproject:1083  Change-Id: I874e4101e8138c7c5000f5966afed6a339523c02 Reviewed-on: https://chromium-review.googlesource.com/293865 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Fix warning C4312 (x64) - reinterpret_cast conversion to greater size  Change-Id: I90504b00e8f3af208511ec393ddfb0da267f56bc Reviewed-on: https://chromium-review.googlesource.com/293341 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Add target platform version for generating Windows 10 WinRT projects  BUG=angleproject:1122  Change-Id: Ia6a79ef1b4e94e15830981f0cee6269c9f0c71ca Reviewed-on: https://chromium-review.googlesource.com/293401 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
In TextureD3D_2D don't call Image::redefine directly.  Call the TextureD3D_2D::redefine member which will not make unnecessary modifications to the image and lets the member serve as a callback for redefined images.  BUG=angleproject:970  Change-Id: I511310ebfd4d6133219bbef82c53747f9454aee0 Reviewed-on: https://chromium-review.googlesource.com/293904 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "In TextureD3D_2D don't call Image::redefine directly."  Warnings in 64-bit.  This reverts commit a0633a7e4124473d67538053cba3ebdc44f71687.  Change-Id: I5b3f31b261b947cd295e9f4a9abbbdbc00740183 Reviewed-on: https://chromium-review.googlesource.com/293841 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
In TextureD3D_2D don't call Image::redefine directly.  Call the TextureD3D_2D::redefine member which will not make unnecessary modifications to the image and lets the member serve as a callback for redefined images.  BUG=angleproject:970  Change-Id: I280c18b993ef4dfac2efe1b28bf28c34aa4b6bcc Reviewed-on: https://chromium-review.googlesource.com/293222 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Work around deprecated LUMA formats in the core profile.  Use R and RG textures with swizzle states to emulate them.  Fixes the following tests when using the core profile:  * conformance/extensions/oes-texture-float.html  * conformance/extensions/oes-texture-half-float.html  * conformance/textures/misc/tex-sub-image-2d.html  * conformance/textures/misc/texture-formats-test.html  * conformance/textures/misc/texture-npot.html  * conformance/more/functions/copyTexImage2D.html  * conformance/more/functions/copyTexSubImage2D.html  BUG=angleproject:1113  Change-Id: Iaf4b7b2b0000052b1747f46d90ad45d4cb1f6b50 Reviewed-on: https://chromium-review.googlesource.com/293530 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make FramebufferAttachmentObject not refcountable  Re-land with a fix for an unitialized variable  Instead the refcount is done via callbacks. This allows Surface to ignore this refcounting which will be useful in a follow-up CL.  BUG=angleproject:891  Change-Id: I1925ccaa4ce7b502b33088660d31c404b8313cb5 Reviewed-on: https://chromium-review.googlesource.com/293712 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make TF Feedback buffer mode a GL-level variable.  Don't query this as an Impl method since it exists on the GL level. Also some related refactorings and cleanups.  BUG=angleproject:1123  Change-Id: I3610bc0db2bcaa96408506e06a65a2f4dab93150 Reviewed-on: https://chromium-review.googlesource.com/293761 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a Program::Data shared state structure.  Similar to the Framebuffer and other classes this gives the Impl class a read-only view of the object's state.  BUG=angleproject:1123  Change-Id: I580eaebe2de236adf8131d6e3f54633cecce8c25 Reviewed-on: https://chromium-review.googlesource.com/293760 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add full support for line continuation in the preprocessor"  Warning in the Linux/Mac builders:  In file included from ../../third_party/angle/src/tests/preprocessor_tests/input_test.cpp:7: In file included from ../../third_party/angle/src/tests/preprocessor_tests/PreprocessorTest.h:7: ../../testing/gtest/include/gtest/gtest.h:1392:16: error: comparison of integers of different signs: 'const int' and 'const unsigned long' [-Werror-Wsign-compare]   if (expected == actual) {       ~~~~~~~~ ^  ~~~~~~ ../../testing/gtest/include/gtest/gtest.h:1422:12: note: in instantiation of function template specialization 'testing::internal::CmpHelperEQ<int unsigned long>' requested here     return CmpHelperEQ(expected_expression actual_expression expected            ^ ../../third_party/angle/src/tests/preprocessor_tests/input_test.cpp:171:5: note: in instantiation of function template specialization 'testing::internal::EqHelper<false>::Compare<int unsigned long>' requested here     EXPECT_EQ(3 input.read(buf maxSize &lineNo));     ^  BUG=angleproject:1125  This reverts commit c1157d1963170c7411eb6c32e2b2fbce02c5a170.  Change-Id: Ic6fa286d190b006cccc5154d86e21ecc03175763 Reviewed-on: https://chromium-review.googlesource.com/294080 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add full support for line continuation in the preprocessor  Line continuation in ESSL 3.00 needs to be processed before tokenization since tokens can span the line continuation. On the other hand ANGLE's tokenizer keeps track of line numbers and whenever a line continuation appears the line number still needs to be incremented by one just like on a regular newline.  That's why line continuation is now implemented as follows: when the shader strings are concatenated in Input they are also checked for line continuation. Whenever line continuation is encountered the string is cut before that point. When the tokenizer asks for more input the string starting from the character after line continuation is passed to it and the line number is incremented from Input. This way the tokenizer can parse tokens that span multiple lines - it never sees the line continuation - but still keeps track of the line number correctly.  Relevant spec is in ESSL 3.00 section 3.2 "Source strings".  Support for line continuation also applies to ESSL 1.00. ESSL 3.00 spec section 1.5 says that line continuation support is mandated when an ESSL 1.00 shader is used with the OpenGL ES 3.0 API and is optional when ESSL 1.00 is used with the OpenGL ES 2.0 API.  TEST=dEQP-GLES3.functional.shaders.preprocessor.line_continuation.*      (all pass)      angle_unittests BUG=angleproject:1125  Change-Id: I1c1de49602e7cd755d6072c3c0aa5524cd0313b4 Reviewed-on: https://chromium-review.googlesource.com/293721 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Surface_unittest: fix a gmock warning  getSwapBehavior was being called in Surface's constructor but masn't expected causing a warning. Add it as an expect call.  BUG=angleproject:1126  Change-Id: Idf4a7e0ff66ba5741d3773e09ade4a1335b355ae Reviewed-on: https://chromium-review.googlesource.com/293902 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Implement dirty bits acceleration for VertexArrayGL.""  Should be fixed with the Iterator change.  BUG=angleproject:1040  This reverts commit 5b21ed5fd030d33ae379b8cc493746244d2928b4.  Change-Id: Ibb77775b6b2ce5a49cee7dd81efc62d8c3ba3c62 Reviewed-on: https://chromium-review.googlesource.com/293901 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Store iterator bitset by-value instead of by-reference.  The by-reference method was giving strange problems when using a non- LValue as argument to IterateBitSet.  BUG=angleproject:1040  Change-Id: Iec10f7256a5b19b239804e0beba4ae675f53f876 Reviewed-on: https://chromium-review.googlesource.com/293840 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix icons and Min/MaxVersion in Win10 templates, 15312978, 382, 105, 382
Revert "Implement dirty bits acceleration for VertexArrayGL."  Seems to cause an exception in Release in end2end_tests.  BUG=angleproject:1040  This reverts commit 6d51c70ccf63a2c5ec240d960ff1bc179d36c92c.  Change-Id: I6548bc68dce07d2d85e40afdb604157e689c1d6c Reviewed-on: https://chromium-review.googlesource.com/293821 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement dirty bits acceleration for VertexArrayGL.  BUG=angleproject:1040 TEST=angle_end2end_testsangle_perftestsWebGL  Change-Id: I91d9aea5eefb58ecaf5b1cc95926fddb2aa846ea Reviewed-on: https://chromium-review.googlesource.com/289570 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix remaining size_t conversion warnings.  BUG=angleproject:1120  Change-Id: If4fba903511dcd57d21f8f8178e772cf3cae4187 Reviewed-on: https://chromium-review.googlesource.com/293750 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reland "Fix memory layout of imageformats.h's 16-bit structs"  Changes since last patch: - Disable tests on D3D11 Intel  Change-Id: Ie65f56b7ed107f8901ea3be7d96036d7c882d189 Reviewed-on: https://chromium-review.googlesource.com/285218 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Roll GYP for Windows 10 project generation.  BUG=angleproject:1122  Change-Id: I8b7a33fb8e7d1200e655c73c7d1a5502cac955c6 Reviewed-on: https://chromium-review.googlesource.com/293335 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com> Commit-Queue: Cooper Partin <coopp@microsoft.com>, 15312978, 382, 105, 382
Remove EOpInternalFunctionCall  It's cleaner to mark internal functions by using the TName class similarly to TIntermSymbol.  TEST=angle_unittests BUG=angleproject:1116  Change-Id: I12a03a3dea42b3fc571fa25a1b11d0161f24de72 Reviewed-on: https://chromium-review.googlesource.com/291621 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Track whether a name is internal to ANGLE in a separate class  The AST contains identifiers in a few different places: besides symbols there are also function names which show up in function signatures and function calls. Any of these can be coming either from the original shader or from inside ANGLE. A class that encapsulates a string and its internalness will be useful for implementing a unified way of handling all names in shader translation. Start implementing this by splitting the functionality out of TSymbol.  TEST=angle_unittests BUG=angleproject:1116  Change-Id: I0a1b5936dcccd0d5fc1c0c13c712102fbfff2a79 Reviewed-on: https://chromium-review.googlesource.com/291280 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix angle miscompiling shaders on x86_64 Android.  BUG=487341 Change-Id: I792e0c9419566facb0bec0ad93f3646294e5a2a7 Reviewed-on: https://chromium-review.googlesource.com/293500 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nico Weber <thakis@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Updated solution files by regenerating projects., 15312978, 382, 105, 382
Detect when built-in modf requires an l-value in AST traversal  This fixes an omission that out parameter tracking had inherited from EmulatePrecision. Accurate tracking of when values are written is required for converting dynamic indexing of vectors and matrices to function calls.  A new test covering this is added to angle_unittests.  TEST=angle_unittests BUG=angleproject:1116  Change-Id: I05c5fd60355117d0053b84110748ae221375a790 Reviewed-on: https://chromium-review.googlesource.com/290562 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactor l-value tracking to a separate traverser parent class  This makes TIntermTraverser implementation easier to understand and removes the overhead of maintaining the user-defined GLSL function table from the traversers that don't need it.  Some logic is duplicated between TIntermTraverser and its new subclass TLValueTrackingTraverser but duplication is hard to eliminate completely since there are some differences scattered throughout the code.  BUG=angleproject:1116 TEST=angle_unittests  Change-Id: Iab4a0c1d4320ecfafaf18ea3a45824d756890774 Reviewed-on: https://chromium-review.googlesource.com/292721 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Set __VERSION__ macro when the #version directive is parsed  __VERSION__ macro needs to be set to 300 when #version 300 es is on the first line of the shader since section 3.4 of ESSL 3.00.4 spec mentions that the value of __VERSION__ should match the shading language being parsed. The value from parsing the version directive replaces the default value 100.  BUG=angleproject:524 TEST=dEQP-GLES3.functional.shaders.preprocessor.predefined_macros.*      (4 tests start passing 2 still fail)      dEQP-GLES3.functional.shaders.preprocessor.conditionals.*      (2 tests start passing)      dEQP-GLES2.functional.shaders.preprocessor.predefined_macros.*      (no regression)  Change-Id: I15bfdeb73d1e343d131ded56b1fd52ca5ef32408 Reviewed-on: https://chromium-review.googlesource.com/293440 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Add tests for streaming client side data."  This reverts commit 656b0d45cd4758be67202aded9783d536b00e611.  Change-Id: I0b6ad5e1fa788ffc698029410aa98e13a061902d Reviewed-on: https://chromium-review.googlesource.com/293450 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll GYP with updates for Windows 10 project generation, 15312978, 382, 105, 382
Generate the egl Display extensions in Renderer9 and Renderer11.  With the addition of EGL Image the display extensions generated by Renderer9 and Renderer11 become significantly different.  Instead of generating them via getXSupport() methods generate them inside the renderers themselves.  BUG=angleproject:970  Change-Id: Ib3fffabcca3e3cdef13ef994aa0b06dba0f00362 Reviewed-on: https://chromium-review.googlesource.com/293271 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a common base function for getSurfaceLevel in TextureStorage9.  Instead of casting to the specific TextureStorage9 type before calling getSurfaceLevel merge the prototypes into a pure method in TextureStorage9.  BUG=angleproject:970  Change-Id: I07b24b6cc470fc8cb6ba9bd9a8f178c3b43be36a Reviewed-on: https://chromium-review.googlesource.com/293270 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add tests for streaming client side data.  BUG=angleproject:880  Change-Id: Ief76f3011ce18ad0ca396af0bc36e69a30ae143b Reviewed-on: https://chromium-review.googlesource.com/293220 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reland Fixed compiler warning C4267 'conversion from 'size_t' to 'type' possible loss of data' Additional warnings found with more testing and added C4267 warning disable only for angle_libpng  BUG=angleproject:1120  Change-Id: Ic403dcff5a8018056fa51a8c408e64207f3362eb Reviewed-on: https://chromium-review.googlesource.com/293028 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable some VS2015 warnings for dEQP projects  Change-Id: I036084b2fea20d4f1712bc34b161fb3be604af0d Reviewed-on: https://chromium-review.googlesource.com/293009 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Make FramebufferAttachmentObject not refcountable"  BUG=  This reverts commit 19ba57469aa02074d094a9aef104f84d0b6d881e.  Change-Id: I5dce6c8a81570e22affbcaf32183a97c97849718 Reviewed-on: https://chromium-review.googlesource.com/293351 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Make the default framebuffer owned by Surface"  This reverts commit 87e63a9982803b5e4c12afa9a40ff0e2b04a7369.  Speculative revert to fix the webgl cts on Windows D3D9 and the unittests on Linux.  BUG=  Change-Id: I488f4e0b2dc67270eed45f1c10bfba1d13c98739 Reviewed-on: https://chromium-review.googlesource.com/293350 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make the default framebuffer owned by Surface  In CGL there is no notion of default Framebuffer and MakeCurrent only makes a context current but not a drawable. Instead everything is done via render to texture. For that reason different surfaces will have different FBOs as default framebuffers which causes that change.  BUG=angleproject:891  Change-Id: I3f6da7b587353316026ea39a5c87f91265e0f1ba Reviewed-on: https://chromium-review.googlesource.com/289872 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix warnings on Linux  BUG=  Change-Id: I24ed2a2ee85a152ef79fc9cb2c3b067bbbaedf05 Reviewed-on: https://chromium-review.googlesource.com/293310 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make FramebufferAttachmentObject not refcountable  Instead the refcount is done via callbacks. This allows Surface to ignore this refcounting which will be useful in a follow-up CL.  BUG=angleproject:891  Change-Id: I39b028476e0e3ab1837c033e1121ea21e54d7970 Reviewed-on: https://chromium-review.googlesource.com/291651 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
ValidateDrawElements: check count > 0 then compute the index range  Otherwise glDrawElements(GL_TRIANGLES -1 nullptr) would crash. This was found by an ASSERT in ComputeIndexRange triggered by dEQP-GLES2.functional.negative_api.vertex_array.draw_elements  BUG=  Change-Id: I5269031fa35aa6403c844561e04158361ee7950f Reviewed-on: https://chromium-review.googlesource.com/292710 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Fixed compiler warning C4267 'conversion from 'size_t' to 'type' possible loss of data'"  Seems to have quite a few warnings in 64-bit on my machine.  BUG=angleproject:1120  This reverts commit c5cf9bc47d0ee028adbbf9e9f94ca567eec601dc.  Change-Id: I86768b900aeba52e7a2242d9ae8949f93f1a5ba9 Reviewed-on: https://chromium-review.googlesource.com/293280 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
clang/win: Fix -Wunused-function warning in angle.  Also inline a function that wasn't pulling its weight. No intended behavior change.  BUG=chromium:505316  Change-Id: If059700062a38c45971397311af7a2a4037b815e Reviewed-on: https://chromium-review.googlesource.com/288399 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Use default commit.h file if git index is not available  The solution is the same as in GYP version: 1. Check if .git/index is available in angle directory. 2. Use generated commit.h file if git is available or copy the default file instead.  Change-Id: Ic3cedf6793c368070228a63c0eb270ca6fb47f81 Reviewed-on: https://chromium-review.googlesource.com/289391 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Tomasz Moniuszko <tmoniuszko@opera.com>, 15312978, 382, 105, 382
Clean up parseMatrixFields  Applying field selection directly on matrices is not mentioned in ESSL 1.00 or 3.00 specs. Remove erroneous code that generated odd error messages when a shader tried to apply certain kinds of field selection on a matrix.  BUG=angleproject:1118 TEST=angle_unittests dEQP-GLES3.functional.shaders.swizzles.*  Change-Id: I7bbf5d0cbaee3f21d20b830d904c0feef445dd78 Reviewed-on: https://chromium-review.googlesource.com/293190 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Add pragma errors for malformed pragmas."  Since this commit was made dEQP tests were fixed to check that unrecognized pragma tokens only generate warnings not errors.  This applies to both ESSL1.00 and ESSL3.00 which specify this behavior in section 3.4 Preprocessor.  BUG=angleproject:989 TEST=dEQP-GLES2.functional.shaders.preprocessor.pragmas.*  This reverts commit d3c29f57aaeb451b149bbb9fd17b3f1f99101c52.  Change-Id: Ie4e0ec061fa3164d6f3872ac0016a063056ed110 Reviewed-on: https://chromium-review.googlesource.com/293181 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reland of "Store the applied element array buffer as a binding pointer."  To be consistent with how we start vertex attributes. A null pointer indicates we're using the streaming buffer.  Will also aid the dirty state bits refactor.  The re-land fixes a crash with WebGL related to element array buffers.  BUG=angleproject:1040 TEST=WebGL CTS end2end_tests unittests  Change-Id: I9b82e06825bf95f0fc2b7c7427e1eb6dd257c1ee Reviewed-on: https://chromium-review.googlesource.com/290044 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed compiler warning C4267 'conversion from 'size_t' to 'type' possible loss of data'  BUG=angleproject:1120  Change-Id: I01ef10bea7f487c2b394d030c76628f38d2ea645 Reviewed-on: https://chromium-review.googlesource.com/292780 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move traverse functions under TIntermTraverser  This enables implementing specialized variants of TIntermTraverser. Intermediate subclasses of TIntermTraverser are expected to maintain contextual information in their traverse* functions which is then used by the visit* functions in the actual traversers.  This approach is better than adding a flag to TIntermTraverser since it will make the code cleaner and easier to understand.  Traverse() functions in TIntermNode subclasses are still kept around to redirect calls to TIntermTraverser traversal functions. This is less hacky than choosing the function with switch/case in TIntermTraverser would be and if new TIntermNode subclasses get added it's not as likely that adding the traversal support would be forgotten.  TEST=angle_unittests BUG=angleproject:1116  Change-Id: Ie6889be1d7e955518f13cd3390dce17871ba49b5 Reviewed-on: https://chromium-review.googlesource.com/292720 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix missing and incorrect ordering of FunctionsWGL member initialization.  BUG=angleproject:890  Change-Id: Id55d941a95cf38f825b9a52fc8043e0e129f7a82 Reviewed-on: https://chromium-review.googlesource.com/292631 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed compiler warning C4457 'declaration of 'node' hides function parameter'.  BUG=angleproject:1119  Change-Id: Ie3de5a776b5860b1ca502cee9e2b19c41cd3bfb2 Reviewed-on: https://chromium-review.googlesource.com/292051 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com>, 15312978, 382, 105, 382
Fixed compiler warning C4456 'declaration of variable hides previous local declaration'.  BUG=angleproject:1119  Change-Id: I99572711ceeae94fb920d197c86e741945d3b60b Reviewed-on: https://chromium-review.googlesource.com/292279 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed compiler warning C4838 'conversion from size_t to LONG requires a narrowing conversion'.  BUG=angleproject:1119  Change-Id: I2c879193dc122e6c45d0462abc91f39f5d332506 Reviewed-on: https://chromium-review.googlesource.com/292156 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed compiler warning C4458 'declaration of variable hides class member'.  BUG=angleproject:1119  Change-Id: Ibc7cfdea72abe402cbfa1c10e0ada7576fa1cfa2 Reviewed-on: https://chromium-review.googlesource.com/292052 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement dirty bits acceleration for Current Values.  BUG=angleproject:1040 TEST=angle_end2end_testsangle_perftestsWebGL  Change-Id: If471cfb9676795d5cc985eea52ad7144d4544ed1 Reviewed-on: https://chromium-review.googlesource.com/289559 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D: Fix buffer overflow in VertexBuffer.cpp.  Under certain situations an integer overflow could lead to ANGLE writing to places where it shouldn't.  BUG=518206  Change-Id: I9217685daecb160a4072fbf79c26e5bee9f4621e Reviewed-on: https://chromium-review.googlesource.com/292391 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reland of "D3D11: Fix draw perf regression with input layouts."  f8dd7b10 fixed unnecessary shader compiles but introduced a draw call perf regression. Fix the regression robustly by storing a minimal set of input layout elements/vertex attribute info but also handle the case where the vector sizes mismatch between a cached and new vertex layout.  Reland with fix for comparison warning.  BUG=510151  Change-Id: I578ddbb5b5bb12e7c1a901f23c7b5fcbd64b5d23 Reviewed-on: https://chromium-review.googlesource.com/292460 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix missing colon in codereview.settings.  BUG=504872  Change-Id: Ib69830a556fe06c111f41d78811c7115b0d8314c Reviewed-on: https://chromium-review.googlesource.com/292450 Tryjob-Request: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Fix draw perf regression with input layouts."  size_t comparison warning in Win32.  src\libangle\renderer\d3d\programd3d.cpp(2084) : warning C4018: '<' : signed/unsigned mismatch  BUG=510151 This reverts commit bf3f780c0a281cfe6192aa5635b02a01314f7fd3.  Change-Id: I5565b697ca29270375049f3e855437fa19157de9 Reviewed-on: https://chromium-review.googlesource.com/292331 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix draw perf regression with input layouts.  f8dd7b10 fixed unnecessary shader compiles but introduced a draw call perf regression. Fix the regression robustly by storing a minimal set of input layout elements/vertex attribute info but also handle the case where the vector sizes mismatch between a cached and new vertex layout.  BUG=510151  Change-Id: If5e9ea4a4c9edaa7a78c8daa44bbe7d9927dc4e4 Reviewed-on: https://chromium-review.googlesource.com/292390 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
libGLESv2.gypi move the link to X11 to libANGLE (vs. libGLESv2)  This fixes a bot compilation failure that started happening after unittest started using Display stuff that use X11. Because angle_unittests was linking against libANGLE and not libGLESv2 it didn't get linked to X11 which produced a link error.  BUG=  Change-Id: I8f1f0dbcb13bb7c9897f235b72c4d4896a7b8a6c Reviewed-on: https://chromium-review.googlesource.com/292380 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Import new MurmurHash3 to fix g++ 4.9.2 errors  The code is from http://smhasher.googlecode.com/svn/trunk/ revision 152.  Fixes error: ../../src/third_party/murmurhash/MurmurHash3.cpp:57:41: error: inlining failed in call to always_inline ‘uint32_t getblock(const uint32_t* int)’: function body can be overwritten at link time  FORCE_INLINE uint32_t getblock ( const uint32_t * p int i )  The error was previously fixed by adding a pragma to ignore the warning.  The problem the compiler is complaining is that the function is visible to outside of the compilation unit. This can be fixed by making the function inline (as in the new version of the MurmurHash3.cpp) or static.  Change-Id: I7a1262964489d72de8b4707ca2284363c8b46e20 Reviewed-on: https://chromium-review.googlesource.com/291620 Tested-by: Kimmo Kinnunen <kkinnunen@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Dongseong Hwang <dongseong.hwang@intel.com> Tested-by: Dongseong Hwang <dongseong.hwang@intel.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Track that indices of l-values are not required to be l-values  In an expression like a[ind]++ a[ind] is required to be an l-value but ind is not. Reset the l-value required flags before traversing the index of an indexing operation so that this is accurately tracked. After the index has been traversed the previous state of the l-value required flags is restored.  New tests are added to angle_unittests cover this functionality.  TEST=angle_unittests BUG=angleproject:1116  Change-Id: I8929ec01e85e672c83ef7d385e455b7df8682f4b Reviewed-on: https://chromium-review.googlesource.com/290561 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Track where l-values are required in AST traversal  This functionality is refactored out of EmulatePrecision to be a common feature of TIntermTraverser. This is done since tracking where l-values are required will be useful for other traversers. For example it will be needed for converting dynamic indexing of matrices and vectors to function calls. This change adds some overhead to all tree traversers but the overhead is expected to be small for typical shaders which don't contain too many user-defined functions.  BUG=angleproject:1116 TEST=angle_unittests  Change-Id: I54d34c2b5093ef028f2b24d854c11c0195dc1dbb Reviewed-on: https://chromium-review.googlesource.com/290514 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Use WGL_ARB_pixel_format to choose the pixel format when available.  BUG=angleproject:890  Change-Id: If10ea7e1cb670bb3cd6fdcf40344d1c1e0acd862 Reviewed-on: https://chromium-review.googlesource.com/291650 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement dirty bits for RendererGL's basic state.  BUG=angleproject:1040 TEST=angle_end2end_testsangle_perftestsWebGL  Change-Id: I72beaf7e178e042440337fbb8b9669638c5ad016 Reviewed-on: https://chromium-review.googlesource.com/289558 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update ANGLE's GPU test expectations code.  Pull over the more recent changes from Chromium which include the graphics API which we can use for specific API suppressions for the dEQP tests.  Also update the docs with detailed steps for updating from Chrome.  BUG=None  Change-Id: I0cb7d8268fbb2778c0160a58f1a10ef4a92c9c61 Reviewed-on: https://chromium-review.googlesource.com/287810 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement ES 23 parts of EXT_blend_func_extended for shader translation  Exposes gl_SecondaryFragColor glSecondaryFragData[] and gl_MaxDualSourceDrawBuffers to GLES SL 1.0.  Relaxes rules for undefined output locations for GLES SL 3.0 and exposes gl_MaxDualSourceDrawBuffers.  If the output GL context is GL ES 2.0 or 3.0: The emulation layer is expected to turn on EXT_blend_func_extended if the output GL context supports it.  If the output GL context is GL: The emulation layer is expected to turn on EXT_blend_func_extended if the output GL context supports ARB_blend_func_extended or if GL context is 3.2 or later.  If the source shader spec is GLES SL 2.0: The emulation layer is expected to inspect the shader compilation output variables upon linking. If output target is GL SL the emulation layer should bind color location 0 index 1 to "angle_SecondaryFragColor" if variable "gl_SecondaryFragColorEXT" is used. Alternatively emulation layer should bind "angle_SecondaryFragData" to locations 0123... all color index 1 if "gl_SecondaryFragData" array is used. (The caller can not bind the locations or specify output variables.)  If the source shader spec is GLES SL 3.0: The emulation layer is expected to do location auto-resolve of the the output variables that have undefined output locations that have not been bound by the caller. (The caller can not use gl_ built-ins so nothing to do with those.)  BUG=angleproject:1085 TEST=angle_unittest  Change-Id: I5cafe205b0c29478b0dcd24aa89a7b0000f5d046 Reviewed-on: https://chromium-review.googlesource.com/287580 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Kimmo Kinnunen <kkinnunen@nvidia.com>, 15312978, 382, 105, 382
Fix warnings caused by gmock on linux  When mocking functions gmock uses the keyword virtual instead of override and this conflicted with our usage of override for the destructor (there is a warning for using all one or the other).  BUG=  Change-Id: I9dd9204d5755dd3a588a32d438de3c1018ba07cd Reviewed-on: https://chromium-review.googlesource.com/291630 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
ANGLETest::SetUp: resize the window only if needed.  This avoids a flickering of the window at the start of every test.  Reland with a speculative fix for ViewportTest  BUG=angleproject:1105  Change-Id: I83e89881de5b6f58cfb3e14cbe324fd9547f2836 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/288533 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
ViewportTest::SetUp set the scissor to the default value  Previously ViewportTest would rely on the scissor being set to the size of the window by default which is a fragile assumption as the scissor is set to the size of the window only on the first makeCurrent.  BUG=angleproject:1105  Change-Id: I088565c7032fe817eb5c48a5351cc678fe42b376 Reviewed-on: https://chromium-review.googlesource.com/291310 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor input layout & vertex signatures.  Always size input layouts to gl::MAX_VERTEX_ATTRIBS and use '1' bits to signal where we have a GPU conversion. The simplification allows us to more cleanly match the vertex executable signatures and makes our default VertexExecutable hit much more often.  BUG=510151 TEST=angle_end2end_testsCanary WebGL manual testing with Chromium  Change-Id: I5009323c4e7e208e7a2595be46658c344517a4ff Reviewed-on: https://chromium-review.googlesource.com/290740 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Update Win10 templates  - Move into 'Universal' folder instead of 'Windows Universal' (VS2015 RTM change) - Actually remove old VS2015 templates - Don't log Win10 users off when running installation script, 15312978, 382, 105, 382
Implement the egl and gl layers of EGL Image.  Add end2end tests and unittests.  BUG=angleproject:970  Change-Id: Ie8306971730a793f08dfd09ead1bfd6ff3e4623d Reviewed-on: https://chromium-review.googlesource.com/291260 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement the egl and gl layers of EGL Image."  This reverts commit 22a4f38c2ca9ca430b5f976fc7fc816d88918eba.  Change-Id: I07acbfe28d11675236de2ea7f6b050c25f80579a Reviewed-on: https://chromium-review.googlesource.com/290960 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix warnings on gcc builds in ImageTest.cpp."  This reverts commit 52ff4ac92ef5dfe77e14221726a0f0ab57dc57d5.  Change-Id: I11ec6e7e343dd6579f7aa13106facc65b05eb795 Reviewed-on: https://chromium-review.googlesource.com/290940 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix warnings on gcc builds in ImageTest.cpp.  BUG=angleproject:970  Change-Id: Ic7f451fb4c2378c7574ede7c513a5bb9d903c908 Reviewed-on: https://chromium-review.googlesource.com/290920 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement the egl and gl layers of EGL Image.  Add end2end tests and unittests.  BUG=angleproject:970  Change-Id: I13fc501b24c3f11bfedc810c1ff80fcf1318877c Reviewed-on: https://chromium-review.googlesource.com/287343 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
16-bit configs shoudn't be returned if render-to-backbuffer is enabled, 15312978, 382, 105, 382
Reland of "Add Iterable bitset class."  This helper allows us to quickly iterate state bits from the Impl/Renderer layers.  Re-land with no C++11 usage.  BUG=angleproject:1040 TEST=angle_unittests (Mac/Win/Linux)  Change-Id: I3b6d5beb2bcff7fa3d45c9220d7c026c64c45d2e Reviewed-on: https://chromium-review.googlesource.com/290153 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make sure that the AST root is always a sequence node  This enables inserting helper functions as an AST transformation.  BUG=angleproject:1116 TEST=angle_unittests  Change-Id: I169d4d3a726d0e389cb3444fe9dfb4c6c5d80155 Reviewed-on: https://chromium-review.googlesource.com/290513 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix default render-to-backbuffer behavior with allow/enable flags, 15312978, 382, 105, 382
DisplayGLX: factor redundant getFBConfigAttribs  This is very tiny code cleanup and is a noop behavior change.  BUG=  Change-Id: Ib850ff88eafa0bd45bb389de1b74b1e9fe4c6d8b Reviewed-on: https://chromium-review.googlesource.com/290146 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FramebufferGL: Add a member to know if we are the default FBO  On CGL the default framebuffer will have a name different than 0 and without this change it wouldn't get special-cased as on the other platforms. It is assumed that the default framebuffer will get initialized directly by the driver or other parts of the code.  BUG=angleproject:891  Change-Id: Ifbe4ada58f27ad9ddb5b43697c234cb17e7504f0 Reviewed-on: https://chromium-review.googlesource.com/290147 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add the tryserver properties to the codereview.settings file.  BUG=504872  Change-Id: I44b619f15e46cb3a6a3d95fd81c999d612d60184 Reviewed-on: https://chromium-review.googlesource.com/290090 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement ESSL 3.00 shader input/output variable type rules  ESSL 3.00 allows a wider variety of types of input/output variables than ESSL 1.00 but there are still specific restrictions on structs matrices and arrays.  Some of the checks need to be implemented twice: once for array syntax where the brackets are after the type and another time for array syntax where the brackets are after the variable name.  This requires fixes to constant folding unit tests which were previously incorrectly using matrix outputs in fragment shaders.  New unit tests are added for several of the rules introduced but some cases are also covered by dEQP.  TEST=angle_unittests dEQP-GLES.functional.shaders.linkage.varying.rules.* BUG=angleproject:1061  Change-Id: I655b054cfe56d376db775b96a2bb41b3ac5740b0 Reviewed-on: https://chromium-review.googlesource.com/285482 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Surface: query swapBehavior from the Impl  All the previously implemented surfaces used to preserve the content of the surface on a swap but this is no longer the case with CGL.  BUG=angleproject:891  Change-Id: I264c579bcbbd22b4eeb09e78aa95751d223694fc Reviewed-on: https://chromium-review.googlesource.com/289871 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D: Add timer histogram for D3DCompile.  BUG=516027  Change-Id: Ibbf45c863570581ea79e198604cd4c5cc1836620 Reviewed-on: https://chromium-review.googlesource.com/289996 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add scoped timer histogram helper macros.  These macros replace a lot of repeated timing code and mirror how Chromium operates.  BUG=516027  Change-Id: Ib03e35d0f3b8638b9b0e8785c397c8381f16b041 Reviewed-on: https://chromium-review.googlesource.com/289995 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Change the NSGL skeleton to be a CGL skeleton  The previous skeleton was name NSGL because it seemed the easier route to go however Chrome uses CGL internally which we want to match.  BUG=angleproject:891  Change-Id: I00eb597080c8b735545750dfcd6ad80dcea79300 Reviewed-on: https://chromium-review.googlesource.com/289870 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Add Iterable bitset class."  std::to_ullong is c++11 failing on Mac.  BUG=angleproject:1040  This reverts commit 37a9e71246e2a3343289267e5d7e123948924bd3.  Change-Id: I5cecd1fe95b889feffb556f67d082cec585256f4 Reviewed-on: https://chromium-review.googlesource.com/290211 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add Iterable bitset class.  This class allows us to quickly notify Impl/Renderer layers of which state changed.  BUG=angleproject:1040 TEST=angle_unittests (Mac/Win/Linux)  Change-Id: I2f27bc65b4f627a261e94e3e3b7095b169986cc6 Reviewed-on: https://chromium-review.googlesource.com/289557 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add trace event for D3DCompile.  Adds more profiling help for startup shader compiles in Chrome.  BUG=510151  Change-Id: I550b55b1280542d1eaab9ed6166387b663cafffe Reviewed-on: https://chromium-review.googlesource.com/290091 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for RESOURCE_MISC_SHARED_KEYEDMUTEX  Change-Id: I225f38b4616ac47e690dccbcb67074fedc571d61 Reviewed-on: https://chromium-review.googlesource.com/225642 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Log EGL initialize errors to the platform.  This will allow us to show more extended error info in about:gpu in Chromium.  BUG=angleproject:966 BUG=515229  Change-Id: I24c8f33ac3576395ff13dbf7f4664c649af18e33 Reviewed-on: https://chromium-review.googlesource.com/289590 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Store the applied element array buffer as a binding pointer."  This reverts commit 0018c85ea45090b5de61d4be1fbfbf96a3cde48b.  Change-Id: Ieab61c0a4cd1b24d606263e9bf2bae31ea2e8ac4 Reviewed-on: https://chromium-review.googlesource.com/289486 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Store the applied element array buffer as a binding pointer.  to be consistent with how we start vertex attributes. A null pointer indicates we're using the streaming buffer.  Will also aid the dirty state bits refactor.  BUG=angleproject:1040 TEST=WebGL CTS end2end_tests unittests  Change-Id: I7a9167282b60dbe0cbb9f0e5d9e3770890ffeb71 Reviewed-on: https://chromium-review.googlesource.com/284619 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Names of built-in functions cannot be redeclared as functions"  Causing failures in the WebGL1 test: conformance/glsl/misc/shader-with-non-reserved-words.html  This reverts commit b5f88853ea80ea112368bb15999b363db0e4c648.  Change-Id: I2105c8040057665abda00435e8c0ff8a83af3645 Reviewed-on: https://chromium-review.googlesource.com/289192 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix reference leak in Blit9.  BUG=angleproject:1111  Change-Id: I0c71b765e8589a7387f4fd40f9dc453ed06c05b9 Reviewed-on: https://chromium-review.googlesource.com/289591 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP-GLES2: Reland of "Skip flush/finish test on Windows."  This test is having flaky timeouts on the bots. Disable it for now. The re-land fixes the test syntax and ensures we will see any errors in test config as test failures on the bots.  BUG=angleproject:1107 TEST=angle_deqp_gles2_tests runs  Change-Id: Ia4fa8affb70e4474d8e43ff87ee86328aa47ebeb Reviewed-on: https://chromium-review.googlesource.com/289580 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix uniform array handling in ProgramGL.  Our validation wouldn't correctly handle single-element arrays because it was checking size > 1 instead of isArray().  This caused issues in ProgramGL on some drivers that optimized the array size (AMD) if some elements were unused.  BUG=angleproject:882  Change-Id: I417d13cd86380e2c6caa688f6398709a74692e21 Reviewed-on: https://chromium-review.googlesource.com/289201 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Names of built-in functions cannot be redeclared as functions  With ESSL 3.00 names of built-in functions cannot be redeclared as functions and therefore overloading or redefining builtin functions is an error. This is fixed by inserting unmangled built-ins into the symbol table and then checking if the new function declaration matches any of the built-in in symbol table.  BUG=angleproject:1066 TEST=angle_unittests(new: ParseESSLFunctionsTest) dEQP Tests dEQP-GLES3.functional.shaders.functions.invalid.overload_builtin_function* (2 tests started passing with this change)  Change-Id: I0e027e588664e604f29c130028178315c3e21631 Reviewed-on: https://chromium-review.googlesource.com/287801 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "dEQP-GLES2: Skip flush/finish test on Windows."  Incorrect syntax is making the bots skip all tests.  BUG=angleproject:1107  This reverts commit e8c8de2da7907579dd25273bbb422143586e79b1.  Change-Id: I4469b6b320f8754af576875128e4e3fb210c67b6 Reviewed-on: https://chromium-review.googlesource.com/289501 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove compiler_tests.gypi and preprocessor_tests.gypi.  These files were a relic of a previous structure we can safely remove them now that chrome uses angle_unittests.gypi.  BUG=None TEST=compiles standalone and with chromium  Change-Id: If9a09122f664b740099b4270f5acc5627fc5ac35 Reviewed-on: https://chromium-review.googlesource.com/289343 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix incorrect extension check.  BUG=angleproject:884  Change-Id: Ia201ac60e337fd45ef72cc254bcb36d333418613 Reviewed-on: https://chromium-review.googlesource.com/289333 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Updated Visual Studio Windows 10 templates, 15312978, 382, 105, 382
EGLContextCompatibility: remove suppression  BUG=angleproject:1109  Change-Id: I551dbf79b98798f06fd5cbe1b005dc2410daaa6b Reviewed-on: https://chromium-review.googlesource.com/289274 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
DisplayGLX::generateConfigs filter by MS and Accum buffers  FBConfigs where missing some filtering that wasn't needed on NVIDIA: the multisample and accumulation buffers must be the same as the context's config otherwise glXMakeCurrent will fail. See FBConfigCompatibility.md for more details.  BUG=angleproject:1109  Change-Id: Ied3336f9f5227594b143c884c4546fd603238b47 Reviewed-on: https://chromium-review.googlesource.com/289273 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
X11Window::initialize remove a small code redundancy  BUG=  Change-Id: Id5f98332129b3cc854254187b494bf6a97921dbd Reviewed-on: https://chromium-review.googlesource.com/289272 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Centralize GL format workarounds.  Instead of trying to encapsulate the GL texture format workarounds into tables use functions that do manual checks for specific cases.  Simplifies the logic.  Fixes:  * conformance/extensions/ext-sRGB.html  * conformance/extensions/oes-texture-half-float.html  * conformance/extensions/oes-texture-half-float-with-canvas.html  * conformance/extensions/oes-texture-half-float-with-image.htm  * conformance/extensions/oes-texture-half-float-with-video.html  BUG=angleproject:884  Change-Id: Ifb719fff908680fddc7c53a544e2284a42a58356 Reviewed-on: https://chromium-review.googlesource.com/289082 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Regenerated Windows 10 projects with platform version 10.0.1024.0, 15312978, 382, 105, 382
Updated GYP files to include msvs_target_platform_version, 15312978, 382, 105, 382
Update readme to clarify the purpose of the MS ANGLE branch, 15312978, 382, 105, 382
Add DebuggingTips.md with a tip about using apitrace  BUG=angleproject:892  Change-Id: I0999b0d3b043d412c092350f7d20560cb8b87ff7 Reviewed-on: https://chromium-review.googlesource.com/287450 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Always use sized internal formats for textures in TextureGL.  On desktop GL using an internal format of GL_RGBA produces GL_RGBA8 textures even if format is set to GL_FLOAT.  Use sized internal formats whenever possible to ensure that the internal format of the texture is the expected format.  Work around issues with Intel and AMD drivers that always round up when writing to a 1-bit alpha framebuffer format.  Fixes:  * conformance/extensions/oes-texture-float-with-image-data.htm  * conformance/extensions/oes-texture-float-with-image.html  * conformance/extensions/oes-texture-float.html  * conformance/extensions/oes-texture-half-float-linear.html  * conformance/extensions/oes-texture-half-float-with-image-data.html  * conformance/extensions/oes-texture-half-float-with-image.html  * conformance/extensions/oes-texture-half-float.html  Reland of https://chromium-review.googlesource.com/#/c/288350/  BUG=angleproject:884  Change-Id: Ia2f9251d12dd3bbc7b6918d46e61623d0abedfac Reviewed-on: https://chromium-review.googlesource.com/288584 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add IndexBufferOffsetTest  This test that using glDrawElements with an offset and an index buffer works correctly with or without a static copy of the buffer in D3D.  BUG=510585  Change-Id: I4574a4058cc803e2ee0306e5bac52b6df6a71530 Reviewed-on: https://chromium-review.googlesource.com/288352 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
BufferD3D: reinit static data only when the usage is static  Previously once a dynamic buffer had an associated static data it would be considered as static and the static data would be always be reinitialized just after having been invalidated.  BUG=510585  Change-Id: I403e91d35d11efe17f52947b2182f7b8febd7922 Reviewed-on: https://chromium-review.googlesource.com/288351 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add stubs for RendererGL workarounds.  BUG=angleproject:884  Change-Id: I9e48803f6150b9d8cd70a36ab9197f78fd01a50f Reviewed-on: https://chromium-review.googlesource.com/288583 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename Workarounds to WorkaroundsD3D.  It is not referenced outside of the d3d classes.  BUG=angleproject:884  Change-Id: Ibeec034b1b78b569bea2f1c77d6a686b58b8e010 Reviewed-on: https://chromium-review.googlesource.com/288582 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
StateManagerGL: Use an array instead of map for FBOs.  The std::map became a significant bottleneck for draw calls.  BUG=angleproject:959  Change-Id: I28176d1474fe5cff05018f89878ea8b2a3e3f9f1 Reviewed-on: https://chromium-review.googlesource.com/288702 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP-GLES2: Skip flush/finish test on Windows.  This test is having flaky timeouts on the bots. Disable it for now.  BUG=angleproject:1107  Change-Id: Iaa15672fb96f4aa3463a0613980f8a941aeafe1f Reviewed-on: https://chromium-review.googlesource.com/288405 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
dEQP-GLES3: Mark dynamic_loop_struct_array_fragment as failing.  This test is failing on the bots.  BUG=angleproject:1108  Change-Id: Iaef3f0810c5d076b6c49bc356340c9bde014c4f5 Reviewed-on: https://chromium-review.googlesource.com/288518 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Always use sized internal formats for textures in TextureGL."  Causing failures on the Intel and AMD bot.  This reverts commit 8d8044f7e39839a5dfbf09553f77fd4325e64d4c.  Change-Id: I7dc6634eaf6f57ad84c315d74aa74d3ef2d4016f Reviewed-on: https://chromium-review.googlesource.com/288325 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always use sized internal formats for textures in TextureGL.  On desktop GL using an internal format of GL_RGBA produces GL_RGBA8 textures even if format is set to GL_FLOAT.  Use sized internal formats whenever possible to ensure that the internal format of the texture is the expected format.  Fixes:  * conformance/extensions/oes-texture-float-with-image-data.htm  * conformance/extensions/oes-texture-float-with-image.html  * conformance/extensions/oes-texture-float.html  * conformance/extensions/oes-texture-half-float-linear.html  * conformance/extensions/oes-texture-half-float-with-image-data.html  * conformance/extensions/oes-texture-half-float-with-image.html  * conformance/extensions/oes-texture-half-float.html  BUG=angleproject:884  Change-Id: I48f220a4da518fff5831155a45c04cafcdffd33b Reviewed-on: https://chromium-review.googlesource.com/288350 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a -Wswitch warning in ANGLE.  BUG=505308  Change-Id: I34ae3aa65ce55c4e04eecfef3c9cde9841e47140 Reviewed-on: https://chromium-review.googlesource.com/288245 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Daniel Cheng <dcheng@chromium.org>, 15312978, 382, 105, 382
Revert "Always use sized internal formats for textures in TextureGL."  Causing failures on the Intel and AMD bots which seem to have incorrect rounding for 1-bit alpha formats.  This reverts commit 0bcb68f32f5790b0c10913351259fdf4bfed0c28.  Change-Id: I00d333b5c10ba3f41d54bec95769f4baf07b0771 Reviewed-on: https://chromium-review.googlesource.com/288206 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reformat style in ParseContext.cpp.  Using git cl format.  BUG=None  Change-Id: Ia0ce03ae8115f45c3bcc4b022acd7e3e88518062 Reviewed-on: https://chromium-review.googlesource.com/287833 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix use-after-delete in ParseContext.cpp.  This bug was exposed after a refactoring from the translator.  BUG=None TEST=angle_unittestsangle_end2end_tests  Change-Id: I13fddcbe84f87826068a557f139f6e35c674571e Reviewed-on: https://chromium-review.googlesource.com/287832 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Only check alpha values of 0 and 1.  Relying on the driver to round in one direction or the other is not reliable.  Change-Id: Ide96864607ee6a22d2523544d6cfe8fae3116fcd Reviewed-on: https://chromium-review.googlesource.com/288289 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always use sized internal formats for textures in TextureGL.  On desktop GL using an internal format of GL_RGBA produces GL_RGBA8 textures even if format is set to GL_FLOAT.  Use sized internal formats whenever possible to ensure that the internal format of the texture is the expected format.  Fixes:  * conformance/extensions/oes-texture-float-with-image-data.htm  * conformance/extensions/oes-texture-float-with-image.html  * conformance/extensions/oes-texture-float.html  * conformance/extensions/oes-texture-half-float-linear.html  * conformance/extensions/oes-texture-half-float-with-image-data.html  * conformance/extensions/oes-texture-half-float-with-image.html  * conformance/extensions/oes-texture-half-float.html  BUG=angleproject:884  Change-Id: I227e782fe9aae7b2e66df67c7a4519cfc79890b9 Reviewed-on: https://chromium-review.googlesource.com/287529 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
IncompleteTextureTest: Remove the Linux/NVIDIA suppression  BUG=angleproject:892  Change-Id: Iae3d1a83ccc4a6d738a78b58c295e06bfc564767 Reviewed-on: https://chromium-review.googlesource.com/287676 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Remove old test expectations file.  This is no longer needed by Chromium after we land the GLES3 expectations patch.  BUG=angleproject:1071 BUG=510822  Change-Id: I63c2b020838aae8771314c959e9e7eb994bed93f Reviewed-on: https://chromium-review.googlesource.com/287518 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix glBlitFramebufferANGLE on Feature Level 10_0+ with render-to-backbuffer, 15312978, 382, 105, 382
Revert "ANGLETest::SetUp: resize the window only if needed."  Going to try reverting this as a potential fix to failures seen on the bots.  Can re-land in the morning if the failures don't clear up.  Failures seen on all windows bots now.  This reverts commit 15ca829680f81b26dfbcb59e9d53554cb1b29395.  Change-Id: Ic2904e00e8d53b2cc8939b36953f47f131c5e6c2 Reviewed-on: https://chromium-review.googlesource.com/287846 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement gl_FragDepth for GLES SL 3.0"  assertion failures in WebGL2 CTS.  This reverts commit 544809610a131fe7040f2212789c62e212bbaf24.  Change-Id: I2e0c7045c5b6ef9031a6e6c5916504fe68f51077 Reviewed-on: https://chromium-review.googlesource.com/287910 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable point sprites in StateManagerGL.  Test it against multiple versions of the OpenGL renderer so make sure that both core and compatibility profile are tested.  Fixes:  * conformance/rendering/point-size.html  * conformance/rendering/point-with-gl-pointcoord-in-fragment-shader.html  * PointSpritesTest  * particle_system sample  BUG=angleproject:883  Change-Id: I31f1c3d9bee1d191b4d731afbaa2d6de1a5c9454 Reviewed-on: https://chromium-review.googlesource.com/287855 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Enable point sprites in StateManagerGL."  Failures on AMD and Intel bots.  This reverts commit e1bb74e7305cee5ea92ecd2b3b3d2ecad1cdee32.  Change-Id: I8ae50bcf9ca365969f5231105fadc28f843aa527 Reviewed-on: https://chromium-review.googlesource.com/287854 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable more GL extensions.  Fixes:  * conformance/canvas/canvas-test.html  * conformance/canvas/draw-static-webgl-to-multiple-canvas-test.html  * conformance/canvas/to-data-url-test.html  * conformance/context/context-attribute-preserve-drawing-buffer.html  * conformance/context/premultiplyalpha-test.html  * conformance/extensions/oes-texture-float-with-canvas.html  * conformance/extensions/oes-texture-half-float-with-canvas.html  * conformance/textures/misc/gl-pixelstorei.html  * conformance/textures/misc/tex-image-canvas-corruption.html  Change-Id: Iab37a211c498ed0eece4c1748cf8b4ab6c0f53e0 Reviewed-on: https://chromium-review.googlesource.com/274444 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix compilation warning in ANGLETest  BUG=angleproject:1105  Change-Id: I5f5f0ebea4fa83cc03df932e60e5843ba380597b Reviewed-on: https://chromium-review.googlesource.com/287831 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add missing 'our' to README, 15312978, 382, 105, 382
Enable point sprites in StateManagerGL.  Test it against multiple versions of the OpenGL renderer so make sure that both core and compatibility profile are tested.  Fixes:  * conformance/rendering/point-size.html  * conformance/rendering/point-with-gl-pointcoord-in-fragment-shader.html  * PointSpritesTest  * particle_system sample  BUG=angleproject:883  Change-Id: Ib7625cb12faeac21016a9ff551aa650ba24e789f Reviewed-on: https://chromium-review.googlesource.com/277692 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement gl_FragDepth for GLES SL 3.0  Makes it an error to access gl_FragDepthEXT  in #version 300 es shader.  TODO: Lacks the feature to make "#extension GL_EXT_frag_depth : require" an error for #version 300 es.  BUG=angleproject:1102 TEST=angle_unittest  Change-Id: Ic313a0e1ed6369550d53885290f300fab1aaf304 Reviewed-on: https://chromium-review.googlesource.com/287570 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ANGLETest::SetUp: resize the window only if needed.  This avoids a flickering of the window at the start of every test.  BUG=angleproject:1105  Change-Id: Ib277ad5cfef97e00d27408f8feaa8ccba9a5e032 Reviewed-on: https://chromium-review.googlesource.com/287640 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
EGLWindow: remove the unused width and height  EGLWindow does nothing with it per se but some code was relying on it to store it. Add width and height to ANGLETest and SampleApplication instead. Also fix a typo in PerfTestParams widowWidth -> windowWidth.  BUG=angleproject:1105  Change-Id: I26da607a2e6342864b508a50ee3cf8944608f868 Reviewed-on: https://chromium-review.googlesource.com/287379 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Expose GL built-in output variables in ShGetOutputVariables  Expose GL built-in output variables in ShGetOutputVariables. Currently gl_FragColor gl_FragData and gl_FragDepthEXT are exposed.  The output variable names in the returned array are the input shader names not the output shader names.  This is needed in future features in which the emulation layer (command buffer/libANGLE) needs to know which output variables caller used.  Example of such a feature is EXT_blend_func_extended where gl_SecondaryFragColorEXT and gl_SecondaryFragDataEXT cause the need to bind the emulated output variables to their respective color indices.  BUG=angleproject:1085 TEST=angle_unittests  Change-Id: I7ca3e0fe6bdd3e3c66113518aa771cbb013fc014 Reviewed-on: https://chromium-review.googlesource.com/287230 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Kimmo Kinnunen <kkinnunen@nvidia.com>, 15312978, 382, 105, 382
IndexDataManager: always add the offset when streaming  When the static buffer has just been invalidated we stream from the buffer directly for some time. This streaming forgot to offset the starting point causing a bug.  BUG=510585  Change-Id: I8321e462841eb0bd7ed97ab78197914cbdb68c55 Reviewed-on: https://chromium-review.googlesource.com/287525 Reviewed-by: Hendrik Wagenaar <hendrikw@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP: Update dEQP-GLES3 test expectations.  Tests are all green on my local Nvidia configuration.  BUG=510822 BUG=angleproject:1071  Change-Id: I56d30089d574e795cfbd012ce7430896856d32ee Reviewed-on: https://chromium-review.googlesource.com/287517 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a GLES3 GoogleTest target.  BUG=510822 BUG=angleproject:1071  Change-Id: Ia2e6d0ac71e61dbed75e55994d2bf874a75fabd6 Reviewed-on: https://chromium-review.googlesource.com/286831 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make sure the given display is a valid pointer.  EGL functions are supposed to return EGL_BAD_DISPLAY when the display is an invalid pointer.  Since there is very rarely more than one simultaneous display iterating through the map is not costly.  BUG=angleproject:970  Change-Id: I3d9b842a49c5c99f9b8fad3d7ef53f9f5d3057ba Reviewed-on: https://chromium-review.googlesource.com/287342 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Print outputs when printing variables in shader translator  Print outputs when printing variables in shader translator.  BUG=angleproject:1085  Change-Id: I67e301c4392fef70e6a186d404aff720b601a08d Reviewed-on: https://chromium-review.googlesource.com/287214 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add ability to select GLSL output type to shader translator  User can pass -x=g130 ... -x=g450 to get output in specific GLSL version. Passing -x=g selects GLSL compatiblity profile.  BUG=angleproject:1085  Change-Id: Ia680e219eacb0e8a53b711ae277ecebf069dfdc7 Reviewed-on: https://chromium-review.googlesource.com/287220 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Kimmo Kinnunen <kkinnunen@nvidia.com> Commit-Queue: Kimmo Kinnunen <kkinnunen@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add skeleton for DisplayNSGL and WindowSurfaceNSGL  BUG=angleproject:891  Change-Id: Ie79e76c68775e1144ac224a4f1eba85f8a889269 Reviewed-on: https://chromium-review.googlesource.com/286829 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add stubs for EGL image entry points and validation.  BUG=angleproject:970  Change-Id: Ic3b9f9f60146920571e0e5f00fac2273c35fff2f Reviewed-on: https://chromium-review.googlesource.com/287162 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
ES3: Fix off-by-one max enabled attrib.  In some cases we would have a 'max enabled' attrib that was checked incorrectly and this could lead to edge cases which crash when we have a vertex attribute and buffer both NULL.  BUG=angleproject:1081 TEST=dEQP-GLES3.functional.lifetime.attach.deleted_input.buffer_vertex_array  Change-Id: I62a9fa79f38340c99a708e54751d2b67dd4b6c1f Reviewed-on: https://chromium-review.googlesource.com/286854 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ES3: Fix crash when binding nullptr to DEPTH_STENCIL.  In some cases binding nullptr could query for the internal format of the null object causing us to dereference null and crash.  BUG=angleproject:1080 TEST=dEQP-GLES3.functional.multisample.fbo_*  Change-Id: I592ab31dc1efadfac003c39051632fc2a0fff0cc Reviewed-on: https://chromium-review.googlesource.com/286853 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ES3: Fix assertion failure in validation edge case.  Passing a 2D texture type to a 3D texture function could result in an explosion.  BUG=angleproject:1079 TEST=dEQP-GLES3.functional.negative_api.texture.compressedteximage3d  Change-Id: Ibfcc4bdb334270f8fa27ebed6bcc3911986e7c7c Reviewed-on: https://chromium-review.googlesource.com/286852 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix buffer alignment math in draw validation.  We had a bug where we would require "stride * primCount" bytes when drawing from a buffer when the last element would not require the full stride. The correct expression: "stride * (primCount-1) + size.  BUG=angleproject:1086 TEST=dEQP-GLES3.functional.vertex_arrays.single_attribute.strides.*  Change-Id: I7e2897c9d18b0e9849289d033f0ae2573237e4e5 Reviewed-on: https://chromium-review.googlesource.com/287320 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add helpers for checking EGL extension availablity in tests.  Also make sure that EGL_EGLEXT_PROTOTYPES is always defined so that extension functions can be used without loading them.  BUG=angleproject:970  Change-Id: I33fa3e8ed68aeda55ad69e1bc7826646f5e3ce29 Reviewed-on: https://chromium-review.googlesource.com/287161 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add angle_gl_library_type to allow making static libGLESv2 and libEGL  With this commit angle programs can be run under apitrace: when we use shared libraries the apitrace driver shim shadows ANGLE and redirects the GL calls to the driver which is not what we want.  BUG=angleproject:892  Change-Id: I32535ba8db6202b0b5b285e86abd472366ee3d03 Reviewed-on: https://chromium-review.googlesource.com/287270 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
ANGLETest: set viewport after resizing to help apitrace  Otherwise apitrace doesn't know the dimension of the framebuffer and cannot display it.  BUG=angleproject:892  Change-Id: Ib8ad846ca80e4783ab77c96430bb5220df1a39ab Reviewed-on: https://chromium-review.googlesource.com/286881 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Emulate the pack/unpack functions for unorms."  Causing MSAN failures on Linux.  This reverts commit 1915652ee82109d7756dc8349562c3c11ea39b77.  Change-Id: Ib23bec16eab22288930be0b41186e54cd8d1f921 Reviewed-on: https://chromium-review.googlesource.com/287127 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add an angle_link_glx that can be used for debugging  This replaces the dlsyming of glX entry point with linking to libGL which in trun allows the ANGLE to be traced using apitrace.  Re-land with a trivial compilation fix (MEMBER vs MEMEBER)  BUG=angleproject:892  Change-Id: Ie89b6fe26eb80d3d8d48f49645d7a6254230bf5c Reviewed-on: https://chromium-review.googlesource.com/287143 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
dEQP: Duplicate/rename gles2 test expectations.  This will clear the way to put the GLES3 tests on the bots.  BUG=angleproject:1071 BUG=510822  Change-Id: I65fc917425531f6c080bcc862802d25af10cf265 Reviewed-on: https://chromium-review.googlesource.com/287164 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Revert "Add an angle_link_glx that can be used for debugging"  This reverts commit cddca5f204d9aa55c9810cf30c74997ca19a7f86.  Change-Id: I07fa96a8b84308c77fb642a64f39fcacc471d96e Reviewed-on: https://chromium-review.googlesource.com/287123 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add an angle_link_glx that can be used for debugging  This replaces the dlsyming of glX entry point with linking to libGL which in trun allows the ANGLE to be traced using apitrace.  BUG=angleproject:892  Change-Id: Ic065582401e0e1e3fce1329cde216220a1e086a8 Reviewed-on: https://chromium-review.googlesource.com/286880 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix missing uint cases for GLSL and ESSL output.  These were causing assertions in several WebGL2 conformance tests.  BUG=angleproject:882 BUG=angleproject:1084 BUG=483282  Change-Id: I7651c359a528c95469dcbfb5da2715ae4616b49b Reviewed-on: https://chromium-review.googlesource.com/286592 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Initialize all members in the default TType constructor.  This is an attempt to fix use-of-uninitialized-value errors. Example failure: https://build.chromium.org/p/tryserver.chromium.linux/builders/linux_chromium_msan_rel_ng/builds/68/steps/cc_unittests%20%28with%20patch%29/logs/EnlargedTextureWithAlphaThresholdFilter.GL  BUG=angleproject:1044  Change-Id: I5906c67a55da553e2e5fd15320a5dd4186644e87 Reviewed-on: https://chromium-review.googlesource.com/287191 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make all fragment shader out variables require location layout qualifier  Make all fragment shader out variables require location layout qualifier. Previously the last variable did not need a location layout qualifier if the previous variables had those.  TEST=angle_unittests BUG=angleproject:1070  Change-Id: Ifb66ee52b811409f5278eaad330d6cd9b8ea059f Reviewed-on: https://chromium-review.googlesource.com/287100 Tested-by: Kimmo Kinnunen <kkinnunen@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Always try to load the extension entry points.  Despite many extensions being written against specific versions of the GL spec some drivers (Intel) expose the extensions in much earlier versions.  This leads to issues where the extension string would be present but the entry points were not loaded.  BUG=angleproject:1038  Change-Id: Ia87bb3f038f310f6bc3e711a0b2d82717b67ae70 Reviewed-on: https://chromium-review.googlesource.com/286525 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
When the GL version is below 3.0 use GL_MAX_VARYING_FLOATS.  It should be equivalent to GL_MAX_VARYING_COMPONENTS for ES2.  BUG=angleproject:1038  Change-Id: Ic2fe6c27a0ebd6259d70f8d28edb7d4bdd5d0c35 Reviewed-on: https://chromium-review.googlesource.com/286526 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a profile mask member to the FunctionsGL structure.  BUG=angleproject:883  Change-Id: I3cdf88391e77a26a77e120de0fd32296a2b079d1 Reviewed-on: https://chromium-review.googlesource.com/286822 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update ContributingCode to mention 'git cl format'.  BUG=angleproject:762  Change-Id: Ic0f862ac901eb793266e68ce26cc9be67d5cb12d Reviewed-on: https://chromium-review.googlesource.com/286862 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D: No-op ClearBufferfi calls with no DS attachments.  The ES3 spec is clear that these calls should no-op see page 187  "If a buffer is not present then a Clear directed at that buffer has no effect."  BUG=angleproject:1078 TEST=dEQP-GLES3.functional.fbo.msaa.2_samples.*  Change-Id: Ic521f55785d10065e2ffe2e98a68c9d7da0c2c71 Reviewed-on: https://chromium-review.googlesource.com/286776 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Make all fragment shader out variables require location layout qualifier"  Causes a warning on Windows:  compiler\translator\ValidateOutputs.cpp(37): warning C4804: '>' : unsafe use of type 'bool' in operation  BUG=angleproject:1070  This reverts commit 140941d066c11238ba4f2f15647fb2d65ae56faf.  Change-Id: Ieed42cdda22f17c6e15c38ee1c059184869e6919 Reviewed-on: https://chromium-review.googlesource.com/286820 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make all fragment shader out variables require location layout qualifier  Make all fragment shader out variables require location layout qualifier. Previously the last variable did not need a location layout qualifier if the previous variables had those.  TEST=angle_unittests BUG=angleproject:1070  Change-Id: I3763b8ca38b1e14ee8456a54592c01e0fd89692c Reviewed-on: https://chromium-review.googlesource.com/286101 Tested-by: Kimmo Kinnunen <kkinnunen@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add clang-format integration for 'git cl format'.  This will allow us to eventually make a presubmit script for ANGLE and also will help new contributors who aren't as familiar with the style guide.  One outstanding issue is the lack of proper breaking before array initializers. We don't use arrays all over the place but this will likely require a patch for clang.  BUG=angleproject:762  Change-Id: I4702b1fcdfa10b7682b07316be59ec67bcf84943 Reviewed-on: https://chromium-review.googlesource.com/285901 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ES3-D3D11: Fix UBO vertex caching.  There was a typo in the vertex shader cache which could trigger an overflow bug.  TEST=dEQP-GLES3.functional.ubo.random.scalar_types.* BUG=angleproject:1077  Change-Id: I5652cf9675155b627f84531e09c01b42e29278fc Reviewed-on: https://chromium-review.googlesource.com/286775 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix regression with R32I blits.  The blit refactoring mislabeled one shader as GL_RED instead of GL_RED_INTEGER.  BUG=angleproject:1076 TEST= dEQP-GLES3.functional.fbo.render.shared_depth_stencil.*  Change-Id: I262b218c72d955a88a2d2c00b470d6a4f3568451 Reviewed-on: https://chromium-review.googlesource.com/286774 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
ES3: Add some missing unsized formats to the format tables.  These were causing validation errors in the dEQP FBO tests. See Table 3.2 in the ES3 spec.  BUG=angleproject:1074 TEST=dEQP-GLES3.functional.fbo.completeness.renderable.texture.color0.*  Change-Id: Ifbf9199c54060eb3fc1a1dac7bbd74e19e013c61 Reviewed-on: https://chromium-review.googlesource.com/286773 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Fix mapBufferRange not invalidating static data.  This was causing several dEQP tests with index data to fail.  BUG=angleproject:1073 TEST=dEQP-GLES3.functional.buffer.map.read_write.render_as_index_array.*  Change-Id: Ic231a561202fbcda499b7584905b80252a7407de Reviewed-on: https://chromium-review.googlesource.com/286772 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
HLSL: Fix uniform packing for non-square matrices.  We were neglecting to transpose the types here so were getting incorrect registers counts for rows and columns.  BUG=angleproject:1072 TEST=dEQP-GLES3.functional.shaders.matrix.*  Change-Id: Ia0ab89bbba8b9e2d8f39e84ef4e8ad3c03bb118d Reviewed-on: https://chromium-review.googlesource.com/286771 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Use texture format not SRV format for mip gen test.  Using the SRV format could lead to using R32F for D32F formats which is incorrect.  BUG=angleproject:1075 TEST=dEQP-GLES3.functional.fbo.blit.*  Change-Id: Ic81d51b888897a7f7c79e2ba1a24ab69f18d981c Reviewed-on: https://chromium-review.googlesource.com/286770 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use the type cache for the types used in the emulated GLSL functions.  BUG=angleproject:1044  Change-Id: I7c4bde80448b2cd64921b809a3a0dfb37c4e0f47 Reviewed-on: https://chromium-review.googlesource.com/286643 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix order of Renderer11 initializer list.  BUG=angleproject:916  Change-Id: I5be7460b737095eedb886be3e8978765c0940757 Reviewed-on: https://chromium-review.googlesource.com/286784 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Compiler: avoid an undefined behavior when using erase-remove  Using that idiom on an empty vector results in an undefined behavior that I have seen cause a vector to get length -1 with clang 3.6 on Linux.  BUG=  Change-Id: I3bb8d8884efa29a17672b458263067644dbf0fec Reviewed-on: https://chromium-review.googlesource.com/286740 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove GetAttachmentSerial.  Cascades to remove serials from many objects.  BUG=angleproject:970  Change-Id: I0a74a14519da3203cd5df7ae0fa19f83393951ce Reviewed-on: https://chromium-review.googlesource.com/286554 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Handle non-zero base level with mipmapping disabled in D3D9.  BUG=angleproject:970  Change-Id: I33120ec8121dc1265360fbbe61103e03e593af3f Reviewed-on: https://chromium-review.googlesource.com/286550 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Mention NuGet in the ANGLE README, 15312978, 382, 105, 382
Add mocks of TextureImpl and RenderbufferImpl.  BUG=angleproject:970  Change-Id: I63a7d8363f90018827c5d8482c9d98f3fa61c573 Reviewed-on: https://chromium-review.googlesource.com/286553 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove RenderbufferImpl.cpp  BUG=angleproject:970  Change-Id: I1606df42e6423fe84d3ab69029a37224adb89a9b Reviewed-on: https://chromium-review.googlesource.com/286552 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a RefCountObject::getRefCount method for testing.  BUG=angleproject:970  Change-Id: I4fae29766ee76512375872535dbaf2d31a379de0 Reviewed-on: https://chromium-review.googlesource.com/286551 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Emulate the pack/unpack functions for unorms.  BUG=angleproject:1044  Change-Id: I0e7bee366398159ae6b87a820f36cb51c05cb064 Reviewed-on: https://chromium-review.googlesource.com/280362 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update WebGL test expectations.  Change-Id: I24ea67f354191697d8a577c8b21ccc1689dd3536 Reviewed-on: https://chromium-review.googlesource.com/286016 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
X11Window::resize wait for the window to be resized before returning  This will help address a bug in glReadPixels performed after a resize.  BUG=angleproject:1050  Change-Id: Ie204dec229582ec0e990c6f7fa22cfd44048d46e Reviewed-on: https://chromium-review.googlesource.com/286250 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceGLX: swap after resizing the child window.  This reverts ac2582d3aac25f2a5c504af146ca614761fc3f7e which was a speculative improvement. It turns out that resizing before the swap is important as it lets the driver know that it should resize the default framebuffer making the following frame have a default framebuffer of the right size.  BUG=angleproject:1050 BUG=angleproject:892  Change-Id: I84ec3728226fde9fb208f91c02a3d5a1ab71aef8 Reviewed-on: https://chromium-review.googlesource.com/286252 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceGLX: Do not send an unused border_pixel to XCreateWindow  This was a typo that never had any effect but it could cause problems in Debug but in release border_pixel could have contain garbage and cause an X11 error.  BUG=angleproject:892  Change-Id: Id6dc24c726730d998b419101239b3a43d6675330 Reviewed-on: https://chromium-review.googlesource.com/286251 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
ANGLETest: swap after resizing the window before running the test.  This allows the test code to assume that the framebuffer size is equal to the window size.  BUG=angleproject:1050  Change-Id: Ia4928d7a1d6cddb1ae330846bb44576db6a37533 Reviewed-on: https://chromium-review.googlesource.com/286253 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Renderer11: expose a metric for the Buffer11 CPU copies size  This will allow us to measure the impact of subsequent optimizations on the memory consumption of Chrome.  BUG=angleproject:916  Change-Id: Ib57fdfcc2950917eff33080bfb3db574595ecb6d Reviewed-on: https://chromium-review.googlesource.com/284637 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Move function prototypes and declarations out of the .y  This will make the code easier to edit and maintain.  BUG=none TEST=angle_unittestsangle_end2end_tests  Change-Id: I955307d1209170fa99142103bc4d361c9eab1cc8 Reviewed-on: https://chromium-review.googlesource.com/286145 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Only sync attributes used by the current program in RendererGL.  Improves draw call overhead of RendererGL.  DrawCallPerf_gl: Before: 136973 score After: 153317 score Improvement: 11.932%  BUG=angleproject:959  Change-Id: Ib75f6fdd756648e4a07f6e970cda03abbdbcf009 Reviewed-on: https://chromium-review.googlesource.com/275409 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Inline comparison operators of several small ANGLE structs.  Improves draw call overhead of RendererGL.  DrawCallPerf_gl: Before: 129779 score After: 136973 score Improvement: 5.543%  No noticeable difference in DLL size or draw call perf of the D3D renderers.  BUG=angleproject:959  Change-Id: Id54d49e9e2cfb69431ee26d632c58fee2c42b82c Reviewed-on: https://chromium-review.googlesource.com/275408 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use a map to store uniform locations instead of a vector.  Some intel drivers use seemingly arbitrary integers as uniform locations. This causes the location vector to be resized to arbitrarily large sizes.  BUG=angleproject:882  Change-Id: I8db89178907dd6206eb8e646a0b426aa9bac0832 Reviewed-on: https://chromium-review.googlesource.com/274816 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
EGLWindow: correctly retrieve mAlphaBits  BUG=angleproject:1065  Change-Id: I1e396d1bd4d1c65edc3ad07bb32f895135d59474 Reviewed-on: https://chromium-review.googlesource.com/285180 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement OSXWindow.  BUG=angleproject:891  Change-Id: If8aefa4a37ba7d1b6b08921bee61463bb20550af Reviewed-on: https://chromium-review.googlesource.com/285834 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
X11Window: Add missing handling of Keypad's '5' key.  BUG=angleproject:891  Change-Id: Icb0dc3449db6982979a93a394fb9e0c58413a256 Reviewed-on: https://chromium-review.googlesource.com/285836 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
OSWindow: small fix to the formatting of key event debugging  BUG=  Change-Id: I09ab785311ec0fa7f3eecb6484a965378a1fef0d Reviewed-on: https://chromium-review.googlesource.com/285835 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix 2D array texture redefinition.  Only happens with texture formats that require initialization.  BUG=angleproject:1069 TEST=dEQP-GLES3.functional.texture.format.sized.2d_array.* all pass  Change-Id: I215d1262cddcde4ed218b6f023e67747cbc3eeaf Reviewed-on: https://chromium-review.googlesource.com/285347 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@google.com>, 15312978, 382, 105, 382
Centralize renderer limitations for non-conformant renderers  Some renderer configurations (e.g. D3D11 Feature Level 9_3) have some limitations and aren't quite conformant. This change generates errors when applications hit these limitations and informs developers that they must work around them.  BUG=angleproject:1055  Change-Id: I6a4a9e5cc71288ca366a54c769ca0eb82e79a7f7 Reviewed-on: https://chromium-review.googlesource.com/282814 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Futher optimize input layout cache.  *re-land with fix for matrix attributes* *re-re-land with fix for attributes with BindAttribLocation*  Using the new vertex format type enum we can shrink the size of the input layout tables and reduce draw call overhead further.  BUG=angleproject:959  Change-Id: I181acd3d7d519f5587cbe180fb1bca8530b7cfc2 Reviewed-on: https://chromium-review.googlesource.com/285348 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Apply array restriction on qualified types only on ESSL1.00  Add a test that checks that uniforms with an array type are allowed in ESSL3.00.  TEST=angle_unittests BUG=angleproject:1061  Change-Id: I6c9e8eeb3e8a6b81522c87039b93bcc0008ae317 Reviewed-on: https://chromium-review.googlesource.com/285481 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix texture formats that only require extensions failing requirements checks.  Unset version requirements equate to UINT_MAX causing requirements checks for fail for formats that only need extensions such as DXT formats.  Fixes tests that require compressed formats.  Passes conformance/extensions/webgl-compressed-texture-s3tc.html  BUG=angleproject:884  Change-Id: Id810c477a359bf9d35a886c60735a91b51d1e931 Reviewed-on: https://chromium-review.googlesource.com/275693 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Futher optimize input layout cache."  Causing assertion failures in WebGL CTS in debug. Example build: https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Debug%20%28NVIDIA%29/builds/10215  This reverts commit 2ee580f10052c03a3a0e8c535bd7da82147133c3.  Change-Id: Idffcd848adb6898f77b3c758b214eb31ca1f6e05 Reviewed-on: https://chromium-review.googlesource.com/285326 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Check that layout qualifiers may only appear in declarations  In the shading language grammar layout qualifiers may appear in loop conditions and function declarations but this is not valid ESSL 3.00 according to section 4.3.8.  TEST=angle_unittests dEQP-GLES3.functional.shaders.*layout* BUG=angleproject:1064  Change-Id: I73f805247bf6678b953f2e1d45a23391e9eacb96 Reviewed-on: https://chromium-review.googlesource.com/285040 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Fix memory layout of imageformats.h's 16-bit structs"  Seeing failures in the new tests on Chrome's Intel bot: http://build.chromium.org/p/chromium.gpu.fyi/waterfall?builder=Win7%20Release%20(Intel)   Also seeing failures in the BlendMinMaxTest.RGBA16F test may be related.  Reverting for now can help diagnose the problems tomorrow if needed.  This reverts commit 61d46d8740f1f93878ef324e11e4d72c57de8c3a.  Change-Id: Id227f6ce8dafca24fbd2de92a2c4974e6a564c1f Reviewed-on: https://chromium-review.googlesource.com/285227 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix more links and incorrect newlines in markdown files.  Change-Id: I3c96b0408d80be0f47c968566301637f49fe98c6 Reviewed-on: https://chromium-review.googlesource.com/285224 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix more inconsistancies with the gitiles markdown renderer.  Change-Id: Ie960cc00f136d86e5e3702a8f2e2f0f1930a5f47 Reviewed-on: https://chromium-review.googlesource.com/285230 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix markdown parsing issues from gitiles.  Change-Id: I2d62f410075385a87106f0c94ac1ff7cdd110655 Reviewed-on: https://chromium-review.googlesource.com/285185 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the most popular wiki articles into markdown files.  Change-Id: Ide6ef3d9995d1f3f66de4b340a60b4bf350a9ddb Reviewed-on: https://chromium-review.googlesource.com/275479 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Handle the remaining pixel unpack parameters in TextureGL.  BUG=angleproject:884  Change-Id: I9e248e623f3b342f878bf65c9686768b90cf5ed8 Reviewed-on: https://chromium-review.googlesource.com/275692 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Sync pixel pack state before glReadPixels in FramebufferGL.  Fixes conformance/reading/read-pixels-pack-alignment.html  BUG=angleproject:885  Change-Id: I48f1598d9a67f3980d2ff86307eb107ec7506776 Reviewed-on: https://chromium-review.googlesource.com/275691 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing GL_STENCIL_INDEX8 format to the formatutilsgl table.  Fixes conformance/renderbuffers/framebuffer-object-attachment.html  BUG=angleproject:884  Change-Id: I421b563fa8549eb2edc42a9ac1c798fc457256ee Reviewed-on: https://chromium-review.googlesource.com/275690 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
LineLoopTest: Fix the test not rendering anything.  BUG=angleproject:1063  Change-Id: Id0772b5c8479150a1e736aa7cd35ec6444753278 Reviewed-on: https://chromium-review.googlesource.com/285126 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix memory layout of imageformats.h's 16-bit structs  Change-Id: I87c363f68394d868d2a72e84bfdfd64db0c6e1d0 Reviewed-on: https://chromium-review.googlesource.com/284652 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
D3D11: Futher optimize input layout cache.  *re-land with fix for matrix attributes*  Using the new vertex format type enum we can shrink the size of the input layout tables and reduce draw call overhead further.  BUG=angleproject:959  Change-Id: I6d8ad78a003c41f40e7e1caa5972838f8ff4fce8 Reviewed-on: https://chromium-review.googlesource.com/284811 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Changed d3d11 desktop renderer to use d3d9 debug annotation interfaces.  The D3D11 renderer must choose the D3D9 debug annotator because the D3D11 interface method ID3DUserDefinedAnnotation::GetStatus on desktop builds doesn't work with the Graphics Diagnostics tools in Visual Studio 2013. The D3D9 annotator works properly for both D3D11 and D3D9. Incorrect status reporting can cause ANGLE to log unnecessary debug events.  Change-Id: I9a31c63cbc506904eb39577826fc4df8d503f03a Reviewed-on: https://chromium-review.googlesource.com/278162 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Cooper Partin <coopp@microsoft.com> Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
After a create-on-bind the subsequent glGen* should not waste handle space.  Consider this calling sequence: glBindTexture(GL_TEXTURE_2D 3); // create-on-bind glGenTextures(1 tex);  Before this fix mUnallocatedList in HandleAllocator is in reverse sorted order. It's split into (4 MAX_UINT) and (1 3). The glGen gets tex = 4 and handles 1 and 2 will not be allocated until it reaches MAX_UINT. With this fix the elements in mUnallocatedList is in sorted order (1 3) and (4 MAX_UINT). So tex is 1 and we can have all rest handles.  Change-Id: If408ea92f7c243791119fe386e3e0ea27954e55c Reviewed-on: https://chromium-review.googlesource.com/273886 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Minmin Gong <mgong@microsoft.com>, 15312978, 382, 105, 382
Lazily load the HLSL compiler DLL.  If the user is loading resources straight from the disk with the binary shader cache they shouldn't need to load the compiler DLL at all. Note: might be a good idea to track more statistics here.  BUG=angleproject:1014  Change-Id: Ie75dcce3eb249347c545f1bbca7d0977df7addee Reviewed-on: https://chromium-review.googlesource.com/282554 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Check that block instance name isn't reserved  BUG=angleproject:1060 TEST=dEQP-GLES3.functional.shaders.uniform_block.invalid.*  Change-Id: I6de3aa0f714d585e7821798744530f3e51ddee7f Reviewed-on: https://chromium-review.googlesource.com/284259 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
EGLContextCompatibility: suppress test on Linux non-standalone  The tests turn out to fail before we have a context current on AMD so we cannot use isAMD and have to resort to disabling for all Linuxes on the FYI bots. Using MAYBE like Chrome doesn't seem to work with TEST_P.  BUG=angleproject:892  Change-Id: Ibabd2c359ce55c7677af0f8bd5723f845935f2be Reviewed-on: https://chromium-review.googlesource.com/284872 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/284749, 15312978, 382, 105, 382
Revert "EGLContextCompatibility: suppress test on Linux non-standalone"  Causing gyp generation failures on FYI bots: https://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Win%20Builder/builds/30490  This reverts commit af98f24aece19c3231d9e7300bbab5c323109b23.  Change-Id: I0b3ea26ee02591588bda14676211658b42135cf2 Reviewed-on: https://chromium-review.googlesource.com/284910 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
EGLContextCompatibility: suppress test on Linux non-standalone  The tests turn out to fail before we have a context current on AMD so we cannot use isAMD and have to resort to disabling for all Linuxes on the FYI bots. Using MAYBE like Chrome doesn't seem to work with TEST_P.  BUG=angleproject:892  Change-Id: Ie964168eb0b1d830dd1fd0988869adf39bc2309a Reviewed-on: https://chromium-review.googlesource.com/284872 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Cache TTypes.  *re-land with build fix for Win/Release*  This change saves us ~70KiB per compiler with just ~3KiB of cache.  BUG=492725  Change-Id: I4382c55b2480f70b00c5d117fcb7e0c51d0dfbb4 Reviewed-on: https://chromium-review.googlesource.com/284735 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Dmitry Skiba <dskiba@google.com> Reviewed-by: Alexis Hétu <sugoi@chromium.org>, 15312978, 382, 105, 382
Revert "Cache TTypes."  Unused variable warning in Release:  warning C4189: 'MaxEnumValue' : local variable is initialized but not referenced  I'll handle fixing this.  BUG=492725 This reverts commit b25d14e4b39ee273fad3bb585c3a3a929b3f794c.  Change-Id: I502fc5288d5d3c48ecd43f84acdf66b7e300ad22 Reviewed-on: https://chromium-review.googlesource.com/284863 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
egl::MakeCurrent: report platform's makeCurrent errors  This caused the context to be current from ANGLE's point of view while it wasn't from the driver's point of view.  BUG=angleproject:892  Change-Id: I0719b4702721916e9eb3a9f4cafc7a86dbc7a625 Reviewed-on: https://chromium-review.googlesource.com/284871 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
clang/win: Fix -Wunused-private-field warnings in debug builds.  No intended behavior change.  BUG=505317 Change-Id: I5dfa1d67715b18133f3373ca00a6d1d96b678043 Reviewed-on: https://chromium-review.googlesource.com/284850 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Added non square matrix construction  Added new construction operations for non square matrices along with the required changes to the related translation functions.  Change-Id: I04ae7d4b2d1bb363b35d088cea45c0e7c4bc8a13 Reviewed-on: https://chromium-review.googlesource.com/277729 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added winrt project generation to gclient sync  BUG=angleproject:1057  Change-Id: Ic52c385cb19f6ddccaf3d46a88a56670da0cf67d Reviewed-on: https://chromium-review.googlesource.com/283987 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Cache TTypes.  This change saves us ~70KiB per compiler with just ~3KiB of cache.  BUG=492725  Change-Id: I7b8053c032c9c68f646162baf61abf6db3afe52e Reviewed-on: https://chromium-review.googlesource.com/284003 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Share data between VertexArray and Impl.  Using the same design as for the Framebuffer::Data helper we can use a struct to share between the object and the Impl. This also gives the Impl access to the maxEnabledAttrib and saves some duplicated storage.  BUG=angleproject:1040 TEST=WebGL CTS end2end_tests unittests  Change-Id: I55c91e8a5f3dcae302cab441182320aafd5375ef Reviewed-on: https://chromium-review.googlesource.com/283930 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Futher optimize input layout cache."  This seems to have broken some dEQP tests in debug build possibly uncovering a previously undetected bug.  TEST=dEQP-GLES3.functional.shaders.linkage.varying.basic_types.*  This reverts commit d2328a5246d8e0ab8a3dde1b30b80ce5e161e6f3.  Change-Id: I9f082d7a6fca38b4c076fecc342ac40d5416ebef Reviewed-on: https://chromium-review.googlesource.com/284780 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Matrix layout qualifiers are valid for non-matrices  Uniform block members may be structs containing matrices and there's no explicit mention in the spec that the matrix qualifiers would only be valid for matrix fields. Only generate a warning when an extraneous matrix layout qualifier is used.  TEST=dEQP-GLES3.functional.shaders.*layout* (all pass with this patch) BUG=angleproject:1058  Change-Id: Ifb2f2392d84100d997cc2d68fd55e9ad17a17cea Reviewed-on: https://chromium-review.googlesource.com/284112 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
clang/win: Fix a -Wreorder warning  ..\..\third_party\angle\src\libANGLE\renderer\d3d\d3d11\SwapChain11.cpp(307) : error: field 'mDepthStencilRenderTarget' will be initialized after field 'mPassThroughResourcesInit' [-Werror-Wreorder]       mDepthStencilRenderTarget(this renderer true)       ^  While here also reorder the fields that are initialized in the constructor to match the order the fields are declared in to make it easier to see if any are missing.  No intended behavior change.  BUG=505304  Change-Id: If48195c84161868d33d4361088d3ad22b7a0fc31 Reviewed-on: https://chromium-review.googlesource.com/284682 Reviewed-by: Nico Weber <thakis@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Suppress dEQP failure only showing on the bot.  Unsure why this is failing:  functional.shaders.struct.local.dynamic_loop_struct_array_fragment  BUG=angleproject:1059  Change-Id: I72e05269f831769a763c44354b95a7224edb72fa Reviewed-on: https://chromium-review.googlesource.com/284636 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Futher optimize input layout cache.  Using the new vertex format type enum we can shrink the size of the input layout tables and reduce draw call overhead further.  BUG=angleproject:959  Change-Id: Iea595fa64edbbd91f669138dfdeb9d2543b83929 Reviewed-on: https://chromium-review.googlesource.com/277291 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Refactor vertex format tables.  Use switch statements based on the format type enum instead of a map from the old VertexFormat structure to the info payload. This saves on lookup and initialization time.  BUG=angleproject:959  Change-Id: I6d1bf282c88f67272ca067cb64bc71e77824a12e Reviewed-on: https://chromium-review.googlesource.com/277290 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add isolate for ANGLE on all platforms.  This will be included in isolates for targets which really need it; initially angle_end2end_tests.  BUG=angleproject:892  Change-Id: I466455b0cc50a70980ddc09a6db2211f13774abc Reviewed-on: https://chromium-review.googlesource.com/284361 Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Antoine Labour <piman@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disallow texture lookup functions in global initializers  Do this by simply disallowing all function calls in global initializers - all built-in math ops are handled as other ops not function calls.  This change was tested extensively with popular WebGL content with no regressions found.  TEST=angle_unittests BUG=angleproject:988  Change-Id: Id1107fa294ae4012d5dd3949539d0b7b4cd21943 Reviewed-on: https://chromium-review.googlesource.com/283703 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make Buffer11::mBuffersStorages an array instead of a map  BUG=angleproject:516  Change-Id: I7f969435a89c0063b504628d2ec3321cc02df7ce Reviewed-on: https://chromium-review.googlesource.com/283243 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
D3D11: map index buffers only when needed.  Before this patch index buffers where always mapped in case we needed the index data for the indexed point sprites workaround. This patch makes it so the index buffer is only mapped in this case when we need to stream index data or when we need to fill the static copies of the index buffers.  This make the memory usage of http://alteredqualia.com/xg/examples/mammoth.html go down from 41MB to 28MB.  BUG=angleproject:516  Change-Id: I937506d06fd6f074ef2120469dbd235e20245fca Reviewed-on: https://chromium-review.googlesource.com/283626 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Calculate TFunction::mangledName lazily.  This saves us ~15KiB per compiler instance on 32-bit Android.  BUG=492725  Change-Id: I9db2998482941b5ab2eb5cb4925cbd1fb58ab4be Reviewed-on: https://chromium-review.googlesource.com/283584 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix build on Windows.  WindowTest.cpp was missing <algorithm> for std::min and std::max.  BUG=angleproject:892  Change-Id: I9bf6e7b8e66cd4ffc34ee639f495b469dabde91a Reviewed-on: https://chromium-review.googlesource.com/284590 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Support constant folding of fragment processing built-ins  This change adds constant folding support for following derivative functions:     - dFdx dFdy and fwidth. As per spec derivatives of constant arguments should be 0 so this change just sets result components to zero when the above operations are performed on constant argument.  BUG=angleproject:913 TEST=dEQP Tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions. fragment_processing.* (All 12 tests started passing with this change.)  Change-Id: I67b7c5abd970b740e15e3bd1ee56721e81bbecc4 Reviewed-on: https://chromium-review.googlesource.com/283759 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support constant folding of more common built-ins  This change adds const folding support for below mentioned common built-ins:     - isnan ininf floatBitsToInt floatBitsToUint       intBitsToFloat and uintBitsToFloat  BUG=angleproject:913 TEST=angle_unittests(new: MathUtilTest.isNan/inInf) dEQP Tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.* (20 more tests started passing with this change)  Change-Id: Ifdedb251cd8b183b4999314c0f5de857bc20702f Reviewed-on: https://chromium-review.googlesource.com/283767 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix typo in Buffer11::getContantBufferRangeStorage  BUG=angleproject:516  Change-Id: I907ec41ce5691300d17ca5b08a62b0d4579b01e5 Reviewed-on: https://chromium-review.googlesource.com/283244 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Simplify the flow of IndexDataManager::prepareIndexData  This will simplify the work on follow up CLs a lot  BUG=angleproject:516  Change-Id: Ie8374ec28fce2e01e76c711a4d280e1ed004a21f Reviewed-on: https://chromium-review.googlesource.com/283380 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
OSWindow: add KeyEvent debugging  BUG=angleproject:892  Change-Id: I35288ff43fb7a50a327047eacb8f41ca91e2b441 Reviewed-on: https://chromium-review.googlesource.com/283471 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a WindowTest sample to test OSWindow manually  This will help port OSWindow to other platforms.  BUG=angleproject:892  Change-Id: If9884d310d80421e2fc09cffd03bcf01327b1eee Reviewed-on: https://chromium-review.googlesource.com/283900 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
EGLContextCompatibilityTest: check for suppression only when a context is bound.  Otherwise glGetString(GL_RENDERER) returns "ANGLE" and doesn't provide information on the vendor.  BUG=angleproject:892  Change-Id: I01899ca78656aaa8db860829c78bf3c61c355eae Reviewed-on: https://chromium-review.googlesource.com/284051 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Refactor how we store vertex formats.  Instead of storing a vertex format as a struct with the full info instead use an enum and look up the info when we need it. This saves a lot of constructor initialization time operator comparison time and storage. It also will allow us to look up D3D format info more quickly.  BUG=angleproject:959  Change-Id: I202fd1ea96981073bc1b5b232b1ec3efa91485cb Reviewed-on: https://chromium-review.googlesource.com/277289 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix the InputLayoutCache test on Windows 8.  On some configs this would use an RGBA4 16-bit backbuffer which is not enough resolution for the test. Fix this by requiring 32-bit backbuffers. We might also want to figure out if we want to default to 16-bit on Windows 8 desktop which seems less than ideal.  BUG=angleproject:959  Change-Id: I53b3a9ef6cbecf76c7c764623e5eb1f454a6b72d Reviewed-on: https://chromium-review.googlesource.com/283773 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Austin Kinross <austin.kinross@gmail.com> Reviewed-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix another clang warning with -Wmissing-braces in ANGLE.  Clang warns if there are missing braces around a subobject initializer. The most common idiom that triggers this is: STRUCT s = {0}; which can be more simply written as: STRUCT s = {};  BUG=505297  Change-Id: Ie9f9037a1ba4b6303daa30424cdc24c1ecf18896 Reviewed-on: https://chromium-review.googlesource.com/284160 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor unary operation constant folding code  This change splits TIntermConstantUnion::foldUnary into two functions:     - foldUnaryWithDifferentReturnType:         - Handles constant folding of operations where the return           type has a different number of components compared to the           operand type.     - foldUnaryWithSameReturnType:         - Handles constant folding of unary operations where the           return type is the same as operand type.  BUG=angleproject:913 TEST=angle_unittests dEQP Tests (dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.*)  Change-Id: I675891138d4e17fd2390c03e9f710e0be0b7c7b6 Reviewed-on: https://chromium-review.googlesource.com/283464 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Constant fold float pack/unpack functions  This change adds constant folding support for following floating point pack and unpack functions:     - packSnorm2x16 unpackSnorm2x16 packUnorm2x16 unpackUnorm2x16       packHalf2x16 and unpackHalf2x16.  BUG=angleproject:913 TEST=angle_unittests(new: MathUtilTest.packAndUnpack*) dEQP Tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.float_pack_unpack.* (all 10 tests started passing with this change)  Change-Id: I2b69faebee4127e5e13900b3a9485b7145950277 Reviewed-on: https://chromium-review.googlesource.com/282683 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable using globals as l-values in global initializers  It should not be possible to use globals as l-values in global initializers.  This change was tested extensively with popular WebGL content with no regressions found.  TEST=angle_unittests BUG=angleproject:988  Change-Id: I21ab731eb1d92aeae25795856ccae280792ad1f0 Reviewed-on: https://chromium-review.googlesource.com/283910 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Suppress angle_end2end_tests failures on Linux/NVIDIA and Linux/AMD.  Verified the NVIDIA suppression locally; assuming the AMD suppression will take effect on the bot. Thanks to geofflang@ and cwallez@ for the suggestion on the approach to take.  BUG=angleproject:892  Change-Id: Ida4b6c1395185b0dfb0ea890395e35cb6db7ccd5 Reviewed-on: https://chromium-review.googlesource.com/283974 Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Cache TTypes."  Lots of compile errors.  BUG=492725  This reverts commit 5377720aae042c5bfae0e8a37032c90dc3ab78cf.  Change-Id: I64889b99b1f1f48d39b87ebb668f6a32a3abac45 Reviewed-on: https://chromium-review.googlesource.com/283945 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
EGLSurfaceTest: run d3d specific tests only on d3d.  This is to help with the FYI bot and pending a refactor to use our test instantiation.  BUG=angleproject:892  Change-Id: I56e772d7988a2172ad2384bdf408a8eaeab7129a Reviewed-on: https://chromium-review.googlesource.com/283971 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Cooper Partin <coopp@microsoft.com> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fixed winrt builds and regenerated projects, 15312978, 382, 105, 382
Cache TTypes.  This change saves us ~70KiB per compiler with just ~3KiB of cache.  BUG=492725  Change-Id: I2ee748f7271b1afe0834083cbff6f0b84104aa53 Reviewed-on: https://chromium-review.googlesource.com/281411 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Dmitry Skiba <dskiba@google.com>, 15312978, 382, 105, 382
Include libEGL.so and libGLESv2.so in ANGLE-based isolates on Linux.  Fixes problem where the glBlitFramebufferANGLE symbol couldn't be found because Mesa's libGLESv2.so was being picked up.  BUG=angleproject:892  Change-Id: Ia3c55bd8eb3f078350adf4cc504bbbed6d97cb0b Reviewed-on: https://chromium-review.googlesource.com/283950 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fixed up merge, 15312978, 382, 105, 382
X11Window: handle key presses and releases  BUG=angleproject:892  Change-Id: I66690ba49789faa672f6ed58e9eb8a2482eb4f6d Reviewed-on: https://chromium-review.googlesource.com/283472 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
For WinRT add EGLRenderSurfaceScaleProperty to specify swapchain scaling factor  Change-Id: Iede6682306082346cf2a3a55fe58f732b7a453df Reviewed-on: https://chromium-review.googlesource.com/277931 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disallow user-defined function calls in global variable init  Generate an error message when an user-defined function call is found in a global variable initializer.  Even before this patch the call graph already marked functions that were only called from the global scope as unused.  This change was tested extensively with popular WebGL content with no regressions found.  TEST=angle_unittests BUG=angleproject:988  Change-Id: Iec1b16d2af386f1e5c383f86926d80cef553b694 Reviewed-on: https://chromium-review.googlesource.com/283291 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Merge branch 'google/master' into ms-master  Conflicts: 	DEPS 	build/common_defines.gypi 	generate_winrt_projects.py 	src/libANGLE/features.h 	src/libANGLE/renderer/d3d/VertexDataManager.cpp 	src/libANGLE/renderer/d3d/d3d11/Clear11.cpp 	src/libANGLE/renderer/d3d/d3d11/Clear11.h 	src/libANGLE/renderer/d3d/d3d11/DebugAnnotator11.cpp 	src/libANGLE/renderer/d3d/d3d11/RenderTarget11.h 	src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp 	src/libANGLE/renderer/d3d/d3d11/SwapChain11.cpp 	src/libANGLE/renderer/d3d/d3d11/TextureStorage11.cpp 	src/libANGLE/renderer/d3d/d3d11/formatutils11.cpp 	src/libANGLE/renderer/d3d/d3d11/renderer11_utils.h 	src/libANGLE/renderer/d3d/d3d11/winrt/CoreWindowNativeWindow.cpp 	src/libGLESv2.gypi 	src/tests/gl_tests/DepthStencilFormatsTest.cpp 	src/tests/gl_tests/DrawBuffersTest.cpp 	src/tests/gl_tests/FramebufferFormatsTest.cpp 	src/tests/gl_tests/IncompleteTextureTest.cpp 	src/tests/gl_tests/IndexedPointsTest.cpp 	src/tests/gl_tests/LineLoopTest.cpp 	src/tests/gl_tests/MaxTextureSizeTest.cpp 	src/tests/gl_tests/ProgramBinaryTest.cpp 	src/tests/gl_tests/SixteenBppTextureTest.cpp 	src/tests/perf_tests/ANGLEPerfTest.cpp 	src/tests/test_utils/angle_test_configs.h 	util/EGLWindow.cpp, 15312978, 382, 105, 382
Revert "Implement EXT_discard_framebuffer in D3D11 renderer"  This reverts commit 5bc0d61e21f32bd787ef38a1c29ad4862dd6ea95., 15312978, 382, 105, 382
Revert "Update to latest Google changes for 16-bit textures"  This reverts commit 6b1e3034a0edf11340dc9480129a34ae5ea6fa41., 15312978, 382, 105, 382
Revert "Fix debug markers in ms-master"  This reverts commit cb91b369f9754b20f145d10c8b6b14fc1b81edc9., 15312978, 382, 105, 382
Reenable glDiscardFramebuffer, 15312978, 382, 105, 382
Changed d3d11 desktop renderer to use d3d9 debug annotation interfaces.  The D3D11 renderer must choose the D3D9 debug annotator because the D3D11 interface method ID3DUserDefinedAnnotation::GetStatus on desktop builds doesn't work with the Graphics Diagnostics tools in Visual Studio 2013. The D3D9 annotator works properly for both D3D11 and D3D9. Incorrect status reporting can cause ANGLE to log unnecessary debug events.  Change-Id: I9a31c63cbc506904eb39577826fc4df8d503f03a, 15312978, 382, 105, 382
Centralize renderer limitations for non-conformant renderers  Some renderer configurations (e.g. D3D11 Feature Level 9_3) have some limitations and aren't quite conformant. This change generates errors when applications hit these limitations and informs developers that they must work around them.  BUG=angleproject:1055  Change-Id: I6a4a9e5cc71288ca366a54c769ca0eb82e79a7f7, 15312978, 382, 105, 382
In D3D11 use BGRA4 DXGI textures as much as possible  BUG=angleproject:1002  In DXGI1.2 DXGI_FORMAT_B4G4R4A4_UNORM is optional. Some devices support using the format for everything including as a rendertarget. Some devices support it as as textures and SRVs but not as a rendertarget. On these devices ANGLE should try to use B4G4R4A4 as much as possible to benefit from the memory savings.  Therefore on these devices if an app creates a non-renderable GL_RGBA4 texture then ANGLE should use DXGI_FORMAT_B4G4R4A4_UNORM. If the app wants a renderable GL_RGBA4 texture then ANGLE should use DXGI_FORMAT_R8G8B8A8_UNORM.  We must also be able to convert a B4G4R4A4_UNORM texture into a R8G8B8A8_UNORM texture for certain scenarios (e.g. when an app creates a GL_RGBA4 non-renderable texture samples from it then renders to it).  Change-Id: Ie3a3404ab86916384693360580f3acc3a193e809, 15312978, 382, 105, 382
Lazily load SwapChain11 pass-through resources.  This allows Chromium to avoid initializing a whole bunch of resources and a shader when it collects GPU information. This should speed up startup.  BUG=angleproject:1014  Change-Id: Id1e777c6ea86d66ad812540f9d8494744cda64de Reviewed-on: https://chromium-review.googlesource.com/282553 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Load Clear11 resources lazily.  Again this saves on startup time and memory use.  BUG=angleproject:1014  Change-Id: I3890dc2ea50ff4e4f1ff9d7cb223e1ab57c330ce Reviewed-on: https://chromium-review.googlesource.com/282552 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add LazyInputLayout to defer loading input layouts.  Lazily loading input layouts can also save memory and startup time. There are several cases where we don't need these resources until later or sometimes at all.  BUG=angleproject:1014  Change-Id: I4e0d45353b5d3969bd1ed86ad26f47d34e542ed5 Reviewed-on: https://chromium-review.googlesource.com/282551 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
D3D11: Refactor InputLayout cache.  *re-land with fix for cache overflowing*  Using a much more compact input layout structure allows us to save quite a bit of time comparing input layouts or computing hashes. A subsequent patch shrinks the size of the structure further.  BUG=angleproject:959  Change-Id: If240bb7c84d78fc8c9fb6f9049bf71d8a81c97c6 Reviewed-on: https://chromium-review.googlesource.com/283227 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update dEQP test expectations with Linux failures  BUG=angleproject:1051  Change-Id: I5f397e230f0e56b1e6832c3dae5ae5c0c9a8b7c4 Reviewed-on: https://chromium-review.googlesource.com/283226 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix warnings with code analysis tools.  Variable shadowing and a few other non-bug warnings.  BUG=None  Change-Id: Ibf62d6e7fef91fc213a53a6902f494147ed30ebc Reviewed-on: https://chromium-review.googlesource.com/283223 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move Float16ToFloat32 implementation to common  Float16ToFloat32 is now required by constant folding of float pack/unpack built-ins as well moving it to commom so that it is available in libangle_common instead of libANGLE.  BUG=angleproject:913 TEST=angle_unittests  Change-Id: I1e23bb98c1b725c79f933a66ddb9986133fec19c Reviewed-on: https://chromium-review.googlesource.com/282961 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix 'unused private field' warnings for clang.  BUG=505317  Change-Id: I731b6e5ae5d5eba50f556314eeeebc6a3d29fc7a Reviewed-on: https://chromium-review.googlesource.com/282932 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added 16-bit formats to GLConfigs to reduce offscreen texture memory usage.  BUG=angleproject:1042  Change-Id: I7024bd47601a21b08cafbf6460d512151b53d035 Reviewed-on: https://chromium-review.googlesource.com/277002 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix compilation on Linux  BUG=angleproject:892  Change-Id: I135e356e1ec78c95e69a260bd0576e5285e759b5 Reviewed-on: https://chromium-review.googlesource.com/283225 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Added emulated indexed pointsprite rendering support.  This emulation is for renderers that do not support Geometry Shaders.  BUG=angleproject:949  Change-Id: I7acf003e83ea6661f10a703486e6d07eb28786f8 Reviewed-on: https://chromium-review.googlesource.com/274851 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com>, 15312978, 382, 105, 382
Remove redundant chdir in angle_deqp_test_main  Fixes the tests not running directly from the VS UI.  BUG=angleproject:1051  Change-Id: Ia299d8e7ad676330902725c114e8f5766db49d82 Reviewed-on: https://chromium-review.googlesource.com/283158 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix command line being ignored in non-gtest dEQP tests  BUG=angleproject:1051  Change-Id: If10abaea31ad29af9f8d438403f67b9dfbfd7e45 Reviewed-on: https://chromium-review.googlesource.com/283167 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Port gpu_test_expectations and angle_deqp_googletest to Linux  BUG=angleproject:1051  Change-Id: I46c3a5651d36750558735eb626ed5c9424b250b4 Reviewed-on: https://chromium-review.googlesource.com/282596 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Refactor InputLayout cache."  Seems to be failing maps_pixel_test on the bots.  BUG=angleproject:959  This reverts commit 53fd1552ba7dbf91a726fce139d748860bd8a5f5.  Change-Id: I1f2593caca58f701d284993d2ee313846806491b Reviewed-on: https://chromium-review.googlesource.com/283157 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Refactor InputLayout cache.  Using a much more compact input layout structure allows us to save quite a bit of time comparing input layouts or computing hashes. A subsequent patch shrinks the size of the structure further.  BUG=angleproject:959  Change-Id: I7a0f10428cc7e96967e60cc085ff2e8779718978 Reviewed-on: https://chromium-review.googlesource.com/277288 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Optimize checks for active UBOs.  We can reduce the amount of iterations we use by using std::vectors for storing UBO indexes and resizing them to the max active index. This allows us to skip inactive ranges. Reduces draw call overhead.  BUG=angleproject:959  Change-Id: I2577e5dbdce0e5ab102ca916eb7f1f35cf03f9ad Reviewed-on: https://chromium-review.googlesource.com/277287 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix some clang warnings with -Wmissing-braces in ANGLE.  Clang warns if there are missing braces around a subobject initializer. The most common idiom that triggers this is: STRUCT s = {0}; which can be more simply written as: STRUCT s = {};  BUG=505297  Change-Id: Ib4513ee195d43e7c4a4a2f46c328866f0023a2a5 Reviewed-on: https://chromium-review.googlesource.com/282921 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Store TFunction::returnType by a const pointer.  On 32-bit Android this change saves ~30KiB per compiler instance.  BUG=492725  Change-Id: I8bea48d57ee7eac0a0ee417035085c0d335aea09 Reviewed-on: https://chromium-review.googlesource.com/281047 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Dmitry Skiba <dskiba@google.com>, 15312978, 382, 105, 382
Change TSymbolTable::insertBuiltIn() TType* pointers to const.  Const types make it possible to implement caching and other optimizations.  BUG=492725  Change-Id: I64398bb9effcc909dd052a038acbb5ec0ca730e8 Reviewed-on: https://chromium-review.googlesource.com/281046 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Dmitry Skiba <dskiba@google.com>, 15312978, 382, 105, 382
Rename DeferredShader to LazyShader.  Deferred rendering is a shading technique and "lazy" is the more correct term. Also rename a few methods so we can use a shared interface for other types of lazy D3D11 resources.  BUG=angleproject:1014  Change-Id: I2fd2c823291d414003690066eaec063f1cd0bc4c Reviewed-on: https://chromium-review.googlesource.com/282550 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Brandon Jones <bajones@google.com>, 15312978, 382, 105, 382
Enable compilation of dEQP tests on Linux  BUG=angleproject:1051  Change-Id: I158e59ca581b580825848e831d05064cdcc30d96 Reviewed-on: https://chromium-review.googlesource.com/276202 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Allow calling HandleAllocator::reserve with MAX_UINT.  BUG=angleproject:1052  Change-Id: I03883799ef334f39c9e855a0a4b7af1ab02d5da9 Reviewed-on: https://chromium-review.googlesource.com/282414 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Minmin Gong <mgong@microsoft.com>, 15312978, 382, 105, 382
Update failing WebGL test expectations.  Change-Id: I8c469dad3e6a084e5b37a76ea3a1f86b9a99d613 Reviewed-on: https://chromium-review.googlesource.com/282624 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Improve D3D GetProgramBinary chipset validation  - Check chipset identifying info before trying to compile shaders - Check device feature level when loading a binary - Use chipset VendorID/DeviceID etc instead of LUID so that program   binaries remain valid across system reboots  Change-Id: I88ba4543bb990956d1d8fb324abf9784d72950cd Reviewed-on: https://chromium-review.googlesource.com/280428 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Ensure FencSyncTests::BasicOperations can't get stuck in an infinite loop  BUG=angleproject:1053  Change-Id: If6661ce3d87cdf44b1d45911418ecf78b5e6175a Reviewed-on: https://chromium-review.googlesource.com/277370 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use std::vector for TranslatedAttribs.  This allows us to cache a std::vector between calls and avoids us calling allocation/constructors for locals which saves us some time. It also allows us to use the vector's size to limit the range of attribs we look at.  BUG=angleproject:959  Change-Id: I799ed6c92fa8fca96e92e235b125a11d2d551aab Reviewed-on: https://chromium-review.googlesource.com/277286 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Small optimization to VertexDataManager.  Avoid calling a getter repeatedly in a loop when we can instead store a local reference to an array.  BUG=angleproject:959  Change-Id: I507ad1a6cf3bb6183dd3499df024dfec6950a6c8 Reviewed-on: https://chromium-review.googlesource.com/277285 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Change intializer list order to match field order.  BUG=505304  Change-Id: I38149e72732f0b4eb7d398f90b5d11660e2a7fbc Reviewed-on: https://chromium-review.googlesource.com/282465 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll dEQP 554adf..92f7752.  Includes updated Licences.  https://android.googlesource.com/platform/external/deqp/+log/554adf..92f7752  BUG=angleproject:998  Change-Id: If2da8719addeef25ec46adc105cf63c8b861f55a Reviewed-on: https://chromium-review.googlesource.com/282271 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@google.com> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceGLX: swap before resizing the child window  BUG=angleproject:892  Change-Id: I9b27777547624959fce6e045f9aac2652f139b9b Reviewed-on: https://chromium-review.googlesource.com/282058 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceGLX: Fix child window creation size  This makes Chrome on ANGLE work on Linux without obvious bugs.  BUG=angleproject:892  Change-Id: I595ac00a6646cb407941932b0d4f9f020d4cd059 Reviewed-on: https://chromium-review.googlesource.com/282057 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove max value for EGLRenderResolutionScaleProperty, 15312978, 382, 105, 382
Add remaining ES3 caps queries.  BUG=angleproject:1049  Change-Id: Ib5076380c692f4fa94921692baa7da14440556d1 Reviewed-on: https://chromium-review.googlesource.com/282386 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Cache active attribute lists in VertexDataManager.  This saves us re-creating vector memory every iteration and allows us to iterate over much smaller lists of attributes. In the future it could allow us to update the cache more efficiently with state change updates.  BUG=angleproject:959  Change-Id: Ie8ae7a31726468dc2184165380f1f3e5e0152936 Reviewed-on: https://chromium-review.googlesource.com/277284 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pass current value type instead of the object.  This allows us to simplify the logic in VertexDataManager enough that we can start to cache attribute information.  BUG=angleproject:959  Change-Id: I7b53a137d73f40f86e3acb9caebb66f9cacf8b6f Reviewed-on: https://chromium-review.googlesource.com/277283 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the PackUnpackHalfOverflow test.  Different drivers handle overflow differently.  The overflow case is not defined in the spec.  BUG=angleproject:1044  Change-Id: I9e3883af147c6c1a4fcdcddea3ff70c62f859c56 Reviewed-on: https://chromium-review.googlesource.com/282540 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add new GLSL target versions.  Test the emulated GLSL functions against multiple GL versions.  BUG=angleproject:1044  Change-Id: I1e12523301042f0d541ab2f4e73f02319d1584ef Reviewed-on: https://chromium-review.googlesource.com/277702 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Improve the test precision in PackUnpackTest.   * Output to floating point framebuffers so that results are not truncated    to 8 bit normalized values.  * Tighten the epsilon from 1/255 to 0.0005. May need further tweaking as    more GPUs are tested.  * Explicitly check for -inf and inf values when they were previously    rounded to 0 and 255.  * Explicitly check for clamping of overflowed normalized floats by    providing the expectations instead of computing them.  BUG=angleproject:1044  Change-Id: I8410cf61fe79a9919fb0db7e415bf97b2d0abd9e Reviewed-on: https://chromium-review.googlesource.com/281191 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix a tautological comparison.  BUG=505309  Change-Id: I0e93139693206e766b91a5998d6e284c7a29fd14 Reviewed-on: https://chromium-review.googlesource.com/282450 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Error when encountering non-preprocessor tokens before #extension in ESSL3.  BUG=angleproject:1047  Change-Id: I4a548270f651e35b2c8d1ab5d0f46185230c5f74 Reviewed-on: https://chromium-review.googlesource.com/281216 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Compile end2end tests on MacOS  This includes an implementation of OSX timer and path_utils.  BUG=angleproject:891  Change-Id: Id5440a8321bcfd4a61f3fe35b4a3fc0c651f564f Reviewed-on: https://chromium-review.googlesource.com/278211 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "dEQP: Compile dEQP targets in Chromium.""  Should be fixed now with latest patches.  BUG=angleproject:998 BUG=500736  This reverts commit d0071dd9c39d0ada72292d476d8e8e081731c953.  Change-Id: I3a611bfa10429a1f97d18e9aa1f316eabb67d114 Reviewed-on: https://chromium-review.googlesource.com/282055 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP: Extend GoogleTest support.  *re-land after rebase on top of Chrome build fix*  This patch will enable a Chromium-side CL to build dEQP/ANGLE with GoogleTest.  BUG=angleproject:998 BUG=500736  Change-Id: Id02c66a260b0a7bab3de9cda624fe097322b2d3c Reviewed-on: https://chromium-review.googlesource.com/281824 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@google.com> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
dEQP: Move the DEPS dirs to mirror Chromium.  This avoid us needing to replicate gyp variables in both Chromium's and ANGLE's common.gypi files.  BUG=angleproject:998  Change-Id: Iba1938fd37eb4bee28ae7daad31bf85a2d3bd692 Reviewed-on: https://chromium-review.googlesource.com/282145 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@google.com> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Add constant folding support for matrix built-ins  This change adds constant folding support for following matrix built-ins:     - matrixCompMult outerProduct transpose determinant and       inverse.  BUG=angleproject:913 TEST=angle_unittests(new: MatrixUtilsTest ConstantFoldingTest.*Matrix*) dEQP Tests: dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.matrix.* (All 54 tests started passing with this change)  Change-Id: I7b9bf04b9a2cbff72c48216cab04df58c5f008d6 Reviewed-on: https://chromium-review.googlesource.com/276574 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add opaque definitions of EGL platform types for ozone chromium builds  These are copied from chromium's modified eglplatform.h. It is necessary in order to build ANGLE for freon Chrome OS boards because X11 headers aren't included in the SDK.  BUG=504501 TEST=cros chrome-sdk --board link   gclient runhooks   ninja -C out_link/Release chromium_builder_tests  Change-Id: I37c3cba280689ec8d8a13e8946b1401d4bba7ea8 Reviewed-on: https://chromium-review.googlesource.com/281992 Tested-by: Michael Spang <spang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Michael Spang <spang@chromium.org>, 15312978, 382, 105, 382
perf_tests: Normalize MS counts in EGL init test.  The un-normalized values depend on the number of frames rendered so if we optimize down one time the other ms values all increase because we are rendering more frames. This generates spurious perf alerts from the perf dashboard.  BUG=None  Change-Id: I1bc480141a8cad7eee96bcdf4d6747a3cbae30f2 Reviewed-on: https://chromium-review.googlesource.com/280980 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor source pointer math out of VertexBuffer9/11.  This math can live in a single place in the VertexDataManager. This cleans up the code and paves the way for future optimizations.  BUG=angleproject:959  Change-Id: I7138c6e080d9c3d6507b55d981bfb62c2590a2a8 Reviewed-on: https://chromium-review.googlesource.com/277282 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor VertexDataManager to store translated attrib.  Refactoring patch only. Reduces the number of parameters we need to pass around in internal functions. Clears the way for future optimization work.  BUG=angleproject:959  Change-Id: Ic98ab5a07189eaa053dffce994546666bb07cede Reviewed-on: https://chromium-review.googlesource.com/277281 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix ANGLE build on Chrome OS ARM.  These builders set use_x11=1 but don't have GLX headers. Avoid trying to compile ANGLE's GL GLX and X11 sources on Chrome OS at all.  BUG=503173angleproject:892  Change-Id: I7f5862bb83b33f6ce302244fa5668295789a3a41 Reviewed-on: https://chromium-review.googlesource.com/281778 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix seg fault in IsPlatformAvailable.  Some GLX implementations can't handle having libGL.so.1 dlclose'd out from under them while there's any X window still open against which a GLXWindow was ever created. Load the library once per process rather than once per FunctionsGLX instance.  This showed up as a crash in X11Window::destroy during XCloseDisplay.  BUG=angleproject:892  Change-Id: I0da2674786a952865e5bea2513259c0a32d4453c Reviewed-on: https://chromium-review.googlesource.com/280902 Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@google.com>, 15312978, 382, 105, 382
Revert "dEQP: Extend GoogleTest support."  Causing runhooks failures:  gyp: Undefined variable deqp_path in C:\b\build\slave\GPU_Win_Builder\build\src\third_party\angle\src\tests\tests.gyp  BUG=angleproject:998 BUG=500736  This reverts commit 8edd75d1bb6680e7c2018ece9f5c81e3b87bf938.  Change-Id: I8cd83bb5871dea81abea61554b182825145298e6 Reviewed-on: https://chromium-review.googlesource.com/281208 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "dEQP: Compile dEQP targets in Chromium."  Causing runhooks failures:  gyp: Undefined variable deqp_path in C:\b\build\slave\GPU_Win_Builder\build\src\third_party\angle\src\tests\tests.gyp  BUG=angleproject:998 BUG=500736 This reverts commit 3018c206abd1fbfb94ab049326ff89f1f8cf3be4.  Change-Id: I8c0402fb7465101a9331cbb2020693469d644e7e Reviewed-on: https://chromium-review.googlesource.com/281194 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Simplify the assignment of use_x11.  Hopefully fixes the flaky compile errors in ChromeOS  BUG=angleproject:892 BUG=503173  Change-Id: Ifd79f1e382c12be3aecd9efb4860287df7d43060 Reviewed-on: https://chromium-review.googlesource.com/281180 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
dEQP: Compile dEQP targets in Chromium.  This switches the primary targets for dEQP into the non-standalone namespace so we can build dEQP ANGLE tests on Windows with Chrome.  BUG=angleproject:998 BUG=500736  Change-Id: I2ae25f31ab123c49965412445f661b6b69d19109 Reviewed-on: https://chromium-review.googlesource.com/281020 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
dEQP: Extend GoogleTest support.  This patch will enable a Chromium-side CL to build dEQP/ANGLE with GoogleTest.  BUG=angleproject:998 BUG=500736  Change-Id: Ie480e3319c1bd77dd1de2c964f78ef97297fcfe9 Reviewed-on: https://chromium-review.googlesource.com/280856 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix lots of compilation errors in generated GLSL functions.  Reformatted to improve readability.  BUG=angleproject:angleproject:947  Change-Id: I467f0396a0318b7a51d5cafce3f11e55d929c369 Reviewed-on: https://chromium-review.googlesource.com/278250 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor GLSL version calculations for emulated functions.  Pass the target GLSL version to InitBuiltInFunctionEmulatorForGLSL so that it can be updated to generate emulated functions for multiple versions.  BUG=angleproject:1044  Change-Id: I34c408df52fd0f7d6c2f66d0579ac854afd93b87 Reviewed-on: https://chromium-review.googlesource.com/277700 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Rename deqp_dir to deqp_path.  The same for the other dEQP gyp path vars.  BUG=angleproject:998  Change-Id: I7c123dbd8983e032dc9339bf289259e6d8ec654b Reviewed-on: https://chromium-review.googlesource.com/281009 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
dEQP: Move libtester sources to a gyp variable.  This keeps the target definition cleaner and will enable GN if we ever get to that point.  BUG=angleproject:998  Change-Id: I8692c93155a6bada9b1b0c05a1dd34af64a3b400 Reviewed-on: https://chromium-review.googlesource.com/280992 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Refactor VertexDataManager's current value cache.  This clears the way for future optimizations.  BUG=angleproject:959  Change-Id: Ief9077159e1e5fed5670862454a6f0b41d630551 Reviewed-on: https://chromium-review.googlesource.com/277280 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Optimize ProgramD3D::sortAttributesByLayout.  We can use pointer math here instead of copying values.  BUG=angleproject:959  Change-Id: I3b87956224d0846c9011f5d8edb811bc5e4f2b85 Reviewed-on: https://chromium-review.googlesource.com/277119 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Try setting use_x11 to 0 when doing a linux chromeos build.  BUG=503173  Change-Id: I31c09a1d0849de14cc72ba3a357e482c7e329a46 Reviewed-on: https://chromium-review.googlesource.com/281025 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added define to enable/disable uniform precision validation for shaders. This feature was requested by developers to allow non-conformant shaders to be used which contain mismatched precisions.  Change-Id: I57899efe064f7ffed1c0e43a508930ac70f6aa03 Reviewed-on: https://chromium-review.googlesource.com/277340 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Updated libEGL to have correct application revision type for winrt project generation.  Change-Id: Ifc4ffda8a80d2317dda70f5bf2add53ea91df961 Reviewed-on: https://chromium-review.googlesource.com/277420 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Reduce overhead of clearing unused textures.  *re-land with compile fix*  We would spend a fair bit of time iterating over the unused textures setting them to null one-by-one and updating our cache. We can reduce this time by smarter caching and skipping unmodified ranges.  BUG=angleproject:959  Change-Id: I4de20bc131c4a568108ad670a2ef491cfd4c50ed Reviewed-on: https://chromium-review.googlesource.com/280916 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Reduce overhead of clearing unused textures."  Compile error on Windows:  error C2561: 'rx::Renderer11::clearTextures' : function must return a value  BUG=angleproject:959  This reverts commit 475e5b7f91f8ed9688b5a46efe54f15357096e3e.  Change-Id: Id34ff9530a71ce43549e2eb78d2d927084d46a47 Reviewed-on: https://chromium-review.googlesource.com/280915 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Reduce overhead of clearing unused textures.  We would spend a fair bit of time iterating over the unused textures setting them to null one-by-one and updating our cache. We can reduce this time by smarter caching and skipping unmodified ranges.  BUG=angleproject:959  Change-Id: I92f11cf63542c55bb3adbbb8276a54bcfe848f61 Reviewed-on: https://chromium-review.googlesource.com/277118 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
In WinRT prevent too many calls to DXGIGetDebugInterface1  Change-Id: Id0ec9eb40566f7c2169b228394fb3afe9f32e6f5 Reviewed-on: https://chromium-review.googlesource.com/280551 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Workaround for some STLs not parsing floats with a suffix  BUG=angleproject:1046 BUG=angleproject:891  Change-Id: I01c3f024142e573385a5f40d721171ad752ffd19 Reviewed-on: https://chromium-review.googlesource.com/278210 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a OSPixmap class to have cross platform pixmaps  This will help make the deqp support code platform agnostic.  BUG=angleproject:892  Change-Id: I6f8c738ed8125057db87afea2079583f8feac977 Reviewed-on: https://chromium-review.googlesource.com/276201 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add OSWindow::takeScreenshot to be used by some dEQP egl tests  This helps make dEQP support platform agnostic  BUG=angleproject:892  Change-Id: Ifd9436caa8c79018a053c27e32b514ef9ebee707 Reviewed-on: https://chromium-review.googlesource.com/273596 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add SetLowPriorityProcess to utils and use it in dEQP support  This provides a cross-platform way to make sure dEQP runs in a low priority process.  BUG=angleproject:892  Change-Id: I0d12f1eacb78be43edcdb6622f945734c0b377ff Reviewed-on: https://chromium-review.googlesource.com/273595 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
dEQP support: use OSWindow instead of tcuWin32Window  This is to help dEQP support become cross platform.  BUG=angleproject:892  Change-Id: I4480b64a33b1725fb42769bf7dddef1b4ee27c83 Reviewed-on: https://chromium-review.googlesource.com/273594 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix compilation errors and Mac and some try bots  BUG=angleproject:892  Change-Id: I9a449889109b7df9c69776573b0fc2098cd06199 Reviewed-on: https://chromium-review.googlesource.com/280565 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
DisplayGLX: add error checking for the dummy pbuffer creation  BUG=angleproject:892  Change-Id: I7a15f2be19a598e40d4fa5a7c70d879cdbc6d32a Reviewed-on: https://chromium-review.googlesource.com/277011 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix defines being exported outside of ANGLE  This should fix a build failure on a GPU try bot so we can Roll ANGLE  BUG=angleproject:892  Change-Id: I86cb0135dc71b003f691633e339d5d0527eaace4 Reviewed-on: https://chromium-review.googlesource.com/280396 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Add workaround for flushing before readPixels."  This reverts commit 46c13a15fa90130eca14301a4ef6deed12315037.  Seems to have introduced significant flakiness on the Windows AMD FYI bot. Reverting while investigating.  Change-Id: I9cfdb09a4a0d792a0c5db76c8b0b9d3285c0695a Reviewed-on: https://chromium-review.googlesource.com/280365 Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Add workaround for flushing before readPixels.  This has been found necessary on the D3D11 backend on AMD GPUs and on the D3D9 backend on all GPUs.  Tested an earlier version of this patch overnight on one of the affected Windows AMD bots; it eliminated the flakiness observed on one of the WebGL conformance tests.  BUG=491419  Change-Id: I668493eb5ec109b5e0650c154dc97b786e0745bd Reviewed-on: https://chromium-review.googlesource.com/278265 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix Chromium build of angle_end2end_tests  BUG=angleproject:892  Change-Id: I9922046fc9e4d82d7034405f5952263f982c6529 Reviewed-on: https://chromium-review.googlesource.com/278159 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix standalone compilation on Linux  Use a "gyp trick" to define a default value for use_x11 thanks goes to kbr for remembering the other instance of this trick.  BUG=angleproject:892  Change-Id: Ifb64af4e56d9eb90993760a495008d95dd31ae3d Reviewed-on: https://chromium-review.googlesource.com/278158 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add ShClearResults() for clearing last compilation results.  This helps reclaiming memory used by the results when we don't need them anymore.  BUG=492725  Change-Id: I4bc11be27b23589548120f0dc43e9979bf894089 Reviewed-on: https://chromium-review.googlesource.com/277808 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Dmitry Skiba <dskiba@google.com> Tested-by: Dmitry Skiba <dskiba@google.com> Reviewed-by: Dmitry Skiba <dskiba@google.com>, 15312978, 382, 105, 382
Roll dEQP 9b4161..554adf1.  Includes some tests for EXT_debug_marker  https://android.googlesource.com/platform/external/deqp/+log/9b4161..554adf1  BUG=None  Change-Id: I911fcb5577caefaa1fe3479445146a2b3f819124 Reviewed-on: https://chromium-review.googlesource.com/277140 Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix some markdown syntax that github had trouble parsing.  Change-Id: I00f4409b7c6e12bb0cd6944a488fde3f6ef4054c Reviewed-on: https://chromium-review.googlesource.com/278055 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Updated Visual Studio 2015 templates to match latest RC version changes., 15312978, 382, 105, 382
Notify the VertexArrayImpl when a buffer is detached.  Update VertexArrayGL to clear it's cached buffer binding when a buffer is detached to prevent name aliasing.  Fixes:  * DEQP standalone crashes.  * WebGL Conformance DEQP tests.  Change-Id: If21a617629e15873ddeae0368b5399616f2ca68b Reviewed-on: https://chromium-review.googlesource.com/278050 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll GYP.  Includes fixes to clean up our MSVS projects.  BUG=None  Change-Id: Ied16bf5b40e7a29ee08e76152daa1296c8960724 Reviewed-on: https://chromium-review.googlesource.com/278051 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Document ESSL3 builtin functions and which GLSL version they became core in.  BUG=angleproject:1044  Change-Id: I1cd35f17a2d6cc384ac1bfae72a23a092ca50244 Reviewed-on: https://chromium-review.googlesource.com/277701 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@google.com> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Skip MaxAttribs test on all AMD/OpenGL configs.  Change-Id: Ia1c4f230a51c49a48db2d12749b9a028a17168e3 Reviewed-on: https://chromium-review.googlesource.com/277727 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix support for GL_MAX_ATTRIBS attributes.  *re-land with fix for AMD/ES2/OpenGL.*  An off-by-one bug slipped in that broke support for these edge case shaders.  Bug introduced in https://chromium-review.googlesource.com/#/c/266928/  BUG=angleproject:1045 BUG=500116  Change-Id: If44f809d432221d1e17afc407d49e87e0cb7504c Reviewed-on: https://chromium-review.googlesource.com/277664 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Enable point sprites in StateManagerGL."  Speculative fix for failures on the AMD FYI bot.  This reverts commit 67e04be12dda07ac9b37798558e842f50bd42776.  Change-Id: Ia57e3c800a6ff9e81e31bf5b37a95e97460ceda4 Reviewed-on: https://chromium-review.googlesource.com/277681 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix support for GL_MAX_ATTRIBS attributes."  Breaks the AMD bot's OpenGL tests.  VertexAttributeTest.MaxAttribs/3: shader compilation failed: Vertex shader failed to compile with the following errors: ERROR: error(#272) Implicit version number 110 not supported by GL3 forward compatible context ERROR: error(#273) 1 compilation errors.  No code generated  shader compilation failed: Fragment shader failed to compile with the following errors: ERROR: error(#272) Implicit version number 110 not supported by GL3 forward compatible context ERROR: error(#273) 1 compilation errors.  No code generated  BUG=angleproject:1045 BUG=500116  This reverts commit 3f3d75ea6c20826adb6240f1573fd7139939a986.  Change-Id: I8cdd024fcf49f1ade553dae2cdbe8b02d8fba364 Reviewed-on: https://chromium-review.googlesource.com/277673 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable point sprites in StateManagerGL.  Fixes:  * conformance/rendering/point-size.html  * conformance/rendering/point-with-gl-pointcoord-in-fragment-shader.html  * PointSpritesTest  * particle_system sample  BUG=angleproject:883  Change-Id: Idb3352fa916cf08817496f0a8425c95ece9bfa49 Reviewed-on: https://chromium-review.googlesource.com/275860 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix support for GL_MAX_ATTRIBS attributes.  An off-by-one bug slipped in that broke support for these edge case shaders.  Bug introduced in https://chromium-review.googlesource.com/#/c/266928/  BUG=angleproject:1045 BUG=500116  Change-Id: Iddfe0c21bef3c3a61017ba56d9e1fc001c0a3703 Reviewed-on: https://chromium-review.googlesource.com/277476 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Implement GL_EXT_debug_marker in D3D9/D3D11 renderers  BUG=angleproject:1043  Change-Id: I7f3bfb35050662520b901828d0478719fa8d11b3 Reviewed-on: https://chromium-review.googlesource.com/274054 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Reduce hardcoded D3D11 assumptions in DrawBuffersTest  Change-Id: I9b93cc6ee7218a92dda80dbc3f70aec6fef69ded Reviewed-on: https://chromium-review.googlesource.com/276598 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Small fixes for passing code analysis tools.  BUG=angleproject:1005  Change-Id: I8f2a6c0a5a6157303e436b96cc4c4ff1c29cfe18 Reviewed-on: https://chromium-review.googlesource.com/271600 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Blit11: Defer loading some resources until we use them.  We can also defer loading InputLayouts and other resources in Blit11 if we don't need them immediately.  BUG=angleproject:1014  Change-Id: I859583e4696e5864dfd8d436143ed9ddbc2fd60d Reviewed-on: https://chromium-review.googlesource.com/275779 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Blit11: Defer built-in shader loads.  Introduce a 'DeferredShader' utility class. Other classes can use DeferredShader to delay loading shader resources until we render with them which saves on loading time as well as memory if we aren't using particular shaders.  BUG=angleproject:1014  Change-Id: Ic6767c3c422a7fedbf23cce5d0c9d822aaf2e652 Reviewed-on: https://chromium-review.googlesource.com/275778 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Add multisample render target info to DXGI tables.  Saves us some time on startup. Also assume every multisample format can support 1x multisampling and that if we support a higher format we support all lower sample counts (eg - if we support 16x we support 8x and 4x etc)  BUG=angleproject:1014  Change-Id: I62143e5db561b717edd1a0c96f5e3acd4de3d154 Reviewed-on: https://chromium-review.googlesource.com/275777 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
In D3D11 check for 16-bit texture support and use if possible  BUG=angleproject:1002  The last patch added new tests which failed on some Intel Win7 machines. This was due to a driver bug. Windows Updates have been applied to the failing machine and the tests now pass.  Changes between second and current (third) failed 16-bit patch: - Reenable usage of 16-bit DXGI textures on all Intel cards - Disable 16bpp tests on Intel D3D11 until the bots are updated - Updated Win7 test machine. Tests now pass  Changes between first and second failed 16-bit patch: - Disabled usage of 16-bit DXGI textures on all Intel cards - Added DXGI->GL conversion entries for 16-bit formats which   fixes FBO readback issues. The ES CTS and dEQP tests which   failed with the last patch now pass.  Change-Id: Id8ea89bfbc450beea54afdd398956bc97ecf3c01 Reviewed-on: https://chromium-review.googlesource.com/275082 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Add DXGI format info for depth-stencil.  This will save us some queries on D3D11 startup.  BUG=angleproject:1014  Change-Id: I5aaeec43d3b9bc73d011de17e2abac902ac3b7b9 Reviewed-on: https://chromium-review.googlesource.com/275776 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Add DXGI RenderTarget info to the format tables.  This will save us some time on D3D11 startup.  BUG=angleproject:1014  Change-Id: Ic00b3dfd9f6230d2d54e6e9bb74be55b923697fe Reviewed-on: https://chromium-review.googlesource.com/275775 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Implement DXGI shader sample format tables.  This saves us some startup time in the D3D11 Renderer.  BUG=angleproject:1014  Change-Id: I5d2607b58a86ee0a8932032a0f8a31b21d39b525 Reviewed-on: https://chromium-review.googlesource.com/275774 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
dEQP: Hook up GPU test expectations code.  With the list of failures this gives a 100% passing GLES2 test suite.  BUG=angleproject:998  Change-Id: I20985c729104d7a114352d156c238bca3ea1698c Reviewed-on: https://chromium-review.googlesource.com/274423 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add more detailed captures to EGL init perf test.  We can use the ANGLE platform to capture more specific information than total number of iterations. We can also capture time spent initializing DLLs calling D3D11CreateDevice and allocating some default resources.  BUG=angleproject:1014  Change-Id: If0f4965e7aac22eb09dfa0d2300ff449e7481f6e Reviewed-on: https://chromium-review.googlesource.com/276631 Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix the broken draw call perf test.  This was broken by the angle test platforms refactor patch https://chromium-review.googlesource.com/#/c/276460/. It was leading to the wrong tests be executed for the perf tests and also had bugs with supporting a default platform.  BUG=None TEST=angle_perftests  Change-Id: Ib99342d4189fd98bf93dce088d15afcecc4a7e37 Reviewed-on: https://chromium-review.googlesource.com/277036 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Refactoring: use compileTestShader in PackUnpackTest  TEST=angle_unittests  Change-Id: I49f17444bf0fe6568ec4d3445421c27a562adf1b Reviewed-on: https://chromium-review.googlesource.com/277040 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix compilation of libtester_main on Linux  Replace usage of std::exception by std::runtime_error  BUG=angleproject:892  Change-Id: I214fe6a93944dcfb39b0633f46caf3b1187bd5d3 Reviewed-on: https://chromium-review.googlesource.com/275815 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Add baked DXGI format info for 2D/3D/Cube textures.""  Parent patch fixed.  BUG=angleproject:1014  This reverts commit 79ae150ed273f4c5e94b89be5d913c6b252ff1dd.  Change-Id: I6431d73e5a766d1937732ddb7964751d46465674 Reviewed-on: https://chromium-review.googlesource.com/276776 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add generated tables to mirror D3D11 format support.  *re-land with fix for test build*  These tables can save us on startup time. Instead of querying the tables we can keep certain assumptions about texture formats because certain formats are guaranteed to be supported in various feature levels.  Testing with angle_perftests indicates this patch series will save about 50% of the time we spend in Renderer11::initializeDevice.  BUG=angleproject:1014  Change-Id: I5477eea3e8433d36119cd099fb0c08eea168489a Reviewed-on: https://chromium-review.googlesource.com/276758 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add generated tables to mirror D3D11 format support."  Hidden conflict with Geoff's test refactor patch.  BUG=angleproject:1014  This reverts commit 396ee48b639189465039cd62ef8409e86d5f6dd1.  Change-Id: I8182acb350b61b31f4040a20c86652e23706905a Reviewed-on: https://chromium-review.googlesource.com/276774 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add baked DXGI format info for 2D/3D/Cube textures."  Hidden conflict with Geoff's test refactor patch.  BUG=angleproject:1014  This reverts commit a3028ab99b70c216368a876cdffe44b0b2239fcf.  Change-Id: Ic202e377032e9c74f62450ba0ffcba85a1fc0cc7 Reviewed-on: https://chromium-review.googlesource.com/276773 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add baked DXGI format info for 2D/3D/Cube textures.  This saves us from querying a lot of the formats on startup.  BUG=angleproject:1014  Change-Id: I499625b9a131cf10791d1580d7a7b477a161045a Reviewed-on: https://chromium-review.googlesource.com/275773 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add generated tables to mirror D3D11 format support.  These tables can save us on startup time. Instead of querying the tables we can keep certain assumptions about texture formats because certain formats are guaranteed to be supported in various feature levels.  Testing with angle_perftests indicates this patch series will save about 50% of the time we spend in Renderer11::initializeDevice.  BUG=angleproject:1014  Change-Id: I84dbeaba1d1c635ad60c8413705cc41af8a51f06 Reviewed-on: https://chromium-review.googlesource.com/275772 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Import Chromium test expectation libs.  This can be useful for our testing code to filter based on system configurations such as GPU type OS or Debug/Release.  BUG=angleproject:998  Change-Id: I88b7fe1a7a1446262cc084e62cdb335776fa8912 Reviewed-on: https://chromium-review.googlesource.com/274422 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement the remaining caps queries.  Limit the supported ES version based on these caps.  BUG=angleproject:879  Change-Id: If3a097576465b33af0015fcb28dab10e88fdc4d9 Reviewed-on: https://chromium-review.googlesource.com/273160 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only run tests that the current hardware can support.  For each config determine if a context can be created at test instantiation time.  This allows skipping of ES3 tests when the hardware does not support ES3.  Updated the perf_tests to use the EGLPlatformParameters struct so that they can be filtered in the same way.  Change-Id: If664604b057cec4005eb4b63bebd83cd4964b7b2 Reviewed-on: https://chromium-review.googlesource.com/276460 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing newlines to BuiltInFunctionEmulatorGLSL.cpp and Pack_Unpack_test.cpp.  BUG=angleproject:947  Change-Id: I8cbcd99e8c2cb7c461b0c624596631a4dec6dcc8 Reviewed-on: https://chromium-review.googlesource.com/276668 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Emulate Missing pack_unpack functions from OpenGL 4.1  BUG=angleproject:947  TEST=angle_unittests angle_end2end_tests  Change-Id: Id1afd7630d9720b6701225b7abf1ce4a3bf528b6 Reviewed-on: https://chromium-review.googlesource.com/260232 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Record precision of constant variables when needed  Add a traverser that checks precision qualifiers of folded constants and hoists them to separate precision qualified variables if needed.  Fixes sdk/tests/conformance/glsl/bugs/constant-precision-qualifier.html  TEST=WebGL conformance tests angle_unittests BUG=angleproject:817  Change-Id: I1639595e0e49470736be93274f0af07ee732e1fe Reviewed-on: https://chromium-review.googlesource.com/275095 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix missing newline at the end of compiler_test.h  BUG=angleproject:817  Change-Id: Iaa971c71c0f5bcec46fffb5d2e70f108e6ca6b02 Reviewed-on: https://chromium-review.googlesource.com/276607 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor common compiler test functionality into helper functions  Refactor translating a ESSL shader string into a target language so that compiler initialization and cleanup code can be reused between test classes.  BUG=angleproject:817 TEST=angle_unittests  Change-Id: Idb229dceb9e17b13ed6ad2a68ab55ed5c968780e Reviewed-on: https://chromium-review.googlesource.com/275814 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make MaxTextureSizeTest::RenderToTexture check for glBlitFramebuffer support  Change-Id: I25236240eec135b265a25eefdbbd28f069633eee Reviewed-on: https://chromium-review.googlesource.com/276308 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix standalone compilation on Linux"  This broke Chromium build on Linux.  This reverts commit c6a61c27e6c4f25d555fbcbd37f6d8dbdf958a39.  Change-Id: I4df380eaed3ecc19b85aa99a397968ceb5ce3af8 Reviewed-on: https://chromium-review.googlesource.com/276293 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix standalone compilation on Linux  BUG=angleproject:892  Change-Id: Iceae30f5bc12546b2486e8aac0346eab1f09ded3 Reviewed-on: https://chromium-review.googlesource.com/276200 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement EXT_discard_framebuffer in D3D11 renderer  Change-Id: I52bcf0cfb1aa123e085a35730fdefb006b617c3c Reviewed-on: https://chromium-review.googlesource.com/269232 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
d3d11: Add a histogram to capture DLL loading time.  This should complete the breakdown of the time we spent in eglInitialize.  BUG=angleproject:1014 BUG=436191  Change-Id: I3b44f10c56322924f9391a56973df5f439fa83bb Reviewed-on: https://chromium-review.googlesource.com/276268 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use both null and real renders for draw call perf.  Introduce a "null" GL renderer for this specific benchmark which does not do any work on drawArrays and drawElements. We could use the same kind of trick for buffer and texture updates if we need it. This gives us a good baseline for comparing GL and D3D perf.  BUG=angleproject:1040  Change-Id: I4bf7c75df01932de45ddd0a4e42e8fc82f15e37e Reviewed-on: https://chromium-review.googlesource.com/276192 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Add GoogleTest integration.  Use value-parameterized tests loading a full test list from case files.  BUG=angleproject:998  Change-Id: Iff65a2d722e9d105e22649b17a18cc74dccea2b1 Reviewed-on: https://chromium-review.googlesource.com/274421 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Add tcu::RandomOrderExecutor.  A prototype based on work from phaulos@. This should eventually be integrated into the dEQP repo.  BUG=angleproject:998  Change-Id: I9be137fb54423bc180623f172dde63a22311b791 Reviewed-on: https://chromium-review.googlesource.com/274420 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't create child windows in the WGL implementation.  BUG=angleproject:890  Change-Id: I66fb7b97ea3f09d40ba25a769c8bc7fe04527805 Reviewed-on: https://chromium-review.googlesource.com/275307 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Unify aggregate operator folding with other constant folding  Setting the type for folded aggregate nodes should work in a similar way as other constant folding. Common functionality between the different folding functions is refactored into a single function.  TEST=dEQP-GLES3.functional.shaders.constant_expressions.* BUG=angleproject:817  Change-Id: Ie0be561f4a30e52e52d570ff0b2bdb426f6e4f7a Reviewed-on: https://chromium-review.googlesource.com/275186 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Skip MipmapTest.RenderOntoLevelZeroAfterGenerateMipmap on Intel too.  Seeing failures on some Intel HD4000 cards as well as AMD.  BUG=angleproject:1038  Change-Id: I45dfcdf62af69cd3295918d963def85f2eb50ebe Reviewed-on: https://chromium-review.googlesource.com/274943 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
dEQP: Add case file generator script.  Use the dEQP null platform for speed and to avoid popping up a new window. Store the case lists as .gz files to save space in the repo.  BUG=angleproject:998  Change-Id: Ib9b10b8a83edc510cc98f120847b1cf93a3d2f78 Reviewed-on: https://chromium-review.googlesource.com/273975 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update WebGL CTS expectations.  BUG=none  Change-Id: I9c297853be54d8aec6e133535c5596283dbd246c Reviewed-on: https://chromium-review.googlesource.com/275861 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Unify unary operator folding with binary operator folding  Implement unary operator folding in a similar way to binary operator folding so that the code is easier to understand.  TEST=dEQP-GLES3.functional.shaders.constant_expressions.* BUG=angleproject:817  Change-Id: I069bdb38f965e1badb3e8f3f954386b205b7bb00 Reviewed-on: https://chromium-review.googlesource.com/275185 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Revert "Make sure type gets set consistently in folded binary operations""  This patch was originally reverted only because a dependency patch failed a buggy Chromium test.  This reverts commit aebd002d00d39858819c58bad1970df121b78e1b.  TEST=dEQP-GLES3.functional.shaders.constant_expressions.* BUG=angleproject:817  Change-Id: Ia5acf15518ea89717c0cfe1398cb18ea27be5b19 Reviewed-on: https://chromium-review.googlesource.com/275811 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Skip LUMA format tests on OpenGL.  These formats are depricated in the core profile and not supported yet.  BUG=angleproject:884  Change-Id: Ic5cf75196ed73cc6bd660fc437f96fdcea5de1b4 Reviewed-on: https://chromium-review.googlesource.com/275771 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up TIntermTraverser usage  Remove default parameters from TIntermTraverser.  Also clean up a few dead function declarations in traversers.  TEST=angle_unittests angle_end2end_tests BUG=angleproject:1037  Change-Id: I8d126c6c2d5b53e8b14e23e3d102f204a59323b3 Reviewed-on: https://chromium-review.googlesource.com/275184 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Revert "Add constant folding support for geometric built-ins""  Revert of revert as the issue is with the failing test itself.  This reverts commit b3da45c12d3eecdd319c0feb4d2b933e144f816a.  Change-Id: Ie2003c78527f87cad7f8ead0d87fee75ce032379 Reviewed-on: https://chromium-review.googlesource.com/275487 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove unused right-to-left AST traversal support  No code actually uses the right-to-left traversal. All it does is add unnecessary complexity.  TEST=angle_unittests angle_end2end_tests BUG=angleproject:1037  Change-Id: Id15498343538c02c252ef0852f9a00c85ac3c4bb Reviewed-on: https://chromium-review.googlesource.com/275183 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add a simple unit test for built-in emulation on Mac  This will replace a similar buggy test that will be removed from Chromium.  BUG=angleproject:913 TEST=angle_unittests  Change-Id: If782004e764316ca003effbea883640ecdb30dda Reviewed-on: https://chromium-review.googlesource.com/275397 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix debug markers in ms-master, 15312978, 382, 105, 382
Always use the highest GL version available unless requested.  BUG=angleproject:890  Change-Id: I76a1b1c455cb4be02b4b5c52153f5c87f33d426d Reviewed-on: https://chromium-review.googlesource.com/275008 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Document OpenGL ES and EGL features formats and extensions.  Change-Id: I38fb5acc5e0824035ccba55c28d12c8980c5905e Reviewed-on: https://chromium-review.googlesource.com/275311 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use the git mirror of googlemock.  Revision unchanged.  Change-Id: I95bc28ff8d47de1ddc90647a54e138dcd80161ee Reviewed-on: https://chromium-review.googlesource.com/274803 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Simplify surface size math in VS templates, 15312978, 382, 105, 382
Add EGLRenderSurfaceScaleProperty, 15312978, 382, 105, 382
Mark no_angle_common as no_chromium_code.  All other targets that remove chromium_code add no_chromium_code; looks like not doing this here was an oversight.  BUG=491209  Change-Id: Id5c81d019603b428561a23aaa4dbe4427e43e751 Reviewed-on: https://chromium-review.googlesource.com/275316 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Revert "Add constant folding support for geometric built-ins"  This is failing gpu_unittests on Mac:  ShaderTranslatorTest.BuiltInFunctionEmulation: ../../gpu/command_buffer/service/shader_translator_unittest.cc:314: Failure Value of: strstr(translated_source.c_str() "webgl_dot_emu") != NULL Actual: false Expected: true  Reverting until we can fix the overly-narrow test.  BUG=angleproject:913  This reverts commit b50788d11dec046415565af1cc7da334e2979577.  Change-Id: I5bd9df83704e771e419339745eceaa43a20bd1e6 Reviewed-on: https://chromium-review.googlesource.com/275320 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Make sure type gets set consistently in folded binary operations"  This is blocking the revert of the geometric constant folding  patch which is breaking gpu_unittests and blocking the roll.  BUG=angleproject:817  This reverts commit b07aba0798d3bba3118dac78933e73b3f08a601b.  Change-Id: Ia00fc45b1ddd9d3c079742dea0627aa12304f93b Reviewed-on: https://chromium-review.googlesource.com/275321 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add a flush before looping to get the sync status."  Apparently even a flush isn't enough on some Intel drivers.  This reverts commit 73410e42c88dc28ada1a2b337b5c94b063b7a4e6.  Change-Id: Iafdd1cbb4e89d30ebe3be6404f0bf4e586d91b8d Reviewed-on: https://chromium-review.googlesource.com/275305 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make sure type gets set consistently in folded binary operations  Add a wrapper function that handles creating the folded node and setting the right parameters on it so that the folding function handles only calculating the folded values.  This will fix the precision set to constant folded values in some cases. Previously the precision was always set to be equal to one of the operands to the binary operation but now both operands are taken into account.  Folding binary operations is now in a separate function from folding unary operations.  TEST=dEQP-GLES3.functional.shaders.constant_expressions.* BUG=angleproject:817  Change-Id: Id97e765173c6110f49607e21c3fb90019b1ebac7 Reviewed-on: https://chromium-review.googlesource.com/274001 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add constant folding support for geometric built-ins  * re-land after mac compilation fix (unsupported c++11 initializer) *  This change adds constant folding support for following geometric built-ins:     - length distance dot cross normalize faceforward       reflect and refract.  BUG=angleproject:913 TEST=angle_unittests dEQP Tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.geometric.* (56 tests started passing with this change)  Change-Id: I236fc0c1af47a63f359564500c711e6bedf1c808 Reviewed-on: https://chromium-review.googlesource.com/274789 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add unit test for RemovePow  Add two versions of the test - one with a single pow() and another with a nested pow().  TEST=angle_unittests BUG=477306  Change-Id: Idb38e57a4b2522b7794996d6ea0f0456b349abf7 Reviewed-on: https://chromium-review.googlesource.com/274736 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a flush before looping to get the sync status.  Intel GPUs enter an infinite loop unless told to flush.  BUG=angleproject:1038  Change-Id: I7c3d9dd08bf1ee09cb163dd859f817379a72cd65 Reviewed-on: https://chromium-review.googlesource.com/274942 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Read the proper uniform location instead of assuming location 0.  Fixes MipMapTest on Intel/OpenGL.  BUG=angleproject:1038  Change-Id: I19a0704969ef03d5d2ee3c9092daf4bd3a9818f7 Reviewed-on: https://chromium-review.googlesource.com/274818 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Load the framebuffer and vertex array object extensions.  BUG=angleproject:879 BUG=angleproject:1038  Change-Id: Idd2ad36707c17d13c45bc4fc131ec1ebfc45e0a5 Reviewed-on: https://chromium-review.googlesource.com/274817 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove unused QualifierAlive traverser  This class is not used anywhere in the code.  TEST=angle_unittests  Change-Id: Ib59573203636a669b136e3823d0abea8120f448e Reviewed-on: https://chromium-review.googlesource.com/274896 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Use the git mirror of googlemock.  Revision unchanged.  Change-Id: I95bc28ff8d47de1ddc90647a54e138dcd80161ee Reviewed-on: https://chromium-review.googlesource.com/274803 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix incorrect value being synced for the alpha blend equation.  Fixes angle_end2end_test BlendMinMaxTest with the blend_minmax extension enabled.  BUG=angleproject:883  Change-Id: Iae2441d11a3c4c497a1ddc4d250120fd85175d52 Reviewed-on: https://chromium-review.googlesource.com/274802 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Add constant folding support for geometric built-ins"  Breaks Mac build because of C++11 init syntax:  FAILED: /b/build/goma/gomacc ../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -MF obj/third_party/angle/src/tests/compiler_tests/angle_unittests.ConstantFolding_test.o.d -DV8_DEPRECATION_WARNINGS -D__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE=0 -DCHROMIUM_BUILD -DCR_CLANG_REVISION=238013-3 -DCOMPONENT_BUILD -DTOOLKIT_VIEWS=1 -DUSE_LIBJPEG_TURBO=1 -DENABLE_ONE_CLICK_SIGNIN -DENABLE_PRE_SYNC_BACKUP -DENABLE_REMOTING=1 -DENABLE_WEBRTC=1 -DENABLE_MEDIA_ROUTER=1 -DUSE_PROPRIETARY_CODECS -DENABLE_PEPPER_CDMS -DENABLE_CONFIGURATION_POLICY -DENABLE_NOTIFICATIONS -DENABLE_HIDPI=1 -DSYSTEM_NATIVELY_SIGNALS_MEMORY_PRESSURE -DDONT_EMBED_BUILD_METADATA -DDCHECK_ALWAYS_ON=1 -DENABLE_TASK_MANAGER=1 -DENABLE_EXTENSIONS=1 -DENABLE_PLUGIN_INSTALLATION=1 -DENABLE_PLUGINS=1 -DENABLE_SESSION_SERVICE=1 -DENABLE_THEMES=1 -DENABLE_AUTOFILL_DIALOG=1 -DENABLE_BACKGROUND=1 -DENABLE_GOOGLE_NOW=1 -DCLD_VERSION=2 -DENABLE_PRINTING=1 -DENABLE_BASIC_PRINTING=1 -DENABLE_PRINT_PREVIEW=1 -DENABLE_SPELLCHECK=1 -DENABLE_CAPTIVE_PORTAL_DETECTION=1 -DENABLE_APP_LIST=1 -DENABLE_SETTINGS_APP=1 -DENABLE_SUPERVISED_USERS=1 -DENABLE_SERVICE_DISCOVERY=1 -DENABLE_WIFI_BOOTSTRAPPING=1 -DV8_USE_EXTERNAL_STARTUP_DATA -DFULL_SAFE_BROWSING -DSAFE_BROWSING_CSD -DSAFE_BROWSING_DB_LOCAL -DSAFE_BROWSING_SERVICE -DGTEST_HAS_POSIX_RE=0 -DGTEST_LANG_CXX11=0 -DGL_APICALL= -DGL_GLEXT_PROTOTYPES= -DEGLAPI= '-DANGLE_PRELOADED_D3DCOMPILER_MODULE_NAMES={ "d3dcompiler_47.dll" "d3dcompiler_46.dll" "d3dcompiler_43.dll" }' -DANGLE_TRANSLATOR_STATIC -DUSE_LIBPCI=1 -DUSE_OPENSSL=1 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DWTF_USE_DYNAMIC_ANNOTATIONS=1 -Igen -I../.. -I../../third_party/angle/include -I../../third_party/angle/src -I../../third_party/angle/src/compiler/preprocessor -I../../third_party/angle/src/tests -Igen/angle -I../../testing/gmock/include -I../../testing/gtest/include -isysroot /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk -O0 -gdwarf-2 -fvisibility=hidden -Werror -Wnewline-eof -mmacosx-version-min=10.6 -arch x86_64 -Wall -Wendif-labels -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -Wno-selector-type-mismatch -Wpartial-availability -Wheader-hygiene -Wno-char-subscripts -Wno-unneeded-internal-declaration -Wno-covered-switch-default -Wstring-conversion -Wno-c++11-narrowing -Wno-deprecated-register -Wno-inconsistent-missing-override -std=c++11 -fno-rtti -fno-exceptions -fvisibility-inlines-hidden -fno-threadsafe-statics -Xclang -load -Xclang /b/build/slave/GPU_Mac_Builder__dbg_/build/src/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.dylib -Xclang -add-plugin -Xclang find-bad-constructs -Xclang -plugin-arg-find-bad-constructs -Xclang check-templates -fcolor-diagnostics -fno-strict-aliasing -fstack-protector-all -Wno-undefined-bool-conversion -Wno-tautological-undefined-compare  -c ../../third_party/angle/src/tests/compiler_tests/ConstantFolding_test.cpp -o obj/third_party/angle/src/tests/compiler_tests/angle_unittests.ConstantFolding_test.o ../../third_party/angle/src/tests/compiler_tests/ConstantFolding_test.cpp:210:43: error: no matching constructor for initialization of 'std::vector<float>'     ASSERT_FALSE(constantVectorFoundInAST(std::vector<float>{1.0f 1.0f 1.0f}));                                           ^                 ~~~~~~~~~~~~~~~~~~   BUG=angleproject:913  This reverts commit 2decb4b1557a57a5a74e3ab98d8b25f9fc0f8557.  Change-Id: Iaf3c61a0c0ed591c17f50f2e3eafe2debf588c95 Reviewed-on: https://chromium-review.googlesource.com/274917 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add constant folding support for geometric built-ins  This change adds constant folding support for following geometric built-ins:     - length distance dot cross normalize faceforward       reflect and refract.  BUG=angleproject:913 TEST=angle_unittests dEQP Tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.geometric.* (56 tests started passing with this change)  Change-Id: I973689554bb8c30ee3ebdf71f1b8a051ceb5e0cf Reviewed-on: https://chromium-review.googlesource.com/273097 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Added GL_RGB with GL_UNSIGNED_BYTE to WIC loader, 15312978, 382, 105, 382
Change behaviour of string_utils also fix file io.  File IO tested manually in a follow-up patch.  BUG=angleproject:998  Change-Id: I0bfa778d1787cdedfbf3cd68cd134477e6dcd23c Reviewed-on: https://chromium-review.googlesource.com/274030 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Optimize sample caps checks.  We don't need to check NPOT sample counts. This should save us some time on eglInitialize.  BUG=angleproject:1014  Change-Id: Id3b0a440689746d5de9a7fbc3641ff9452b18601 Reviewed-on: https://chromium-review.googlesource.com/274430 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Work around pow() issue in NVIDIA 331.x drivers  pow(x y) when y is a certain kind of a constant vector can cause issues on NVIDIA 331 series drivers. Add an option to replace pow(x y) with exp2(y * log2(x)) when y is a constant to work around this issue.  This is done with an AST traverser instead of BuiltInFunctionEmulator since there's no mechanism in BuiltInFunctionEmulator to apply the replacements only to calls where the second parameter is constant.  TEST=WebGL conformance tests BUG=chromium:477306  Change-Id: Ifb327d72659fca36868439f24705203014b3ce53 Reviewed-on: https://chromium-review.googlesource.com/274279 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "In D3D11 check for 16-bit texture support and use if possible"  Seeing failures on Win7 + Intel machines.  Example build: https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28Intel%29/builds/11756  This reverts commit 673115d9cc4251cd690e14a98ef0c717ba9de0b9.  Change-Id: Ie2b6cc1ae9c4e83dde3a531e38252c95ac2e2a0a Reviewed-on: https://chromium-review.googlesource.com/274450 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Sync the scissor tests state before clearing.  Fixes:  * conformance/rendering/gl-scissor-fbo-test.html  * conformance/rendering/gl-scissor-canvas-dimensions.html  BUG=angleproject:883  Change-Id: Icd337894f1dbc7464a4566bfab9a30b70fd4bbfa Reviewed-on: https://chromium-review.googlesource.com/274445 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix flaky WebGL point-sprites test when using instanced point sprites  Change-Id: I7d417016d9fa3a2e49806543d981ab98a3e71cbc Reviewed-on: https://chromium-review.googlesource.com/273914 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
In D3D11 check for 16-bit texture support and use if possible  BUG=angleproject:1002  Changed since last failed 16-bit patch: - Disabled usage of 16-bit DXGI textures on all Intel cards - Added DXGI->GL conversion entries for 16-bit formats which   fixes FBO readback issues. The ES CTS and dEQP tests which   failed with the last patch now pass.  Change-Id: Ib66abf73f23dbb4329f0a32d7f3dafbbc23e6c08 Reviewed-on: https://chromium-review.googlesource.com/273712 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add Windows SDK path to WinPhone projects  Change-Id: Iaa0bbeba55a277724e4f1851fb0f9db7150308c2 Reviewed-on: https://chromium-review.googlesource.com/274012 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support BGRA texture by remapping the internal format to RGBA.  The format is still passed as BGRA to the driver so that the data can be properly unpacked.  BUG=angleproject:884  Change-Id: I767626c818ce1a3c5a4739f07aa623bf8a9ae377 Reviewed-on: https://chromium-review.googlesource.com/273162 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add remaining unsized formats to the GL format tables.  BUG=angleproject:884  Change-Id: I53e7ff9e35b820573691df0d23b41ef45e2a07d0 Reviewed-on: https://chromium-review.googlesource.com/273590 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Add ANGLE_REVISION sub-identifier to the DLL versioning scheme  Change-Id: Ie9df84957801def2db72a382f4860bbe4e06002f Reviewed-on: https://chromium-review.googlesource.com/274051 Tested-by: Shawn Hargreaves <shawnhar@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a perf test for eglInitialize.  Also shutdown performance since it's not easy to only test one.  BUG=angleproject:1014  Change-Id: I9d06426788ed336031271f8876589b111f1294b7 Reviewed-on: https://chromium-review.googlesource.com/273974 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Add Shawn Hargreaves (Microsoft Corporation) to CONTRIBUTORS  Change-Id: I23110ecaba34990051ff81c40cb93198e2ad1e9c Reviewed-on: https://chromium-review.googlesource.com/274050 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shawn Hargreaves <shawnhar@microsoft.com>, 15312978, 382, 105, 382
Don't enable opengl on linux unless x11 is also available.  BUG=493682  Change-Id: I10d5b710fcc9b51160c3aff169d1af839212003c Reviewed-on: https://chromium-review.googlesource.com/273976 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add timing stats for Renderer11::initializeDevice.  This gives us insight to what we can optimize away.  BUG=angleproject:1014  Change-Id: I86208c5cbebe14905a05d0859b9e37368f4c25d4 Reviewed-on: https://chromium-review.googlesource.com/273862 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable UNIMPLEMENTED in ProgramGL::applyUniforms.  Disables lots of assertion failures in WebGL CTS.  BUG=angleproject:882  Change-Id: I407397a256955d608dbf1234e4e391704653bb5a Reviewed-on: https://chromium-review.googlesource.com/273547 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always init gl_Position in vertex shaders in ShaderGL.  Fixes:  * conformance/glsl/misc/empty_main.vert.html  * conformance/glsl/misc/gl_position_unset.vert.html  BUG=angleproject:882  Change-Id: I92a465b58f319b14e4f697d9bb5b45427a6247c0 Reviewed-on: https://chromium-review.googlesource.com/273548 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Bind renderbuffers as soon as they are generated.  Like textures renderbuffers don't become real objects until they are bound.  If the renderbuffer is never bound before being attached to a framebuffer it would generate an INVALID_OPERATION.  Fixes:  * conformance/textures/tex-input-validation.html  * conformance/renderbuffers/renderbuffer-initialization.html  BUG=angleproject:886  Change-Id: I639b9e2d9ae694dce29f20ed5f95077ae02d471e Reviewed-on: https://chromium-review.googlesource.com/273533 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up most common extra semicolons and braces in HLSL output  Clean up extra semicolons and braces from loops and conditional statements and extra braces from function definitions.  This makes the HLSL output considerably easier to read.  TEST=angle_unittests angle_end2end_tests dEQP-GLES3.functional.shaders.*      WebGL conformance tests BUG=angleproject:1013  Change-Id: I8180bab7b3d4bda1cdb8e4fb51cf9d8e384dd797 Reviewed-on: https://chromium-review.googlesource.com/273607 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make false blocks produced by RewriteElseBlocks sequence nodes  All child nodes of selection should be sequence nodes so that they will output braces and extra braces can be removed from HLSL output.  Also make RewriteElseBlocks to reuse common IntermTraverser functionality to simplify the code.  TEST=WebGL conformance tests on D3D9 BUG=angleproject:1013  Change-Id: Iafdc05468b22d110abcd020cf52c646dd98fb4a0 Reviewed-on: https://chromium-review.googlesource.com/273608 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove ref to intermediate.h.  With https://chromium-review.googlesource.com/213300 b9b5c105799bac1a4738c7589538fab523e3a43d  the file intermediate.h was renamed Intermediate.h. However compiler.gypi now contains references to both but the lower case version doesn't exist anymore so it should be removed.  Change-Id: I6b36bd561f110694daecd4ad911036c94300cd1f Reviewed-on: https://chromium-review.googlesource.com/273593 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Encapsulate GL version and standard into a struct and enum.  Change-Id: I9f51971c1bfd51424605b2687b5fd107d58c9a67 Reviewed-on: https://chromium-review.googlesource.com/273139 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/273572 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Encapsulate GL version and standard into a struct and enum."  Linux didn't like compiling this.  This reverts commit 03f589122ed796060f1345f9ccfc64455c547fef.  Change-Id: Ifd0824caeb02791b4acc5e4bca330ecdc8164b11 Reviewed-on: https://chromium-review.googlesource.com/273583 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Encapsulate GL version and standard into a struct and enum.  Change-Id: Ib3c37627298976040d5a333f4c845a7b2620dd30 Reviewed-on: https://chromium-review.googlesource.com/273139 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Do not always use X11 for Linux builds inherit Chromium's settings  This fixes project generation for Chromium for non-X11 builds  BUG=angleproject:1011  Change-Id: If528f63fb186d834d56a43ca379497d99e74777e Reviewed-on: https://chromium-review.googlesource.com/273163 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable PbufferTest on Linux by not advertising bindable configs  GLX Pbuffers are not bindable so implementing bindable pbuffers would have to be one of the following:  - Implement Pbuffer as GLXPixmaps with complication arising in the    initialization.  - Implement Pbuffers as GL textures which would require a large change    of the EGL implementation.  - Fake bindable Pbuffers with glCopyTexImage2D with obvious    performance problems.  BUG=angleproject:892  Change-Id: I7d9cd5a4aa2d35343244be3cbe55fc1e492f6928 Reviewed-on: https://chromium-review.googlesource.com/273056 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable OcclusionQueriesTest on Linux  This includes an implementation of a cross platform Sleep function  BUG=angleproject:892  Change-Id: I1087a00ab204b37bafc5e95a9766962b194d97ef Reviewed-on: https://chromium-review.googlesource.com/273133 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Constant fold vector relational built-ins  This change adds constant folding support for vector relational built-ins.  BUG=angleproject:913 TEST=dEQP Tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.vector_relational* (Fixes all 138 tests)  Change-Id: I291e332f2afb3ce3d6596e634f509995dbf35164 Reviewed-on: https://chromium-review.googlesource.com/272344 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "In D3D11 check for 16-bit texture support and use if possible"  Causing failures on Windows 8 bots running ES CTS and Windows 7 Intel bot running angle tests.  Example failures: https://build.chromium.org/p/chromium.gpu.fyi/builders/Win8%20Release%20%28NVIDIA%29/builds/14442 https://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28Intel%29/builds/11627  This reverts commit d63f08fcc32ea17bac2b025f0ad3261664ff79c9.  Change-Id: I841aee5fb0973432f249277126424b909d5b3e17 Reviewed-on: https://chromium-review.googlesource.com/273416 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
When applying vertex array objects update the currently applied index buffer.  When binding a vertex array object it was not changing the tracked index buffer binding.  This was causing the buffer bindings to sometimes not be updated between index and non-indexed draw calls.  Fixes:  * Intermittent crashes in chromium startup.  * conformance/rendering/many-draw-calls.html  * conformance/rendering/framebuffer-switch.html  * conformance/attribs/gl-bindAttribLocation-aliasing.html  * conformance/attribs/gl-vertex-attrib-render.html  * conformance/buffers/index-validation-verifies-too-many-indices.html  BUG=angleproject:883  Change-Id: I34ed1ebc65b339329c0f9ab9c28a392f552ed3d8 Reviewed-on: https://chromium-review.googlesource.com/273300 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Bind a texture after creation so that it has a type.  If a texture is bound to a framebuffer before any data is set on it the texture does not have a type because it has never been bound.  This generates an INVALID_OPERATION because the attachment type cannot be validated.  Fixes:  * Many generated GL_INVALID_OPERATIONs in chromium  BUG=angleproject:884  Change-Id: I4f36f80fecc5a772b6522f8f82e0be9d3758e524 Reviewed-on: https://chromium-review.googlesource.com/273324 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Check for null attribute buffers before binding.  Fixes:  * Crash in conformance/extensions/oes-vertex-array-object.html  BUG=angleproject:880  Change-Id: I90eba9b26b2834644ce3ba0e78cab3417c2a7bd1 Reviewed-on: https://chromium-review.googlesource.com/273325 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Handle function calls where returned array is not used  This is done by declaring a temporary variable which is passed as the array out parameter defined by ArrayReturnValueToOutParameter. SeparateExpressionsReturningArrays takes care of transforming the rest of the cases where a function call returns an array into form that ArrayReturnValueToOutParameter can handle.  BUG=angleproject:971 TEST=WebGL 2 conformance tests dEQP-GLES3.functional.shaders.arrays.*  Change-Id: I70c07712ba5cd91efb4c2e575ecc49b9ef71bfd7 Reviewed-on: https://chromium-review.googlesource.com/273111 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix destructing TStrings through BuiltInFunctionEmulator after free  BuiltInFunctionEmulator gets destructed after the PoolAllocator has already freed memory. That's why BuiltInFunctionEmulator can't hold any objects that contain parts stored in the memory pool that would be accessed in its destructor. Use only pointers to TType objects inside BuiltInFunctionEmulator so that the BuiltInFunctionEmulator destructor doesn't access TStrings which have data in the memory pool.  Also fix style issues in BuiltInFunctionEmulator.  BUG=angleproject:1010 TEST=dEQP-GLES3.functional.shaders.builtin_functions.*  Change-Id: Ic35caf80bf125d0427c2ed2024e98657756103b6 Reviewed-on: https://chromium-review.googlesource.com/272738 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Check that #version 300 es directive is on the first line  ESSL3.00 and 3.10 specs don't allow even newlines before the version directive.  BUG=angleproject:1009 TEST=WebGL 2 conformance tests angle_unittests  Change-Id: Id7967829077e35e03572c724e0eafffbed0c975b Reviewed-on: https://chromium-review.googlesource.com/272719 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix small issues in array related AST transformations  Make sure that user-defined bit stays in place when copying function call nodes and that mInFunctionWithArrayReturnValue gets reset correctly in ArrayReturnValueToOutParameter.  BUG=angleproject:971 TEST=WebGL 2 conformance tests  Change-Id: I385f4ce4990597e44ddad4f0fa6db23b661771dc Reviewed-on: https://chromium-review.googlesource.com/273110 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix missing break statements.  Fixes:  * conformance/glsl/functions/glsl-function*  BUG=angleproject:883  Change-Id: I22a528c6ba4c4077ba47269e14396b4117d1c849 Reviewed-on: https://chromium-review.googlesource.com/273169 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
In D3D11 check for 16-bit texture support and use if possible  BUG=angleproject:1002  Change-Id: I36a5ee774b38e9865b2eb6c6789afd316c4eff16 Reviewed-on: https://chromium-review.googlesource.com/272061 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Fix order of TearDown of EGLSurfaceTest  Previously the OS window was deleted before the EGL window surface which caused the GLX window to be deleted after its X window was deleted. All this was invalid and resulted in a crash.  BUG=angleproject:892  Change-Id: I394795b6ebce947ad7eeab9a70ad5f80fcd89241 Reviewed-on: https://chromium-review.googlesource.com/273055 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
WindowSurfaceGLX handle resizing the window on swap  This make the multi window sample work well.  BUG=angleproject:892  Change-Id: If98c6f995875b63c391cee9b6fddc6d138d48f8b Reviewed-on: https://chromium-review.googlesource.com/272946 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Report warning whenever constant folding results are undefined  With recent constant folding changes we are reporting warnings whenever constant folding results are undefined for values passed in this change adds that warning at all the places where it was missing.  BUG=angleproject:913 TEST=dEQP Tests angle_unittests  Change-Id: Ief8380488e2a4807c91ddac06d342cb172433b9d Reviewed-on: https://chromium-review.googlesource.com/272879 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Use absolute paths in angle_perftests.gypi  Otherwise in the Chromium build gyp might have a wrong cwd and then ninja will fail to find the files to compile.  BUG=angleproject:892  Change-Id: I6b7beef5ecad62cc345b49253cedbde0ac166c17 Reviewed-on: https://chromium-review.googlesource.com/273161 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable some tests due to failures on Intel OpenGL.  BUG=angleproject:884  Change-Id: Iceb571807a2232dae22703953e12e1af4bba5a87 Reviewed-on: https://chromium-review.googlesource.com/273029 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge separate definitions of include_dirs for perftests  BUG=angleproject:892  Change-Id: Ifd108b3119ea73c05e984ca9138536fb8cf6839c Reviewed-on: https://chromium-review.googlesource.com/273137 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add table entries for almost all the remaining GL texture formats.  BUG=angleproject:884 BUG=angleproject:967  Change-Id: I113757dd9e1fae8fe0241a7286be979a90891b53 Reviewed-on: https://chromium-review.googlesource.com/270275 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/273135, 15312978, 382, 105, 382
Revert "Add table entries for almost all the remaining GL texture formats."  Missing include of <limits> for linux.  This reverts commit aa3a5fadebb2bad0be07eb2963a9d23f901c4c49.  Change-Id: Iafebfbc6154b4fe3a94e3f8b91b5ff496631c1f1 Reviewed-on: https://chromium-review.googlesource.com/273134 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename path_utils to system_utils  For inclusion of Sleep  BUG=angleproject:892  Change-Id: I1a9491102e9943d945eef0ba372a6779c30cd311 Reviewed-on: https://chromium-review.googlesource.com/273131 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable EGLSurfaceTest on Linux  BUG=angleproject:892  Change-Id: I142ab37e00e2ba7fc2316aff564cc449eeb22771 Reviewed-on: https://chromium-review.googlesource.com/273130 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Poll all windows in the multi window sample  On Linux all windows are polled separately contrary to windows in which the callback is used on all windows.  BUG=angleproject:892  Change-Id: Ib1538f12ab2fa1864d29c91b9c5bfc2204cd1fa7 Reviewed-on: https://chromium-review.googlesource.com/272945 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Simplify the implementation of ANGLE_INSTANTIATE_TEST  I mistakenly submitted a refactor with +2 but not +1 so a comment wasn't addressed hopefully fixes it.  BUG=angleproject:892  Change-Id: I096c2424449be196dfa949cc6ef662b766036330 Reviewed-on: https://chromium-review.googlesource.com/272905 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix styling issues in ParseContext.cpp  There were lot of styling issues in ParseContext.cpp mostly related to opening braces on same line as conditional statement and pointers and references not being tight to the variable in variable declarations this change fixes them.  TEST=angle_unittests  Change-Id: Ia225726254bcf5f315c13054ff41c5ff9cfe0992 Reviewed-on: https://chromium-review.googlesource.com/272846 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add table entries for almost all the remaining GL texture formats.  BUG=angleproject:884 BUG=angleproject:967  Change-Id: I0b05841272f4410c33ee4e4c3654846f07b7c39b Reviewed-on: https://chromium-review.googlesource.com/270275 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement swapInterval for EGL on GLX  BUG=angleproject:892  Change-Id: I80d8d67270662c7f2be893f4a8318fbc0926f1fc Reviewed-on: https://chromium-review.googlesource.com/272677 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add timer histogram for egl::Initialize time.  This can help is track startup time regressions within ANGLE.  BUG=436191 BUG=angleproject:944  Change-Id: I73cf2449661b909dced4ddc11957037ed5535fc0 Reviewed-on: https://chromium-review.googlesource.com/272613 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix CopySubImage tests on 9_3 and a render-to-backbuffer issue detected after test fix, 15312978, 382, 105, 382
Add an end2end test checking EGL context-surface compatibility  This has been very useful to figure out the FBConfig story for the GLX EGL implementation.  BUG=angleproject:892  Change-Id: Ie4138dd1dd98f1450984a61317e3fc863c620ad3 Reviewed-on: https://chromium-review.googlesource.com/272371 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/272907, 15312978, 382, 105, 382
Revert "Add an end2end test checking EGL context-surface compatibility"  Failing due to a bug in the test:  BUG=angleproject:892  This reverts commit 08971bff3e24b516fcfd5327a51801bc270d3987.  Change-Id: I5f97f5e00f8b820874d575421b9a50829bb6f1e0 Reviewed-on: https://chromium-review.googlesource.com/272912 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix MaxTextureSizeTest on FL9_3, 15312978, 382, 105, 382
Pick return value from copyTexture.  Change-Id: Ia04358645348326c5577854053b550426121e64e Reviewed-on: https://chromium-review.googlesource.com/272765 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Cooper Partin <coopp@microsoft.com> Tested-by: Minmin Gong <mgong@microsoft.com>, 15312978, 382, 105, 382
Added compiler flags to enable Control Flow Guard.  Change-Id: I86e24b83e2e9b279c93c518ab9bc7dafd4b3d006 Reviewed-on: https://chromium-review.googlesource.com/272501 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update to latest Google changes for 16-bit textures, 15312978, 382, 105, 382
Revert 16-bit changes, 15312978, 382, 105, 382
Fix Geometry Shader point sprites with render-to-backbuffer, 15312978, 382, 105, 382
X11Window: handling of ConfigureNotify work when reparented  BUG=angleproject:892  Change-Id: Ib201a5fbf4fca39c90464ed76434dac5e5ded381 Reviewed-on: https://chromium-review.googlesource.com/272683 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add perftest parameters for OpenGL  BUG=angleproject:892  Change-Id: Ia22b8ab48456d6fbccb159404e943f9ef2650bdc Reviewed-on: https://chromium-review.googlesource.com/272610 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make perftests use ANGLE_INSTANTIATE_TEST  This also moves ANGLE_INSTANTIATE_TEST to its own header and makes it generic over the type of test parameter.  BUG=angleproject:892  Change-Id: Id4e3929d7ad06964b3259015915be84a8ee414f9 Reviewed-on: https://chromium-review.googlesource.com/272553 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make eglMakeCurrent validate for config compatibility  See section 2.2 of the EGL 1.5 specification.  BUG=angleproject:892  Change-Id: I2a43260e53cb045b2e06b0e50915e228cec96f33 Reviewed-on: https://chromium-review.googlesource.com/272370 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Correct LinuxTimer time calculations  Changes to CLOCK_MONOTONIC as CLOCK_PROCESS_CPUTIME counts only user time and not kernel time.  BUG=angleproject:892  Change-Id: I3d5aee26ee2bacd7449fdd7795ad8c2b289d7324 Reviewed-on: https://chromium-review.googlesource.com/272652 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make perftests compile on Linux  BUG=angleproject:892  Change-Id: I3fe43c7a84d1eb2b875309495fe27a0bfd6c3e82 Reviewed-on: https://chromium-review.googlesource.com/272552 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add an end2end test checking EGL context-surface compatibility  This has been very useful to figure out the FBConfig story for the GLX EGL implementation.  BUG=angleproject:892  Change-Id: Icd9afd8e4bdd8766d2fa727afcaf20826c2faf2a Reviewed-on: https://chromium-review.googlesource.com/272371 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Load texture storage extension entry points in RendererGL.  BUG=angleproject:884  Change-Id: Iaef596337f9c4d781fb93f517c8f605d119136fb Reviewed-on: https://chromium-review.googlesource.com/266599 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/272746 Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Load texture storage extension entry points in RendererGL."  This reverts commit 5ec636f67cb65438b71ca46375fa45e33eb2e4ba.  Change-Id: I68b87279f08e558948216630259349e4db8481d7 Reviewed-on: https://chromium-review.googlesource.com/272785 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Load texture storage extension entry points in RendererGL.  BUG=angleproject:884  Change-Id: I30e688ca4304b0a0a1c939edee95d75faf8e8485 Reviewed-on: https://chromium-review.googlesource.com/266599 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Separate expressions returning arrays for HLSL output  Complex array expressions need to be broken down in HLSL output so that they are built out of simple combinations of operations and symbols.  In practice this means that array constructors array assignments and functions that return arrays inside complex expressions need to be replaced by symbols.  After this change ANGLE passes all dEQP-GLES3.functional.shaders.arrays tests.  The old SimplifyArrayAssignment stub is removed the new name SeparateExpressionsReturningArrays more closely reflects what the function needs to do.  BUG=angleproject:971 angleproject:941 TEST=dEQP-GLES3.functional.shaders.arrays.* WebGL 2 conformance tests  Change-Id: Iab8dde72b1126dc2f958ffb5b1b830fe3ce25912 Reviewed-on: https://chromium-review.googlesource.com/272122 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactoring: Make creating temporary symbols in AST traversal reusable  Temporary symbols will also be needed to store temporary arrays when complex array expressions are unfolded.  Also clear tree update related structures at the end of updateTree() so that the traverser can be reused for several rounds of replacement more easily and remove unnecessary InVisit step from UnfoldShortCircuitToIf.  BUG=angleproject:971 TEST=angle_end2end_tests WebGL conformance tests  Change-Id: Iecdd3008d43f01b02fe344ccde8614f70e6c0c65 Reviewed-on: https://chromium-review.googlesource.com/272121 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add constant folding support for more built-ins  This change adds constant folding support for following built-ins:   - atan(two arguments) pow mod mix step and smoothstep.  BUG=angleproject:913 TEST=dEQP tests Following 80 tests from dEQP-GLES3.functional.shaders.constant_expressions started passing with this change:  - builtin_functions.angle_and_trigonometry.atan_separate*  - builtin_functions.exponential.pow_*  - builtin_functions.common.mod_*  - builtin_functions.common.mix_*  - builtin_functions.common.step_*  - builtin_functions.common.smoothstep_*  Change-Id: I70f0a8837a82c480da8cff3f1382c6252a486fe4 Reviewed-on: https://chromium-review.googlesource.com/271753 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix warning in string_utils.cpp in Win32  BUG=  Change-Id: Ibb25d46c2ee5f361f6a948dc3efea38422a4573f Reviewed-on: https://chromium-review.googlesource.com/272559 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix -Winconsistent-override in Mock classes  Gmock defines virtual functions without the override keyword so the constructors using override here caused a warning.  BUG=angleproject:892  Change-Id: I2a8f0445aa4a1e09694b7f98a6da07f8abaa47fb Reviewed-on: https://chromium-review.googlesource.com/272551 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Call XSync in the GLX EGL impl if we have a new X server connection""  This reverts commit 9c0a421858162673f4232d37bf8c5e2459ec28ea.  Change-Id: Ia543daebc240b81950e21930895a7e24ed9f7a1b Reviewed-on: https://chromium-review.googlesource.com/272225 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add some string helper classes.  *re-land with build fix for Clang*  These helper functions mirror some utilities in Chrome for splitting strings along whitespace or reading file contents into a string.  Also remove the hack for skipping the doubly-defined GLX header.  BUG=angleproject:892angleproject:998  Change-Id: Ife43fbf5035a3be7820460bea1b26d0e632a4fb0 Reviewed-on: https://chromium-review.googlesource.com/272518 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Handle compressed texture formats in the emulated TextureStorage for TextureGL.  BUG=angleproject:884  Change-Id: Id54d9ff2845af52807161e0b589d8b76cfba412d Reviewed-on: https://chromium-review.googlesource.com/272424 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pipe the imageSize parameter from the entry point to avoid recomputation.  BUG=angleproject:884  Change-Id: Ic4d5bdc5b65ebcb8c57b960e84708e945db0276a Reviewed-on: https://chromium-review.googlesource.com/272422 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Add some string helper classes."  Build errors on Clang:  FAILED: /b/build/goma/gomacc ../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -MF obj/third_party/angle/src/common/angle_common.string_utils.o.d -DV8_DEPRECATION_WARNINGS -D__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE=0 -DCHROMIUM_BUILD -DCR_CLANG_REVISION=233105-2 -DTOOLKIT_VIEWS=1 -DUSE_LIBJPEG_TURBO=1 -DENABLE_ONE_CLICK_SIGNIN -DENABLE_PRE_SYNC_BACKUP -DENABLE_REMOTING=1 -DENABLE_WEBRTC=1 -DENABLE_MEDIA_ROUTER=1 -DUSE_PROPRIETARY_CODECS -DENABLE_PEPPER_CDMS -DENABLE_CONFIGURATION_POLICY -DENABLE_NOTIFICATIONS -DENABLE_HIDPI=1 -DSYSTEM_NATIVELY_SIGNALS_MEMORY_PRESSURE -DDONT_EMBED_BUILD_METADATA -DDCHECK_ALWAYS_ON=1 -DENABLE_TASK_MANAGER=1 -DENABLE_EXTENSIONS=1 -DENABLE_PLUGIN_INSTALLATION=1 -DENABLE_PLUGINS=1 -DENABLE_SESSION_SERVICE=1 -DENABLE_THEMES=1 -DENABLE_AUTOFILL_DIALOG=1 -DENABLE_BACKGROUND=1 -DENABLE_GOOGLE_NOW=1 -DCLD_VERSION=2 -DENABLE_PRINTING=1 -DENABLE_BASIC_PRINTING=1 -DENABLE_PRINT_PREVIEW=1 -DENABLE_SPELLCHECK=1 -DENABLE_CAPTIVE_PORTAL_DETECTION=1 -DENABLE_APP_LIST=1 -DENABLE_SETTINGS_APP=1 -DENABLE_SUPERVISED_USERS=1 -DENABLE_SERVICE_DISCOVERY=1 -DENABLE_WIFI_BOOTSTRAPPING=1 -DV8_USE_EXTERNAL_STARTUP_DATA -DFULL_SAFE_BROWSING -DSAFE_BROWSING_CSD -DSAFE_BROWSING_DB_LOCAL -DSAFE_BROWSING_SERVICE -DUSE_LIBPCI=1 -DUSE_OPENSSL=1 -DNDEBUG -DNVALGRIND -DDYNAMIC_ANNOTATIONS_ENABLED=0 -Igen -I../../third_party/angle/src -I../../third_party/angle/include -isysroot /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk -O2 -gdwarf-2 -fvisibility=hidden -Werror -Wnewline-eof -mmacosx-version-min=10.6 -arch x86_64 -Wendif-labels -Wno-unused-parameter -Wno-missing-field-initializers -Wno-selector-type-mismatch -Wpartial-availability -Wheader-hygiene -Wno-char-subscripts -Wno-unneeded-internal-declaration -Wno-covered-switch-default -Wstring-conversion -Wno-c++11-narrowing -Wno-deprecated-register -Wno-inconsistent-missing-override -std=c++11 -fno-rtti -fno-exceptions -fvisibility-inlines-hidden -fno-threadsafe-statics -Xclang -load -Xclang /b/build/slave/GPU_Mac_Builder/build/src/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.dylib -Xclang -add-plugin -Xclang find-bad-constructs -fcolor-diagnostics -fno-strict-aliasing  -c ../../third_party/angle/src/common/string_utils.cpp -o obj/third_party/angle/src/common/angle_common.string_utils.o ../../third_party/angle/src/common/string_utils.cpp:72:19: error: no matching constructor for initialization of 'std::ifstream' (aka 'basic_ifstream<char>')     std::ifstream inFile(path);                   ^      ~~~~ /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk/usr/include/c++/4.2.1/fstream:465:7: note: candidate constructor not viable: no known conversion from 'const std::string' (aka 'const basic_string<char>') to 'const char *' for 1st argument       basic_ifstream(const char* __s ios_base::openmode __mode = ios_base::in)       ^ /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk/usr/include/c++/4.2.1/bits/fstream.tcc:894:25: note: candidate constructor (the implicit copy constructor) not viable: no known conversion from 'const std::string' (aka 'const basic_string<char>') to 'const std::basic_ifstream<char>' for 1st argument   extern template class basic_ifstream<char>;                         ^ /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk/usr/include/c++/4.2.1/fstream:451:7: note: candidate constructor not viable: requires 0 arguments but 1 was provided       basic_ifstream() : __istream_type() _M_filebuf()       ^ 1 error generated. FAILED: /b/build/goma/gomacc ../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -MF obj/third_party/angle/src/common/angle_unittests.string_utils_unittest.o.d -DV8_DEPRECATION_WARNINGS -D__ASSERT_MACROS_DEFINE_VERSIONS_WITHOUT_UNDERSCORE=0 -DCHROMIUM_BUILD -DCR_CLANG_REVISION=233105-2 -DTOOLKIT_VIEWS=1 -DUSE_LIBJPEG_TURBO=1 -DENABLE_ONE_CLICK_SIGNIN -DENABLE_PRE_SYNC_BACKUP -DENABLE_REMOTING=1 -DENABLE_WEBRTC=1 -DENABLE_MEDIA_ROUTER=1 -DUSE_PROPRIETARY_CODECS -DENABLE_PEPPER_CDMS -DENABLE_CONFIGURATION_POLICY -DENABLE_NOTIFICATIONS -DENABLE_HIDPI=1 -DSYSTEM_NATIVELY_SIGNALS_MEMORY_PRESSURE -DDONT_EMBED_BUILD_METADATA -DDCHECK_ALWAYS_ON=1 -DENABLE_TASK_MANAGER=1 -DENABLE_EXTENSIONS=1 -DENABLE_PLUGIN_INSTALLATION=1 -DENABLE_PLUGINS=1 -DENABLE_SESSION_SERVICE=1 -DENABLE_THEMES=1 -DENABLE_AUTOFILL_DIALOG=1 -DENABLE_BACKGROUND=1 -DENABLE_GOOGLE_NOW=1 -DCLD_VERSION=2 -DENABLE_PRINTING=1 -DENABLE_BASIC_PRINTING=1 -DENABLE_PRINT_PREVIEW=1 -DENABLE_SPELLCHECK=1 -DENABLE_CAPTIVE_PORTAL_DETECTION=1 -DENABLE_APP_LIST=1 -DENABLE_SETTINGS_APP=1 -DENABLE_SUPERVISED_USERS=1 -DENABLE_SERVICE_DISCOVERY=1 -DENABLE_WIFI_BOOTSTRAPPING=1 -DV8_USE_EXTERNAL_STARTUP_DATA -DFULL_SAFE_BROWSING -DSAFE_BROWSING_CSD -DSAFE_BROWSING_DB_LOCAL -DSAFE_BROWSING_SERVICE -DGTEST_HAS_POSIX_RE=0 -DGTEST_LANG_CXX11=0 -DGL_APICALL= -DGL_GLEXT_PROTOTYPES= -DEGLAPI= '-DANGLE_PRELOADED_D3DCOMPILER_MODULE_NAMES={ "d3dcompiler_47.dll" "d3dcompiler_46.dll" "d3dcompiler_43.dll" }' -DANGLE_TRANSLATOR_STATIC -DUSE_LIBPCI=1 -DUSE_OPENSSL=1 -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -DNDEBUG -DNVALGRIND -DDYNAMIC_ANNOTATIONS_ENABLED=0 -D_FORTIFY_SOURCE=2 -Igen -I../.. -I../../third_party/angle/include -I../../third_party/angle/src -I../../third_party/angle/src/compiler/preprocessor -I../../third_party/angle/src/tests -Igen/angle -I../../testing/gmock/include -I../../testing/gtest/include -isysroot /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.10.sdk -O2 -gdwarf-2 -fvisibility=hidden -Werror -Wnewline-eof -mmacosx-version-min=10.6 -arch x86_64 -Wall -Wendif-labels -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -Wno-selector-type-mismatch -Wpartial-availability -Wheader-hygiene -Wno-char-subscripts -Wno-unneeded-internal-declaration -Wno-covered-switch-default -Wstring-conversion -Wno-c++11-narrowing -Wno-deprecated-register -Wno-inconsistent-missing-override -std=c++11 -fno-rtti -fno-exceptions -fvisibility-inlines-hidden -fno-threadsafe-statics -Xclang -load -Xclang /b/build/slave/GPU_Mac_Builder/build/src/third_party/llvm-build/Release+Asserts/lib/libFindBadConstructs.dylib -Xclang -add-plugin -Xclang find-bad-constructs -fcolor-diagnostics -fno-strict-aliasing  -c ../../third_party/angle/src/common/string_utils_unittest.cpp -o obj/third_party/angle/src/common/angle_unittests.string_utils_unittest.o In file included from ../../third_party/angle/src/common/string_utils_unittest.cpp:12: ../../testing/gtest/include/gtest/gtest.h:1481:16: error: comparison of integers of different signs: 'const int' and 'const unsigned int' [-Werror-Wsign-compare]   if (expected == actual) {       ~~~~~~~~ ^  ~~~~~~ ../../testing/gtest/include/gtest/gtest.h:1511:12: note: in instantiation of function template specialization 'testing::internal::CmpHelperEQ<int unsigned int>' requested here     return CmpHelperEQ(expected_expression actual_expression expected            ^ ../../third_party/angle/src/common/string_utils_unittest.cpp:55:5: note: in instantiation of function template specialization 'testing::internal::EqHelper<false>::Compare<int unsigned int>' requested here     EXPECT_EQ(0xBADF00D uintValue);     ^ ../../testing/gtest/include/gtest/gtest.h:2017:67: note: expanded from macro 'EXPECT_EQ'                       EqHelper<GTEST_IS_NULL_LITERAL_(expected)>::Compare \                                                                   ^ ../../testing/gtest/include/gtest/gtest_pred_impl.h:162:23: note: expanded from macro 'EXPECT_PRED_FORMAT2'   GTEST_PRED_FORMAT2_(pred_format v1 v2 GTEST_NONFATAL_FAILURE_)                       ^ ../../testing/gtest/include/gtest/gtest_pred_impl.h:147:17: note: expanded from macro 'GTEST_PRED_FORMAT2_'   GTEST_ASSERT_(pred_format(#v1 #v2 v1 v2) \                 ^ ../../testing/gtest/include/gtest/gtest_pred_impl.h:77:52: note: expanded from macro 'GTEST_ASSERT_'   if (const ::testing::AssertionResult gtest_ar = (expression)) \                                                    ^ BUG=angleproject:892angleproject:998  This reverts commit fa5fb6f1ef685af316b320530ffbb425bb63446e.  Change-Id: I949debbd365926301ec19225f262484fa3b8e13b Reviewed-on: https://chromium-review.googlesource.com/272548 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add some string helper classes.  These helper functions mirror some utilities in Chrome for splitting strings along whitespace or reading file contents into a string.  Also remove the hack for skipping the doubly-defined GLX header.  BUG=angleproject:892angleproject:998  Change-Id: Ie617be7e02c2ccc684028500aabb54561c9c6c14 Reviewed-on: https://chromium-review.googlesource.com/272436 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "In D3D11 with DXGI1.2 use B5G6R5 for GL_RGB565"  Causing a failure in the end2end_test (in Debug):  ClearTest.ClearIssue/1  Renderer11::createRenderTarget returns unsupported when trying to create a BGR565 texture.  BUG=angleproject:1002  This reverts commit 72a31d66e9f2b6bd0beff57af5278ef1348d09bd.  Change-Id: I9e052c78517abbcb22a678a949fdb81d6ba67eb7 Reviewed-on: https://chromium-review.googlesource.com/272543 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
In D3D11 with DXGI1.2 use B5G6R5 for GL_RGB565  *re-land with build fix*  BUG=angleproject:1002  Change-Id: Ic1d8ea23dc1bf56e713e5d991ab9edd48978d3d7 Reviewed-on: https://chromium-review.googlesource.com/272515 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "In D3D11 with DXGI1.2 use B5G6R5 for GL_RGB565"  Build break on Windows due to a rebase conflict (relocated header)  24>..\..\src\tests\gl_tests\SixteenBppTextureTest.cpp(9): fatal error C1083: Cannot open include file: 'end2end_tests/ANGLETest.h': No such file or directory  BUG=angleproject:1002 This reverts commit 5224926d11de22e6f0043d6b25ace7d3c4b60b28.  Change-Id: I4ed4e918ca5bcd85367ed3e364e29039fcdf5619 Reviewed-on: https://chromium-review.googlesource.com/272542 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
In D3D11 with DXGI1.2 use B5G6R5 for GL_RGB565  BUG=angleproject:1002  Change-Id: I13dfe218fd9dce6581843d7fab33ce482187e351 Reviewed-on: https://chromium-review.googlesource.com/270771 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix ninja build warning on Linux.  The 'all' target has a special meaning to ninja and it would complain about having two 'all' targets. Fix this by using a capital 'a'.  BUG=None  Change-Id: I3ce2aab8df4bdfc8f49361f514881005547c51bf Reviewed-on: https://chromium-review.googlesource.com/272258 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Always mark *_Base configurations as abstract.  These configurations were showing up in generated projects that angle is included in because those projects don't see our common.gypi file that marks these configurations as abstract.  Change-Id: I2c93e82567619d23f8535bd4f77446a1f837707f Reviewed-on: https://chromium-review.googlesource.com/270282 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Determine packed depth stencil extension support automatically.  BUG=angleproject:884  Change-Id: If2b8fd94b0354449ba7e629606d7b1b2c2430fd1 Reviewed-on: https://chromium-review.googlesource.com/272421 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add simple_vertex_shader back to the GYP  Change-Id: I1d078af32c725e7bdd5b366ff8218758049f5a38 Reviewed-on: https://chromium-review.googlesource.com/272065 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove un-needed swapBuffers calls in the tests.  If a glReadPixels is done after a swapBuffers it's results are often undefined.  bug=angleproject:967  Change-Id: I4a99ca47624347ecbc0a5c084e93b997c92e1b31 Reviewed-on: https://chromium-review.googlesource.com/272423 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a C4244 in DDSTextureLoader., 15312978, 382, 105, 382
Remove stale projects, 15312978, 382, 105, 382
Remove proxy header for ANGLETest.h  It is no longer needed as https://codereview.chromium.org/1134953003/ has been landed.  BUG=angleproject:892  Change-Id: I3923a7bda2d4a3d70d128f7210fab35837df435d Reviewed-on: https://chromium-review.googlesource.com/272380 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Write the single/double buffer investigation results  BUG=angleproject:892  Change-Id: I163e3b674cdb5357cfaf31305f4776dc4c895af1 Reviewed-on: https://chromium-review.googlesource.com/272228 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Release egl::Surface on Texture image changes.  We would get into a broken state if the user would bind a Texture to an egl::Surface then change the Texture. This is valid in egl and should release the Surface when it happens.  BUG=485543  Change-Id: Idfaa305ac704f2bc579e79be816e88a23e69351b Reviewed-on: https://chromium-review.googlesource.com/271986 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix most occurences of -Winconsistent-missing-override  Other occurences are in code generated by macro in googlemock.  BUG=angleproject:892  Change-Id: I8b2c6ad4b793be2d9a440687b1b010c9feb8bdae Reviewed-on: https://chromium-review.googlesource.com/272224 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FunctionsGLX: Remove all but one of the ANGLE dependencies  A follow-up CL will make it so the dependencies on TokenizeExtensionString doesn't pull the GL headers this will then allow use to remove the hack for the inclusion of glx.h  BUG=angleproject:892  Change-Id: I51c5466617057e2c580bd5e8056307515bcecc4b Reviewed-on: https://chromium-review.googlesource.com/272206 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Completely isolate GLX in FunctionsGLX  This makes it so it is the only file including glx.h.  BUG=angleproject:892  Change-Id: I5c45b659ec102b7a2c92e010a6843fa21b7c664b Reviewed-on: https://chromium-review.googlesource.com/271418 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Ensure that conditional blocks and loop bodies are sequence nodes  AST transformations such as unfolding logical operations can only create nodes inside sequence (block) nodes. This patch ensures that these AST transformations work even inside conditional blocks and loop bodies that were first parsed as single statements instead of blocks.  BUG=angleproject:971 TEST=WebGL conformance tests  Change-Id: If98cb7be653ec7b005537b89547f4f4cf1c07c72 Reviewed-on: https://chromium-review.googlesource.com/272141 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
In D3D11 return 0 if not conformant rather than GL_NONE  Change-Id: Ica6484d1b5960f162ad88648ff9b2b9b96710930 Reviewed-on: https://chromium-review.googlesource.com/272166 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Updated generate_winrt_projects to produce Windows 10 projects  BUG=angleproject:1004  Change-Id: I6f50226b21ff92ac85dbe5ed2e39dcc4f7e39306 Reviewed-on: https://chromium-review.googlesource.com/272160 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactoring: make tracking parent block position in AST traversal reusable  Add a helper function to make it easier for traverser classes to insert statements and use it in UnfoldShortCircuitToIf.  BUG=angleproject:971 TEST=angle_end2end_tests WebGL conformance tests  Change-Id: I141bdd8abf4b01988581e6cb27c2320bf38370ac Reviewed-on: https://chromium-review.googlesource.com/272140 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add ANGLE support for ESSL3 variant of mix()  This change adds support for ESSL3 variant of built-in function mix() that takes last argument as a boolean vector. lerp() - HLSL equivalent of mix() doesn't look to be supporting a variant that takes last argument as a boolean vector so emulated it for HLSL.  BUG=angleproject:1006 TESTS=dEQP tests Fixes "no matching overloaded function found " errors in below tests: dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.mix_*_b* (Note: These tests still fail because of constant expression issues)  Change-Id: I79b353933cb450516b8678b1fdaeabe60417e9a7 Reviewed-on: https://chromium-review.googlesource.com/271751 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Combine D3D11 FL10_0+ and FL9_3 format support tables  BUG=angleproject:1002  Change-Id: I4305db01c0ca40fd0ccf0dd441744b6184d5e945 Reviewed-on: https://chromium-review.googlesource.com/270770 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Combine D3D11 FL10_0+ and FL9_3 LoadFunctionMaps  BUG=angleproject:1002  A 'LoadFunction' is used to load data of a given <GL format GL type> pair into a specific DXGI_FORMAT. Before this change BuildD3D11LoadFunctionMap mapped <GL format GL type> pairs to LoadFunctions. This meant each <GL format GL type> pair could only loaded using one LoadFunction and therefore could only be loaded into one specific DXGI_FORMAT.  We now want to map <GL format GL type DXGI_FORMAT> triples to LoadFunctions. This allows us to use different DXGI_FORMATS for each <GL format GL type> pair depending on the capabilities of the underlying D3D11 device.  Change-Id: I3b5e24c4bf98f18360ddd45b2022a90b5000f866 Reviewed-on: https://chromium-review.googlesource.com/270561 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
DisplayGLX: rework the GLXFBConfig selection  This allows us to return multiple EGL configs in particular we can have configs with no depth-stencil buffer. Also includes a description of the investigation I did for this patch.  BUG=angleproject:892  Change-Id: I921e254e91e818396dd4c9bd0ee2a43b00a043b9 Reviewed-on: https://chromium-review.googlesource.com/271426 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Roll GYP for Windows 10 project generation.  BUG=angleproject:1004  Change-Id: Ide2f71f1aee70d0d962ff275ac9bd0f852b218ac Reviewed-on: https://chromium-review.googlesource.com/271482 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
eglGetConfigAttrib: handle EGL_NATIVE_VISUAL_ID  BUG=angleproject:892  Change-Id: Idf5496de7006f8fd0658e9d40a4f16dba00d90ea Reviewed-on: https://chromium-review.googlesource.com/271473 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix more warnings in samples and tests  These warnings are currently disabled because these files are not with angle_code set to 1 in the gyp files to avoid gtest's code warnings. We hope to either fix warnings in gtest or change our build system to not use warnings for gtest.  BUG=angleproject:1003  Change-Id: I281781b77f92ef8c394dd53fbbd50d525e4da5c9 Reviewed-on: https://chromium-review.googlesource.com/271412 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable more warnings on GCC and clang  BUG=angleproject:892  Change-Id: I74ca341f29b245f698d1e1ad43149a91db46817f Reviewed-on: https://chromium-review.googlesource.com/271411 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Roll dEQP.  Includes fixes for some tests and a new null platform class which makes generating case lists easier.  BUG=angleproject:998  Change-Id: I1641c579bb63713fccde05e48f0cea31324f7d1b Reviewed-on: https://chromium-review.googlesource.com/271202 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Clear image descs on Impl errors."  Didn't fix the crash and the crash experiment is complete.  BUG=485543  This reverts commit 9674850737bd3e7f44fdc9d1ddc42fffd76f2997.  Change-Id: If7d97901b87506bf306ab5558575d0413c76cb68 Reviewed-on: https://chromium-review.googlesource.com/272150 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Set mUsesDiscardRewriting more conservatively  This fixes a regression from recent refactoring of unfolding short-circuiting operators. mUsesDiscardRewriting used to be set based on detecting patterns that the AST traverser now overwrites before the code reaches OutputHLSL. With this patch mUsesDiscardRewriting is set more conservatively which ensures that using discard works correctly also in case the input shader contains the same kind of pattern as the short-circuiting operator unfolding creates.  TEST=WebGL conformance tests on D3D9 BUG=chromium:488552  Change-Id: Iea0103822a268079593b0913f0b6fc54c745c6e3 Reviewed-on: https://chromium-review.googlesource.com/271761 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add ANGLE_REVISION sub-identifier to the DLL versioning scheme, 15312978, 382, 105, 382
Fix Win10/VS2015 issues, 15312978, 382, 105, 382
Small fixes for passing code analysis tools.  BUG=angleproject:1005  Change-Id: I8f2a6c0a5a6157303e436b96cc4c4ff1c29cfe18, 15312978, 382, 105, 382
In D3D11 use BGRA4 for non-renderable GL_RGBA4 textures and RGBA8 for renderable ones (if necessary)  BUG=angleproject:1002  Change-Id: Ie3a3404ab86916384693360580f3acc3a193e809, 15312978, 382, 105, 382
In D3D11 use other 16-bit texture formats where possible  Change-Id: I36a5ee774b38e9865b2eb6c6789afd316c4eff16, 15312978, 382, 105, 382
In D3D11 with DXGI1.2 use B5G6R5 for GL_RGB565  BUG=angleproject:1002  Change-Id: I13dfe218fd9dce6581843d7fab33ce482187e351, 15312978, 382, 105, 382
Combine D3D11 FL10_0+ and FL9_3 format support tables  BUG=angleproject:1002  Change-Id: I4305db01c0ca40fd0ccf0dd441744b6184d5e945, 15312978, 382, 105, 382
Combine D3D11 FL10_0+ and FL9_3 LoadFunctionMaps  BUG=angleproject:1002  A 'LoadFunction' is used to load data of a given <GL format GL type> pair into a specific DXGI_FORMAT. Before this change BuildD3D11LoadFunctionMap mapped <GL format GL type> pairs to LoadFunctions. This meant each <GL format GL type> pair could only loaded using one LoadFunction and therefore could only be loaded into one specific DXGI_FORMAT.  We now want to map <GL format GL type DXGI_FORMAT> triples to LoadFunctions. This allows us to use different DXGI_FORMATS for each <GL format GL type> pair depending on the capabilities of the underlying D3D11 device.  Change-Id: I3b5e24c4bf98f18360ddd45b2022a90b5000f866, 15312978, 382, 105, 382
Implement EXT_discard_framebuffer in D3D11 renderer  Change-Id: I52bcf0cfb1aa123e085a35730fdefb006b617c3c, 15312978, 382, 105, 382
Regenerate the projects after the last merge, 15312978, 382, 105, 382
Added updated DEPS to pull new GYP, 15312978, 382, 105, 382
Updated generate_winrt_projects to produce Windows 10 projects  BUG=angleproject:1004  Change-Id: I6f50226b21ff92ac85dbe5ed2e39dcc4f7e39306  Signed-off-by: Cooper Partin <coopp@microsoft.com>, 15312978, 382, 105, 382
Fix issues after the last merge, 15312978, 382, 105, 382
Add constant folding support for minmax and clamp  This change adds necessary mechanism to support constant folding of built-ins that take more than one parameter and also adds constant folding support for min max and clamp built-ins.  BUG=angleproject:913 TESTS=dEQP tests (126 tests started passing with this change) dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.min_* dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.max_* dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.clamp_*  Change-Id: Iccc9bf503a536f2e3c144627e64572f2f95db9db Reviewed-on: https://chromium-review.googlesource.com/271251 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into ms-master  Conflicts: 	samples/samples.gyp 	src/libANGLE/Context.cpp 	src/libANGLE/Display.cpp 	src/libANGLE/renderer/DisplayImpl.h 	src/libANGLE/renderer/d3d/BufferD3D.cpp 	src/libANGLE/renderer/d3d/BufferD3D.h 	src/libANGLE/renderer/d3d/DisplayD3D.cpp 	src/libANGLE/renderer/d3d/DisplayD3D.h 	src/libANGLE/renderer/d3d/SurfaceD3D.cpp 	src/libANGLE/renderer/d3d/SurfaceD3D.h 	src/libANGLE/renderer/d3d/VertexDataManager.cpp 	src/libANGLE/renderer/d3d/VertexDataManager.h 	src/libANGLE/renderer/d3d/d3d11/Buffer11.h 	src/libANGLE/renderer/d3d/d3d11/Framebuffer11.cpp 	src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp 	src/libANGLE/renderer/d3d/d3d11/Renderer11.h 	src/libANGLE/renderer/d3d/d3d11/SwapChain11.cpp 	src/libANGLE/renderer/d3d/d3d11/SwapChain11.h 	src/libANGLE/renderer/d3d/d3d11/TextureStorage11.cpp 	src/libANGLE/renderer/d3d/d3d9/Buffer9.h 	src/libANGLE/renderer/gl/wgl/DisplayWGL.cpp 	src/libANGLE/renderer/gl/wgl/DisplayWGL.h 	src/libEGL/libEGL.rc 	src/libGLESv2.gypi 	src/libGLESv2/libGLESv2.rc 	src/tests/end2end_tests/UniformTest.cpp 	src/tests/gl_tests/BlendMinMaxTest.cpp 	src/tests/gl_tests/BufferDataTest.cpp 	src/tests/gl_tests/ClearTest.cpp 	src/tests/gl_tests/DepthStencilFormatsTest.cpp 	src/tests/gl_tests/DrawBuffersTest.cpp 	src/tests/gl_tests/FramebufferFormatsTest.cpp 	src/tests/gl_tests/GLSLTest.cpp 	src/tests/gl_tests/IncompleteTextureTest.cpp 	src/tests/gl_tests/LineLoopTest.cpp 	src/tests/gl_tests/MaxTextureSizeTest.cpp 	src/tests/gl_tests/OcclusionQueriesTest.cpp 	src/tests/gl_tests/ProgramBinaryTest.cpp 	src/tests/gl_tests/SRGBTextureTest.cpp 	src/tests/gl_tests/ViewportTest.cpp 	util/EGLWindow.cpp 	util/testfixturetypes.h, 15312978, 382, 105, 382
Revert "Implement EXT_discard_framebuffer in D3D11 renderer"  This reverts commit 61df46a67572f81c7f61c88457aa0adec5c40ad4., 15312978, 382, 105, 382
WindowSurfaceGLX: set the border pixel attribute  This is so we can use a different visual depth than our parent window so that we can create a subwindow whichever the parent's visual.  BUG=angleproject:892  Change-Id: I9bab676761b1f80fad1599adb8e97a3ec710f67f Reviewed-on: https://chromium-review.googlesource.com/271425 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Enable postSubBuffer on D3D11 with DXGI 1.2.  BUG=147291  Change-Id: Iafddb83b4949168f1c59272a99ae0244d86ce3f9 Reviewed-on: https://chromium-review.googlesource.com/270572 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Sunny Sachanandani <sunnyps@chromium.org>, 15312978, 382, 105, 382
Revert "Call XSync in the GLX EGL impl if we have a new X server connection"  broke linux builders  This reverts commit cedb8ca27f97d3101a22f586671a4668bf09bbec.  Change-Id: I57143ec207b454bce7498a4d33f6d54464b55ab8 Reviewed-on: https://chromium-review.googlesource.com/271424 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Call XSync in the GLX EGL impl if we have a new X server connection  This prevents races between the application's connection and ANGLE's one that could lead to X errors crashing the program.  BUG=angleproject:892  Change-Id: Ic09462e76724d1a32c35b32708de97258d99241c Reviewed-on: https://chromium-review.googlesource.com/271178 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Clear image descs on Impl errors.  This is a speculative fix for a possible crash when we could get out-of-sync between the Impl and the GL state.  BUG=485543  Change-Id: Id26475f1aae7da05b5ffd802c4a7600e21b40315 Reviewed-on: https://chromium-review.googlesource.com/270194 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add -lrt and -ldl to link flags on Linux builds  BUG=angleproject:892  Change-Id: Ic06b493cbfdc061565d94d98aabfc3b1f2d882c6 Reviewed-on: https://chromium-review.googlesource.com/271275 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
translator: Reject shaders that use both FragColor+FragData.  *re-land with fix for unused var in release*  We checked this at link time in the D3D back-end but this restriction applies to all shaders.  TEST=dEQP-GLES2.functional.shaders.fragdata.* BUG=angleproject:995 BUG=478572  Change-Id: I63258f4de47e658812822f31601cc235f48c0826 Reviewed-on: https://chromium-review.googlesource.com/271470 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Unfold sequence operator when operations inside need unfolding  Unfolding the sequence operator ensures correct evaluation order when parts of the expression need to get hoisted out of the expression to the surrounding scope.  BUG=angleproject:1001 TEST=WebGL conformance tests  Change-Id: Ifd3093c9fb63d3e9842ebb4b9531b2f46875ad8a Reviewed-on: https://chromium-review.googlesource.com/270660 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Defer executing if statements in the global scope  Unfolding of short-circuiting operators (ternary and logical operators) may create if statements in the global scope which is not valid HLSL. Use existing deferred global initialization function to defer execution of if statements in the global scope.  TEST=WebGL conformance tests BUG=angleproject:819  Change-Id: I2b0afcc6824dab6bb87eb6abed609e75b1384dab Reviewed-on: https://chromium-review.googlesource.com/270461 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make UnfoldShortCircuit to change AST instead of writing output  This is needed to make way for further AST transformations to handle array expressions that need to work correctly together with unfolding short- circuiting operators. This also improves the maintainability of HLSL output by isolating the unfolding into a separate compilation step.  The new version of UnfoldShortCircuit traverser will traverse the tree until an expression that needs to be unfolded is encountered. It then unfolds it and gets reset. The traverser will be run repeatedly until no more operations to unfold are found. This helps with keeping the traverser's design relatively simple.  All declarations are separated to single declarations before short-circuit unfolding is run. Previously OutputHLSL already output every declaration separately.  BUG=angleproject:960 TEST=WebGL conformance tests angle_unittests angle_end2end_tests  Change-Id: Id769be396adbd4c0223e418980dc464dd855f019 Reviewed-on: https://chromium-review.googlesource.com/270460 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "translator: Reject shaders that use both FragColor+FragData."  The change introduced a warning in Windows release build.  This reverts commit b8e3a568bbd16fca1099a1b54cd82a981cd88a8e.  Change-Id: I77bbc35876043c9a164aa2665965f5189ee90052 Reviewed-on: https://chromium-review.googlesource.com/271430 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Update README to mention Raspberry Pi 2, 15312978, 382, 105, 382
Generated projects using commit_id processing, 15312978, 382, 105, 382
Fix "unused private variable" warning in ParseContext  BUG=angleproject:892  Change-Id: I3d0c23f1c2d43477c8b4ff28a6db470b3491de0b Reviewed-on: https://chromium-review.googlesource.com/271276 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Make X11Window::setVisible block until the window is mapped.  That way the code calling setVisible knows it can safely create a framebuffer for this window without having its content be undefined.  BUG=angleproject:830  Change-Id: Ia694f50ac20e1d510d0c0f899226ed241d9a5a3a Reviewed-on: https://chromium-review.googlesource.com/271156 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FunctionsGLX: add support for glXWaitX/GL  The functions are not used in the code but are useful during development to try to see where race condition with the X server are.  BUG=angleproject:892  Change-Id: Ie1267e46ac251bd9ac62e2a146db68ad84644fb8 Reviewed-on: https://chromium-review.googlesource.com/271177 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
FunctionsGLX: make most functions take the display implicitly  In later CLs FunctionsGLX will need to store the X display so we take advantage of it to reduce the verbosity of the other GLX files slightly.  BUG=angleproject:892  Change-Id: I42ea00d0a37055e5e0752a860978b8ef5afb7a0b Reviewed-on: https://chromium-review.googlesource.com/271163 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
translator: Reject shaders that use both FragColor+FragData.  We checked this at link time in the D3D back-end but this restriction applies to all shaders.  TEST=dEQP-GLES2.functional.shaders.fragdata.* BUG=angleproject:995 BUG=478572  Change-Id: I99111cc6aa05b9352693f9c3b5bc70d56c9842d4 Reviewed-on: https://chromium-review.googlesource.com/269846 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make TParseContext a class with private data.  *re-land with build fix*  BUG=angleproject:995  Change-Id: I67d3ded8f6c705b54fb372857e07ce1a86b58475 Reviewed-on: https://chromium-review.googlesource.com/271162 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Use a sparse histogram for D3D11CreateDevice errors.  This avoid us needing to capture an enum value for every possible error code. Leave the existing enum values in for now.  BUG=477701  Change-Id: Iccaa4d9b732fe4d56432e17578421cba11bcf9ce Reviewed-on: https://chromium-review.googlesource.com/271159 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add collection of D3D11 and DXGI stats.  Will require a chromium-side patch to enable boolean histograms.  BUG=angleproject:966 BUG=436191  Change-Id: I3026c73894fbbff521503b377955816a8e831df8 Reviewed-on: https://chromium-review.googlesource.com/271174 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix typo in a comment in PbufferTest  BUG=angleproject:892  Change-Id: I8383b0b061f613ee3592c3d7cd41135164223604 Reviewed-on: https://chromium-review.googlesource.com/271158 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Move ANGLETest back in test_utils leaving a proxy header for Chromium  BUG=angleproject:892  Change-Id: Ibd494813be87e996096077d6e208cc92461b8f49 Reviewed-on: https://chromium-review.googlesource.com/271154 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
EGLWindow: remove redundant EGL_NONE to finish attrib list.  Only one EGL_NONE is needed to signal the end of the list.  BUG=angleproject:892  Change-Id: I7de349bef9d674344ccd1b2c4801d8b42c801299 Reviewed-on: https://chromium-review.googlesource.com/271157 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Add more D3D11 init errors to stats collection."  Going to rework this in favor of a sparse histogram.  BUG=477701  This reverts commit c5146c762a5c4fa3df522593f4084767b3d71583.  Change-Id: I88ba7b461a1de04324a6ebe164037ea9081f2239 Reviewed-on: https://chromium-review.googlesource.com/271155 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Make EGLQueryContextTest use ANGLE_INSTANTIATE_TEST""  The original commit was not the one causing the problem it was reverted for.  This reverts commit c4738880d4651e5a025abad75db352748f1fd34c.  BUG=angleproject:892  Change-Id: I8dee28545c3895750247635a63b73ecec4ba449c Reviewed-on: https://chromium-review.googlesource.com/270262 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/270473 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Compile the GLX EGL implementation in BUILD.gn  BUG=angleproject:892  Change-Id: Ifebcadab4fc4ad9fd93b9cf21b3ebdd2f4d6cfc1 Reviewed-on: https://chromium-review.googlesource.com/271164 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add plumbing for D3D11 device caps  BUG=angleproject:1002  Change-Id: Id24783c75377ea92a73a43f2605693e07f63dc15 Reviewed-on: https://chromium-review.googlesource.com/270545 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Revert "Make TParseContext a class with private data."  Causing build errors on Linux:  FAILED: ninja -t msvc -e environment.x86 -- C:\b\build\goma/gomacc "C:\b\depot_tools\win_toolchain\vs2013_files\VC\bin\amd64_x86\cl.exe" /nologo /showIncludes /FC @obj\third_party\angle\src\compiler\translator\translator_lib.ParseContext.obj.rsp /c ..\..\third_party\angle\src\compiler\translator\ParseContext.cpp /Foobj\third_party\angle\src\compiler\translator\translator_lib.ParseContext.obj /Fdobj\third_party\angle\src\translator_lib.cc.pdb  c:\b\build\slave\gpu_win_builder__dbg_\build\src\third_party\angle\src\compiler\translator\validateglobalinitializer.h(11) : error C2220: warning treated as error - no 'object' file generated c:\b\build\slave\gpu_win_builder__dbg_\build\src\third_party\angle\src\compiler\translator\validateglobalinitializer.h(11) : warning C4099: 'TParseContext' : type name first seen using 'class' now seen using 'struct'         c:\b\build\slave\gpu_win_builder__dbg_\build\src\third_party\angle\src\compiler\translator\parsecontext.h(28) : see declaration of 'TParseContext'  BUG=angleproject:995  This reverts commit 6c0c2987fba9dcf2a8d432534c9548092281bfa4.  Change-Id: I49a8b7df9bc8b7c4892bf3af5e2c7a6444fba890 Reviewed-on: https://chromium-review.googlesource.com/270767 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make TParseContext a class with private data.  BUG=angleproject:995  Change-Id: Ie077e3a4f0fd5ef840aa35edeb41d15a98b7c0ff Reviewed-on: https://chromium-review.googlesource.com/270628 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor style in ParseContext.h.  BUG=angleproject:995  Change-Id: I893785a068d0d5cf4afc18123896bf540e53a3e0 Reviewed-on: https://chromium-review.googlesource.com/270627 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add "Portions Copyright (c) Microsoft Corporation" to the .rc files (which end up in the DLL version properties), 15312978, 382, 105, 382
Add "Portions Copyright (c) Microsoft Corporation" to LICENSE, 15312978, 382, 105, 382
Revert "Add constant folding support for minmax and clamp"  This reverts commit 1137a2a6b4a68fe3f7497bb9289975b030576372.  Change-Id: I1493c2706e5f08a9f0001835e663a147be85a303 Reviewed-on: https://chromium-review.googlesource.com/270782 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix crash in IndexDataManagerPerfTest.  Since the gl::Buffer doesn't know about its data the index range needs to be computed on the raw indices instead of through the buffer.  Change-Id: I3f53822033a1a25bf5fae9132ee2ceb312eaa283 Reviewed-on: https://chromium-review.googlesource.com/270498 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll Gmock and Gtest.  This fixes the build of angle_end2end_tests on Linux/Clang.  BUG=angleproject:997  Change-Id: Ie6eca3dc0fc7114d2755892b4b02e8b47a8fa478 Reviewed-on: https://chromium-review.googlesource.com/270680 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Validate global initializer qualifiers  Allow only constants other globals temporaries and uniforms to be used in global variable initialization for now. The spec limits global variable initialization further to only constant expressions but fully implementing this has a too large compatibility cost for ESSL 1.00 so implement it only partially. In the case of ESSL 3.00 we can use stricter validation since there's no legacy to worry about.  Resubmitting the change since the previous version neglected to remove incorrect GLSL tests.  TEST=angle_unittests WebGL conformance tests angle_end2end_tests BUG=angleproject:988  Change-Id: I1bb3b8dc305689a90eadfe8cc7705e5ac3829e03 Reviewed-on: https://chromium-review.googlesource.com/270651 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
perf_tests: Reduce iteration counts in some tests.  This gives the tests more room to breathe and report more precision in the final scores. Hopefully this will clear up the issues on the bots where some tests appear to fluctuate between a  high and low value.  BUG=468852  Change-Id: Ie2793e0a89e5ded63ba4217828076df46c393a92 Reviewed-on: https://chromium-review.googlesource.com/270497 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Validate global initializer qualifiers"  Seems to be failing angle_end2end_tests:  GLSLTest.GlobalStaticAndVarying_0 GLSLTest.GlobalStaticAndVarying_1 GLSLTest_ES3.GlobalStaticAndInstanceID_0  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28NVIDIA%29/builds/15598  BUG=angleproject:988  This reverts commit 6caa5e815f7e3c11e4452ed5e60446b9943db183.  Change-Id: I394b571c9b4ee739721018c5287a45df49e1471c Reviewed-on: https://chromium-review.googlesource.com/270589 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Validate global initializer qualifiers  Allow only constants other globals temporaries and uniforms to be used in global variable initialization for now. The spec limits global variable initialization further to only constant expressions but fully implementing this has a too large compatibility cost for ESSL 1.00 so implement it only partially. In the case of ESSL 3.00 we can use stricter validation since there's no legacy to worry about.  TEST=angle_unittests WebGL conformance tests BUG=angleproject:988  Change-Id: I6a66f6a31130b44717dd2bef3082a0fc395a60b6 Reviewed-on: https://chromium-review.googlesource.com/270430 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add more D3D11 init errors to stats collection.  We ran into the UNSUPPORTED value when looking at D3D11 on a VM. It's quite possible that systems which don't support D3D11 return this value when initialization fails.  Also add a few more severe errors such as device removed.  BUG=477701  Change-Id: I2ebbfff5f7eed6fe3939dea86b25845a748caedc Reviewed-on: https://chromium-review.googlesource.com/270346 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Create a child window in SurfaceD3D when needed."  Reverting until chromium sandbox issues are resolved.  This reverts commit b7f1a8b0ab3489a7463749e7fc088187bfafbd35.  BUG=484963 BUG=angleproject:961  Change-Id: I4b030329a322d0a96a18e6ae875d500c5f755ddd Reviewed-on: https://chromium-review.googlesource.com/270490 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix compilation of EGLSurfaceTest  BUG=angleproject:892  Change-Id: I8c999e06c8cc3567f7bb1aed23286bd7e9080616 Reviewed-on: https://chromium-review.googlesource.com/270432 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
X11Window: implement event handling and modifiers  BUG=angleproject:892  Change-Id: I65f251abdd28b273e2d3d574825f20bba8bb2532 Reviewed-on: https://chromium-review.googlesource.com/270452 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Temporarily move back ANGLETest in end2end_tests  This path needs to a Chrome change before it can change.  BUG=angleproject:892  Change-Id: I549737383b9720a2e7d83ee5e3145d71716f04cb Reviewed-on: https://chromium-review.googlesource.com/270457 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Make EGLQueryContextTest use ANGLE_INSTANTIATE_TEST"  Broke win build  ninja: error: '../../gpu/egl_tests/EGLQueryContextTest.cpp' needed by 'obj/gpu/egl_tests/angle_end2end_tests.EGLQueryContextTest.obj' missing and no known rule to make it This reverts commit 887dd2f196f73f12d9c302aaf07027ace87609fa.  Change-Id: I2ceb430010628c2aa7cb242eb2bf49406d8d87db Reviewed-on: https://chromium-review.googlesource.com/270471 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Make EGLQueryContextTest use ANGLE_INSTANTIATE_TEST  This makes it run correctly on Linux where the only platform available is OpenGL.  BUG=angleproject:892  Change-Id: I3d72163b49b35daba702ebb5b48d010761c7fb6d Reviewed-on: https://chromium-review.googlesource.com/270262 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Compile end2end tests on Linux  BUG=angleproject:892  Change-Id: Id4a9ddc35ae9600080e743c77476d36743a3e646 Reviewed-on: https://chromium-review.googlesource.com/270199 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/270412, 15312978, 382, 105, 382
Revert "Compile end2end tests on Linux"  Build errors in Chromium:  ninja: Entering directory `C:\b\build\slave\GPU_Win_Builder\build\src\out\Release' ninja: error: '../../gpu/egl_tests/EGLQueryContextTest.cpp' needed by 'obj/gpu/egl_tests/angle_end2end_tests.EGLQueryContextTest.obj' missing and no known rule to make it  This reverts commit be39156b10bf56686b03b274046e51ef156283fc.  Change-Id: I931295f16cad096e94baac9811ea2396a4182848 Reviewed-on: https://chromium-review.googlesource.com/270347 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
OSWindow: add optional debugging of events received  BUG=angleproject:830  Change-Id: Icd854ee152f15ec1de4293b5ed2ed49cb1a5fc2b Reviewed-on: https://chromium-review.googlesource.com/270451 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement Pbuffers for the GLX EGL implementation  BUG=angleproject:892  Change-Id: I32b9bbb35d99621f16a055fb544ec0691dfcd5a0 Reviewed-on: https://chromium-review.googlesource.com/270261 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Compile end2end tests on Linux  BUG=angleproject:892  Change-Id: If3903f1801f4999bebaaaed2625346bfbec2243d Reviewed-on: https://chromium-review.googlesource.com/270199 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Move end2end and standalone tests to gl_tests and egl_tests  Also introduce a test_utils directory that contains helpers used for all types of tests.  BUG=angleproject:892  Change-Id: I9e1bff895020ffd3a109162283971a290a1098bd Reviewed-on: https://chromium-review.googlesource.com/270198 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add constant folding support for minmax and clamp  This change adds necessary mechanism to support constant folding of built-ins that take more than one parameter and also adds constant folding support for min max and clamp built-ins.  BUG=angleproject:913 TESTS=dEQP tests (126 tests started passing with this change) dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.min_* dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.max_* dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.clamp_*  Change-Id: I5d3e96ef2062116cbf164a7a42cba096bd4d5389 Reviewed-on: https://chromium-review.googlesource.com/269317 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
DisplayGLX: handle EGL_DEFAULT_DISPLAY for ANGLE_platform_angle  BUG=angleproject:892  Change-Id: I681e2b92ac2e8b853c7d1271a5518c4b77a67929 Reviewed-on: https://chromium-review.googlesource.com/270260 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Convert floats to integers using doubles and 64-bit integers.  Avoids some edge cases that overflow or round incorrectly.  Fixes: dEQP-GLES2.functional.state_query.floats.depth_range_getinteger dEQP-GLES2.functional.state_query.floats.color_clear_value_getinteger dEQP-GLES2.functional.state_query.floats.depth_clear_value_getinteger  Change-Id: Ib2c7f422dac76094c7ff6c5f8aef3fd392f68e80 Reviewed-on: https://chromium-review.googlesource.com/268510 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a basic GLX EGL implementation  BUG=angleproject:892  Change-Id: Ife9955a457d4a6fb3adce17757ccb0de7d0dd274 Reviewed-on: https://chromium-review.googlesource.com/269413 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a FunctionsGLX class to dynamically load the GLX entry points  BUG=angleproject:892  Change-Id: I516b7d859100cb065871de8e328585a9ca817499 Reviewed-on: https://chromium-review.googlesource.com/270123 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Filter out unsupported platforms for value parameterized tests  With this most of the end2end tests pass on Linux  BUG=angleproject:997 BUG=angleproject:982  Change-Id: I6aab7d407f260ee24c5c59bf4d6055e875d3a6d6 Reviewed-on: https://chromium-review.googlesource.com/270184 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix pointer to int conversion warning in EGLWindow.cpp  BUG=angleproject:892  Change-Id: Ic40f29c811d18efea0e081c269ca43d0170488a4 Reviewed-on: https://chromium-review.googlesource.com/269122 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/270125, 15312978, 382, 105, 382
Add missing EvqPointCoord to getQualifierString  Also sort enums in getQualifierString in the same order as in the enum definition.  BUG=angleproject:999 TEST=WebGL conformance tests with --gl-shader-interm-output  Change-Id: I31aa2e4b2405a090f560bf4140d9ee66271e526c Reviewed-on: https://chromium-review.googlesource.com/269941 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make all the samples compile under Linux  Two-thirds of them run and work well.  BUG=angleproject:892  Change-Id: I401a7ef4fd055eda7276bd34dcf0fc6ae0deff13 Reviewed-on: https://chromium-review.googlesource.com/270124 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove Texture serials and Texture::INCOMPLETE_TEXTURE_ID.  Texture serials were not used in any place that pointers could not be used and Texture::INCOMPLETE_TEXTURE_ID was only referenced by RendererD3D.  This was the last place that serials are used in the gl layer.  BUG=angleproject:681  Change-Id: Iad24321fba57db8ade3c9eb8f04cc20e98ded1b0 Reviewed-on: https://chromium-review.googlesource.com/263659 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move unsupported depth stencil check to FramebufferD3D.  BUG=angleproject:885  Change-Id: I0abc674e365d2b5b65d23e2abf741a02a1146cdd Reviewed-on: https://chromium-review.googlesource.com/268311 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll googletest.  This also moves us to the Chromium googletest mirror. It may cause conflicts with developer setups if they have the folder open when they try to gclient sync.  BUG=angleproject:997  Change-Id: I94a629c50cb6ea6fc0020e3ec9ee93b7088d964b Reviewed-on: https://chromium-review.googlesource.com/270108 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Optimize Texture binding by only applying referenced textures.  Update ProgramGL to track which the current values of sampler uniforms so that only the currently applied texture units have to be bound for the draw call.  BUG=angleproject:882  Change-Id: I280aa106172b13a5fbb31cdefba27b6691c0a0e4 Reviewed-on: https://chromium-review.googlesource.com/264803 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add GLX EGL implementation stubs  BUG=angleproject:892  Change-Id: I1ef1bd0ce60f4585e473f9750c748a1b41c09da2 Reviewed-on: https://chromium-review.googlesource.com/269741 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Roll dEQP.  BUG=angleproject:998  Change-Id: I35067bd5ed2919f918a1f1b93bef0feb934c838d Reviewed-on: https://chromium-review.googlesource.com/270120 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use value-paramaterized tests instead of by type.  This should fix our non-standard template use which causes compile errors for the tests on GCC/Clang.  BUG=angleproject:997  Change-Id: Id1bb15231eda445f37e53a5b33d4684ec6618d8e Reviewed-on: https://chromium-review.googlesource.com/269858 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix issues with ProgramGL.   * Don't re-create the native GL program every link some program state should    persist between re-linking such as bound attribute locations.  * Forward glBindAttribLocation calls to the ProgramImpl fixes some chromium    rendering issues because chromium always binds attribute locations    sometimes with gaps.  * Query the real attrib location before inserting it into the list of attribs.    It was unsafe to rely on the attrib having the same location as its index    into the active attributes.  BUG=angleproject:882  Change-Id: If14b4c4c2f5ebcdaa4f7c5a890b9519d6d4e6e43 Reviewed-on: https://chromium-review.googlesource.com/269991 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use a D3D11 renderer by default when available.  Also update SampleApplication to request the default renderer instead of explicitely asking for d3d11  BUG=angleproject:892  Change-Id: I70c431b3c1ba78c3ce7844d7f276cc19ac17d7f5 Reviewed-on: https://chromium-review.googlesource.com/269999 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix GetExecutablePath on Linux  It was using lstat to get the size of /proc/self/exe but it always returns 0 so we just use a big buffer on the stack instead.  BUG=angleproject:892  Change-Id: I6d88efeb4ec5de7a78cb3668e3d78520203ad1d5 Reviewed-on: https://chromium-review.googlesource.com/269990 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Load the blit framebuffer extension entry points.  Change-Id: I654f944aea25661d3fb1e2381b93780771300f32 Reviewed-on: https://chromium-review.googlesource.com/269144 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
eglGetPlatformDisplayEXT: validate device types are set only on d3d  BUG=angleproject:892  Change-Id: I0fa089f299abaab406384a05b096de19f04f3a5e Reviewed-on: https://chromium-review.googlesource.com/269771 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/269829, 15312978, 382, 105, 382
EGLSurfaceTest: specify the device type only on d3d platform  BUG=angleproject:892  Change-Id: If09cf30122d97590f07447147e6d54c2e4157f9e Reviewed-on: https://chromium-review.googlesource.com/269828 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
EGLWindow: specify the device type only on d3d platform  BUG=angleproject:892  Change-Id: I0406e26910f5a012ccb9e533af18e831522161b1 Reviewed-on: https://chromium-review.googlesource.com/269666 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/269827, 15312978, 382, 105, 382
Make util/win32 follow ANGLE conventions better  BUG=angleproject:892  Change-Id: I1ad366e16b135649fe1b0351081f9971db84df50 Reviewed-on: https://chromium-review.googlesource.com/269665 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Use stream operators for appending to InfoLog.  Also add a helper class to keep the previous behaviour of automatically appending a newline after every new message.  BUG=angleproject:992  Change-Id: I0ff5d2846175cf19de7a6af295af24a92451456f Reviewed-on: https://chromium-review.googlesource.com/268744 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use a std::stringstream for Program's InfoLog.  This should help WebKit avoid needing to apply a local patch. Also clean up the style in this file a bit.  BUG=angleproject:307angleproject:992  Change-Id: I41ecf7cbfa20b469b3731215ef28cb36253ba186 Reviewed-on: https://chromium-review.googlesource.com/269849 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add test for HLSL "pow" constant folding bug.  This covers 'pow-of-small-constant-in-user-defined-function' from the WebGL CTS. Leave disabled until we have a proper fix.  BUG=angleproject:851  Change-Id: I41a4ad9354e32bb2d48894d75676a9dfe226e9d8 Reviewed-on: https://chromium-review.googlesource.com/269747 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "EGLWindow: specify the device type only on d3d platform"  Causing failures in EGLSurfaceTest.MakeCurrentTwice on Windows  BUG=angleproject:892  This reverts commit 118e7195fdaa76a1f3aa52bbed30fdb97cc3fd4a.  Change-Id: Ifbb17d1c9bc0390abadbfb8f78cf14dbf1bb8e83 Reviewed-on: https://chromium-review.googlesource.com/269950 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "eglGetPlatformDisplayEXT: validate device types are set only on d3d"  Depends on patch which is causing a failure in EGLSurfaceTest.MakeCurrentTwice  BUG=None  This reverts commit 0e7ee498972e2d69e2d3bc3d99c798386aa2e950.  Change-Id: I7d11900c784bdb2a8963a824e89019b39a184cbe Reviewed-on: https://chromium-review.googlesource.com/269856 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
EGLWindow: specify the device type only on d3d platform  BUG=angleproject:892  Change-Id: I2dda3a8d15e58d15a401258a5a64c5783ea1a132 Reviewed-on: https://chromium-review.googlesource.com/269666 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a basic support for Linux for utils/  * Timer and path utils are done. * Window only implements initialize and setVisible  BUG=angleproject:892  Change-Id: I3f49b68ef9ec5be324b25e211199bac2953ae11e Reviewed-on: https://chromium-review.googlesource.com/269520 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
eglGetPlatformDisplayEXT: validate device types are set only on d3d  Change-Id: I15f0651fbe90b3572ea6b62f804492fbe100e591 Reviewed-on: https://chromium-review.googlesource.com/269771 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Use a std::stringstream for Program's InfoLog."  Missing one character for the log length.  BUG=angleproject:307angleproject:992  This reverts commit 8ae74e11d2105104737a7425e3bdd68e6329dcfa.  Change-Id: Ifb3658c324cb0aa56ee31352a0fc0e6759979f7b Reviewed-on: https://chromium-review.googlesource.com/269848 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Sync the generic vertex attribute data.  BUG=angleproject:883  Change-Id: If5616bf24c1ac5477ae80cf1d25efa70b62edea1 Reviewed-on: https://chromium-review.googlesource.com/268750 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clear cached state when deleting GL objects.  Change-Id: I84eac9b3796858e5e19e26851ad83baa1f9b6af2 Reviewed-on: https://chromium-review.googlesource.com/269142 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always sync writemasks and front face.  BUG=angleproject:883  Change-Id: Ie1d544c8f30472238d859d8fd7f553a73b066802 Reviewed-on: https://chromium-review.googlesource.com/269145 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for parsing ESSL3 invariant qualifiers  The parser recognizes ESSL3 invariant variable declaration syntax and marks the variables as invariant.  In ESSL3 invariant out variables can be linked to non-invariant in variables so linking checks should now be different depending on shading language version. A shading language version dependent varying matching check is added to the translator API to facilitate this.  Tested by deqp/data/gles3/shaders/qualification_order.html after patching Chrome to use the new linking check API.  A previous revision of this change that broke API compatibility was reverted since it broke Chromium FYI bots. This revision keeps deprecated API functionality around for now so that changes can be rolled step-by-step to Chromium without breakage.  TEST=WebGL 2 conformance tests angle_unittests BUG=angleproject:987  Change-Id: Iecb64e3afd23e267ba999bc17f44390affcdfc13 Reviewed-on: https://chromium-review.googlesource.com/269940 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Add support for parsing ESSL3 invariant qualifiers"  Build breaks in GPU FYI bots.  BUG=angleproject:987  This reverts commit 4008879357159c7850cf105f2ae842bc68dd3c18.  Change-Id: Ia88ad302c403c65516c050eb7741316b5097bcfb Reviewed-on: https://chromium-review.googlesource.com/269847 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add support for parsing ESSL3 invariant qualifiers  The parser recognizes ESSL3 invariant variable declaration syntax and marks the variables as invariant.  In ESSL3 invariant out variables can be linked to non-invariant in variables so linking checks should now be different depending on shading language version. The varying matching check in the translator API is changed to be shading language version dependent to facilitate this.  Tested by deqp/data/gles3/shaders/qualification_order.html after patching Chrome to use the new linking check API.  TEST=WebGL 2 conformance tests angle_unittests BUG=angleproject:987  Change-Id: I3982feff7380c4dfc647940ee03a020692dd0c59 Reviewed-on: https://chromium-review.googlesource.com/267663 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a Buffer::getIndexRange function.  Instead of exposing the index range cache add a more generic method that allows the buffers to handle their own caching of index ranges. BufferImpl::getData can be hard to implement for BufferGL because there isn't a way to tell the buffer to unmap and glGetBufferSubData can be very expensive requiring an extra copy of the data.  BUG=angleproject:881  Change-Id: Idec645219056132e0d72a410fbe7b971fa02c9e9 Reviewed-on: https://chromium-review.googlesource.com/261892 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the IndexRangeCache and Range types to the gl namespace.  BUG=angleproject:881  Change-Id: Ib05149facee9fcc7714cb957ca8647b3498a36b6 Reviewed-on: https://chromium-review.googlesource.com/269254 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Factor GL extension parsing in renderergl_utils.cpp  DisplayGLX will use it for the GLX extensions too.  BUG=angleproject:892  Change-Id: I5e4f80776a558fcdcc7e7b83767145112bcfee98 Reviewed-on: https://chromium-review.googlesource.com/269461 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Track if a non-preprocessor token has been seen and validate #extension with it.  Reland: Only report a warning instead of an error.  BUG=angleproject:989 BUG=483252  Change-Id: Ife3e7759cdef6bc0f41cae3c58c307682b608279 Reviewed-on: https://chromium-review.googlesource.com/269404 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make build/gyp_angle executable  BUG=angleproject:892  Change-Id: I88c2724150142415cebf9e45e5747fe2c4889c91 Reviewed-on: https://chromium-review.googlesource.com/269760 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Refactor egl::Surface constructors.  We can reduce the code in these classes quite a bit by calling the common code in egl::Display.  BUG=angleproject:994  Change-Id: Idf0ffa054fc6a70cf8c65a0b98fd963911715591 Reviewed-on: https://chromium-review.googlesource.com/269258 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update WebGL CTS expectations.  Change-Id: If07442b45d97f259e5a2ebda3dbfee3c11618499 Reviewed-on: https://chromium-review.googlesource.com/269664 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing includes in samples/sample_util/  BUG=angleproject:892  Change-Id: Ia718306226ce6cfcf91f74947a7775b1439e4fab Reviewed-on: https://chromium-review.googlesource.com/268995 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Track if a non-preprocessor token has been seen and validate #extension with it."  Causing failures in the GLES2 CTS "build" related to extensions.  BUG=483252 BUG=angleproject:989  This reverts commit bbdb9e2259c38454be097ce01505db83db3ad7a8.  Change-Id: I3e1ad989af645194c8ee9b9847b2131e289d09e1 Reviewed-on: https://chromium-review.googlesource.com/269403 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move comments next to their code block in FunctionsGL  BUG=angleproject:892  Change-Id: I7b47e26c81dc91900b17a2062bef0ee10c3290aa Reviewed-on: https://chromium-review.googlesource.com/269209 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove noop assignment to configId in DisplayWGL  It is overwritten by ConfigSet::add.  BUG=angleproject:892  Change-Id: I23becb235969c6aeda216014fd06880bd7cc5f67 Reviewed-on: https://chromium-review.googlesource.com/269410 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Track if a non-preprocessor token has been seen and validate #extension with it.  Reland: Only report a warning instead of an error.  BUG=angleproject:989 BUG=483252  Change-Id: Ibf9adbf423cd9dee20ec45b8d2ea42bcfd9311be Reviewed-on: https://chromium-review.googlesource.com/269205 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Load the KHR_debug extension entry points and print debug messages.  Change-Id: If1b64a7d5cc80205683062586a56fb50da6c1a21 Reviewed-on: https://chromium-review.googlesource.com/269143 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Separate invariance from qualifiers  ESSL3 makes it possible to combine invariant with several more different qualifiers. To avoid combinatorial explosion of the qualifier enum track invariance with a separate boolean.  TEST=WebGL conformance tests angle_unittests BUG=angleproject:987  Change-Id: I0c6629e5ca2ded06db9ac9e5bab2fb6480299a5a Reviewed-on: https://chromium-review.googlesource.com/267662 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Require size for empty array declarations  Passing dEQP tests requires this check which seems to be a valid interpretation of ESSL3 spec section 4.1.9.  BUG=angleproject:941 TEST=dEQP-GLES3.functional.shaders.arrays.invalid.*  Change-Id: Iae88e6bb8e4ec784a2f1c8a94554e1e5c5e3ee85 Reviewed-on: https://chromium-review.googlesource.com/267430 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
translator: Fix validation sometimes modifying builtins.  When validating some shaders with out-of-bounds array indexes we would write the sanitized index into the global symbol table. We would then overwrite a wrong value for the builtin. This fixes the WebGL test extensions/webgl-draw-buffers-max-draw-buffers.  Also mark const on as many uses ConstantUnion as we can.  BUG=angleproject:993  Change-Id: I110efaf1b7b0158b08b704277e3bc2472437902c Reviewed-on: https://chromium-review.googlesource.com/268962 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Rename ConstantUnion to TConstantUnion.  This clarified that we're using the Pool allocator/deallocator for this type.  BUG=angleproject:993  Change-Id: If8c95f6054d07291e7014be0d4e35766ba2e943b Reviewed-on: https://chromium-review.googlesource.com/269131 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Fix pointer to int conversion warning in EGLWindow.cpp"  Causes a compile error.  BUG=angleproject:892  This reverts commit d424da4a4c5f9eb08632738c53ca4604c3b808f1.  Change-Id: Ieb8bb99d02f7050306974db5dab72d26474891ac Reviewed-on: https://chromium-review.googlesource.com/268996 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add missing trailing newline before EGLWindow.cpp EOF  BUG=angleproject:892  Change-Id: Iaf175a310ce2acb5a8715902b3d367aa3dae8e2c Reviewed-on: https://chromium-review.googlesource.com/269124 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add missing include in EGLWindow.cpp  BUG=angleproject:892  Change-Id: I23cfbd9cfbe7d41e048a2b2a4eea048f5de72d12 Reviewed-on: https://chromium-review.googlesource.com/269123 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix pointer to int conversion warning in EGLWindow.cpp  BUG=angleproject:892  Change-Id: If6f0eb13bca10f9328faeaab35665a67e7ef6e44 Reviewed-on: https://chromium-review.googlesource.com/269122 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Use a std::stringstream for Program's InfoLog.  This should help WebKit avoid needing to apply a local patch. Also clean up the style in this file a bit.  BUG=angleproject:307angleproject:992  Change-Id: I6328cd03901dbf52eccddc7c747a684ed9b23ea1 Reviewed-on: https://chromium-review.googlesource.com/268741 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Query attachment render targets from Impl class.  *re-land with fix for D3D9*  This allows us to eradicate the GetAttachmentRenderTarget methods. This improves potential performance at the cost of exposing a Renderer-specific function at the API object level.  BUG=angleproject:963  Change-Id: Iee9f985ddaed668df0c622228004b348eb4d2ea8 Reviewed-on: https://chromium-review.googlesource.com/269006 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix warning about namespacing of HelloTriangle's constructor  BUG=angleproject:892  Change-Id: Ib3b4eb597964c21aba01047e77a413ce19c35855 Reviewed-on: https://chromium-review.googlesource.com/268994 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
CompilerGL: Use mOutputType when creating the compiler  BUG=angleproject:892  Change-Id: Id6bbc4059f92ff7d8d291583cd30dbd4cd5e9bd3 Reviewed-on: https://chromium-review.googlesource.com/268969 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
vs2015: disable warning in generated code fix another  Macro redefinition is for INT8_MIN etc. which are generated by flex. VS doesn't define __STDC_VERSION__ as >= C99 because it's still only partial support in VS2015.  Fix a float->int conversion narrowing warning.  Change-Id: I5232eb23426eaf584218137c068e14d74119a1ef Reviewed-on: https://chromium-review.googlesource.com/268821 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Scott Graham <scottmg@chromium.org>, 15312978, 382, 105, 382
Fix signed to unsigned integer conversion warning in EGLWindow.h  Change-Id: I7b4249e04c8fb76b60b4c837266b144fbd64cbf6 Reviewed-on: https://chromium-review.googlesource.com/269128 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix tautological compare and && in || warnings in FunctionsGL.cpp  Change-Id: Icfbd79e3cbb116da9981daeb42d3657146bf673e Reviewed-on: https://chromium-review.googlesource.com/268968 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix text trailing after preprocessor macro warning in util/Event.h  Change-Id: Ie977e6fce0e5e0efeb16f0387bf653bbd2d1cd93 Reviewed-on: https://chromium-review.googlesource.com/269127 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix 'not all switch case are handled' warning in OSWindow.cpp  Change-Id: Ib4d1e4b04c73e5eb5e0e4f6c56212e99723d2ce0 Reviewed-on: https://chromium-review.googlesource.com/269126 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add missing include in OSWindow.h  Change-Id: Ie1fd40c308ed9d0d90756e31dfe153f44510defa Reviewed-on: https://chromium-review.googlesource.com/269125 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
translator: Fix variable collection for gl_DepthRange.  *re-land with Linux fixes and fix for locations*  This built-in uniform wasn't being collected in VariableInfo.cpp. Also remove the existing workaround for D3D gl_DepthRange collection.  BUG=angleproject:991 BUG=478570  Change-Id: Iba84651bfc58f82fd4ce039421874f561f83c348 Reviewed-on: https://chromium-review.googlesource.com/268840 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix typo intialize -> initialize  Change-Id: Ia39fffc6f2782b918b37ab7ae25ee16ecc98e93a Reviewed-on: https://chromium-review.googlesource.com/269120 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Initialize Win32Timer::mRunning as a bool  Change-Id: I1770684217239bcbdf2bb07f4867e1427577a01f Reviewed-on: https://chromium-review.googlesource.com/269121 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Query attachment render targets from Impl class."  D3D9 bug is causing failures in the WebGL depth texture test.  BUG=angleproject:963  This reverts commit 804e8436f91733e1d0f769ec10082e4741f2e549.  Change-Id: I660f05033360e97258794138cb50b604f5ac16b6 Reviewed-on: https://chromium-review.googlesource.com/269005 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't reallocate default FBO on makeCurrent.  We can use the flat FBO attachment types to update our data instead of reallocating it. This also lets us delete the DefaultFramebuffer class.  BUG=angleproject:963angleproject:840  Change-Id: Ib8f20d8212d073fb5e248756321cb2e6b4e086dc Reviewed-on: https://chromium-review.googlesource.com/263492 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Query attachment render targets from Impl class.  This allows us to eradicate the GetAttachmentRenderTarget methods. This improves potential performance at the cost of exposing a Renderer-specific function at the API object level.  BUG=angleproject:963  Change-Id: Ifc227b5f42e87bd4deb451d685618cf61fea39f1 Reviewed-on: https://chromium-review.googlesource.com/263491 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "translator: Fix variable collection for gl_DepthRange."  Build errors on Linux:  error: comparison of integers of different signs: 'const int' and 'const unsigned int'  BUG=angleproject:991 BUG=478570  This reverts commit f1ae954b660cb058c40665b623f4d689b65180d4.  Change-Id: I217aba1b32dc0e70d6153337a1f0ccef0483a0e1 Reviewed-on: https://chromium-review.googlesource.com/268792 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
translator: Fix variable collection for gl_DepthRange.  This built-in uniform wasn't being collected in VariableInfo.cpp. Also remove the existing workaround for D3D gl_DepthRange collection.  BUG=angleproject:991 BUG=478570  Change-Id: Ie254132e37c307323ba9e6e1705d138eea67b520 Reviewed-on: https://chromium-review.googlesource.com/268524 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Don't mark all macros with double underscores as reserved."  Fails a WebGL CTS test.  BUG=angleproject:989  This reverts commit 942e36254a1e3537371c39f3f23d1ce12f4c87e8.  Change-Id: I9f833366d5b69535ef74e358ac21efaccb1f1a3d Reviewed-on: https://chromium-review.googlesource.com/268751 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't mark all macros with double underscores as reserved.  Only __FILE__ __LINE__ __VERSION__ and GL_ES are reserved but it is still not recommended to use a name with double underscores because it may be used by the "underlying software layers".  Updated the tests to reflect that it is OK to define macros with double underscores but it is not valid to make assumptions about their values.  Fixes: dEQP-GLES2.functional.shaders.preprocessor.basic.identifier_with_double_underscore_vertex dEQP-GLES2.functional.shaders.preprocessor.basic.identifier_with_double_underscore_fragment  BUG=angleproject:898  Change-Id: I77054d04c9935eedcdbb7304dc0c3b60b53994f9 Reviewed-on: https://chromium-review.googlesource.com/268434 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
translator: Fix C++11-deprecated register usage.  Define 'register' as an empty string if we're in a modern version of C++.  BUG=255186 BUG=angleproject:463  Change-Id: Ied044fb87a9b05c91cb419c54295c39f0f0ab776 Reviewed-on: https://chromium-review.googlesource.com/268512 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
translator: Regenerate with Bison 3.0.4.  BUG=angleproject:463  Change-Id: If89a29de8fb006e8e3b0483ac5df21c8833ce974 Reviewed-on: https://chromium-review.googlesource.com/268511 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Track if a non-preprocessor token has been seen and validate #extension with it."  Breaks some WebGL applications holding off until a decision is made.  BUG=483252 BUG=angleproject:989  This reverts commit fa55bf1ed6a26341c57f45b3a3da8feda0b6c18d.  Change-Id: Iebef439095a95741c8502716a4ce90c4785561eb Reviewed-on: https://chromium-review.googlesource.com/268742 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor CreateDevice error checking.  Also return a different code for a NULL pointer vs a failed call.  BUG=477701  Change-Id: Ib0584371d51b99760e80ce5481a1e72e1ec673e0 Reviewed-on: https://chromium-review.googlesource.com/267753 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Disable multithreaded D3D shader compilation, 15312978, 382, 105, 382
Compilation fixes for Windows 10, 15312978, 382, 105, 382
Add Windows 10 projects and solutions, 15312978, 382, 105, 382
Add install script for Visual Studio templates, 15312978, 382, 105, 382
Add Windows 10 Visual Studio templates, 15312978, 382, 105, 382
Update README to include Windows 10, 15312978, 382, 105, 382
Replace NULL with nullptr in Framebuffer9/11.  BUG=angleproject:963  Change-Id: I1ba418e7540b9c3ac6611aa3e4f0c1ca27557a1a Reviewed-on: https://chromium-review.googlesource.com/267734 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Simplify message to FBO Impls of attachment changes.  We don't need to pass attachment pointers since they are now value types and no longer change their address.  BUG=angleproject:963  Change-Id: I02cdce0886512cc847930f61c5bfb62fc1d7cd1a Reviewed-on: https://chromium-review.googlesource.com/265938 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
hlsl: Fix struct specifiers in uniforms.  We would miss the definition for structs specfied in uniforms. Fix this by always checking to add the constructor. Fixes the WebGL test 'glsl/misc/struct-specifiers-in-uniforms'.  BUG=angleproject:818 BUG=433412  Change-Id: I411e4a4477f7ef34fceb9faa77489f77d8efdce8 Reviewed-on: https://chromium-review.googlesource.com/267797 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixes for the tagging of discontinuous loops  The first fix was for all loops being considered discontinuous in OutputHLSL because of a typo that produced a tautology.  The error was not detected by the unit tests because as an optimization we do not generate Lod0 calls when they are not needed for the callee function (which was correctly detected by the analysis in this case). Fixed the unit tests by adding a call to a builtin gradient operation.  The second fix was for discard not being taken into account in the analyses of the AST which caused a WebGL test regression after the first fix for conformance/glsl/bugs/conditional-discard-in-loop  BUG=angleproject:982  Change-Id: I1315eac1ad36f726be52d7fda5facf3104341b1f Reviewed-on: https://chromium-review.googlesource.com/267814 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Default buffer usage to GL_STATIC_DRAW.  Calling glGetBufferParameteriv with GL_BUFFER_USAGE on a buffer that has never had glBufferData called on it should return GL_STATIC_DRAW. [ES 2.0.25 spec table 6.3]  Fixes: dEQP-GLES2.functional.state_query.buffer_object.buffer_usage_getbufferparameteri  Change-Id: I1bf1614b606d20338bb507861164c6ab0b64122f Reviewed-on: https://chromium-review.googlesource.com/267816 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
surfaceD3D::swapRect(): always call checkForOutOfDateSwapChain() even if width or height is 0.  BUG=angleproject:990  Change-Id: I9fbdd3d341d3f6fa42dfb39950e6b2d3204c4c9b Reviewed-on: https://chromium-review.googlesource.com/267415 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Régis Fénéon <regis.feneon@gmail.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Track if a non-preprocessor token has been seen and validate #extension with it.  Fixes: dEQP-GLES2.functional.shaders.preprocessor.extensions.after_non_preprocessing_tokens_vertex dEQP-GLES2.functional.shaders.preprocessor.extensions.after_non_preprocessing_tokens_fragment  BUG=angleproject:989  Change-Id: Ie0aba80b2fde0160e83fc95f545b62954af2e5fc Reviewed-on: https://chromium-review.googlesource.com/267398 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Cache gl::Data in Context to speed up validation.  This avoids creating a new Data object and copying it around. Gives a noticable performance increase in the benchmark which tests validation-only draw calls. Gives about a 8% increase in the benchmark.  BUG=angleproject:959  Change-Id: Id3a7459753b1b466a06da89f3f8b03b2c2c7a5c1 Reviewed-on: https://chromium-review.googlesource.com/267752 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Cache maximum enabled vertex attribute.  This can give us much faster draw call validation by saving us from checking buffer sizes for non-enabled attribs. Also for checking if vertex buffers are mapped. Gives >100% increase in the benchmark.  BUG=angleproject:959  Change-Id: I211c310385bdee46ed06f68ecd9c98385e1f8db9 Reviewed-on: https://chromium-review.googlesource.com/267751 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Cache validate samplers result.  This gives ~23% increase in the validation-only draw call perf test.  BUG=angleproject:959  Change-Id: I384a5c4fbb1c2cd47483bd7cf4bc1d39447a99bc Reviewed-on: https://chromium-review.googlesource.com/267750 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Update copyright dates in generated DLLs.  BUG=angleproject:546  Change-Id: If44d808e30e4c5b15971fe44e8c59a3c9f19095f Reviewed-on: https://chromium-review.googlesource.com/267837 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Validate that all preprocessor function arguments are unique.  Fixes: dEQP-GLES2.functional.shaders.preprocessor.invalid_function_definitions.unique_param_name_vertex dEQP-GLES2.functional.shaders.preprocessor.invalid_function_definitions.unique_param_name_fragment  BUG=angleproject:989  Change-Id: I32198f1c9036c371b46e7ad2986a44e42fd38e20 Reviewed-on: https://chromium-review.googlesource.com/267396 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable some failing tests on Intel and AMD bots.  Change-Id: I745fab7c6c169c1ffc930f865b6b109c4c623e2b Reviewed-on: https://chromium-review.googlesource.com/267835 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable more tests for the OpenGL backend.  Change-Id: I3fc9948498bd7c2b7c8e75f010196982de240c1b Reviewed-on: https://chromium-review.googlesource.com/267461 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Unexpected tokens after conditionals should be an error instead of a warning.  Fixes: dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_if_vertex dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_if_fragment dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_else_vertex dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_else_fragment dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_endif_vertex dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_endif_fragment dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_ifdef_vertex dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_ifdef_fragment dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_ifndef_vertex dEQP-GLES2.functional.shaders.preprocessor.invalid_conditionals.tokens_after_ifndef_fragment  BUG=angleproject:989  Change-Id: I6511f7082c98206fb623775d81329b6bc7673c1a Reviewed-on: https://chromium-review.googlesource.com/267638 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add pragma errors for malformed pragmas.  Instead of always warning on invalid pragmas only warn when the pragma type is not recognized and error when the syntax is invalid.  Fixes: dEQP-GLES2.functional.shaders.preprocessor.pragmas.invalid_pragma_invalid_debug_vertex dEQP-GLES2.functional.shaders.preprocessor.pragmas.invalid_pragma_invalid_debug_fragment dEQP-GLES2.functional.shaders.preprocessor.pragmas.invalid_pragma_invalid_token_vertex dEQP-GLES2.functional.shaders.preprocessor.pragmas.invalid_pragma_invalid_token_fragment  BUG=angleproject:989  Change-Id: Ibd584dc08a2436e163dfc52eeffdf2dac8a22cb8 Reviewed-on: https://chromium-review.googlesource.com/267639 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Validate that there are no tokens following #undef on the same line.  Fixes: dEQP-GLES2.functional.shaders.preprocessor.definitions.undefine_object_invalid_syntax_vertex dEQP-GLES2.functional.shaders.preprocessor.definitions.undefine_object_invalid_syntax_fragment dEQP-GLES2.functional.shaders.preprocessor.invalid_definitions.undef_non_identifier_2_vertex dEQP-GLES2.functional.shaders.preprocessor.invalid_definitions.undef_non_identifier_2_fragment  BUG=angleproject:989  Change-Id: I279a38aaae8010017ef6e3f1aa139ae03f374680 Reviewed-on: https://chromium-review.googlesource.com/267397 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reject shaders using attribute aliasing.  The current code rejects any shaders that use more than the caps allow but a bug would crash us before the check. We don't support aliasing in shaders that use a lot of uniforms because this causes problems with the D3D back-end currently. This changes the crash in the dEQP aliasing tests to a link error.  See dEQP-GLES2.functional.attribute_location.bind_aliasing.*  BUG=angleproject:901  Change-Id: I6906d3345abe9f89cfa0aa6cec4be26b5b2851d0 Reviewed-on: https://chromium-review.googlesource.com/266928 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Create a child window in SurfaceD3D when needed.  BUG=angleproject:961 BUG=angleproject:860  Change-Id: I137d27bafc4d690b159ffef8cc69d6f1c5a05131 Reviewed-on: https://chromium-review.googlesource.com/267681 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Temporarily disable the ClearTest.ClearIssue test on Intel OpenGL.  Change-Id: Ia54b2258422c23fc53f2af5ebe7594375412452c Reviewed-on: https://chromium-review.googlesource.com/267675 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Expand ShShaderOutput for different GLSL versions  BUG=angleproject:968  Change-Id: I2d4c0a8e9a91a940922da4501c22124da0c0399c Reviewed-on: https://chromium-review.googlesource.com/264840 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Remove non-const FBO attachment queries.""  Fixed build errors in prior patch.  This reverts commit 34771622d756adc52f02becd7c2b70c717dcc638.  Change-Id: I909b455f2c632a3df7d97149972e167c2adb058f Reviewed-on: https://chromium-review.googlesource.com/267599 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Create a child window in SurfaceD3D when needed."  Causing errors with D3D9 see build:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28NVIDIA%29/builds/15149  This reverts commit b7f1a8b0ab3489a7463749e7fc088187bfafbd35.  Change-Id: I6f1c3fd119f76a298e5b3fb676ddcb208cd1234b Reviewed-on: https://chromium-review.googlesource.com/267673 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Fix compile failure on build systems with UNICODE defined."  Earlier patch causing errors on D3D9:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28NVIDIA%29/builds/15149  This reverts commit acb0a1a6d74100833dbccd49d3eca317b56fd004.  Change-Id: I1956c57224ecf1c0caee2c3f624d1a871d171686 Reviewed-on: https://chromium-review.googlesource.com/267674 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix compile failure on build systems with UNICODE defined.  BUG=angleproject:961  Change-Id: I32053309a8384a27d1c2a991ddfaa195195f88c8 Reviewed-on: https://chromium-review.googlesource.com/267637 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't subclass windows in SurfaceD3D.  The subclassing was not used by chromium and caused problems for users that wanted to use a window owned by another thread as an EGL surface.  BUG=angleproject:961  Change-Id: I1d91323c758374de317179874320961385b10ae0 Reviewed-on: https://chromium-review.googlesource.com/266658 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: John Bauman <jbauman@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Create a child window in SurfaceD3D when needed.  BUG=angleproject:961  Change-Id: I61931961f8cb86b47012edd2bc08d0e1e7a5d0f7 Reviewed-on: https://chromium-review.googlesource.com/266515 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: John Bauman <jbauman@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a special case for binding to GL_FRAMEBUFFER for state tracking.  Binding to GL_FRAMEBUFFER is supposed to set the read and draw framebuffer bindings instead of being a separate binding point.  BUG=angleproject:885  Change-Id: Ic6d9056a2f8bfa472587c5ed030c15fcc93574c7 Reviewed-on: https://chromium-review.googlesource.com/267460 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed shadowed error variable.  BUG=angleproject:886  Change-Id: I4224ba26fef6783d61a56c294da2bdb6596da7bc Reviewed-on: https://chromium-review.googlesource.com/267552 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Store value types for FBO attachments.  *re-land with fix for Mac*  This prevents us from re-allocating FBO attachments every set. This change requires quite a bit of refactoring.  BUG=angleproject:963  Change-Id: Ia1f83e3c427d446ddbe16c6703db136942149e91 Reviewed-on: https://chromium-review.googlesource.com/266691 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "D3D11: Filter HRESULT error code properly."  Fix is incorrect: See http://crbug.com/477701  This reverts commit 02bce6e559988f2c4a6ec0c8905ed90254467baa.  Change-Id: I718d1a7e5d9fef662cee9ba90407a835466c74fc Reviewed-on: https://chromium-review.googlesource.com/267560 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed compilation with mingw.  Change-Id: Icc40c61b5c6df5a0aed4e175f1724ca55f981625 Reviewed-on: https://chromium-review.googlesource.com/267412 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove separate compilerdebug.h in favor of debug.h  This unifies the behavior across the compiler and rest of ANGLE - for example one can use #define ANGLE_TEST_CONFIG to disable UNIMPLEMENTED asserts in both the compiler and the rest of ANGLE. Compiler traces from asserts also go to the same TRACE_OUTPUT_FILE as other traces instead of being directed through ParseContext.  The compiler build already includes the common sources so no changes to build config are needed.  The original version of this change was reverted due to release mode build issues. This version adds UNUSED_ASSERTION_VARIABLE where needed.  TEST=angle_unittests angle_end2end_tests      dEQP-GLES3.functional.shaders.* BUG=angleproject:983  Change-Id: I36929020a04251b8bc834fbb3c069e10128c3082 Reviewed-on: https://chromium-review.googlesource.com/267411 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Keep default FBO attachments immutable.  In some cases we would let the user change the attachments of the default FBO. This hole in our validation would confound the dEQP negative API tests (negative_api.buffer.framebuffer_*) and muck up the remainder of the test run.  BUG=angleproject:901  Change-Id: I2b3c04752d1df3289d41c013cc936eda30e98aad Reviewed-on: https://chromium-review.googlesource.com/266927 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
No-op BufferSubData after validation.  We were skipping some validation which was confusing dEQP. We can still no-op but do this after all validation.  BUG=angleproject:901  Change-Id: I9888c1aca851519e9c7da210c983ba6012e95932 Reviewed-on: https://chromium-review.googlesource.com/266926 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix missing texture target validations.  We were missing this in a few places and this was giving runtime errors in dEQP negative tests.  BUG=angleproject:901  Change-Id: I9de5b055dcfe4ad5c13c800a31b4a0b424863bee Reviewed-on: https://chromium-review.googlesource.com/266888 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix warning about unexpected mock function call.  BUG=angleproject:985  Change-Id: If2138d8ec9a4f99adaf4ef1a4cbeeab6b0bf9f2c Reviewed-on: https://chromium-review.googlesource.com/267349 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Remove separate compilerdebug.h in favor of debug.h"  Causing compile warnings in Release:  1>compiler\translator\CallDAG.cpp(238): error C2220: warning treated as error - no 'object' file generated 1>compiler\translator\CallDAG.cpp(238): warning C4189: 'op' : local variable is initialized but not referenced 1>compiler\translator\IntermNode.cpp(1495): error C2220: warning treated as error - no 'object' file generated 1>compiler\translator\IntermNode.cpp(1495): warning C4189: 'replaced' : local variable is initialized but not referenced 1>compiler\translator\IntermNode.cpp(1517): warning C4189: 'replaced' : local variable is initialized but not referenced  This reverts commit 5271025865b34685da71d0309131c5aff2e32f71.  Change-Id: Icdf1c37eef22a13d083767609ab0b0285d3dc517 Reviewed-on: https://chromium-review.googlesource.com/267359 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a sample that uses multiple windows.  BUG=angleproject:521  Change-Id: I50858193518b4d07edcb2073caaa99ce37fcc4c3 Reviewed-on: https://chromium-review.googlesource.com/267000 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove separate compilerdebug.h in favor of debug.h  This unifies the behavior across the compiler and rest of ANGLE - for example one can use #define ANGLE_TEST_CONFIG to disable UNIMPLEMENTED asserts in both the compiler and the rest of ANGLE. Compiler traces from asserts also go to the same TRACE_OUTPUT_FILE as other traces instead of being directed through ParseContext.  The compiler build already includes the common sources so no changes to build config are needed.  TEST=angle_unittests angle_end2end_tests      dEQP-GLES3.functional.shaders.* BUG=angleproject:983  Change-Id: Ifca4d16f667b1e5cf9c2e7cc4139940091917a1c Reviewed-on: https://chromium-review.googlesource.com/266993 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add ANGLE platform selection for dEQP.  This gives us the choice between D3D9 and D3D11. We can add more platforms easily using the same patterns.  BUG=angleproject:901  Change-Id: Ia8dc77466bd32f0b8b0d638ae839f41288bfe25b Reviewed-on: https://chromium-review.googlesource.com/266889 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up binary operation constant folding code  Fix mixed up comments remove unnecessary type conversions clarify variable names and improve formatting in a few places.  TEST=angle_unittests WebGL conformance tests BUG=angleproject:913  Change-Id: Ice8fe3682d8e97f42747752302a1fba116132df4 Reviewed-on: https://chromium-review.googlesource.com/266843 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add basic support for arrays as return values in HLSL output  In HLSL output user-defined functions that have an array as their return value get changed so that they have the array as an out parameter instead.  Still missing: support for calling a function that has array as a return value without assigning the array. Also support for assignments inside complex expressions.  TEST=dEQP-GLES3.functional.shaders.arrays.return.* BUG=angleproject:941  Change-Id: I79f5170139116a3dcfb2be2df5f0f79a3d955ca8 Reviewed-on: https://chromium-review.googlesource.com/266003 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Prune empty declarations from the AST  Empty declarations in ESSL shaders currently result in errors on several platforms. Prune empty declarations that are not struct or interface block declarations from the AST.  TEST=WebGL conformance tests angle_unittests angle_end2end_tests BUG=angleproject:980  Change-Id: I9e3abf8134e6dfed0253cc83f69ce0ee92b0e0e7 Reviewed-on: https://chromium-review.googlesource.com/266841 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Disallow length being called on expressions with side effects  ESSL 3.00 definition of expressions does not include calling length on anything other than array names so enforce this restriction in the parser.  TEST=WebGL 2 conformance tests BUG=angleproject:972  Change-Id: I893d3c468ff21cb419b3239738f2a41834298cf2 Reviewed-on: https://chromium-review.googlesource.com/266992 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix array.length() to return a signed integer  array.length() should return a signed integer as specified in ESSL 3.00 section 4.1.9 not unsigned. Fix this and add a simple unit test - the dEQP tests included in WebGL conformance are built in a way that they don't catch the issue.  TEST=angle_unittests BUG=angleproject:972  Change-Id: I1389f51751a6a25c1681f57ac3d2d52f31ecc8fb Reviewed-on: https://chromium-review.googlesource.com/266991 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Sync the remaining miscellaneous state before drawing in RendererGL.  BUG=angleproject:883  Change-Id: Id530f855ab14b6ec575101c9e74c02842c27d3d6 Reviewed-on: https://chromium-review.googlesource.com/266036 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Sync the entire rasterizer state before drawing in RendererGL.  BUG=angleproject:883  Change-Id: I721c198f33caa18ec04899d6323faa9dbd4aa100 Reviewed-on: https://chromium-review.googlesource.com/266035 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Sync the entire depth stencil state before drawing in RendererGL.  BUG=angleproject:883  Change-Id: I1d748281184ff8111f8ff1c63f56882650b6871b Reviewed-on: https://chromium-review.googlesource.com/266034 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Sync the entire blend state before drawing in RendererGL.  BUG=angleproject:883  Change-Id: I903090c1a7ba90bd479ad8d24f943672eb51054e Reviewed-on: https://chromium-review.googlesource.com/266033 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove last uses of the enumerate_files script.  BUG=angleproject:981  Change-Id: Ib91d4b515e129241814706351b69a74e8295a250 Reviewed-on: https://chromium-review.googlesource.com/266874 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove uses of enumerate_files in the sample projects.  Speeds up project generation a lot.  BUG=angleproject:981  Change-Id: I3cb340baa8da3a30a2c861b584ba0e7758da5b4d Reviewed-on: https://chromium-review.googlesource.com/266873 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename translator to shader_translator and remove redundant projects.  The essl_to_hlsl and essl_to_glsl projects were exactly the same so it doesn't make sense to keep both.  BUG=angleproject:981  Change-Id: Ibf034a71e94ba5002f9c40ac87720bf0de74ae18 Reviewed-on: https://chromium-review.googlesource.com/266872 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move all GLES samples into the samples directory.  There was no real reason to keep them in an angle directory and it makes the generated projects nicer.  BUG=angleproject:981  Change-Id: I844e44dc5c2df51f5292cff4bdffe5e951745aae Reviewed-on: https://chromium-review.googlesource.com/266871 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the dds_to_header sample.  It has very little to do with ANGLE and should not be in the repository.  BUG=angleproject:981  Change-Id: I7aa97b8f56b49beda591e90afcffcb27619beaec Reviewed-on: https://chromium-review.googlesource.com/266870 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix build regression on Linux  Chromium's Linux toolchain doesn't implement the return value of std::vector::insert correctly causing a build failure. Remove an unnecessary assignment of the return value to fix this build regression.  The regression was caused by the commit: "Put each array declarator into a separate declaration in HLSL output"  TEST=angle_unittests  Change-Id: I2959122d28e4c7e6d6a4d842a97a8f1fd4f27ca1 Reviewed-on: https://chromium-review.googlesource.com/266990 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Replace EvqInternal with a separate flag to make it more flexible  The internal flag disables decorating a given symbol in output effectively placing it to a different namespace than user-defined symbols. This enables the compiler to insert symbols to the tree when transforming it to be suitable for HLSL output without running into name conflicts. In this patch the flag is separated from the qualifiers since sometimes different qualifiers need to be used with these internal symbols.  TEST=angle_unittests angle_end2end_tests WebGL conformance tests BUG=angleproject:941  Change-Id: I7036bed98fdb1478a383bb959ca03b42c3cb8100 Reviewed-on: https://chromium-review.googlesource.com/266690 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support array initialization in HLSL output  Do this by separating each array initialization into a declaration and an assignment. Array assignment is already supported in HLSL output by replacing it with a function call.  The functionality is tested by the struct array constructor tests in dEQP.  BUG=angleproject:941 TEST=dEQP-GLES3.functional.shaders.arrays.constructor.*  Change-Id: Ida84fc343b767bea8b2d04e91c60cb8197d39039 Reviewed-on: https://chromium-review.googlesource.com/266002 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Put each array declarator into a separate declaration in HLSL output  Since HLSL doesn't support arrays as l-values HLSL output needs to split declarators that initialize arrays to variable declaration and assignment implemented via a function call. To prepare for this it is necessary that each declarator has its own declaration.  BUG=angleproject:941 TEST=angle_end2end_tests WebGL conformance tests  Change-Id: I43dee487578561c01dbde90c2f55a93dda2f057a Reviewed-on: https://chromium-review.googlesource.com/266001 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Use DX generateMips to generate mipmaps whenever possible.  BUG=angleproject:974  Change-Id: I95937fe7a0833de77c52f838ebb3ecba55dfbf8a Reviewed-on: https://chromium-review.googlesource.com/265640 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support constant folding of exponential built-ins  This change adds constant folding support for unary exponential built-ins - exp log exp2 log2 sqrt and inversesqrt.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.exponential* (48 out of 56 tests started passing with this change)  Change-Id: I4b98782c4c4b72dd7d60dfc4f18ba6961526ec41 Reviewed-on: https://chromium-review.googlesource.com/266797 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Revert "Use nullptr consistently in TIntermConstantUnion::fold""  Revert of revert as the new changes that use nullptr in fold function are already in.  This reverts commit b775778a050739c4d802da8db7edb8c865602950.  Change-Id: Ifbdb35264132c66e5d1f2379932839b99291c54a Reviewed-on: https://chromium-review.googlesource.com/266803 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Store value types for FBO attachments."  In file included from ../../third_party/angle/src/libANGLE/Framebuffer.cpp:10: In file included from ../../third_party/angle/src/libANGLE/Framebuffer.h:13: In file included from /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/usr/include/c++/4.2.1/vector:68: /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/usr/include/c++/4.2.1/bits/stl_construct.h:81:38: error: call to implicitly-deleted copy constructor of 'gl::FramebufferAttachment'       ::new(static_cast<void*>(__p)) _T1(__value);                                      ^   ~~~~~~~ This reverts commit 13773b26dfb29b963ea727e1ebf7bdabdc5892b1.  Change-Id: If79f2797fe46798cbe5b39d83c9bcb1a7e87026d Reviewed-on: https://chromium-review.googlesource.com/266643 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Remove non-const FBO attachment queries."  Compile errors on Mac:  In file included from ../../third_party/angle/src/libANGLE/Framebuffer.cpp:10: In file included from ../../third_party/angle/src/libANGLE/Framebuffer.h:13: In file included from /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/usr/include/c++/4.2.1/vector:68: /Applications/Xcode5.1.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk/usr/include/c++/4.2.1/bits/stl_construct.h:81:38: error: call to implicitly-deleted copy constructor of 'gl::FramebufferAttachment'       ::new(static_cast<void*>(__p)) _T1(__value);                                      ^   ~~~~~~~ This reverts commit ed61a5f673cefe1fac580e96adaa3da698d448e3.  Change-Id: I602bffc96f77cffa217cb63a5cc3caf334fd9879 Reviewed-on: https://chromium-review.googlesource.com/266652 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove non-const FBO attachment queries.  Methods that need to mutate the Framebuffer should use setAttachment etc instead of using mutable pointers.  BUG=angleproject:963  Change-Id: Ibe7b8f8245f762916e0224fdc78796b1c933195f Reviewed-on: https://chromium-review.googlesource.com/263490 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Store value types for FBO attachments.  This prevents us from re-allocating FBO attachments every set. This change requires quite a bit of refactoring.  BUG=angleproject:963  Change-Id: Iafa4e4a0f3dd66c9e7452e0e96a0cbb9753487bb Reviewed-on: https://chromium-review.googlesource.com/263489 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make Framebuffer::Data members private.  This makes "Data" a proper class and enforces access control when used in FramebufferImpl. This gives a cleaner refactor when we switch the internals of the class to use value types to store attachments instead of pointer types.  BUG=angleproject:963  Change-Id: If825095458eaf9367f616f0bb54084025efb9882 Reviewed-on: https://chromium-review.googlesource.com/265937 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add D3D11CreateDevice timing histogram.  This should give us a bound on how much we can improve startup time in ANGLE on D3D11 across all users.  BUG=angleproject:944 BUG=436191  Change-Id: Ie9047c0424429aecec5f6d7be8e119ebcc53fbe3 Reviewed-on: https://chromium-review.googlesource.com/266524 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add histograms helper macros.  These macros mimic Chromium's histogram_macros.h so we can use similar values for our histograms.  BUG=angleproject:944 BUG=436191  Change-Id: If77abaf71964d26a6269183e51b68b76bb562085 Reviewed-on: https://chromium-review.googlesource.com/266523 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Temporarily disable some FenceSync tests on Intel OpenGL.  BUG=angleproject:888  Change-Id: Ia64d2f313c5ddf2ebb6efb54e205a22801fce01b Reviewed-on: https://chromium-review.googlesource.com/266503 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
perf_tests: Use 'score' units.  The dashboard automatically marks 'frames' as 'lower is better' while 'score' is automatically marked as 'higher is better'. Hence use score instead of frames.  BUG=468852  Change-Id: I02b3a9e4b74989793d4bfbf21a94e43670b3e028 Reviewed-on: https://chromium-review.googlesource.com/266522 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement FenceNVGL.  BUG=angleproject:888  Change-Id: Iea6993fe5459cf829f4bd23b0df5e223f22903f5 Reviewed-on: https://chromium-review.googlesource.com/264989 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement FenceSyncGL.  BUG=angleproject:888  Change-Id: Ie811266ed1cb08d29344fb11cd9afe77f9587cd7 Reviewed-on: https://chromium-review.googlesource.com/263654 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support multisampled framebuffers with the GL backend.  Move validation of sample counts into the Renderbuffer implementations because the exact supported sample counts are not always known.  BUG=angleoproject:886  Change-Id: I9c90d9d435e940b852343a29a6aa11d6cb1ad23b Reviewed-on: https://chromium-review.googlesource.com/255513 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Filter HRESULT error code properly.  The Windows helper function HRESULT_CODE masks out some bits that obscure the error code. This could be why we're seeing some undetermined errors in our logs.  BUG=477701  Change-Id: I6eee442c149c2568e3823edc538d365b06ee20d8 Reviewed-on: https://chromium-review.googlesource.com/266375 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing end-of-file newlines  Change-Id: I664e40f8d3f2276d5964b111d066861540010b43 Reviewed-on: https://chromium-review.googlesource.com/260791 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update The Qt Company in AUTHORS/CONTRIBUTORS  Change-Id: Iaa923e48d26eb1044d02ac097cc6caa1986309cf Reviewed-on: https://chromium-review.googlesource.com/263400 Tested-by: Andrew Knight <andrew.knight@intopalo.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support constant folding of common built-ins  This change adds constant folding support for unary common built-ins: abs sign floor trunc round roundEven ceil and fract.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common* (80 out of 210 tests started passing with this change)  Change-Id: I46312fec43084601d4fca8195ddaaa5292f1c02a Reviewed-on: https://chromium-review.googlesource.com/265967 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Temporarily disable UniformArrayLocations test on Intel OpenGL.  BUG=angleproject:882  Change-Id: Idd5cb8c794bbeec162f65255231fe2ae0180bdf8 Reviewed-on: https://chromium-review.googlesource.com/266180 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Support constant folding of exponential built-ins"  Causing compile errors on Android:  ../../third_party/angle/src/compiler/translator/IntermNode.cpp:1309:62: error: use of undeclared identifier 'log2f'                 else if (!foldFloatTypeUnary(unionArray[i] &log2f infoSink &tempConstArray[i]))  This reverts commit 1623a1b90f24cd1afd8839c0726ad276a887fbda.  Change-Id: If9c45aea85801eb11e7d1513b4183ec11289d2f3 Reviewed-on: https://chromium-review.googlesource.com/266154 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Record more explicit error codes in Renderer init.  Our data shows the most common D3D11CreateDevice failure as being 'other error'. Explicitly enumerate more error codes so we can figure out which value we're getting.  BUG=47701  Change-Id: Ibcda5e8ff1bb0368b1bfe3c8e7e3ffbb404771ce Reviewed-on: https://chromium-review.googlesource.com/265939 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix uniform locations in ProgramGL.  ProgramGL was unable to handle uniform arrays and improperly set uniform locations. It now queries the driver for the location of each uniform and iterates over all array elements.  BUG=angleproject:882  Change-Id: Iffe9d12944b2399f19f4a7823df2f535a430d6e3 Reviewed-on: https://chromium-review.googlesource.com/265724 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support constant folding of exponential built-ins  This change adds constant folding support for unary exponential built-ins - exp log exp2 log2 sqrt and inversesqrt.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.exponential* (48 out of 56 tests started passing with this change)  Change-Id: I63133ee8c04c4a8d6cb30da5788e9227c05d4cbe Reviewed-on: https://chromium-review.googlesource.com/266071 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support constant folding of trigonometry built-ins  This change adds constant folding support for trigonometry built-in functions. Constant folding for these functions also fixes constant expression issues where constant initializer is a built-in trignometry function whose arguments are all constant expressions.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.angle_and_trigonometry* (112 out of 120 tests pass with this change)  Change-Id: I2b7a61320819dcd095827faa1fd16e835f4688b4 Reviewed-on: https://chromium-review.googlesource.com/265819 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Micro-optimize ValidateDrawBase.  This speeds up our draw call benchmark.  BUG=angleproject:959  Change-Id: I9a916a6c344493cc96873ae5f4ec337c181dc487 Reviewed-on: https://chromium-review.googlesource.com/266026 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Micro-optimize State::hasMappedBuffer.  This speeds up draw call validation.  BUG=angleproject:959  Change-Id: I8272e36201521f158823739a6604444fb5e66b6e Reviewed-on: https://chromium-review.googlesource.com/266025 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix style issues in updateTree()  "entry" is an old C keyword so it's better not to use it as a variable name. Also fix a few other minor style issues in the code.  TEST=angle_unittests BUG=angleproject:941  Change-Id: I59470555227985262b3e914ff6ca11e88d15fd8c Reviewed-on: https://chromium-review.googlesource.com/265647 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an IndexDataManager perf test.  This microbenchmark tests the time at which we find index ranges in the cache and how long the call to prepareIndexData might take. It also verifies we successfully store index ranges in the cache.  BUG=angleproject:956  Change-Id: I0f1b0c00daa73d8e1bcde197d9de80ca229078b7 Reviewed-on: https://chromium-review.googlesource.com/262779 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add basic support for the length() method of arrays  Support expressions where the expression that .length() is called on does not have side effects.  Tested with WebGL 2 test sdk/tests/deqp/data/gles3/shaders/arrays.html  TEST=WebGL 2 conformance tests BUG=angleproject:972  Change-Id: Ib4f8377a51da61179b6e47fbcf6b4d915e351fbd Reviewed-on: https://chromium-review.googlesource.com/265654 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Disallow ternary operator on arrays and structs  ESSL specs only allow a limited number of operators on arrays and structs. The spec section on the ternary operator contradicts this to an extent saying that the second and third operands can be "any type" or "any type other than an array" but we interpret the spec so that the operator restrictions on structures and arrays override this.  BUG=angleproject:976 TEST=angle_unittests  Change-Id: Icd90d5450dcb94bb23b1683d4cb9e579e82de4ad Reviewed-on: https://chromium-review.googlesource.com/265644 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactor ternary operator parsing  Refactor ternary operator parsing so that validation is done in ParseContext and Intermediate's role is simply to create the node added to the tree.  Remove partially bugged checks for null nodes as a part of this - in error cases the parser doesn't typically add null nodes to the tree but rather always has a fallback to add a dummy node if parsing fails as a method of recovery. When parsing ternary operators it should be guaranteed that none of the parameter nodes is null.  Includes a better explanation of why ternary operators are not always folded when only the condition is constant and a test to make sure this doesn't regress.  BUG=angleproject:952 TEST=WebGL conformance tests angle_unittests  Change-Id: Icbcb721b5ab36cf314a16e79f9814aef1f355fa0 Reviewed-on: https://chromium-review.googlesource.com/265643 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
D3D11: Only rewrite for primitive restart when needed.  We would rewrite our index data every draw call. Change the index check to see if we're writing to the same sized / typed static buffer and only rewrite the data if the user re-uploaded.  Also add a performance test for the primitive restart workaround.  As a future improvement we could avoid creating new D3D objects every time we reinitialize static data since BufferSubData calls don't change the size of the buffer if the index type remains the same.  BUG=476658  Change-Id: I9d2540ad8b1b34fa0142ba0bf794cf572da8c61d Reviewed-on: https://chromium-review.googlesource.com/265838 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
perftests: Use gtest asserts macro helpers.  We still were using the old cassert code with a boolean return value on our initialization code. We can make use of the gtest macros and helpers to check for a successful init or GL errors.  BUG=476658  Change-Id: I09cbb3d40748cbeaf530ae8f23fb8a1b07e7611f Reviewed-on: https://chromium-review.googlesource.com/265837 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Update WebGL CTS expectations.  Change-Id: I4f51fdb1e23effa0069f1dd1e84b95b3a313f678 Reviewed-on: https://chromium-review.googlesource.com/265836 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Store current transform feedback buffer bindings in the object itself.  BUG=angleproject:763  Change-Id: I76565f68fa8145da29713de2a517a39a8d50a24b Reviewed-on: https://chromium-review.googlesource.com/263061 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename TransformFeedback members to match the spec.  BUG=angleproject:763  Change-Id: I12fa57de9263eb0cb5ff1840cf44b0a8f2a40912 Reviewed-on: https://chromium-review.googlesource.com/263721 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor uniform array name parsing to a utility function.  BUG=angleproject:882  Change-Id: I00fd6d3cfaa107561cee5e4c82d3c60438052963 Reviewed-on: https://chromium-review.googlesource.com/265723 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Squash the attachment types.  We can store all relevant information in the base class which lets us avoid using any virtual methods. This will finally let us avoid using reallocations on FBO attachment sets.  BUG=angleproject:963  Change-Id: Ib4b61da14efaf843478b059499c01e34f9c65e4f Reviewed-on: https://chromium-review.googlesource.com/263488 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add FramebufferAttachmentObject base class.  This lets us share objects (Textures/RBs/Surface) in the attachment class. It will let us squash the attachment classes into one type which will in turn let us store them by-value instead of by-pointer.  BUG=angleproject:963  Change-Id: Ia9a43dbc3b99475c00f6bc2ed5475deef55addc3 Reviewed-on: https://chromium-review.googlesource.com/263487 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable macro redefinition warning for vs2015  From flexint.h (because VS2015 has some of c99 but doesn't define __STDC_VERSION__ yet.  Change-Id: Iff82f4c72dd816dcc1959abb218442a848ea592a c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(48): error C2220: warning treated as error - no 'object' file generated c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(48): warning C4005: 'INT8_MIN': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(83): note: see previous definition of 'INT8_MIN' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(49): warning C4005: 'INT16_MIN': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(86): note: see previous definition of 'INT16_MIN' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(50): warning C4005: 'INT32_MIN': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(89): note: see previous definition of 'INT32_MIN' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(52): warning C4005: 'INT8_MAX': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(92): note: see previous definition of 'INT8_MAX' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(53): warning C4005: 'INT16_MAX': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(95): note: see previous definition of 'INT16_MAX' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(54): warning C4005: 'INT32_MAX': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(98): note: see previous definition of 'INT32_MAX' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(56): warning C4005: 'UINT8_MAX': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(101): note: see previous definition of 'UINT8_MAX' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(57): warning C4005: 'UINT16_MAX': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(104): note: see previous definition of 'UINT16_MAX' c:\program files (x86)\microsoft visual studio 14.0\vc\include\stdint.h(58): warning C4005: 'UINT32_MAX': macro redefinition d:\src\cr3\src\out\debug\glslang_lex.cpp(107): note: see previous definition of 'UINT32_MAX' Reviewed-on: https://chromium-review.googlesource.com/265594 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add support for implicit array size  ESSL3 introduces implicit array size that is determined automatically according to the initializer. Implicit sizes are resolved when parsing constructors and when initializers are evaluated so ANGLE's AST will not contain implicit sizes.  Declarations where there are two differently sized arrays with the same implicitly sized type for example:  float[] a = float[](0.0) b = float[](0.0 1.0);  will be transformed into declarations where the two arrays don't share the array size like this:  float a[1] = float[1](0.0) float b[2] = float[2](0.0 1.0);  so they are not a problem.  Unlike sized arrays implicitly sized arrays don't have a size limit enforced by the parser.  Include a test that verifies that non-initialization of an implicitly sized array defined using ESSL3 type syntax is caught by the parser.  Additionally tested with WebGL 2 test sdk/tests/deqp/data/gles3/shaders/arrays.html  TEST=WebGL 2 conformance tests angle_unittests BUG=angleproject:941  Change-Id: Ib55b7601848102a103af9db284a80f09abaeb021 Reviewed-on: https://chromium-review.googlesource.com/265653 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add parser support for initializing sized arrays  Still missing from this patch: HLSL output implicitly sized arrays.  Tested with WebGL 2 test sdk/tests/deqp/data/gles3/shaders/arrays.html  TEST=WebGL 2 conformance tests BUG=angleproject:941  Change-Id: I900f2af843fd8046f23dd4b77352e77026bbba84 Reviewed-on: https://chromium-review.googlesource.com/265652 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Unify declaration parsing code  Remove the unused identifierSymbol parameter from parseSingleDeclarator and unify the ordering of parameters and the code style of different declaration and declarator parsing functions. Some minor functional changes to array size handling are done mainly to unify error message generation. There's soon going to be more of these functions so it's good to be systematic.  TEST=angle_unittests WebGL conformance tests BUG=angleproject:941  Change-Id: I03b0220de93ca5719fdb7c1790a5999b8cb5b225 Reviewed-on: https://chromium-review.googlesource.com/265202 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add tests for disallowing arrays of arrays  TEST=angle_unittests BUG=angleproject:941  Change-Id: Ie45a8a581bf2931ecccfc41b26db49a257fcaf1d Reviewed-on: https://chromium-review.googlesource.com/265201 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Improve handling of declarator lists with empty declarations  The code previously failed to check for correctness of layout qualifiers in case a declarator followed an empty declaration like so:  layout(packed) uniform float a;  Fix this by running all necessary declaration checks also for declarators which follow an empty declaration.  structQualifierErrorCheck is merged into singleDeclarationErrorCheck.  TEST=angle_unittests WebGL conformance tests BUG=angleproject:969  Change-Id: Idcb0673e3bcf64087744ff0d260f51a7546f024a Reviewed-on: https://chromium-review.googlesource.com/264812 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix structQualifierErrorCheck calls in glslang.y  structQualifierErrorCheck is called incorrectly in glslang.y. Remove one unnecessary call entirely and change another call to samplerErrorCheck. This will enable further changes to merge structQualifierErrorCheck into singleDeclarationErrorCheck.  TEST=angle_unittests BUG=angleproject:969  Change-Id: Ib43233e275fbf4db7e5fda6df6b45a655bdee8a2 Reviewed-on: https://chromium-review.googlesource.com/265200 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for arrays as function return values in GLSL output  Output the array brackets and the array size correctly when a function's return value type is array.  Tested with WebGL 2 test sdk/tests/deqp/data/gles3/shaders/arrays.html  BUG=angleproject:971 TEST=WebGL 2 conformance tests  Change-Id: I63aa8c54d2696f65351b23acb0749a487298ddfb Reviewed-on: https://chromium-review.googlesource.com/265410 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
perftests: Fix simple draw call benchmark.  Previously the code was only testing the validation logic. Fix this by testing validation-only and a simple single quad draw benchmark.  BUG=468852  Change-Id: I510deea08fee5932f51ea39883ed91652be476df Reviewed-on: https://chromium-review.googlesource.com/265751 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Release Surface when calling makeCurrent with null.  Refactorings to egl::Surface to enable ref-counting were causing a situation where we could have two Window surfaces alive at the same time. This would confuse the window procedure logic in SurfaceD3D. Releasing the surface fixes this issue and conforms closely to the wording on the spec on when Surfaces should be deleted. Also add a test for message loops and surfaces.  BUG=475085 BUG=angleproject:963  Change-Id: Icdee3a7db97c9b54d779dabf1e1f82a89fefc546 Reviewed-on: https://chromium-review.googlesource.com/265064 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move maxSamples from Extensions to Caps because it is an ES3 limit.  BUG=angleproject:886  Change-Id: Ibcfc2f06e8308e2e6eb1a6c38206b803f689d7af Reviewed-on: https://chromium-review.googlesource.com/265470 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't set a null current WGL context in the Surface destructor.  By setting a null current context there is a brief window where all GL calls will fail.  Since there is only one WGL context just leave in on the unreferenced window until a new window is made current.  BUG=angleproject:890  Change-Id: I51eadf23ca61e274f7d174ac5a9e0592bcdadebc Reviewed-on: https://chromium-review.googlesource.com/265483 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D11: Only use share handles with HW driver.  WARP does not support surface sharing like native D3D11. This combined with a Chromium-side change should fix WARP rendering in Chrome.  BUG=angleproject:973 BUG=429792  Change-Id: I41e778625e8697e45657843f2f337bcffe7ddbe2 Reviewed-on: https://chromium-review.googlesource.com/265611 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Generate blit shaders on demand.  This saves a ms or two on D3D11 startup.  Change-Id: I156c25029a0b2aeb48e5b76b31737c155111e07f Reviewed-on: https://chromium-review.googlesource.com/264936 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add trace events for D3D11 initialization.  This helps a local user profile their D3D11 startup time.  BUG=436191 BUG=angleproject:966  Change-Id: Ib1b3d62194233cd502980d87c316a95e9bd3a04c Reviewed-on: https://chromium-review.googlesource.com/264935 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove SetTraceFunctionPointers and update APIs.  Now that Chromium is switched to ANGLE's new Platform tracing methods we can junk the old APIs.  BUG=angleproject:966 BUG=436191  Change-Id: Ie2564eed9e5ce4604e0dcd4582618e7467b2d590 Reviewed-on: https://chromium-review.googlesource.com/264934 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Add extension EGL_ANGLE_device_d3d  Access to the D3D device is needed for some advanced scenarios. New entry points eglQueryDisplayAttribANGLE and eglQueryDeviceAttribANGLE have been added in this change to implement this extension.  BUG=angleproject:935  Change-Id: Ie39e86a2b6c6d8d05a08964b2907fb9fba5dec13 Reviewed-on: https://chromium-review.googlesource.com/265591 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Support constant folding of trigonometry built-ins"  Part of a chain causing compile errors on Mac. Example:  ../../third_party/angle/src/compiler/translator/IntermNode.cpp:1216:89: error: no member named 'sin' in namespace 'std'; did you mean 'sinf'?  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33747  This reverts commit 1767e6b4f9148a6aa462d23e3838810c0080ce78.  Change-Id: Ie39b1bf9a08da61aa0b16e219b34d1ba0b6f6c0f Reviewed-on: https://chromium-review.googlesource.com/265587 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Support constant folding of exponential built-ins"  Part of a chain causing compile errors on Mac. Example:  ../../third_party/angle/src/compiler/translator/IntermNode.cpp:1216:89: error: no member named 'sin' in namespace 'std'; did you mean 'sinf'?  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33747  This reverts commit 62e2c8d2bc55c41db4e6095eac012b8861131585.  Change-Id: Id20f7f4efbc3df7756161b192d4858caeeb0572f Reviewed-on: https://chromium-review.googlesource.com/265627 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Support constant folding of common built-ins"  Part of a chain causing compile errors on Mac. Example:  ../../third_party/angle/src/compiler/translator/IntermNode.cpp:1216:89: error: no member named 'sin' in namespace 'std'; did you mean 'sinf'?  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33747  This reverts commit 2b1da6ed1dbe5960bed8c1b2fa3d33cb00c6c116.  Change-Id: I5d48932a6254d6d1e78966bb3891913d9450e08e Reviewed-on: https://chromium-review.googlesource.com/265612 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Use nullptr consistently in TIntermConstantUnion::fold"  Part of a chain causing compile errors on Mac. Example:  ../../third_party/angle/src/compiler/translator/IntermNode.cpp:1216:89: error: no member named 'sin' in namespace 'std'; did you mean 'sinf'?  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33747  This reverts commit 72ed20d4bb5a5c55d9909d6cc9b7a0e89e4a81a2.  Change-Id: Ia6119f6081b3184deef3deef25b9e3f43ff2e2a6 Reviewed-on: https://chromium-review.googlesource.com/265586 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add extension EGL_ANGLE_device_d3d"  Compile error on clang: src/libANGLE/Display.cpp:259:23: error: allocation of incomplete type 'egl::Device'         mDevice = new Device(this impl);                       ^~~~~~ src/libANGLE/Display.h:36:7: note: forward declaration of 'egl::Device' class Device;       ^ In file included from src/libANGLE/Display.cpp:11: In file included from src/libANGLE/Display.h:17: In file included from src/libANGLE/Error.h:80: In file included from src/libANGLE/Error.inl:9: src/common/angleutils.h:66:5: error: deleting pointer to incomplete type 'egl::Device' may cause undefined behavior [-Werror-Wdelete-incomplete]     delete resource;     ^      ~~~~~~~~ src/libANGLE/Display.cpp:209:5: note: in instantiation of function template specialization 'SafeDelete<egl::Device>' requested here     SafeDelete(mDevice);     ^ src/libANGLE/Display.h:36:7: note: forward declaration of 'egl::Device' class Device;       ^ 2 errors generated.  This reverts commit 6dacaff4e03d4f6b4c444a3fff018c1297cd25ba.  Change-Id: Ide348e156324a5af668604362c0b249ea73b6083 Reviewed-on: https://chromium-review.googlesource.com/265626 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add extension EGL_ANGLE_device_d3d  Access to the D3D device is needed for some advanced scenarios. New entry points eglQueryDisplayAttribANGLE and eglQueryDeviceAttribANGLE have been added in this change to implement this extension.  BUG=angleproject:935  Change-Id: Id1560b0887fa5882b9858af7bad9043ada67038d Reviewed-on: https://chromium-review.googlesource.com/251610 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use nullptr consistently in TIntermConstantUnion::fold  Newly added code in TIntermConstantUnion::fold uses nullptr where as remaining part of the function uses NULL. This change removes NULL and consistently uses nullptr in complete function.  Change-Id: I600dcf11b686d8d72b2bcdac88b7158288c68105 Reviewed-on: https://chromium-review.googlesource.com/265395 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support constant folding of common built-ins  This change adds constant folding support for unary common built-ins: abs sign floor trunc round roundEven ceil and fract.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common* (80 out of 210 tests started passing with this change)  Change-Id: I06800ed0e03764c0f7aab6bcd45c4f122de5a3c1 Reviewed-on: https://chromium-review.googlesource.com/265394 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support constant folding of exponential built-ins  This change adds constant folding support for unary exponential built-ins - exp log exp2 log2 sqrt and inversesqrt.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.exponential* (48 out of 56 tests started passing with this change)  Change-Id: Ie7808cd57d6ed7598c642a9a0940b8f5bd293741 Reviewed-on: https://chromium-review.googlesource.com/265393 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support constant folding of trigonometry built-ins  This change adds constant folding support for trigonometry built-in functions. Constant folding for these functions also fixes constant expression issues where constant initializer is a built-in trignometry function whose arguments are all constant expressions.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.angle_and_trigonometry* (112 out of 120 tests pass with this change)  Change-Id: I66275b2ae9faecef63d76763d21a9b67d9bb68fa Reviewed-on: https://chromium-review.googlesource.com/265392 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
perf_tests: Only print final score result.  Don't print all the other measurements and values since they'll just add noise to the perf bot dashboards. Also increase the run time of the DrawCallPerfTest to 10.0 seconds.  BUG=angleproject:744 BUG=468852  Change-Id: If076055ad46b4e6923f39687edcaa25930b188a7 Reviewed-on: https://chromium-review.googlesource.com/265464 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Delete Image.h.  Change-Id: I83135eabfe5c71f8b07338e2552d1ddd89f150c2 Reviewed-on: https://chromium-review.googlesource.com/265233 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Simplify code related to variable declaration  Rename nonInitErrorCheck to declareVariable to clarify that it declares variables. Merge arrayErrorCheck with that so that logic that is common between array and non-array declarations is only in one place. This will simplify adding array initializer handling. This also enables redeclaring gl_LastFragData using ESSL3 array type syntax.  Comments in executeInitializer claimed that the TVariable object was needed for error recovery but that was not actually true so it can also use the new declareVariable method. Make "variable" a local variable instead of a parameter to executeInitializer since the parameter was never used by callers of the function.  TEST=angle_unittests WebGL conformance tests BUG=angleproject:941  Change-Id: Ie133be62afc3e1f997370803cf21cada4e738935 Reviewed-on: https://chromium-review.googlesource.com/264674 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Skip Pbuffer tests depending on Pbuffer support.  BUG=angleproject:890  Change-Id: Ie10276453c35c65ffa0e26f8039db3ec3e65064e Reviewed-on: https://chromium-review.googlesource.com/265187 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Support constant folding of trigonometry built-ins"  Part of a chain breaking the clang build:  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33588  This reverts commit af930db15010cacfcdc74bee630372b8f6eb3eeb.  Change-Id: Ic0bf09b4088a1ee285fed0fbd77dfc4c682fcd12 Reviewed-on: https://chromium-review.googlesource.com/265144 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Support constant folding of exponential built-ins"  Part of a chain breaking the clang build:  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33588  This reverts commit 1c89caef47a27c63a7d0f988e74816692a9b9b39.  Change-Id: I36e080d8f64d4d4ca5de04bebbd119db83956d0e Reviewed-on: https://chromium-review.googlesource.com/265185 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Support constant folding of common built-ins"  Part of a chain breaking the clang build:  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33588  This reverts commit 0273c68c507a10af3e45c6e4a52a44adcd0cf742.  Change-Id: I00d7617a7c380f2a5ea3f38ec14948a598aa5c1a Reviewed-on: https://chromium-review.googlesource.com/265184 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Use nullptr consistently in TIntermConstantUnion::fold"  Part of a chain breaking the clang build:  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Linux%20Builder/builds/33588  This reverts commit 5f2feee42971fdbbd7cb389fffe2f632060ec6e3.  Change-Id: I5ad54b05148ae2d4f19e50a67aded2bad4f55f91 Reviewed-on: https://chromium-review.googlesource.com/265143 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add tests for FenceNV and FenceSync objects.  BUG=angleproject:888  Change-Id: Ic5eca4d88854f8127114d6b54666f32d5d6df9f2 Reviewed-on: https://chromium-review.googlesource.com/264588 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix issues with computing discontinuous loops  AST analysis to narrow down usage of [[loop]] and [[unroll]] failed to account for break statements inside switch statements. Add switch statement handling. This fixes asserts/crashes in dEQP tests.  BUG=angleproject:937 TEST=dEQP-GLES3.functional.shaders.switch.*  Change-Id: I04fdfe4733772a2a234934123bbfacf0376df562 Reviewed-on: https://chromium-review.googlesource.com/265191 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use nullptr consistently in TIntermConstantUnion::fold  Newly added code in TIntermConstantUnion::fold uses nullptr where as remaining part of the function uses NULL. This change removes NULL and consistently uses nullptr in complete function.  Change-Id: Ieaada3cf46bf3e16d3ef91b300c86537f778c33f Reviewed-on: https://chromium-review.googlesource.com/264632 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support constant folding of common built-ins  This change adds constant folding support for unary common built-ins: abs sign floor trunc round roundEven ceil and fract.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common* (80 out of 210 tests started passing with this change)  Change-Id: I09f2f99b3108e0d2fb1919a0631e4317b6a28be3 Reviewed-on: https://chromium-review.googlesource.com/263709 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support constant folding of exponential built-ins  This change adds constant folding support for unary exponential built-ins - exp log exp2 log2 sqrt and inversesqrt.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.exponential* (48 out of 56 tests started passing with this change)  Change-Id: I22af56876d1b7ce305697bf9bf43ad9ec5d8a3a5 Reviewed-on: https://chromium-review.googlesource.com/263708 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support constant folding of trigonometry built-ins  This change adds constant folding support for trigonometry built-in functions. Constant folding for these functions also fixes constant expression issues where constant initializer is a built-in trignometry function whose arguments are all constant expressions.  BUG=angleproject:913 TEST= dEQP tests dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.angle_and_trigonometry* (112 out of 120 tests pass with this change)  Change-Id: I2ed4360532469fe0d70048d5f2300a8db6f9fcda Reviewed-on: https://chromium-review.googlesource.com/263679 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Clean up arrayErrorCheck  Remove some unnecessary TPublicType/TType conversions from the code and clean up code style. voidErrorCheck is changed to take TBasicType so that it can be used with both TType and TPublicType.  TEST=angle_unittests BUG=angleproject:941  Change-Id: I6f6cbc0761a4fc971299bad48864309009c54e7f Reviewed-on: https://chromium-review.googlesource.com/264673 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix a bunch of mistakes in MalformedShaderTest  A number of mistakes had slipped in to this test that made the compilation of some shaders always fail regardless of the semantic checks applied by the parser.  TEST=angle_unittests BUG=angleproject:941  Change-Id: I9906792e2c7fe3805288255b855afb46840a77a7 Reviewed-on: https://chromium-review.googlesource.com/264811 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove now unused DetectDiscontuinity.h/.cpp  BUG=angleproject:937 BUG=395048  Change-Id: Ie8e520267d594a595201cb7c2438a2202d9adf25 Reviewed-on: https://chromium-review.googlesource.com/263745 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Ignore visual studio profiler and nsight files.  Change-Id: I01cb029300760341262fb27cafc32d4366d161c0 Reviewed-on: https://chromium-review.googlesource.com/265005 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
WGL Pbuffer implementation.  BUG:angleproject:890  Change-Id: Id6e04117ddf7bde3ffb0d9e4cef6db3d07039a54 Reviewed-on: https://chromium-review.googlesource.com/261410 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use the AST analyses to narrow the usage of [[loop]] and [[unroll]]  These attributes are now used exactly in the loops and ifs that require them limiting the number of failed compilations due to excessive unrolling and flattening. Also output Lod0 functions only when needed.  Adds unit tests for LOOP FLATTEN and Lod0 generation.  The patch was tested against the WebGL CTS 1.0.4 for which all the failures existed prior to this patch and seem to be unrelated to this change. It also works correctly on the following sites that had trouble with [[loop]] and [[unroll]]:  * dev.miaumiau.cat/rayTracer "Skull Demo"  * The turbulenz engine particle demo  * Lots of ShaderToy samples (including "Volcanic" and "Metropolis")  * Google Maps Earth mode  * Lots of Chrome Experiments  * Lagoa  * madebyevan.com/webgl-water  * SketchFab  * Unit Tests  BUG=angleproject:937 BUG=395048  Change-Id: I856de9025f10b79781929ec212dbffc2064a940e Reviewed-on: https://chromium-review.googlesource.com/264791 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix and enable warning C4244 (Conversion from 'type1' to 'type2' possible loss of data)  Change-Id: Id0e06d7d6600344d858f00dabc219d79289bbc82 Reviewed-on: https://chromium-review.googlesource.com/265020 Tested-by: Minmin Gong <mgong@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix and enable warning C4244 (Conversion from 'type1' to 'type2' possible loss of data)"  Causing a build failure on Mac/Clang:  ./Tokenizer.cpp:551:7: error: extra tokens at end of #else directive [-Werror-Wextra-tokens] #else if defined(_MSC_VER)  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Mac%20Builder/builds/29136  This reverts commit 3b26e231d99154814eb428f75a67bbe7a21adadc.  Change-Id: I2d11ddcc18130d908fd2ec3d6f5ab890cfccd5e7 Reviewed-on: https://chromium-review.googlesource.com/264983 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add tests of basic Pbuffer functionality.  BUG=angleproject:890  Change-Id: I8f82414d1875f80269bd9dd1f629e5b7903cb584 Reviewed-on: https://chromium-review.googlesource.com/264380 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix and enable warning C4244 (Conversion from 'type1' to 'type2' possible loss of data)  Change-Id: I73d9a2b9ad16f032be974b9c819de0dc1247c2ea Reviewed-on: https://chromium-review.googlesource.com/264533 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove code related to redeclaration of arrays  It should not be possible to redeclare arrays. This seems to be another thing left over from earlier erroneous code which allowed declaring unsized arrays.  TEST=angle_unittests BUG=angleproject:941  Change-Id: I711565230b35df077f268cec6fdeac6c4c03b4cd Reviewed-on: https://chromium-review.googlesource.com/264672 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Make checking for array non-constness depend on input version  First remove duplicate check for const qualifier on arrays. Only keep the check inside arrayQualifierErrorCheck().  Second ESSL3 will introduce array initializers and by extension constant arrays so it should allow const qualifier on arrays. These checks are somewhat superfluous in ESSL1 as well since the parser already checks for missing initializers but it's useful to keep the informative error messages around.  Add a few tests to make sure that when the ESSL3 implementation progresses it still checks for missing initializers on constant arrays.  TEST=angle_unittests BUG=angleproject:941  Change-Id: Id871c872c5b92e2a5bf81c00080ac23004916a75 Reviewed-on: https://chromium-review.googlesource.com/264671 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Use the AST analyses to narrow the usage of [[loop]] and [[unroll]]"  Caused linking failures on mac because the unit test asks for TranslatorHLSL which is not compiled.  This reverts commit 3342e01f2a29343ea95961f0194f9d4f422cb840.  Change-Id: I02b2f54ca5b90611f11b7a549e75bf2e8310639d Reviewed-on: https://chromium-review.googlesource.com/264790 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Use the AST analyses to narrow the usage of [[loop]] and [[unroll]]  These attributes are now used exactly in the loops and ifs that require them limiting the number of failed compilations due to excessive unrolling and flattening. Also output Lod0 functions only when needed.  Adds unit tests for LOOP FLATTEN and Lod0 generation.  The patch was tested against the WebGL CTS 1.0.4 for which all the failures existed prior to this patch and seem to be unrelated to this change. It also works correctly on the following sites that had trouble with [[loop]] and [[unroll]]:  * dev.miaumiau.cat/rayTracer "Skull Demo"  * The turbulenz engine particle demo  * Lots of ShaderToy samples (including "Volcanic" and "Metropolis")  * Google Maps Earth mode  * Lots of Chrome Experiments  * Lagoa  * madebyevan.com/webgl-water  * SketchFab  * Unit Tests  BUG=angleproject:937 BUG=395048  Change-Id: If7baddae1cdae0b3a414aa49e5a4c4babedbfe50 Reviewed-on: https://chromium-review.googlesource.com/261263 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Temporarily disable the RenderToMipmap on Intel OpenGL.  BUG=angleproject:905  Change-Id: If398b7f3cb60f3efdafce0f3709f965120977603 Reviewed-on: https://chromium-review.googlesource.com/264665 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement GL_VENDOR and GL_RENDERER strings for RendererGL.  Change-Id: Ib83faa605fd1b992e19ddc2b72c7917d82245d32 Reviewed-on: https://chromium-review.googlesource.com/264664 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement discontinuous loops AST analysis  This will allow narrowing down which usages of [[flatten]] and [[unroll]] are actually useful.  BUG=angleproject:937 BUG=395048  Change-Id: I091e647e3053d22edadd0cabb7c50bd5efa690b2 Reviewed-on: https://chromium-review.googlesource.com/263776 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement gradient operation AST analysis  This will allow narrowing down which usages of [[flatten]] and [[unroll]] are actually useful.  BUG=angleproject:937 BUG=395048  Change-Id: Ib8d7b98431b8cd3563e1eff8ecc9ed5df1a9b7d6 Reviewed-on: https://chromium-review.googlesource.com/263775 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add a compiler option to prune unused function and prototypes  Also adds a simple unit test checking the pruning  BUG=angleproject:937 BUG=395048  Change-Id: I88440378f66178dcebebcd596f8f80235903f20e Reviewed-on: https://chromium-review.googlesource.com/264568 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Add a compiler option to prune unused function and prototypes"  Compile error on Mac:  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Mac%20Builder/builds/29051  This reverts commit e423d9ca6e1b340ae06d543419b8a515de5ac3f2.  Change-Id: Ie08d7f2bf86089a006f3177480aa7491a9405257 Reviewed-on: https://chromium-review.googlesource.com/264585 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a compiler option to prune unused function and prototypes  Also adds a simple unit test checking the pruning  BUG=angleproject:937 BUG=395048  Change-Id: I49904c34d1a72949cdc579569967d99c736c7237 Reviewed-on: https://chromium-review.googlesource.com/264415 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implemented a CallDAG to allow for more AST analysis  The CallDAG preprocesses the AST to construct a DAG of functions that can be used for several analyses. Use it to implement check for recursion and max call depth. It will also be used to limit the usage of [[flatten]] and [[unroll]].  BUG=angleproject:937 BUG=395048  Change-Id: I8578703f2d49513f315aecccbcff34914562e4ff Reviewed-on: https://chromium-review.googlesource.com/263774 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Add UBO offset emulation for D3D11.0 and below.  BUG=angleproject:507  Change-Id: I6c5028930051a2af0bd6ffa0ee213e692d3892ef Reviewed-on: https://chromium-review.googlesource.com/261824 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Split Buffer::map into map and mapRange to match the API.  BUG=angleproject:681  Change-Id: Ia4bf2b81134a922265ca762f33ac85d9ddbf1a7c Reviewed-on: https://chromium-review.googlesource.com/261890 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for GL_OES_fbo_render_mipmap with OpenGL.  BUG=angle:905  Change-Id: Idde35172cfa495c8b74b961f4ab8c4e657653074 Reviewed-on: https://chromium-review.googlesource.com/263763 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Replace setArray function in TPublicType with functions from TType  Having only one way of setting or clearing arrayness of types clarifies code dealing with arrays.  TEST=angle_unittests BUG=angleproject:941  Change-Id: I98cb7c44fd66440c9de8b4c6c4a02827e9300db7 Reviewed-on: https://chromium-review.googlesource.com/264361 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove half-baked non-sized array support  ANGLE used to accept shaders with non-sized arrays in initializer lists. Fix this. Proper support for implicitly sized arrays will be implemented later for ESSL3.  TEST=angle_unittests BUG=angleproject:941  Change-Id: I53c5ccf0f7ef09ad30e142f8350812959fc4846c Reviewed-on: https://chromium-review.googlesource.com/264360 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Temporarily disable TextureTest with OpenGL.  Failures seen on some FYI bots.  Change-Id: I4853438c34ce55a1d803d3a7edf3b3e077905264 Reviewed-on: https://chromium-review.googlesource.com/264462 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable all copy image tests on Intel.  Change-Id: I5412daf42777caeac37de4bdc661b01480d887fd Reviewed-on: https://chromium-review.googlesource.com/264451 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix GN Windows component build.  The translator_static dependency is missing from libANGLE. GYP has this dependency.  Change-Id: I30165a041f88f7e3c6f550744d2c7a4103d0f520 Reviewed-on: https://chromium-review.googlesource.com/264425 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add stubs for GL_OES_fbo_render_mipmap.  BUG=angle:905  Change-Id: Idd4964bd2d9d07cd98137770e1cc57397f1dd3a6 Reviewed-on: https://chromium-review.googlesource.com/263762 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add texture format utilities for GL and generate GL texture caps.  BUG=angleproject:884  Change-Id: Ib1b13f59a6b21399c4b35695c704c369f572914e Reviewed-on: https://chromium-review.googlesource.com/264399 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add texture format utilities for GL and generate GL texture caps."  This reverts commit 69bde01adf1f9d94cb1ea91c2902267ef3340f02.  Change-Id: If21c22e91cf5d72364839bbcc21cb83901a3f2cd Reviewed-on: https://chromium-review.googlesource.com/264418 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add Platform methods for event tracing.  Event tracing requires pulling in timing counters so we can sync with Chromium's timestamps. It may require a bit more tricky stuff to sync ANGLE's GPU timestamps with trace timestamps but should allow us to add GPU trace events in the future.  BUG=chromium:436191 BUG=angleproject:966  Change-Id: Ie1dc2981650d96888f988fa74b6fa435fbe8edc2 Reviewed-on: https://chromium-review.googlesource.com/263781 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement copyImage and copySubImage in TextureGL.  BUG=angleproject:885 BUG=angleproject:884  Change-Id: I083b72059c55157e2a3ee00ec778f819a100be7b Reviewed-on: https://chromium-review.googlesource.com/263179 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add texture format utilities for GL and generate GL texture caps.  BUG=angleproject:884  Change-Id: Iba0108b22e6a404842ec1013d22c00d206c865d3 Reviewed-on: https://chromium-review.googlesource.com/255512 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only check dynamic type in Impl casting helpers.  We can use the Impl casting helper methods to clean up dynamic type casting.  Change-Id: I5706da74eedd9f3cdc5a728420074a91ad7c95cb Reviewed-on: https://chromium-review.googlesource.com/263520 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use GetAs/GetImplAs whenever possible.  This patch cleans up the rest of our custom casting helper functions.  Change-Id: I41975c736765fca855c4498acca31116df3e8317 Reviewed-on: https://chromium-review.googlesource.com/263477 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Don't delete sysmem storage if it is the latest storage.  BUG=angleproject:965  Change-Id: I9b4b042e3f9bde3ce713a02aa353b5f3a5cff49e Reviewed-on: https://chromium-review.googlesource.com/263711 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com>, 15312978, 382, 105, 382
Support assigning array constructors in HLSL output  This adds support to the following type of shader code where an array constructor is used as a source of assignment:  float a[3]; a = float[3](0.0 1.0 2.0);  The assignment gets replaced in the HLSL code by a function call where the array is an out parameter and the constructor parameters are regular parameters.  Constructors cannot yet be used in initializers.  With this change in place some of the relevant dEQP tests start passing.  TEST=dEQP-GLES3.functional.shaders.arrays.constructor.* BUG=angleproject:941  Change-Id: I13ed603c02a30d9f9950a61c4d562ae9fac058ec Reviewed-on: https://chromium-review.googlesource.com/263403 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add basic support for array constructors  Add limited support for parsing array constructors and writing them out as GLSL code.  Still missing from this version: HLSL output array support in initializer lists arrays with implicit size.  BUG=angleproject:941  Change-Id: I7febf80923c4cd0b730399f1f49f9456cf3668e9 Reviewed-on: https://chromium-review.googlesource.com/260572 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Give Timer a virtual destructor as it's deleted polymorphically.  Found by clang:  ..\..\third_party\angle\src\common/angleutils.h(665) :  error: delete called on 'Timer' that is abstract but has non-virtual destructor [-Werror-Wdelete-non-virtual-dtor]     delete resource;     ^ ..\..\third_party\angle\src\tests\perf_tests\ANGLEPerfTest.cpp(265) :  note: in instantiation of function template specialization 'SafeDelete<Timer>' requested here     SafeDelete(mTimer);     ^  BUG=chromium:82385  Change-Id: I69033b1802b5dffbdf2d80889aca7019d710d481 Reviewed-on: https://chromium-review.googlesource.com/264061 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement gradient operation AST analysis"  This reverts commit 2fc57a2ace58b7ae3106344c56be94948f761b2a.  Change-Id: I619297090c8441c1b90099437f8764263cdd68cc Reviewed-on: https://chromium-review.googlesource.com/263728 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Implement discontinuous loops AST analysis"  This reverts commit f30a9ba96bdfa014fc182060c714a2c75451f4cf.  Change-Id: I577cfd1e7d5d6138413c29205cbf4d35b6861226 Reviewed-on: https://chromium-review.googlesource.com/263754 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Implemented a CallDAG to allow for more AST analysis"  failures in angle_unittests and compilation failure on clang (see: https://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Mac%20Builder%20%28dbg%29/builds/30016/steps/compile/logs/stdio) . This reverts commit b34d1d12969496b1b0fb53934b8ce3200304f900.  Change-Id: Ia995fb2db0e891294f3461de01617cb13e5ae381 Reviewed-on: https://chromium-review.googlesource.com/263727 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Return a ref for FBO attachment image indexes.  This cleans up the syntax somewhat. Also place some more of the helper methods in the header.  BUG=angleproject:963  Change-Id: I62419095a7b65486f54d74791027594e8e595e48 Reviewed-on: https://chromium-review.googlesource.com/263629 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move the texture index to attachment base.  This will let us squash the attachment types in a follow-up patch.  BUG=angleproject:963  Change-Id: I1efb2e41aa08766189499995b3150aec6fd61c4e Reviewed-on: https://chromium-review.googlesource.com/263486 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement discontinuous loops AST analysis  This will allow narrowing down which usages of [[flatten]] and [[unroll]] are actually useful.  BUG=angleproject:937 BUG=395048  Change-Id: Icc37abf51a1407c9e7bc708dc08d3ba4050a496a Reviewed-on: https://chromium-review.googlesource.com/261189 Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implement gradient operation AST analysis  This will allow narrowing down which usages of [[flatten]] and [[unroll]] are actually useful.  BUG=angleproject:937 BUG=395048  Change-Id: Ic31e434c7b5bb6c32eff2336e5949391bfee25a5 Reviewed-on: https://chromium-review.googlesource.com/260930 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Implemented a CallDAG to allow for more AST analysis  The CallDAG preprocesses the AST to construct a DAG of functions that can be used for several analysis. Use it to implement check for recursion and max call depth. It will also be used to limit the usage of [[flatten]] and [[unroll]].  BUG=angleproject:937 BUG=395048  Change-Id: I643e0ed605ad095e4fd7da4977d842be5e6a12e0 Reviewed-on: https://chromium-review.googlesource.com/229352 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Move resource storage to attachment base.""  Fix in https://chromium-review.googlesource.com/#/c/263730/  This reverts commit 0d91328b99d2a8b2c3bfe45d64faad3e7907637c.  Change-Id: Ibab792001798eff94652345b7c12fb9a42cddb55 Reviewed-on: https://chromium-review.googlesource.com/263740 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Detect RTTI properly on Clang.  This was giving a compile error on OSX. Also update the logic slightly.  BUG=angleproject:963  Change-Id: I1ac64aa0908a58d9780054084d5c205c61848763 Reviewed-on: https://chromium-review.googlesource.com/263730 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split DrawCallPerf test from BufferSubData test.  This will give us better dashboard encapsulation when we're running on the Chromium bots. It also paves the way for more specialized draw call tests like for indexed draw with uniform updates instancing etc.  BUG=angleproject:744  Change-Id: I396de28c027f99da18a0904f959d23b59cac2010 Reviewed-on: https://chromium-review.googlesource.com/263505 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Stub simplifying array assignment for HLSL output  Add an AST traverser that rejects shaders with expressions that use the return value of an assignment where an array is assigned to another array. In the future this should be made into a tool that can simplify these expressions so that return values of array assignments are not used.  In its current form this code prevents OutputHLSL from producing garbage code when the original code contains expressions like a = (b = c); where a b and c are all arrays.  BUG=angleproject:960  Change-Id: I11353d7ed7160c853e58a0ef3471ca439cb314c8 Reviewed-on: https://chromium-review.googlesource.com/263070 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add basic support for assigning arrays in HLSL output  Implement support for assignments where the return value of the assignment is not used in another part of the expression.  TEST=WebGL conformance tests BUG=angleproject:960  Change-Id: Ibf9d71a75d27d139d2aabb5162ab04a0974321d3 Reviewed-on: https://chromium-review.googlesource.com/263222 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Move resource storage to attachment base."  Giving compile errors on Clang/OSX.  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Mac%20Builder%20%28dbg%29/builds/30008  This reverts commit 7f67b030a8ae26e3ff54f6d33c655fc69c0b9fdb.  Change-Id: I5fb7d237c99ca9f2a8d50538f86dfc334d56ddd9 Reviewed-on: https://chromium-review.googlesource.com/263722 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Assign built-in function return type in promote()  This finishes the refactoring of unary math operation handling so that IntermUnary::promote has the complete code for setting the return type of the node.  BUG=angleproject:952 TEST=angle_unittests WebGL conformance tests  Change-Id: I19bd8d53029e24f734c9436eceb446b37e7fcf26 Reviewed-on: https://chromium-review.googlesource.com/262416 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactor unary math operator handling to clarify responsibilities  Shuffle the code around so that each part has a clear responsibility: IntermUnary::promote is responsible for setting the return type of the node Intermediate::addUnaryMath is responsible for creating the node object and ParseContext::createUnaryMath is responsible for validating the operand type.  This removes duplicated bool type check for logical not.  BUG=angleproject:952 TEST=angle_unittests WebGL conformance tests  Change-Id: I9f5a0abb6434ad2730441ea9199ec3f5382ebcda Reviewed-on: https://chromium-review.googlesource.com/262415 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Move resource storage to attachment base.  We can use GetAs() to retrieve the corresponding API object.  BUG=angleproject:963  Change-Id: I472e13664e45f9f05621dea3d28135d4e833fb3d Reviewed-on: https://chromium-review.googlesource.com/263485 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove DefaultAttachment.  This class is no longer necessary or used.  BUG=angleproject:963  Change-Id: I5e6fa64822e637e1cc769be6fe777fa6e13a0d83 Reviewed-on: https://chromium-review.googlesource.com/263484 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add unsigned literal support to GLSL output  BUG=angleproject:964  Change-Id: I8eb3cfd8d49beded4ac55ead97b50c7691e4980a Reviewed-on: https://chromium-review.googlesource.com/263710 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor DefaultAttachments.  Instead of using an Impl type for default attachments store the egl::Surface pointer where possible.  BUG=angleproject:963  Change-Id: I3e34849e8b1ccae0c91a79617ec6f64aaaab6b10 Reviewed-on: https://chromium-review.googlesource.com/263483 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement flush and finish in RendererGL.  BUG=angleproject:883  Change-Id: Idc474c58d3971c5f7c2c2760cd21aefdf65424b4 Reviewed-on: https://chromium-review.googlesource.com/263502 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only call glInvalidateFramebuffer if it is available.  BUG=angleproject:885  Change-Id: I30a9bcebc80805aea0c12d9c67194b7b0c98200f Reviewed-on: https://chromium-review.googlesource.com/263475 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add drafts for device query extensions.  These extensions give power apps the ability to query raw device pointers from the EGL layer. EGL_EXT_device_query is based on EGL_EXT_device_base which is being split into device_query and device_enumerate. We remove the device enumeration logic and only allow the app to query the current device from a display which matches how ANGLE works internally.  EGL_ANGLE_device_d3d gives the app the ability to query D3D devices associated with a display.  BUG=angleproject:935  Change-Id: I8079661f00d11717ed0e792c9fe8dc5c26f67dcc Reviewed-on: https://chromium-review.googlesource.com/252110 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make egl::Surface ref-counted.  This will let us store references to Surface in FBO attachments even after the surface is destroyed.  BUG=angleproject:963  Change-Id: I7e1cb161d1e08f78b1c4d730a32ad09ac7e61e30 Reviewed-on: https://chromium-review.googlesource.com/263482 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pass gl::Data to Framebuffer::clear.  This allows the implementation object to also check the caps.  BUG=angleproject:930  Change-Id: I5a48ad942eaa5271b60cffd931829296e5d2a767 Reviewed-on: https://chromium-review.googlesource.com/263481 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix the renderer generation script.  We no longer use the DISALLOW_COPY_AND_ASSIGN macro.  BUG=angleproject:956  Change-Id: I439c4d55612059d6a16ae6351c54c3817be017cf Reviewed-on: https://chromium-review.googlesource.com/263480 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add UBO offset support for D3D11.1.  Also fixes the uniform count upper limit in glGetActiveUniformsiv as well as an assert hit with used but unbound uniform buffer.  BUG=angleproject:507 BUG=angleproject:962  Change-Id: I096fe1c9b4f0f398f3a638cd8311278987dfb7dc Reviewed-on: https://chromium-review.googlesource.com/263404 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com>, 15312978, 382, 105, 382
Revert "Add UBO offset support for D3D11.1."  Failed on 32-bit builds.  See: https://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Win%20Builder/builds/24828/steps/compile/logs/stdio  angle\src\libangle\validationes.cpp(1461) : error C2220: warning treated as error - no 'object' file generated angle\src\libangle\validationes.cpp(1461) : warning C4018: '<' : signed/unsigned mismatch  This reverts commit 381f969315c0c70bacf183e58de7194f42486112.  Change-Id: I05f09f19e40046994d34809c5b79095458f56148 Reviewed-on: https://chromium-review.googlesource.com/263474 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add UBO offset support for D3D11.1.  Also fixes the uniform count upper limit in glGetActiveUniformsiv as well as an assert hit with used but unbound uniform buffer.  BUG=angleproject:507 BUG=angleproject:962  Change-Id: I263b14df41d4e45a67304c1d145646398721cf0a Reviewed-on: https://chromium-review.googlesource.com/263412 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable the OpenGL renderer in some basic end2end tests.  Change-Id: I5c224fe779aed90332d14e463abedf8926516156 Reviewed-on: https://chromium-review.googlesource.com/263337 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Name all windows created by the WGL backend.  When running from within the chrome test harness calls to CreateWindow* in debug builds would return null when the title was an empty string.  Change-Id: I0d5dfb1eb824ff2a1470e7d66d850602e73988a0 Reviewed-on: https://chromium-review.googlesource.com/263430 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename SurfaceWGL to WindowSurfaceWGL.  BUG=angleproject:890  Change-Id: I72f28583e3903b273578abb6ed487c0a8d696746 Reviewed-on: https://chromium-review.googlesource.com/261359 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Track more information at the egl::Surface level.  Many of the members of SurfaceImpl could be stored in egl::Surface instead.  This makes SurfaceImpl a pure interface and makes Surface constructors much simpler.  BUG=angleproject:795  Change-Id: Ifa797b4bef84afe66f9fb3f3a6be260f726ca55c Reviewed-on: https://chromium-review.googlesource.com/261358 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Add UBO offset support for D3D11.1."  Was ignoring the uniform block bindings.  This reverts commit 7159ea6778eb73c233736cc2fa59ae9177b75e4b.  Change-Id: Ie7d2b40d3fb2adedd309f1162fb6fd33ab0b4c3c Reviewed-on: https://chromium-review.googlesource.com/263420 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix uninitialized member in BufferD3D.  BUG=angleproject:956  Change-Id: I853f3cf3171b85143e490ef9678aae7d38de0b1f Reviewed-on: https://chromium-review.googlesource.com/262778 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Remove uses of std::unique_ptr in perftests.  This is disallowed in Chromium because it isn't currently portable. We can put it back later if the rules change.  BUG=angleproject:956  Change-Id: I5be28590f494719b8cc995739dde26726283fced Reviewed-on: https://chromium-review.googlesource.com/262777 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Remove shared_utils.h use angle_common instead.  *re-land with fix for Chromium compile*  This saves us from needing to replicate the same code in two places.  BUG=angleproject:956  Change-Id: I68dffee715df03bd25685e3ed5c0506ffc41c3b9 Reviewed-on: https://chromium-review.googlesource.com/263258 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Replace non-copyable macro with a helper class.  This class provides a simpler scheme for blocking default copy and assignment operators. It also reduces the amount of code needed since it's inherited to child classes. This also fixes the conflict between our macro and the same-named macro in Chromium code.  BUG=angleproject:956  Change-Id: If0dc72aa3f63fbc7b8fa34907418821c64c39e2f Reviewed-on: https://chromium-review.googlesource.com/263257 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Implement drawRangeElements  Implement drawRangeElements simply by calling drawElements internally. The start and end parameters passed to the function will be checked against results from index validation and an error is generated if indices fall outside the claimed range.  Most dEQP-GLES3.functional.draw.draw_range_elements.* tests pass after this change. The remaining failures seem to be related to instanced attributes.  BUG=angleproject:957 TEST=dEQP-GLES3.functional.draw.*  Change-Id: Id3923eb8114461b441e593357bc49babfd6b5c15 Reviewed-on: https://chromium-review.googlesource.com/262420 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Revert "Enable the OpenGL renderer in some basic end2end tests."  Failures on Win 7/8 Debug NVIDIA bots.  This reverts commit 1cb0a213a06386745e4ab80a76f622e23be20395.  Change-Id: Ifb6b538e1b784a78c562a4d43d907bd0cdd59abf Reviewed-on: https://chromium-review.googlesource.com/263310 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable the OpenGL renderer in some basic end2end tests.  Change-Id: Iee9d9837c6021ad0c9d4f5749402c5d183e90f2a Reviewed-on: https://chromium-review.googlesource.com/263269 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Check for the extension before creating compressed textures in SwizzleTest.  Change-Id: Ia561fc7bb0262ab6974517d9796e4828db5b511c Reviewed-on: https://chromium-review.googlesource.com/263251 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable UNIMPLEMENTED in ProgramGL::validateSamplers.  Removing this allows many angle end2end tests to run without hitting any UNIMPLEMENTEDs.  BUG=angleproject:882  Change-Id: Idb55fae7b6fc7b23bc85d0bf376499f28669d771 Reviewed-on: https://chromium-review.googlesource.com/263250 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Remove shared_utils.h use angle_common instead."  Causing a build conflig with Chromium's DISALLOW_COPY_AND_ASSIGN.  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Win%20Builder/builds/24738  This reverts commit 3ad467df2817df60ae90a84aae68dc37b46b2b34.  Change-Id: I0cf13e3bc3af90303a123813052cced0ba086515 Reviewed-on: https://chromium-review.googlesource.com/263159 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable vsync for perf tests and don't report the total time.  BUG=angleproject:955  Change-Id: I8223349622531c8fff7c7cd45bdf4754d7619ae2 Reviewed-on: https://chromium-review.googlesource.com/263062 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix array function parameter syntax in HLSL equality function  The fact that passing shaders to the platform compiler is deferred until linking is performed allowed this bug to pass undetected in earlier manual testing.  TEST=WebGL conformance tests BUG=angleproject:941  Change-Id: Ic12b5d0c5547057551df90086453e897a161d559 Reviewed-on: https://chromium-review.googlesource.com/263221 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Always sync the texture sampler state.  The sampler state may have changed even if the texture is already bound.  BUG=angleproject:884  Change-Id: I591f493099397bb07608096cf30ff46ed5090224 Reviewed-on: https://chromium-review.googlesource.com/263147 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove shared_utils.h use angle_common instead.  This saves us from needing to replicate the same code in two places.  BUG=angleproject:956  Change-Id: Ibc80997eec184d0d5aa9c6c076c9d4507fbf8caa Reviewed-on: https://chromium-review.googlesource.com/262776 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Split ANGLEPerfTest into a Render and basic test.  The basic test we can use for perf testing internal classes with mocks. The render tests are more specific to doing draw calls.  BUG=angleproject:956  Change-Id: Iade393facc30c8d7288b1b94a159ce3afe993021 Reviewed-on: https://chromium-review.googlesource.com/262775 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an BufferFactoryD3D class to help mocking.  This D3D-only class has one method used to generate the D3D IndexBuffer/VertexBuffer. This can help us mock up IndexDataManager.  At a later point we can refactor the VertexFormat queries from Renderer into a Caps struct that mirrors our Texure Caps.  BUG=angleproject:956  Change-Id: Id8b1220a763873ee871ce92365bbee03633789c7 Reviewed-on: https://chromium-review.googlesource.com/262774 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add stubs for EGL pixmap surface creation.  BUG=angleproject:795  Change-Id: I76b44e837eb6919f9d3c1eb56c2d3af84bc5ab09 Reviewed-on: https://chromium-review.googlesource.com/260943 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove unused streamOffset from IndexRangeCache  This value is now redundant - it is always the same as regular offset.  TEST=angle_end2end_tests BUG=angleproject:956  Change-Id: If4b6c8bcbebf24fbf84723fe081fd058916cc504 Reviewed-on: https://chromium-review.googlesource.com/262423 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Recompute stream offset instead of fetching a cached value  Recomputing the stream offset is relatively cheap now after recent changes. Remove caching it to make the code less complex.  TEST=angle_end2end_tests BUG=angleproject:956  Change-Id: Icb9cc4e4ffd685a78b7f8a45958992a471ebb0f5 Reviewed-on: https://chromium-review.googlesource.com/262422 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Use handles to avoid calling .wait() on async tasks in Windows Store applications, 15312978, 382, 105, 382
Merge branch 'google/master' into ms-master, 15312978, 382, 105, 382
Remove unused tests folder.  This is now located in src/ and Chromium no longer refers to it.  BUG=None  Change-Id: I64fd302629ca28aa367d8714bfbac2657774fc3b Reviewed-on: https://chromium-review.googlesource.com/262920 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix maxVertexUniformComponents initialization in GenerateCaps()  Change-Id: Ie10398e148dc0b88e5d7a5330307dc49553c6665 Reviewed-on: https://chromium-review.googlesource.com/263092 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't use a helper function to get the vertex attributes.  The overhead of the function call ended up being a hot spot for draw calls since the attributes are iterated over many times in VertexDataManager.  BUG=angleproject:959  Change-Id: I9bbfcbd115661ad629db9ed93d683cd8d0dc9a78 Reviewed-on: https://chromium-review.googlesource.com/263102 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Compile the D3D11 VS and PS on separate threads at GL link time"  This reverts commit 49b0e4ced00593ec7e22929bbbd1f2f9f78c9bf4., 15312978, 382, 105, 382
Revert "Use handles to avoid calling .wait() on async tasks in Windows Store applications"  This reverts commit ddbf057c5264ac6bb7141f5eac2fa585c4381a8c., 15312978, 382, 105, 382
Revert "Implement glDiscardFramebufferEXT in D3D11 renderer"  This reverts commit f57d4abaec39093082561e1dce28262b4ebd5ab8., 15312978, 382, 105, 382
Compile the D3D11 VS and PS on separate threads at GL link time  Change-Id: Ib534483f2ec3922cfeaf71cf1d9e9c433fe04b08 Reviewed-on: https://chromium-review.googlesource.com/251612 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement EXT_discard_framebuffer in D3D11 renderer  Change-Id: I0e39a196796813203c841c46aa2a6b89957f6051 Reviewed-on: https://chromium-review.googlesource.com/261355 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Don't use a helper function to get the vertex attributes."  Caused a warning on 32-bit builds.  This reverts commit 20d78d241b448aa0b2e3f49d902d3ab63a551932.  Change-Id: I4d61024fb29978e7f1bacdd693fc6f1bc00bd0cc Reviewed-on: https://chromium-review.googlesource.com/262918 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add UBO offset support for D3D11.1.  Also fixes the uniform count upper limit in glGetActiveUniformsiv.  BUG=angleproject:507  Change-Id: Icfc90ed64cf94b1bab2d4cc93a8fb5e11b28d666 Reviewed-on: https://chromium-review.googlesource.com/261874 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a WICTextureLoader sample to ANGLE, 15312978, 382, 105, 382
Fixed release build for DDS texture loading sample, 15312978, 382, 105, 382
Added sample demonstrating how to load DDS file content as textures, 15312978, 382, 105, 382
Move validation from Intermediate::addUnaryMath to ParseContext  Intermediate should only have logic for creating node objects validation of parameter types belongs in ParseContext.  BUG=angleproject:952 TEST=angle_unittests WebGL conformance tests  Change-Id: Ie90697641fabb2a837ccc4571a93616d63ea64e6 Reviewed-on: https://chromium-review.googlesource.com/262414 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Cache std::vectors in ProgramD3D to avoid allocations during draw calls.  BUG=angleproject:959  Change-Id: Ie08e68ae27372a97bd118e61478201b0d3dad955 Reviewed-on: https://chromium-review.googlesource.com/262337 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't use a helper function to get the vertex attributes.  The overhead of the function call ended up being a hot spot for draw calls since the attributes are iterated over many times in VertexDataManager.  BUG=angleproject:959  Change-Id: I6c11d4a5a22c314c69b3403dfdeb2d950b1c7639 Reviewed-on: https://chromium-review.googlesource.com/262336 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Inline commonly used Error methods and add move operators.  The function call overhead of the constructors and assignement operators ended up being a hotspot even though the functions didn't do any significant work.  BUG=angleproject:959  Change-Id: I96769879dabdbba7a222f98d87c5be0a829cb7dd Reviewed-on: https://chromium-review.googlesource.com/262335 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Micro-optimize math in IndexDataManager  Use bitwise operations instead of division which is expensive on multiple CPU architectures.  BUG=angleproject:956 TEST=angle_end2end_tests  Change-Id: I57ab540d447c03dae5a96bafb4975fc37e310261 Reviewed-on: https://chromium-review.googlesource.com/262181 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix float-int conversion return type precision tracking  Float-int conversion functions are defined to always return highp values.  BUG=angleproject:865 TEST=angle_unittests  Change-Id: Idf243b483f7b5edfcb54de2755af11e17c3756d3 Reviewed-on: https://chromium-review.googlesource.com/262413 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Implement RenderbufferGL.  BUG=angleproject:886  Change-Id: I7480943d678b2cdf6e997c3f8316acdef32f5f0d Reviewed-on: https://chromium-review.googlesource.com/260889 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split Renderbuffer::setStorage into two functions to match the API.  BUG=angleproject:886  Change-Id: I74375351339464b450c2f058adbeed7a1ba18cdd Reviewed-on: https://chromium-review.googlesource.com/262125 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement FramebufferGL.  BUG=angleproject:885  Change-Id: Ifb5818f185236c671cd7f20ed352edb887b49675 Reviewed-on: https://chromium-review.googlesource.com/258420 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix mipmapped GL_ALPHA UBYTE textures on 9_3  Change-Id: I59020f8152d47091533d69d20fe5ff56e5f96bc1 Reviewed-on: https://chromium-review.googlesource.com/262551 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Use switch/case in GetTypeInfo instead of a map lookup  This should be faster and also matches the C++ style rules better: static variables should not have complex class types.  BUG=angleproject:956 TEST=angle_end2end_tests WebGL conformance tests  Change-Id: I628db95febab309e241be216e2998305525da76e Reviewed-on: https://chromium-review.googlesource.com/262421 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Implement EXT_discard_framebuffer in D3D11 renderer"  Causes failures in video related WebGL tests.  Either there is a bug in the implementation or how chrome is using it.  This reverts commit b13daa8f79f4d16a990d968d7d2c04da6b72d302.  Change-Id: Ic0d74840c664bf4de18d85cc3ff7f7153936d9b0 Reviewed-on: https://chromium-review.googlesource.com/262715 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Compile the D3D11 VS and PS on separate threads at GL link time"  Causing a high-volume crashe in Chrome.  This reverts commit 434953e20002666f66d721aaacbcb8410f7dbd56.  BUG=470695  Change-Id: I2062c706ab6ca6b4c3117685df67c33572518da5 Reviewed-on: https://chromium-review.googlesource.com/262704 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed compilation with mingw.  Change-Id: I027cedc383efbd215e55a7ddf4e41eb1c368a1ae Reviewed-on: https://chromium-review.googlesource.com/262590 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jacek Caban <cjacek@gmail.com>, 15312978, 382, 105, 382
Implement EXT_discard_framebuffer in D3D11 renderer  Change-Id: I0e39a196796813203c841c46aa2a6b89957f6051 Reviewed-on: https://chromium-review.googlesource.com/261355 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix formatting in compiler tests  Remove extraneous semicolons and fix indentation in a couple of places.  TEST=angle_unittests  Change-Id: Iaa51eb50990c0435f41dfd346ec161216cd8d372 Reviewed-on: https://chromium-review.googlesource.com/261823 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disallow operations on structs containing samplers  ESSL 1.00 spec section 5.9 says that equality operators don't operate on structs containing sampler types. Section 5.7 also suggests this. ESSL 3.00 doesn't have a similar restriction.  ESSL 1.00 spec section 4.1.7 says that structs containing samplers can't be used as l-values. This is interpreted to apply also in the case of ESSL 3.00 which similarly disallows samplers as l-values but doesn't explicitly mention structs.  BUG=angleproject:954 TEST=angle_unittests WebGL conformance tests  Change-Id: I73f74962a192e8d9449990ffa5f3d8c851491601 Reviewed-on: https://chromium-review.googlesource.com/261822 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support equality between structs containing arrays in HLSL output  This requires sorting all equality functions together so that struct equality functions can have dependencies on array equality functions but support for array equality functions that have dependencies on struct equality functions is also maintained.  There's no automated test coverage for this specifically. The change was tested by manually inspecting shader output and ensuring that there were no test regressions in tests listed below.  TEST=dEQP-GLES3.functional.shaders.* BUG=angleproject:954  Change-Id: If7199ab2446804afae50f103bb625101172882b9 Reviewed-on: https://chromium-review.googlesource.com/261550 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Support array equality operator in HLSL output  This requires adding functions to the shader source that can do the comparison for a specific array size.  There's no automated test coverage specifically for this functionality since all deqp tests that cover this also require array constructors to be supported. The change has been tested by manually inspecting shader output. No regressions were seen in automated tests listed below.  TEST=dEQP-GLES3.functional.shaders.* angle_unittests BUG=angleproject:941  Change-Id: Ie2ca7c016a3f0bcb3392a96d6d20d6f803d28bf0 Reviewed-on: https://chromium-review.googlesource.com/261530 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix redundant index validation on the D3D9 backend  Make sure that the computed index range is added to the cache of the main buffer object instead of just to the static buffer object created for the buffer object. This applies to the code path used for D3D9. This way the front-end code in ValidateDrawElements gets the index range from the cache instead of having to iterate over all the indices used on every draw call.  BUG=chromium:461274 TEST=WebGL conformance tests angle_end2end_tests  Change-Id: I07cf493d2771dab8e76d69bafda7ac49e5a04808 Reviewed-on: https://chromium-review.googlesource.com/262180 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add a perf test for draw call overhead.  These perf tests use the D3D NULL renderers to measure pure CPU time with no GPU limitations. Also fix our D3D9 SwapChain code to skip creating a SwapChain for NULLREF D3D9 devices and the vertex decl code to reinitialize the formats when finding a mismatch with the previous value.  BUG=angleproject:955  Change-Id: I449e63177b48afd1559c36244de0bc252814e813 Reviewed-on: https://chromium-review.googlesource.com/262208 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move buffer::markTransformFeedbackUsage to BufferD3D only.  BUG=angleproject:681  Change-Id: Ia9f4ac9cee2c3e4fa140eba12bdb9ab0cc423f6c Reviewed-on: https://chromium-review.googlesource.com/261709 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Emulate TextureStorage when it is not available.  BUG=angleproject:884  Change-Id: Ie6e809477253502d88f599172eaed17638e58dd3 Reviewed-on: https://chromium-review.googlesource.com/262112 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use the Surface type for validation and fix incorrect window validation.  The window passed to surface creation should not be used by any surface owned by any display not just the current one.  Store a global window surface list for validation.  BUG=angleproject:795  Change-Id: I2314979f2f27848b21fcb00676194d7671d1db68 Reviewed-on: https://chromium-review.googlesource.com/260942 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pass the Surface type config and attributes to the constructor.  BUG=angleproject:795  Change-Id: I15e7f2f51ecc243edf83d9a9544eba137d8bb599 Reviewed-on: https://chromium-review.googlesource.com/260941 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add dEQP tests.  We integrate dEQP as a console application and a shared library which runs all of the test logic. Using a shared library lets us compile dEQP with all the specific compiler options it needs without conflicting with the compile settings in ANGLE proper.  Currently we only support Windows D3D11 ES 2 and 3. We can add other targets in the future.  We also have a few bugs preventing us from running the test suite in full. We run into infinite loop problems in some shader tests and have crashes or UNIMPLEMENTED in others.  BUG=angleproject:901  Change-Id: Ib6fe66041a6fe547eb2cba497c52de7fd080d667 Reviewed-on: https://chromium-review.googlesource.com/238084 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix copyTexImage2D failures on D3D11 9_3  Change-Id: I16453248c2cb0aaf53a748eb8d6e32c63fa73394 Reviewed-on: https://chromium-review.googlesource.com/261983 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make angle perftests build with clang.  ::testing::WithParamInterface ends up calling deleting an object with the type of the template parameter and the pointer it deletes could arguably point to a subclass of the param object -- so clang warns that there's a delete on a class with a virtual method but without a virtual dtor.  Make the param classes final to let the compiler know that this can't happen in practice.  BUG=chromium:82385  Change-Id: I49a4120b15670d876613b22ba709d50bf4685006 Reviewed-on: https://chromium-review.googlesource.com/261965 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Handle client data for draw calls with RendererGL.  BUG=angleproject:880  Change-Id: I67839d4934767db77cff7b501002c5aafbcbaef2 Reviewed-on: https://chromium-review.googlesource.com/257672 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a comment explaining the buffer binding points.  BUG=angleproject:881  Change-Id: If81675ef4931c920edac56249461db7c91cc170c Reviewed-on: https://chromium-review.googlesource.com/261708 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disallow operations on structures containing arrays in ESSL1  Comparing structures that contain arrays to each other and assigning structures that contain arrays is "not defined" in ESSL 1.00 (section 5.7). Sections 5.8 and 5.9 further suggest that these operations are not allowed. Additionally some platform drivers on Linux seem to reject shaders produced by ANGLE which compare structures containing arrays. This might require changing the output GLSL version for ESSL 3.00.  BUG=angleproject:954 TEST=angle_unittests  Change-Id: I5f3a016f360f940f2fc1ec1ff8e60d13a977eb69 Reviewed-on: https://chromium-review.googlesource.com/261531 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix ResourceManager create-on-bind reallocations.  *re-land with build fix for Clang*  We had a funny bug where the Handle Allocator would re-allocate reserved handles after the app layer creates one with Bind rather than using Gen. This affects Textures Buffers and Renderbuffers.  Fix this by using a different allocation scheme. It should still be fast on the "good" case (using Gen) and use tree lookups on the bind case. Also add some unit tests.  BUG=angleproject:942  Change-Id: I63ce608fcd6a11f92e2b5421f090551934e729ed Reviewed-on: https://chromium-review.googlesource.com/261591 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix ResourceManager create-on-bind reallocations."  Build break on GPU FYI Bots on Linux/Mac:  http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Mac%20Builder/builds/28092  This reverts commit 61ce1a414e74f6a72a520d6adf59bff13aff03a0.  Change-Id: If2e7fb35c769708a783a32932b777dc97eaba8a4 Reviewed-on: https://chromium-review.googlesource.com/261590 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move some validation from IntermBinary::promote to ParseContext  This makes the role of promote() in the system clearer and helps to make the code more understandable since more of the checks are in the same logical place.  BUG=angleproject:952 TEST=angle_unittests WebGL conformance tests  Change-Id: Idb2de927d872e46210d71cf6de06a6f8c1fc5da1 Reviewed-on: https://chromium-review.googlesource.com/260803 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use the GL_COPY_READ_BUFFER binding for copy sources.  Using the ELEMENT_ARRAY binding can cause issues such as rebinding the current VAO's index buffer unexpectedly.  BUG=angleproject:881  Change-Id: Ieeed52ac81c23a46bfe9fc4365239c2b177ff6ac Reviewed-on: https://chromium-review.googlesource.com/261563 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix ResourceManager create-on-bind reallocations.  We had a funny bug where the Handle Allocator would re-allocate reserved handles after the app layer creates one with Bind rather than using Gen. This affects Textures Buffers and Renderbuffers.  Fix this by using a different allocation scheme. It should still be fast on the "good" case (using Gen) and use tree lookups on the bind case. Also add some unit tests.  BUG=angleproject:942  Change-Id: I2e3f4c31b28cb86bd3699035f5d55568a2a1d7d5 Reviewed-on: https://chromium-review.googlesource.com/258904 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Uninitialize the debug annotations when unloading a renderer  Change-Id: I125de997853c9deda365e4827322c29d1f20edf2 Reviewed-on: https://chromium-review.googlesource.com/261253 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use google test to wrap our perf tests.  This provides easy implementation with the Chromium perf bots.  BUG=angleproject:744  Change-Id: I71c04e3d67cae9344ddca9fd95fd3c9849494922 Reviewed-on: https://chromium-review.googlesource.com/260644 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Only sync the VAO state just before the draw call.  BUG=angleproject:880  Change-Id: Ifd59c0f67aeab0e4700b3dca57c1b75e3fae48b8 Reviewed-on: https://chromium-review.googlesource.com/257671 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix incorrect assertion.  BUG=angleproject:884  Change-Id: I3406eec99609b85c407797c50b71611b445a6ca5 Reviewed-on: https://chromium-review.googlesource.com/261462 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update Canary WebGL CTS expectations.  Change-Id: Ia8375595b34e00a48143a568a4a9ab7157a12cd2 Reviewed-on: https://chromium-review.googlesource.com/261171 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make Optional a proper helper class.  Move this to a common area out of perf tests.  Change-Id: I53d36accfe0c53789c007edfb20ba7e964947def Reviewed-on: https://chromium-review.googlesource.com/260643 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Remove hardcoded additional include/lib paths from WinRT projects  Change-Id: Ic78a7dc3a1b3027f4fffc352fa2fb097b6024970 Reviewed-on: https://chromium-review.googlesource.com/261185 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reduce unnecessary built-in varying usage in D3D renderer  Change-Id: I0c404e77aa3f56ddc5b97a206b06c7907edfb1eb Reviewed-on: https://chromium-review.googlesource.com/259812 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix C4702 issues (unreachable code) in ANGLE excluding <xtree>  Change-Id: Ia7603139af266fd7b14efc8c3465225738456e67 Reviewed-on: https://chromium-review.googlesource.com/261038 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix framebuffer zero used after being destroyed in Context destructor.  BUG=angleproject:950  Change-Id: I06e9e6ccf92ee8ca0b1de98cc48ef68a85107214 Reviewed-on: https://chromium-review.googlesource.com/260573 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com>, 15312978, 382, 105, 382
Accept equality and assignment for arrays in parsing  This is enough to support the operations in GLSL output. HLSL output will likely require additional work to support this.  BUG=angleproject:941  Change-Id: I728d511ab07af94bc3382dc2796c1e9ac79d1442 Reviewed-on: https://chromium-review.googlesource.com/260801 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add #version 300 es to ESSL output when needed  BUG=angleproject:953  Change-Id: Ib9e45fab1d35f8c78abd0ac2209ac4f63afe4465 Reviewed-on: https://chromium-review.googlesource.com/261170 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Move binary op array check to ParseContext  Also piece together an addAssign function in ParseContext that uses the binary op array check. This will make it easier to change the array-related checks in the future to use shaderVersion. Moving validation out from IntermBinary::promote also makes the architecture clearer promote()'s role should be mainly to determine the type of the return value of the binary operation not to do validation.  BUG=angleproject:941 TEST=angle_unittests WebGL conformance tests  Change-Id: If1de33ea250893527be7f0d7930d4678a0864684 Reviewed-on: https://chromium-review.googlesource.com/260571 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Correctly insert unmangled function names to symbol table  This fixes detecting some cases of function parameter mismatch (previously a mangled function name corresponding to no function parameters was added to the symbol table for each user-defined function and this was returned when doing function lookups with no parameters).  Also fixes detection of reusing a function name as a variable/struct name.  New unit tests are added to ensure that these fixes don't regress.  BUG=angleproject:936 TEST=angle_unittests WebGL conformance tests  Change-Id: I2dadde9dcc01c7a4a653c1982c36377b89e6d437 Reviewed-on: https://chromium-review.googlesource.com/260800 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix uninitialized ConfigSorter read.  We were not initializaing the mWant* members to false.  BUG=468638  Change-Id: I90ef131c930c6f9c31e9bc9cec951c1f91816eb0 Reviewed-on: https://chromium-review.googlesource.com/261047 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Replace stray reference to cpu_arch in BUILD.gn.  cpu_arch has been replaced by target_cpu and current_cpu in GN.  R=geofflang@chromium.org BUG=344767  Change-Id: Id1c0e37238db5fac41572244aeac0908ac5a412a Reviewed-on: https://chromium-review.googlesource.com/260971 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always use static_assert for compile-time assertions and remove META_ASSERT.  BUG=468139  Change-Id: I696ef307f2faa54bb72df66784bc79a055499987 Reviewed-on: https://chromium-review.googlesource.com/260776 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move most of addBinaryMath from Intermediate to ParseContext  Some type checks for binary math will be different based on the shading language version which is easily accessible in ParseContext. Because of this and also for architectural simplicity it makes more sense to have the checks in ParseContext.  BUG=angle:941 TEST=angle_unittests WebGL conformance tests  Change-Id: I92a499f47e1cbc6a7b6391ce0fa04284803e7140 Reviewed-on: https://chromium-review.googlesource.com/260570 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Updated readme.md to report changes to WARP flags for EGLDisplay creation., 15312978, 382, 105, 382
Refactor D3D Debug Annotations code.  This encapsultates the different implementations and allows us to compile debug.cpp in the common libraries without link errors.  BUG=angleproject:513  Change-Id: I16dc4c666fb4266ee5146d64d77eb9925c7584a8 Reviewed-on: https://chromium-review.googlesource.com/256450 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix and enable warning C4245 (signed/unsigned mismatch)  Change-Id: If48043835fcc98341a0626e3ece7d0e3f7958059 Reviewed-on: https://chromium-review.googlesource.com/260630 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Cooper Partin <coopp@microsoft.com> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Winrt Project generation  Change-Id: I5688f17d8fc18f36363afbfd2728b0b3475fb2bd Reviewed-on: https://chromium-review.googlesource.com/260606 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix unreferenced function warning.  Change-Id: I66b1821e5effcb761a5a0268f7f375289aa3a621 Reviewed-on: https://chromium-review.googlesource.com/260632 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make Platform methods global.  This will allow them to be imported dynamically without name mangling. This is necessary because sometimes SwiftShader overrides libGLESv2 and libEGL so we need to determine at run-time if we are running with "actual" ANGLE.  BUG=466735  Change-Id: I396d717b79066feb8ed0d577ee7386b33eb1d160 Reviewed-on: https://chromium-review.googlesource.com/259954 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove the non-templated RefCountObjectBindingPointer class.  This allows the regular BindingPointer class to template on const types.  Also added assignment and copy operators that don't leak the resources.  BUG=angleproject:880  Change-Id: If3efa26a7fa89306d783c3e8a5fb92b16861d77a Reviewed-on: https://chromium-review.googlesource.com/257670 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix code duplication in OutputHLSL  While debugging I came across the piece of code in OutputHLSL::OutputHLSL which is unnecessarily duplicated this change just fixes it.  Change-Id: I0549d58696417ccf651bacfa19f489b290d4ba6e Reviewed-on: https://chromium-review.googlesource.com/259960 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Update ANGLE_platform_angle_d3d to be able to disable automatic trim.  BUG=angleproject:946  Change-Id: I5652495842b057998318b1583f8e1a586eba39aa Reviewed-on: https://chromium-review.googlesource.com/258940 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
TextureGL implementation.  BUG=angleproject:884  Change-Id: I877c0a9f753dacff96bbb82486bee71d1996ecb7 Reviewed-on: https://chromium-review.googlesource.com/252982 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the ANGLE tests project to src/  *re-re-land with fix for Chrome's angle tests*  BUG=angleproject:945  Change-Id: I3c64e2edc776c299791440f65f22450855eb6dfa Reviewed-on: https://chromium-review.googlesource.com/260448 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Move the ANGLE tests project to src/"  Still causing build issues on Chrome.  This reverts commit 64a3b2a92fe3bbd28972638e6759fae0b98d81b9.  Change-Id: I8d40fe3dfd0a877343357153a02b8ef66d571c64 Reviewed-on: https://chromium-review.googlesource.com/260425 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move the ANGLE tests project to src/  *re-land with fix for Chromium build*  BUG=angleproject:945  Change-Id: I82bff1760e681987fb26e479734aa62fb845898a Reviewed-on: https://chromium-review.googlesource.com/260362 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Move the ANGLE tests project to src/"  Causing build break in Chromium.  This reverts commit 71c2d85c4af2f6cb213d4f3e15f0ae16b63790f3.  Change-Id: Iedf001c1f4c60a759f69009610fbce978d193d17 Reviewed-on: https://chromium-review.googlesource.com/260370 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move the ANGLE tests project to src/  BUG=angleproject:945  Change-Id: I2eb44ac43f65b916ddd838d39e6aae62580d7fa0 Reviewed-on: https://chromium-review.googlesource.com/258903 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Use rx::ImplFactory in Framebuffer init.  BUG=angleproject:942  Change-Id: Idf14a4e42148b379b64b129ab649a9222cf1fb52 Reviewed-on: https://chromium-review.googlesource.com/258902 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use rx::ImplFactory in ResourceManager.  This will make mocking easier for unit testing ResourceManager.  BUG=angleproject:942  Change-Id: I24b9d0be550991845225141d6e7d5630383a8718 Reviewed-on: https://chromium-review.googlesource.com/258901 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement pass-through pack state params.  Same as for unpack this allows us to pass through the state reset code of dEQP without UNIMPLEMENTED errors while still throwing asserts if they are set to non-default values.  BUG=angleproject:901angleproject:512  Change-Id: I0ce0258b0e91eb83c066c241693aaa5c164b2989 Reviewed-on: https://chromium-review.googlesource.com/257131 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add pass-through for new unpack store params.  Move the UNIMPLEMENTED checks to where they are used with non-default values. This allows dEQP to pass the prerequisite tests like state reset without throwing assertion failures in debug.  BUG=angleproject:901angleproject:512  Change-Id: I3bd35f6dea61e7d80d1379ba4e8e13437e68431a Reviewed-on: https://chromium-review.googlesource.com/257130 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "A special state to track field selection is not necessary."  This reverts commit f8dc4fb66d2ee473b6ba37626f02756422863f6c.  The special state to track field selection is actually necessary to avoid reduce/reduce conflicts when array constructors are added to the grammar.  BUG=angleproject:941 TEST=WebGL conformance tests angle_unittests  Change-Id: I55476483c9e83241e8978cd58f05ef303c7c8680 Reviewed-on: https://chromium-review.googlesource.com/260260 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add an ImplFactory base class.  This class helps make mocking easier for unit tests.  Also update the back-end generator script.  BUG=angleproject:942  Change-Id: Ib0cee2b40c3a0faaac32b22c986b824b7b2dddde Reviewed-on: https://chromium-review.googlesource.com/258900 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make ClearParameters an rx-only type.  This legacy struct duplicates some methods in the gl::State. We can restrict its use to D3D and on newer back-ends use the State directly.  BUG=angleproject:930  Change-Id: I2c298e76b072ee73f2b3e17f6696693031ce1f91 Reviewed-on: https://chromium-review.googlesource.com/258070 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement glDiscardFramebufferEXT in D3D11 renderer, 15312978, 382, 105, 382
Updated templates to enable automatic trim behavior., 15312978, 382, 105, 382
Update ANGLE_platform_angle_d3d to be able to disable automatic trim.  BUG=angleproject:946  Change-Id: I5652495842b057998318b1583f8e1a586eba39aa  Signed-off-by: Cooper Partin <coopp@microsoft.com>, 15312978, 382, 105, 382
Fix EGLQueryContextTest.  BUG=466704  Change-Id: I6d87d6cd155fea347cac50b6cb5d1f9641f23e4a Reviewed-on: https://chromium-review.googlesource.com/259761 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Remove no-op functionality from IdentifyBuiltIns and refactor  Adding array built-ins like gl_FragData and gl_LastFragData to the symbol table with a name that included their size in brackets was incorrect and unnecessary. Remove this. The array built-ins should only be added with their proper name and with an array type.  Also refactor the code to reduce unnecessary repetition of conditions. The previous version attempted to split the built-ins that had dependencies on resources into their own part of the code but this split was not clearly defined and only made the code harder to follow and prone to issues.  TEST=WebGL conformance tests  Change-Id: I7a77865a594864a22f3b566f9d3da1d0ead46466 Reviewed-on: https://chromium-review.googlesource.com/258751 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix formatting of IdentifyBuiltIns  Fix indentation of case labels fix too long lines put braces on their own lines and remove extraneous spacing and comments that didn't contribute to the readability of the code.  TEST=WebGL conformance tests  Change-Id: Ie33d0a7c4412c448081f5d879fa9f64baaf8d537 Reviewed-on: https://chromium-review.googlesource.com/258750 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Compile the D3D11 VS and PS on separate threads at GL link time  Change-Id: Ib534483f2ec3922cfeaf71cf1d9e9c433fe04b08 Reviewed-on: https://chromium-review.googlesource.com/251612 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix WinRT build break due to D3D9 histogram assumption  Change-Id: Id8e8bed76a813e5cf082659671bb6f4a112ecf24 Reviewed-on: https://chromium-review.googlesource.com/254340 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Conditionally enable IEEE strictness for isnan()  ANGLE's ESSL3 built-in function isnan() implementation just uses HLSL intrinsic function isnan(). For HLSL intrinsic function isnan() to work properly IEEE strictness needs to be enabled for D3D compiler.  This change detects use of isnan() in shaders and passes compiler flag D3DCOMPILE_IEEE_STRICTNESS whenever isnan is used in shaders. This change also moves existing workarounds in D3DWorkaroundType to D3DCompilerWorkarounds.  BUG=angle:927 TEST= dEQP tests dEQP-GLES3.functional.shaders.builtin_functions.common.isnan.*  Change-Id: I1ce5b1a7a825fdd720a37dc9aeb71320e55162d9 Reviewed-on: https://chromium-review.googlesource.com/255834 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a D3D11 Debug member var.  This is useful for dumping live objects on exit to debug resource leaks.  Change-Id: Ie88787defa37853d0a33c951b107ceac289e58df Reviewed-on: https://chromium-review.googlesource.com/256461 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move implementation unit tests to angle_unittests.  Now that libANGLE is cross-platform this should work on OSX/Linux and Android. Includes a warning fixes for test comparisons and fix to our META_ASSERT wrapper macro for clang.  BUG=angleproject:773  Change-Id: I6b88a85c62a2e07734ae81fb8276c28c5f8f9f47 Reviewed-on: https://chromium-review.googlesource.com/258300 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix typo "setDepthttachment".  BUG=angleproject:930  Change-Id: I7680bbc912c0d961143c38ad82d19746dc9b113d Reviewed-on: https://chromium-review.googlesource.com/256732 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make getColorAttachmentsForRender D3D-only.  This encapsulates the workaround in the D3D renderer and also optimizes the workaround to only compute a new set of attachments when there is a change to the state.  BUG=angleproject:930  Change-Id: Ibdc15078236e2d19b544fae8e65b7f2554f31844 Reviewed-on: https://chromium-review.googlesource.com/254102 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Cleanups to FramebufferD3D.  With the new shared state structure we can eliminate a lot of the state tracking within the FramebufferD3D implementation.  BUG=angleproject:930  Change-Id: I0953e321bae3afe7cde7b73c55af62546665c890 Reviewed-on: https://chromium-review.googlesource.com/254101 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Share FBO state with object and Impl.  This patch introduces a new Framebuffer::Data class which stores attachment related state. This will eliminate the need to store duplicated state between the classes.  BUG=angleproject:930  Change-Id: I80de4db39ab99d623b0ad8306bf3cbb794cd8bd5 Reviewed-on: https://chromium-review.googlesource.com/254100 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Prefer using caps to system attachment limits.  The caps structure can often give a lower and faster bound as well as being more general. We should gradually move away from the implementation limits.  BUG=angleproject:930  Change-Id: I979472cdb6f59c6f0cc0c80f1c29c51295872bea Reviewed-on: https://chromium-review.googlesource.com/256731 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Initialize fragmentPrecisionHigh in constructor.  This was the only field not initialized by the constructor which looks like an oversight.  Change-Id: If61424d574c663113a4c6d31e94b6ec13b412884 Reviewed-on: https://chromium-review.googlesource.com/257360 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix leaked resources in EGLThreadTest.  We were not calling eglTerminate to clean up.  Change-Id: I022d8158c6dc041664d4b9c01295a67c9760b245 Reviewed-on: https://chromium-review.googlesource.com/256730 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix matrix compound multiplication  Matrix compound multiplication was lacking transposes. Add them so that results match normal multiplication.  BUG=angleproject:938 TEST=dEQP-GLES3.functional.shaders.matrix.mul_assign.*  Change-Id: I4c5159de0727afb4ee2831586f04fa817619de7a Reviewed-on: https://chromium-review.googlesource.com/256366 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Use handles to avoid calling .wait() on async tasks in Windows Store applications, 15312978, 382, 105, 382
Update the Windows Store templates to use a spinning cube, 15312978, 382, 105, 382
Remove unnecessary ifdef APPLE from built-in emulation  The emulation is already toggled by a compilation flag so having it behind an ifdef only adds unnecessary complexity particularly when testing changes to the emulation code.  BUG=angleproject:865  Change-Id: Idf7854c2b5323609880b527ed806440dcc8ac091 Reviewed-on: https://chromium-review.googlesource.com/256365 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Regenerate the projects after the last merge, 15312978, 382, 105, 382
Fix WinRT build break due to D3D9 histogram assumption  Change-Id: Id8e8bed76a813e5cf082659671bb6f4a112ecf24, 15312978, 382, 105, 382
Update templates to use new WARP flag, 15312978, 382, 105, 382
Merge branch 'google/master' into ms-master, 15312978, 382, 105, 382
Compile the D3D11 VS and PS on separate threads at GL link time  Change-Id: Ib534483f2ec3922cfeaf71cf1d9e9c433fe04b08, 15312978, 382, 105, 382
Add angle.isolate.  This will allow us to properly layer the isolate dependencies within Chromium. Now that ui/gl will depend on libGLESv2 on Windows and other platforms to come most everything will need to have the ANGLE libraries bundled.  BUG=436191  Change-Id: Ifa6c87d3b7840bfbbd4830b218b6d3524258fe12 Reviewed-on: https://chromium-review.googlesource.com/254063 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Initialize BuiltInFunctionEmulator outside Compiler  This moves GLSL output specific code from the Compiler class to the GLSL/ESSL translators.  BUG=angleproject:865  Change-Id: I2d552e9cdb41f7d8ddfee7b0249a99d629a6d7d7 Reviewed-on: https://chromium-review.googlesource.com/255471 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix FloatCopySubImage tests for RGB  A test was checking that if we have less than 4 channels and no GL_EXT_texture_rg we would expect an invalid operation.  Now that we don't expose GL_EXT_texture_rg on DX9 this is firing and I believe incorrectly.  I've changed the condition to test for less than 3 channals since RGB -> RGB should work fine without texture_rg support.  Change-Id: I9955b143c37df9762e0ef45c987581fab2bbcef0 Reviewed-on: https://chromium-review.googlesource.com/255933 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix regression in addFunctionCallOrMethod  Fix a crash when parsing a shader with incorrect constructor arguments.  BUG=angleproject:911 TEST=WebGL conformance tests  Change-Id: I3459612f36185db861a361fa916cc6b671795037 Reviewed-on: https://chromium-review.googlesource.com/255870 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Move some output out of BuiltInFunctionEmulator subclasses  This paves the way for getting rid of the BuiltInFunctionEmulator subclasses in favor of initializing the BuiltInFunctionEmulator dynamically in Compiler subclasses. The eventual goal is getting rid of GLSL output specific functionality in Compiler which should be language-agnostic.  BUG=angle:865  Change-Id: Ibb114b905785c7343b2726c97699268c982536a0 Reviewed-on: https://chromium-review.googlesource.com/255470 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactor addFunctionCallOrMethod out of glslang.y  TEST=angle_unittests BUG=angle:911  Change-Id: I6d4c0f0bfbf9e6252e241ae5bb1b6acdb463fce6 Reviewed-on: https://chromium-review.googlesource.com/255451 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement trunc round roundEven (Emulated roundEven)  BUG=angle:934  Change-Id: If33256bf3707f3f0202147276c71f08c65518205 Reviewed-on: https://chromium-review.googlesource.com/254842 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add authors from Nvidia.  Change-Id: I591bcff55796bc4c731143a4ad43669fe9bd6919 Reviewed-on: https://chromium-review.googlesource.com/255690 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove switch fall-through on HLSL  Remove fall-through from non-empty labels in switch statements.  Tested with dEQP-GLES3.functional.shaders.*switch*. All pass except for tests that require dFdx/dFdy which fail for an unrelated reason.  Additional test coverage could still be useful for cases where a label is terminated by a continue or return statement.  BUG=angle:921  Change-Id: I4741867789a9308d66d0adeabdaf83907106e2d2 Reviewed-on: https://chromium-review.googlesource.com/254550 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix derivatives being related to an extension on ESSL3  dFdx dFdy and fwidth are parts of the core language in ESSL3.  This fixes a regression from the patch "Set symbol extension at insertion".  BUG=angle:926  Change-Id: I6c0bbce3afad1f064ff115a16e23ea79bd584e49 Reviewed-on: https://chromium-review.googlesource.com/255450 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Move RendererGL caps generation to renderergl_utils.  Change-Id: Ia385fc9739174472d698367e2c6093ba1963b1fe Reviewed-on: https://chromium-review.googlesource.com/253634 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable textureRG for DX9  DX9 emulates GL_R8_EXT using BGR8.  When we made the switch to using GL_R8_EXT for YUV decoding we decreased performance on DX9 machines. DX9 supports luminance which we fall back to when R8 isn't available.  BUG=438736  Change-Id: Iaa8d0518d481927d66130ea1bf3a95a750c5a761 Reviewed-on: https://chromium-review.googlesource.com/255662 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix tests due to added output arg to Translator.  BUG=angleproject:933 TEST=angle_unittests  Change-Id: I548f1f6ae29760bf4251e5dadeac8a27a4027ceb Reviewed-on: https://chromium-review.googlesource.com/255585 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add an SH_GLSL_CORE_OUTPUT profile.  So we could generate shaders for Apple using core GL profile.  By switching to core profile we still pass most WebGL conformance tests 1.0.2 on Linux but not all so apparently more work is needed.  However I think it's OK to check this CL in because this output profile will be only used behind a chromium switch.  BUG=angleproject:933 TEST=webgl conformance tests  Change-Id: Iad70e1aebf82349d3fc5f4116c1d6bc4448193fd Reviewed-on: https://chromium-review.googlesource.com/255282 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix min built-in function support  One of the recent change that uses generic types to compact the symbol table initialization has introduced a bug in 'min' function implementation just fixing it here.  TEST= dEQP tests: dEQP-GLES3.functional.shaders.operator.common_functions.min.lowp_uvec*  Change-Id: I0e3d386c89bc07c3b656ec5029b8ce57f663cf46 Reviewed-on: https://chromium-review.googlesource.com/255369 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a StateManagerGL method to sync state required for a draw call.  BUG=angle:883  Change-Id: Iabeb25aef2228a1900bd0209422ddce21771c688 Reviewed-on: https://chromium-review.googlesource.com/252802 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement basic functionality in VertexArrayGL.  No support for raw vertex data pointers yet.  BUG=angle:880  Change-Id: Ifa8099b0f49028a1465edecde495ba725ac79598 Reviewed-on: https://chromium-review.googlesource.com/252801 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Set symbol extension at insertion.  BUG=angle:926  Change-Id: I4c96ae89c79d720d99bde803541c3158ba4629ab Reviewed-on: https://chromium-review.googlesource.com/251662 Tested-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add basic support for HLSL output of switch and case  This patch outputs switch and case statements in HLSL but ignores fall-through. Switch statements that include fall-through cause the platform HLSL compiler to generate errors.  BUG=angle:921  Change-Id: I10efbfb45076cf4fd79840698abafd8111e597d4 Reviewed-on: https://chromium-review.googlesource.com/251527 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add GLSL output of switch and case  BUG=angle:921  Change-Id: I0d752440ce6ffdfcc005f1a6123694bdfeb1b067 Reviewed-on: https://chromium-review.googlesource.com/251526 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix an issue with handling an error case inside ValidateSwitch  In case a condition with a wrong type is given to a case statement it generates an error but the compiler recovers. This caused ValidateSwitch to assert. Fix this.  BUG=angle:921  Change-Id: I7949798cab923c2b168817471896470c6c611878 Reviewed-on: https://chromium-review.googlesource.com/254080 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use batch file to generate commit_id.h instead of Python, 15312978, 382, 105, 382
Use per-attribute static buffers to improve performance in some scenarios, 15312978, 382, 105, 382
Fix NULL deref issue in Clear11, 15312978, 382, 105, 382
Fix and reenable MipmapTests in release mode  Change-Id: Ia702abedc261d717c24152cb207ac80393ac864f Reviewed-on: https://chromium-review.googlesource.com/242980 Reviewed-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Set symbol operations at insertion.  BUG=angle:926  Change-Id: Ifc8f62ebe1277214a4d3fbd5c56eb5faeff8e389 Reviewed-on: https://chromium-review.googlesource.com/251650 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Pipe the ProgramBinary functions to the OES implementations.  BUG:462020  Change-Id: Ic567bf3d56d551716f1915a208003a7699abe6e6 Reviewed-on: https://chromium-review.googlesource.com/254300 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update failing WebGL tests list.  Change-Id: Ib141eaebe14a6bf80efa2bcdfec3371ac1a59b09 Reviewed-on: https://chromium-review.googlesource.com/254062 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Temporarily disable OpenGL tests.  Change-Id: I3281b77e9876fc9a336b585af422e790bd73e11f Reviewed-on: https://chromium-review.googlesource.com/254130 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix GL typedef conflicts.  Moved typedefs to the global namespace to avoid future name conflicts.  Change-Id: I70bd47d2516964cd040df48c0b2ca50bc32ba851 Reviewed-on: https://chromium-review.googlesource.com/254090 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Accept mismatching auxiliary interpolations.  The ES3.1 spec and discussion on Khronos.org confirm that dEQP is correct in accepting mismatching centroid specifiers in shader linkage. Mismatching flat/smooth is still a link error.  Fixes: shaders.linkage.varying.rules.differing_interpolation_2  Change-Id: I3016f4147e7c1b16b02371ee95866c8daf826212 Reviewed-on: https://chromium-review.googlesource.com/251205 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add UMA histogram for D3D9 init results.  Similar to D3D11 results this can add statistics for the result of initializing the D3D9 Renderer.  BUG=436191  Change-Id: I746c95a8dbb27456613844fde816e17352dc4b8d Reviewed-on: https://chromium-review.googlesource.com/248660 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add UMA histogram for D3D11 init failures.  This will give ANGLE in Chrome a sense of device init calls fails in D3D11 and why.  BUG=436191  Change-Id: Ia7b1bfa334cec595b6f0265357385d0dcc2d6cbf Reviewed-on: https://chromium-review.googlesource.com/248632 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix shadow samplers with textureProj and vertex shaders.  Fixes: dEQP-GLES3.functional.shaders.texture_functions.textureproj.sampler2dshadow_fragment dEQP-GLES3.functional.shaders.texture_functions.textureproj.sampler2dshadow_bias_fragment dEQP-GLES3.functional.shaders.texture_functions.textureprojoffset.sampler2dshadow_fragment dEQP-GLES3.functional.shaders.texture_functions.textureprojoffset.sampler2dshadow_bias_fragment and some of: dEQP-GLES3.functional.shaders.texture_functions.texture*.sampler2dshadow_vertex  BUG=angle:925  Change-Id: I080e379ded95469f0486ae9c8bb1756842118a2d Reviewed-on: https://chromium-review.googlesource.com/251530 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement basic functionality in BufferGL.  BUG=angle:881  Change-Id: I8d761741d204d26cea1c87eec725bc8ebaaaa584 Reviewed-on: https://chromium-review.googlesource.com/252800 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename StateManagerGL::setProgram to useProgram.  BUG=angle:882  Change-Id: I4046e23bf720690869558fa6a5528d40c4b3bfa3 Reviewed-on: https://chromium-review.googlesource.com/254070 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Temporarily disable WGL debug contexts.  Change-Id: I62f29b8012386cd57181621e0854aa5a8ce534dd Reviewed-on: https://chromium-review.googlesource.com/254061 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add validation for the structure of switch statements  Implement a traverser to check for the following errors: -More than one default or replicated constant expression -No statement between a label and the end of a switch statement -Statements in a switch statement before the first case statement -Mismatch between the type of init-expression and type of a case label -Case or default label nested inside other control flow nested within the corresponding switch  Tested by manually disabling shading language version checks for switch and by manually enabling case statements in a Chromium build and checking that the expected errors are generated.  BUG=angle:921  Change-Id: I99c49c17c8b520849adbe4d8521e46cb10e20e41 Reviewed-on: https://chromium-review.googlesource.com/251524 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add stubs for switch and case output  BUG=angle:921  Change-Id: I58bd645a8d53ef5bad9b680e54c8948d50932fca Reviewed-on: https://chromium-review.googlesource.com/251525 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement basic functionality of ProgramGL.  BUG=angle:882  Change-Id: I1d859197011081729c4c5733b78ac10491fe926c Reviewed-on: https://chromium-review.googlesource.com/251542 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add test for very basic operations to enable as GL functionality is added.  Add OpenGL and OpenGLES platform types for the ANGLE tests.  Comment out some UNIMPLEMENTEDs that tests using OpenGL trigger.  BUG=angle:882  Change-Id: I7f85eed184f7cebd25e2521d793fc9c394b704ce Reviewed-on: https://chromium-review.googlesource.com/252252 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update Display to allow for changing implementation objects.  Previously it was possible to change from a D3D9 to D3D11 display because both were implemented with a DisplayD3D.  Now that there is a DisplayGL the DisplayImpl must be updated while maintaining the same EGLDisplay value.  Allow the value of Display::mImplementation to be updated when the display is not already initialized.  BUG=angle:890  Change-Id: Ic18a8a120218cd130a71b9aa044b6ec00006d6a0 Reviewed-on: https://chromium-review.googlesource.com/252250 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Hide gtest and gmock internal standalone targets.  Don't expose these on the Chromium (non-standalone) build. This fixes some missing file warnings for the msvs-ninja build.  BUG=angle:928 BUG=459058  Change-Id: I8932c31223347358070955b33995a3e973c359b7 Reviewed-on: https://chromium-review.googlesource.com/253001 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: bratell at Opera <bratell@opera.com> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Disable the HLSL code in Angle if it is not being used.  We're only using the HLSL code in Windows so it's not necessary to compile and distribute it on other platforms.  This adds a defined ANGLE_ENABLE_HLSL that can be checked in files that are used by non-HLSL code as well. Mostly the HLSL code is just not include by the build system.  Details of the space savings (heavily truncated)  Total change: -165717 bytes ===========================  -606 - Source: angle/src/common/utilities.cpp  -627 - Source: angle/src/compiler/translator/FlagStd140Structs.cpp  -695 - Source: /usr/include/c++/4.8/bits/stl_algo.h  -710 - Source: angle/src/compiler/translator/TranslatorHLSL.cpp  -713 - Source: angle/src/compiler/translator/IntermNode.h  -863 - Source: /usr/include/c++/4.8/bits/stl_map.h  -935 - Source: angle/src/compiler/translator/blocklayout.cpp  -1515 - Source: angle/src/compiler/translator/BuiltInFunctionEmulator.cpp  -1655 - Source: angle/src/compiler/translator/UnfoldShortCircuit.cpp  -2375 - Source: /usr/include/c++/4.8/bits/vector.tcc  -3135 - Source: angle/src/compiler/translator/RewriteElseBlocks.cpp  -4656 - Source: angle/src/compiler/translator/UtilsHLSL.cpp  -5265 - Source: angle/src/compiler/translator/BuiltInFunctionEmulatorHLSL.cpp  -6505 - Source: /usr/include/c++/4.8/bits/stl_tree.h  -11480 - Source: angle/src/compiler/translator/UniformHLSL.cpp  -13580 - Source: angle/src/compiler/translator/StructureHLSL.cpp  -18964 - Source: ??     (constant strings and a few vtbls)  -89332 - Source: angle/src/compiler/translator/OutputHLSL.cpp  Change-Id: I23ccc98abd0a21f847dd34f9482800b3ba679d56 Reviewed-on: https://chromium-review.googlesource.com/251528 Tested-by: bratell at Opera <bratell@opera.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add basic error checks for switch and case  Check that the case labels have constant scalar integers and that switch statements are initialized with scalar integers. Also check that case and default labels do not exist outside switch statements. Allow break statements inside switch statements.  Tested by manually disabling shading language version checks for switch in a Chromium build and checking that the expected errors are generated.  BUG=angle:921  Change-Id: Ibe83d0db52958c493ded5640d4babf670dc02d55 Reviewed-on: https://chromium-review.googlesource.com/251523 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Implement parsing switch statements  Put in some groundwork for parsing switch statements and case labels in the parser including definitions for IntermNode classes. Intermediate functions for adding the statements are stubbed to only generate errors for now.  Tested by manually disabling shading language version checks for switch in a Chromium build and checking that the expected errors are generated.  BUG=angle:921  Change-Id: I064b3e0c4c1b724a083cf5bc78eebfdd3794eb1b Reviewed-on: https://chromium-review.googlesource.com/250380 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Attempt shader compilation without unroll and flatten with error X4014.  BUG=angle:917  Change-Id: Ie5b9a673f4af7241576cbe73ac96a7fb518af798 Reviewed-on: https://chromium-review.googlesource.com/252986 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Embed rapidjson sources.  This makes integration with Chrome much easier: Chrome won't have to pull sources from github or an internal mirror and it won't duplicate the base json library.  This should also fix warnings about missing headers with building Chromium gyp with the ninja msvs generator.  BUG=459058  Change-Id: Ie97cfde9b848a9099da696e027887bcc07b55e08 Reviewed-on: https://chromium-review.googlesource.com/252073 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor validating jump statements out of glslang.y  Move the logic to ParseContext. This will simplify changing the logic for the break statement that is needed to implement switch.  BUG=angle:921 angle:911 TEST=WebGL conformance tests  Change-Id: Ib8bbc7075c05d345e90377202b5446fb3307f94c Reviewed-on: https://chromium-review.googlesource.com/251522 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix remaining viewport tests on 9_3 with render-to-backbuffer enabled, 15312978, 382, 105, 382
Use generic types to compact the symbol table initialization.  Just like in the spec text use symbolic types that represent multiple concrete types. The few signatures that get generated more than once are only added to the symbol table once because it ignores duplicates.  BUG=angle:926  Change-Id: I216f03d22502b724dbefc87c5a021d6021c3a434 Reviewed-on: https://chromium-review.googlesource.com/251620 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Updated instanced pointsprite emulation to be more resilient to driver differences.  Change-Id: I89e5b5a2d2c0363ae07d5ba918187cb0d7056ac5 Reviewed-on: https://chromium-review.googlesource.com/251680 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a state manager for the currently applied GL state.  BUG=angle:883  Change-Id: Ie69c883c5ee539f911480fdcd9e73c46a3001b33 Reviewed-on: https://chromium-review.googlesource.com/250930 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement ShaderGL.  BUG=angle:882  Change-Id: I1a8c7b551b308c9362e56ce564ebde7d579c05a3 Reviewed-on: https://chromium-review.googlesource.com/251541 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update ANGLE_platform_angle_d3d to use a device type enum instead of WARP bool.  BUG=angle:490  Change-Id: I1555e7f09b23138753e52ddf720d088587f7cadb Reviewed-on: https://chromium-review.googlesource.com/232104 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing Display::getImplementation.  Change-Id: I220ffefcbf9bc988d986e729961c9a893d6b5159 Reviewed-on: https://chromium-review.googlesource.com/251580 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement missing variants of abs/sign  This change adds ANGLE support for abs/sign variants introduced in ESSL3.  BUG=angle:923 TEST=Unit tests dEQP tests  Unit Tests: TypeTrackingTest.BuiltInAbsSignFunctionFloatResultTypeAndPrecision TypeTrackingTest.BuiltInAbsSignFunctionIntResultTypeAndPrecision  dEQP tests passing 100% because of this change: dEQP-GLES3.functional.shaders.builtin_functions.common.abs dEQP-GLES3.functional.shaders.builtin_functions.common.sign  Change-Id: I2a3b028611f0eaaac3c031f8926d34a0e146663d Reviewed-on: https://chromium-review.googlesource.com/251491 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Disable warning 4251 for ShaderVars.h.  Exporting STL classes from a DLL produces a warning on MSVS. This warning would only show up for component builds.  Change-Id: I1bd9b820a45c04f92b0278d7018507d6a2bc7936 Reviewed-on: https://chromium-review.googlesource.com/251704 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable some more MSVS compiler warnings.  Also add comments explaining why the one that are still around are still around.  Change-Id: Id8ce1fa3fe2a3bc97a179018737cc8d027b1068a Reviewed-on: https://chromium-review.googlesource.com/250878 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nico Weber <thakis@chromium.org> Commit-Queue: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Implement CompilerGL.  BUG=angle:882  Change-Id: I6fd426b19677b51f4df74d495acc9a6fde9822e8 Reviewed-on: https://chromium-review.googlesource.com/251540 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make Angle code 40 KB smaller by using string literals directly.  The implicit conversion of hundreds of string literals to TString generated a lot of machine code. By keeping them as string literals all the way the code will be smaller and faster.  This is the change with clang for x64 (note VisitUnary in particular): Total change: -41392 bytes ==========================   2 added totalling +469 bytes across 1 sources   2 removed totalling -472 bytes across 1 sources   5 shrunk for a net change of -41389 bytes (54126 bytes before 12737 bytes after) across 1 sources   279692 unchanged totalling 51433327 bytes  ------------------------------------------------------------------------------------------------------------------------------------  -41392 - Source: /home/bratell/src/chromium/src/third_party/angle/src/compiler/translator/OutputHLSL.cpp - (gained 469 lost 41861) ------------------------------------------------------------------------------------------------------------------------------------   New symbols:        +328: sh::OutputHLSL::outputConstructor(Visit TType const& char const* TVector<TIntermNode*> const*) type=t size=328 bytes        +141: sh::OutputHLSL::outputTriplet(Visit char const* char const* char const*) type=t size=141 bytes   Removed symbols:        -133: sh::OutputHLSL::outputTriplet(Visit std::basic_string<char std::char_traits<char> pool_allocator<char> > const& std::basic_string<char std::char_traits<char> pool_allocator<char> > const& std::basic_string<char std::char_traits<char> pool_allocator<char> > const&) type=t size=133 bytes        -339: sh::OutputHLSL::outputConstructor(Visit TType const& std::basic_string<char std::char_traits<char> pool_allocator<char> > const& TVector<TIntermNode*> const*) type=t size=339 bytes   Shrunk symbols:        -388: sh::OutputHLSL::writeEmulatedFunctionTriplet(Visit char const*) type=t (was 628 bytes now 240 bytes)        -714: sh::OutputHLSL::visitBranch(Visit TIntermBranch*) type=t (was 1017 bytes now 303 bytes)       -9738: sh::OutputHLSL::visitAggregate(Visit TIntermAggregate*) type=t (was 17609 bytes now 7871 bytes)      -14132: sh::OutputHLSL::visitBinary(Visit TIntermBinary*) type=t (was 17627 bytes now 3495 bytes)      -16417: sh::OutputHLSL::visitUnary(Visit TIntermUnary*) type=t (was 17245 bytes now 828 bytes)  Change-Id: Id0f87d72f6d7f1ab7b543f0d28d5a8b7c7db9ec7 Reviewed-on: https://chromium-review.googlesource.com/251090 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: bratell at Opera <bratell@opera.com>, 15312978, 382, 105, 382
Load all core WGL functions.  BUG=angle:879  Change-Id: If204156e69480cd7e1e7c43db8496dd150ac9e15 Reviewed-on: https://chromium-review.googlesource.com/251241 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Expose FunctionsWGL::getProcAddress.  Change-Id: I263f00e67eb3243c661de8f949933ea56e34d4b5 Reviewed-on: https://chromium-review.googlesource.com/251220 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable MSVS warning 4512.  Fix up the missing DISALLOW_COPY_AND_ASSIGN macros and various small problems preventing us from turning on this warning. This should ensure we more often use the DISALLOW macro going forward.  Change-Id: I2e1a9d23a31a51279a577fad8dffb8c1530e2ee8 Reviewed-on: https://chromium-review.googlesource.com/251100 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Cooper Partin <coopp@microsoft.com> Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Implement missing variants of abs/sign"  This for some reason is failing angle_unittests:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28NVIDIA%29/builds/13296  Happens across platforms.  This reverts commit 3e142e47cc5b40564bcdba4252fd326bc28ca343.  Change-Id: Ideb20457546c0dec10c9584182cc8d5ead42309d Reviewed-on: https://chromium-review.googlesource.com/251160 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement the copy from a 3D texture to Image11.  Fixes the generation of 3D texture mipmaps.  BUG=angle:915  Change-Id: Icc0c91099f60713d511ebe1a2248a21b63efddaa Reviewed-on: https://chromium-review.googlesource.com/244720 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com>, 15312978, 382, 105, 382
Implement ESSL3 modf  This is the first built-in function that has an out parameter so l-value checks are added for built-ins.  BUG=angle:918  Change-Id: Ifd5befe955224f706f864e25107879c9cdce9e9f Reviewed-on: https://chromium-review.googlesource.com/250780 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix GetShaderPrecisionFormat to return correct values on DX11  The integer precision is different on DirectX 9 and 11 backends. DirectX 11 guarantees native 32-bit integers.  BUG=angle:919  Change-Id: I7619e66f8aaa1177c32b6da185fe805ce8a19b71 Reviewed-on: https://chromium-review.googlesource.com/250280 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Implement missing variants of abs/sign  This change adds ANGLE support for abs/sign variants introduced in ESSL3.  BUG=angle:923 TEST=dEQP tests Tests passing 100% because of this change: dEQP-GLES3.functional.shaders.builtin_functions.common.abs dEQP-GLES3.functional.shaders.builtin_functions.common.sign  Change-Id: If22032be2c1ed08451275262e311ef5ac613d45e Reviewed-on: https://chromium-review.googlesource.com/251060 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable MSVS warning 4530.  This forces us to not use exceptions when they aren't enabled.  Change-Id: I6abaf08ca4c275bd2fa0625905fd1de3448237ce Reviewed-on: https://chromium-review.googlesource.com/250901 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Revert "Re-resubmit "Compile the D3D11 VS and PS on separate threads at GL link time""  Fails clang-win again. Apparently Clang mimics MSVS.  This reverts commit af1bdff62ec4cc80b47fbac7e5d973f6f7225036.  Change-Id: I48a503889a9e905fcdc9f101dbf98f7cb7912279 Reviewed-on: https://chromium-review.googlesource.com/250882 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add ANGLE platform implementation template.  The platform implementation allows the app layer to pass in an object on which ANGLE can call virtual methods. Our current platform will handle trace events for app profiling and histogram records for statistics. The platform approach gives a much more robust approach than using entry points for every piece of functionality and is based on the interop with Blink.  The default platform implementation does a no-op on every call. The destructor is also private to ensure we do not call the destructor of the passed-in class.  BUG=436191  Change-Id: I05641b89a48a9cff81ced059518fceb5aa6c883b Reviewed-on: https://chromium-review.googlesource.com/248631 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix loaded GL entry points using the wrong call type.  BUG=angle:879  Change-Id: Ida65d67d2935480dfe584026d37fb68cd2ab39d6 Reviewed-on: https://chromium-review.googlesource.com/250823 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix constant folding integer modulus  Constant folding % used to generate results from division instead of results from modulus. Fix this and introduce a test for this and other integer constant folding that checks that the right constant values are found in the IntermNode tree.  BUG=angle:916 TEST=angle_unittests  Change-Id: I75e59b7734eb206378a1b2957af0a5437a90097c Reviewed-on: https://chromium-review.googlesource.com/249691 Reviewed-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Implement isnan/isinf  This change adds ANGLE support for isnan/isinf.  BUG=angle:922 TEST=dEQP tests: dEQP-GLES3.functional.shaders.builtin_functions.common.isnan.* (high precision tests still fail) Tests passing 100% because of this change: dEQP-GLES3.functional.shaders.builtin_functions.common.isinf.* Reduced number of errors in tests: EQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.isnan.* dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.isinf_*  Change-Id: I52bf18b59365ea7031746ae840550162d7e6b96e Reviewed-on: https://chromium-review.googlesource.com/250761 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Implement missing vector relational functions  This change adds ANGLE support for following vector relational function variants introduced in GLES3: bvec lessThan(uvec x uvec y) bvec lessThanEqual(uvec x uvec y) bvec greaterThan(uvec x uvec y) bvec greaterThanEqual(uvec x uvec y) bvec equal(uvec x uvec y) bvec notEqual(uvec x uvec y)  BUG=angle:920 TEST=dEQP tests Reduced number of errors in tests: dEQP-GLES3.functional.shaders.constant_expressions.builtin_functions.vector_relational.*  Change-Id: Id45ce77b35f39403e587a577622271d8e9815225 Reviewed-on: https://chromium-review.googlesource.com/250377 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Expose the IntermNode tree generated in the compiler for testing  This refactoring makes it possible for tests to access the IntermNode tree produced by compilation by calling compileTree(). Removing ParseContext usage from OutputHLSL has the additional benefit of better separation between parsing and output.  BUG=angle:916  Change-Id: Ib40954832316328772a5c1dcbbe6b46b238e4e65 Reviewed-on: https://chromium-review.googlesource.com/249723 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Do not use std::set::at in Config.cpp.  This is C++11 STL.  BUG=459399  Change-Id: I2e994e6b47535bcb38c193db2aaecc304e388772 Reviewed-on: https://chromium-review.googlesource.com/250581 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
D3D11: Use system memory for dynamic buffer updates.  In our current code we would use a staging texture as the working copy for buffer updates. This would trigger very large memcpy calls in some cases for large buffers with small updates. Instead use a CPU memory buffer storage and work with this storage when the user updates data. This plays much nicer with the VertexDataManager.  BUG=angle:912  Change-Id: I8c32d3d9bb321a06534556ce05b4b99dc3d1e961 Reviewed-on: https://chromium-review.googlesource.com/249183 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Re-resubmit "Compile the D3D11 VS and PS on separate threads at GL link time"  The latest version of this change disables multithreaded D3D shader compilation with any C++ compiler other than VC (e.g. Clang).  Change-Id: If3ef5fd650055ae66397ea2c9121bfcf1792892a Reviewed-on: https://chromium-review.googlesource.com/250328 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a FunctionsGL class for loading GL entry points.  BUG=angle:879  Change-Id: I35384f078d2ed86a6c72cc243753b56bc58617b0 Reviewed-on: https://chromium-review.googlesource.com/250390 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
D3D: Re-init static buffer after invalidate.  This allows the Buffer class to always know if it's intended to use static data vs dynamic. In some cases we would end up with NULL pointers and not know if we started with static or dynamic usage.  BUG=angle:912  Change-Id: I79ca62674543e0cf4b2ba9b31b6d8918723b31ce Reviewed-on: https://chromium-review.googlesource.com/249460 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Generalize NativeBuffer11::setData.  We can replace this method with a base class method which uses our implementation of "map". This allows us to reuse setData in other mappable buffer storage types.  BUG=angle:912  Change-Id: I7848cb9440b806364d9b2a6e2251323e53206921 Reviewed-on: https://chromium-review.googlesource.com/249182 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Resubmit "Compile the D3D11 VS and PS on separate threads at GL link time""  Causes errors in Clang-Win. We can fix the error and then resubmit but need to do a roll now.  This reverts commit 310184861bab5e95139e0f34b1f8e88fe8c677b8.  Change-Id: I1c91b0a97031df33c2261089f6b54ccd3270306b Reviewed-on: https://chromium-review.googlesource.com/250430 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement missing variants of min max and clamp  BUG=angle:914  TEST=dEQP tests Tests passing 100% because of this change:   dEQP-GLES3.functional.shaders.operator.common_functions.min.*   dEQP-GLES3.functional.shaders.operator.common_functions.max.*   dEQP-GLES3.functional.shaders.operator.common_functions.clamp.* Reduced number of errors in tests:   EQP-GLES3.functional.shaders.constant_expressions.builtin_functions.common.*   These tests are not yet passing because of constant expressions   bug (angle bug:913)  Change-Id: Ibccee47ed78e994e40a0effe9afa9cf9692492b0 Reviewed-on: https://chromium-review.googlesource.com/250330 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed variable shadowing warnings  Change-Id: I7cf9e09f4003991e44195bedfe58891288541f81 Reviewed-on: https://chromium-review.googlesource.com/249432 Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make Buffer11.cpp build with clang.  Change-Id: If72bc38dbb484e56a0a26c3aa7ac38bbc319653a Reviewed-on: https://chromium-review.googlesource.com/249921 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Separate integer and float modulus  Integer and float modulus are separated into Mod and IMod operator types to make the code clearer and to make GetOperatorString return the correct value for both.  Change-Id: Ibfbca2c558bf919b0eab6404d7349f87fe47a18c Reviewed-on: https://chromium-review.googlesource.com/249692 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Enable the OpenGL/WGL backend on Windows.  BUG=angle:890  Change-Id: Ida58ecb9f3bcfd7ee9ae5c7cdbdff4aab9cca869 Reviewed-on: https://chromium-review.googlesource.com/249741 Reviewed-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add the OpenGL renderer to the GN build.  BUG=angle:890  Change-Id: I097296c7125e203ba04eab1c179dc8c183ed4789 Reviewed-on: https://chromium-review.googlesource.com/249842 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed compressed texture support reporting for feature level 9_3  Change-Id: If6e27db912711532e184a3a716728a19653c0471 Reviewed-on: https://chromium-review.googlesource.com/249550 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the dependency on OpenGL32.lib by loading all WGL functions.  BUG=angle:879  Change-Id: I1a10a86b710cb0c76be1907136345bcac078da4d Reviewed-on: https://chromium-review.googlesource.com/249740 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Buffer11 staging buffer revision update.  This bug could trigger a potential extra copy when drawing with a pack buffer (or possibly packing vertex/index data).  BUG=angle:912  Change-Id: Ifead6524322aac5bc0be79a05f4db08c8f5a3225 Reviewed-on: https://chromium-review.googlesource.com/249181 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a basic WGL implementation.  BUG=angle:890  Change-Id: I5202086990b4f4fbf455fd73c3e29e5e3e1f6160 Reviewed-on: https://chromium-review.googlesource.com/240092 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Win32 template after latest merge, 15312978, 382, 105, 382
Add addBinaryMath and addUnaryMath helpers to ParseContext  This refactoring reduces code duplication and moves functionality that is not immediately related to the language grammar out of glslang.y.  BUG=angle:911  Change-Id: If5e225461890ed542dee01905829df1c9a6f5e27 Reviewed-on: https://chromium-review.googlesource.com/248570 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed tests to initialize with render-to-backbuffer properly enabled, 15312978, 382, 105, 382
Disable warning 4530 in the libANGLE GN project  Change-Id: I56b5428f40a294248305dff168b9b0bb7b0a9bcc Reviewed-on: https://chromium-review.googlesource.com/249240 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up the style in Buffer11.cpp.  Fix indentation and simplify the naming scheme for the storage. Also add some missing DISALLOW_COPY_AND_ASSIGN macros.  BUG=angle:912  Change-Id: I7ac36d8185ce926999501358cec222154d9a3492 Reviewed-on: https://chromium-review.googlesource.com/249180 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move operator definitions to their own file  This generalizes GetOperatorString so that it can be used outside ValidateLimitations.  BUG=angle:911  Change-Id: I43a160b3d7d60388ad529a72f1720d3171f67315 Reviewed-on: https://chromium-review.googlesource.com/249073 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Reenable missing viewport tests, 15312978, 382, 105, 382
Merged 'google/master' into ms-master, 15312978, 382, 105, 382
Update WebGL failures list.  Change-Id: I5cf9e873ddcb293f121a11bd620ce97ee718c049 Reviewed-on: https://chromium-review.googlesource.com/247760 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add GL and WGL renderer stubs.  BUG=angle:890  Change-Id: I64f2a72b4a350f95acc2ca7080fea1a308422ca4 Reviewed-on: https://chromium-review.googlesource.com/242573 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Store mShareHandle in SurfaceD3D.  The type of the share handle depends on the implementation.  BUG=angle:658  Change-Id: Id801f3d0c1e3def7cae5cbd88e7a7032b2f6d8fa Reviewed-on: https://chromium-review.googlesource.com/242050 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move surface size information out of SurfaceImpl.  Some implementations need to query size information directly from their native window instead of listening for size events and storing the result.  Also move mSwapInterval to SurfaceD3D since it doesn't need to be stored in all cases and there is no query for it.  It no longer requires that the SurfaceImpl's derivation remembers to set mSwapInterval in setSwapInterval too.  BUG=angle:658  Change-Id: I499c1b8b842254636fc25ff5f2a90107af8fe327 Reviewed-on: https://chromium-review.googlesource.com/242039 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split up the Display::create*Surface and have them match the API.  BUG=angle:658  Change-Id: Id0054406a5ce6f6ffef28ce84737547c1869efde Reviewed-on: https://chromium-review.googlesource.com/242038 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix HLSL varying struct linking.  We would always expand a struct name to always include its symbol ID. This fixes the workaround to only affect scoped structs. We can leave global structs which are by definition uniquely named without decorating them with a symbol ID.  This fixes several tests in dEQP's shader.linkage.varying.struct.  Re-land with GLSL translator bug fixed.  BUG=angle:910  Change-Id: I23a932bd1dadea5e9aafabde697e6a2af9a43f2b Reviewed-on: https://chromium-review.googlesource.com/249134 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix UNREACHABLE being hit in Renderer9::applyTransformFeedbackBuffers.  Since applyTransformFeedbackBuffers is called even if transform feedback is not active now remove the UNREACHABLE.  Change-Id: Ibc43cb715f8035437986d1eaa94faf4036581d8f Reviewed-on: https://chromium-review.googlesource.com/249121 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Allow varying structs to match between stages."  This patch has a bug which breaks the GLSL to GLSL translator.  See broken GPU FYI bot builds on the Chromium waterfall:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28NVIDIA%29/builds/13074  This reverts commit 489ffc4d69656c2dbfdbe07e3fa6e38baeb3e072.  Change-Id: I8241c6d658f4f31af91b89af1141d3d778ff7c70 Reviewed-on: https://chromium-review.googlesource.com/249131 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Unbind unused stream out from the D3D11 pipeline to avoid conflicts.  Also allow points drawing without gl_PointSize if transform feedback is active.  Change-Id: I172d423e847b35b94ebaea102dd97b695575c828 Reviewed-on: https://chromium-review.googlesource.com/246100 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use correct non-square register count in structs.  For struct varyings with nested structs we would count registers incorrectly and produce D3D link errors.  This fixes tests in the dEQP's shaders.linkage.varying.struct.  BUG=angle:910  Change-Id: I47ea6dba36bf57cf94a7e7f30997c6c9096c2b40 Reviewed-on: https://chromium-review.googlesource.com/247243 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Allow varying structs to match between stages.  We would always expand a struct name to always include its symbol ID. This workaround fixed scoped structs with the same name. It would also block any possiblity of linking the structs successfully.  Instead we can use the workaround only on inner-scoped structs and leave global structs which are by definition uniquely named as they are.  This fixes several tests in dEQP's shader.linkage.varying.struct.  BUG=angle:910  Change-Id: I81b8dadc7ea493152aff0c44d607114eaaabb142 Reviewed-on: https://chromium-review.googlesource.com/247242 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix struct uniform packing.  Our current code would not adapt properly for members that did not fit in the previous register. Instead use the correct adjusted value as returned from the block layout encoder.  This fixes a dEQP WebGL test: gles2/shaders/linkage.  BUG=angle:910  Change-Id: Id77d0c76ce767665b3db97cb4d14e8008254fd9f Reviewed-on: https://chromium-review.googlesource.com/247241 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement equality ops for nested structs.  This fixes the WebGL test glsl_misc_struct_equals as well as several dEQP tests in functional.shaders.struct.  BUG=391957 BUG=angle:910  Change-Id: I09f3cd3f51bbc3541b64dbcfddfe01884ddba6f5 Reviewed-on: https://chromium-review.googlesource.com/247083 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Return egl::Error from Renderer::initialize.  This extra Error info can be useful for passing back additional info. In the short-term this means we can implement a UMA histogram at some point with a code that represents a more specific reason why the init failed.  BUG=436191  Change-Id: If5e099a9ce32e87843754cd4f40d726dd5bad4b8 Reviewed-on: https://chromium-review.googlesource.com/246564 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Cache sampler completeness in the Texture class.  BUG=angle:909  Change-Id: I14e06e01d111e9d5eec415f4c2d831b61dcb1e3d Reviewed-on: https://chromium-review.googlesource.com/248070 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add Display getters for native display and attribs.  This simplifies the logic in the Renderer init.  BUG=angle:905  Change-Id: I01bf3701dd85f50e369e2c11e0e2a7cb638ccf00 Reviewed-on: https://chromium-review.googlesource.com/247650 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reduce the calls to get[Width|Height|InternalFormat] in Texture.cpp.  BUG=angle:909  Change-Id: I8a66c1d317bcb7a01d79f9475390deb292e1ae2e Reviewed-on: https://chromium-review.googlesource.com/248052 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Store the texture image information in a std::vector instead of a std::map.  BUG=angle:909  Change-Id: Ib595306f6cf0633b16bff6389373c2bb2cc29ec9 Reviewed-on: https://chromium-review.googlesource.com/248051 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement eglQueryContext  BUG=angle:895  Change-Id: I5e709f772d6222cdb7b5d7c060830a75eac9f815 Reviewed-on: https://chromium-review.googlesource.com/246490 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix cstdint include in MemoryBuffer.h.  This syntax isn't compatible with OSX.  Change-Id: I3ec2bc856843637c4e1e7afb96a93ff6ea8296da Reviewed-on: https://chromium-review.googlesource.com/247660 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move rx::MemoryBuffer to common library.  This class is not D3D-specific so can be shared among other back-ends or other parts of the ANGLE codebase.  Change-Id: Ie00760eb5dae4db52e465ee7a2f97789bae8c0b0 Reviewed-on: https://chromium-review.googlesource.com/246500 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a script to generate a new Renderer.  Also refactor our current Impl headers slightly to facilitate parsing by the generation script.  BUG=angle:905  Change-Id: Ib86cff71d18e7f911cf526b27b8a82757bacd738 Reviewed-on: https://chromium-review.googlesource.com/245497 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Catch errors in TextureStorage creation in TextureD3D::getNativeTexture.  BUG=450257  Change-Id: Iba75d9f0607177fff0bec7fcd2564a8d2e26da8e Reviewed-on: https://chromium-review.googlesource.com/243882 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only request PostSubBuffer support when the extension is available.  BUG=angle:658  Change-Id: I6828290ef89c57e8c794f0fca6e5991c492b67aa Reviewed-on: https://chromium-review.googlesource.com/242572 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move eglCreatePbuffer* validation into validationEGL.  BUG=angle:658  Change-Id: I25d1be1ef86f82892186b08c9a8ff0133d520ac6 Reviewed-on: https://chromium-review.googlesource.com/242037 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move eglCreateWindowSurface validation into validationEGL.  BUG=angle:658  Change-Id: Iaa7e6033fb323c1089907c9ed753746729887061 Reviewed-on: https://chromium-review.googlesource.com/242036 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move eglCreateContext validation into validationEGL.  BUG=angle:658  Change-Id: Ibdf601725536edf40c0499aba0402fb160b2c841 Reviewed-on: https://chromium-review.googlesource.com/242035 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add EGL validation helper files and move some validation to them.  BUG=angle:658  Change-Id: Id560268a280f2fa7d75a7d0727dac830fe8de9f1 Reviewed-on: https://chromium-review.googlesource.com/242034 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a makeCurrent method to Display.  BUG=angle:658  Change-Id: If1830fb164d31e2ee8092414d012e127ec344d69 Reviewed-on: https://chromium-review.googlesource.com/242033 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implementing gl_InstanceID in the HLSL compiler.  Fixes: dEQP-GLES3.functional.instanced.draw_arrays_instanced.instance_id dEQP-GLES3.functional.instanced.draw_arrays_instanced.mixed dEQP-GLES3.functional.instanced.draw_elements_instanced.instance_id dEQP-GLES3.functional.instanced.draw_elements_instanced.mixed  BUG=angle:601  Change-Id: I6e120eebc90d00e025fc58f096064e6ed1da826b Reviewed-on: https://chromium-review.googlesource.com/246911 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Updated branch name and added link to https://github.com/MSOpenTech/angle-win8.0, 15312978, 382, 105, 382
Merged 'google/master' into ms-master, 15312978, 382, 105, 382
Revert "Track bound render targets in D3D9 with uintptr_t and dirty them with -1."  Failures on the Chromium GPU FYI bots: http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28Intel%29/builds/8695  This reverts commit 358c8a95aeb3fd01218bc4116e999f4cd0c3fdc1.  Change-Id: I01d674929280364e097e4f65b06d7c3b1f928e92 Reviewed-on: https://chromium-review.googlesource.com/247091 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix instanced point sprites when gl_PointSize is specified but not used  Change-Id: I2350fa60cae55f02d7b484c34544c035acaba6ad Reviewed-on: https://chromium-review.googlesource.com/245703 Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Track bound render targets in D3D9 with uintptr_t and dirty them with -1.  BUG=447419  Change-Id: Ia77e3b00db0f327eb278285de14cd438c5cf538b Reviewed-on: https://chromium-review.googlesource.com/244664 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Track bound render targets in D3D11 with uintptr_t and dirty them with -1.  BUG=447419 BUG=452587  Change-Id: Ic36ebf108eca93e1239cc9c2a0d6479c84e93ace Reviewed-on: https://chromium-review.googlesource.com/244663 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move Renderer::getMajorShaderModel to RendererD3D.  BUG=angle:658  Change-Id: Ibf67a96ec9c0e8d6adc4f9c839da1e06058dc32f Reviewed-on: https://chromium-review.googlesource.com/239904 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove swap interval queries from Renderer.  BUG=angle:658  Change-Id: I7cd9cf3693c06c46ec6a4054e8fe1586f399273c Reviewed-on: https://chromium-review.googlesource.com/239903 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Require 8 stencil bits in the BlitFramebufferANGLETest.  The test can fail if it uses a config where the default framebuffer does not have a stencil buffer.  BUG=angle:658  Change-Id: I82eaf5b508182514439e69469e77591e1aceaf66 Reviewed-on: https://chromium-review.googlesource.com/246461 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Generate the full EGL configs in the Renderers.  Specify the default framebuffer formats in GL formats but still use BGRA and ANGLEX formats for now.  BUG=angle:658  Change-Id: I7192db4ca76ab4b0b42daa43785a7ddd9528a9ca Reviewed-on: https://chromium-review.googlesource.com/239902 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Adds new robust initialization extensions.  Change-Id: I66d2ebbb0ce89bbfd1eda648e9ad0fb2edee0f31 Reviewed-on: https://chromium-review.googlesource.com/239286 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Implement ReadBuffer functionality.  This enables ReadPixels from non-0 FBO attachments.  Tested with: dEQP-GLES3.functional.negative_api.buffer.read_buffer  (fails due to a possible error in dEQP) dEQP-GLES3.functional.shaders.fragdata.draw_buffers  (passes)  BUG=angle:903  Change-Id: Ib095e1d50b8fbbc6f197de25f19ec0993309145a Reviewed-on: https://chromium-review.googlesource.com/244841 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add stubs for primitive restart caps.  Allow dEQP to reset this particular state variable while still throwing an UNIMPLEMENTED error if we try to render with primitive restart enabled.  BUG=angle:901  Change-Id: I1ab46ff4d8bff2775225b083f08d156b9422b9c5 Reviewed-on: https://chromium-review.googlesource.com/244840 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update failing WebGL expectations.  Change-Id: I0bde5c4e896aded773d2b9de7343883264625f52 Reviewed-on: https://chromium-review.googlesource.com/245807 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Change Config to a struct and rename it's members.  BUG=angle:658  Change-Id: I18dab915730fc28815db8080b3614da821f9c8b1 Reviewed-on: https://chromium-review.googlesource.com/239901 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rewrite ConfigSet and make EGLConfig synonymous with egl::Config.  BUG=angle:658  Change-Id: I3c33faf18af0bfda00dc5babe6356d6c8661f032 Reviewed-on: https://chromium-review.googlesource.com/238862 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Have the DisplayImpl create the Renderer and Contexts.  BUG=angle:658  Change-Id: I726d87b90be8382c5dd8964e4d8686711e404ffe Reviewed-on: https://chromium-review.googlesource.com/238861 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix conversion to bool warning.  BUG=453543  Change-Id: I287cc3b6e86df71eb3dfa3c82316ae56950913b3 Reviewed-on: https://chromium-review.googlesource.com/245833 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Extension behavior is now reset between each shader translation unit.  The extension behavior was being shared between translation units this was causing states to be cached between shader compilers. This has been fixed now by adding a new ResetExtensionBehavior() function.  A unit test has also been added for testing extensions when compiling shaders. A test has been included which tests that the internal state of the extension behavior is being reset properly.  BUG=453543 Change-Id: Icb2a07019b5db972dc75cdbbdece4b7e9757c682 Reviewed-on: https://chromium-review.googlesource.com/245522 Tested-by: David Yen <dyen@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add testfixturetypes.h to util.gyp  Change-Id: I562bdca2c5c693155333a0ce168310be05b37531 Reviewed-on: https://chromium-review.googlesource.com/245741 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Add multithreaded create device flag in D3D9.  This fixes a crash when we try to load a program executable in the worker thread in the multi-threaded shader compilation. This fixes the angle_end2end_tests.  BUG=angle:900  Change-Id: Id4494864c7121630c43c2fe64a92674326eabc69 Reviewed-on: https://chromium-review.googlesource.com/245681 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add testfixturetypes.h to gyp, 15312978, 382, 105, 382
Fix DrawBuffersTest on D3D11 9_3, 15312978, 382, 105, 382
Merge branch 'google/master' into ms-master, 15312978, 382, 105, 382
Add UNPACK_ROW_LENGTH support to D3D11 renderer  Change-Id: I31ccffddcb04a45f19d3c3eb9a396c30e794b218 Reviewed-on: https://chromium-review.googlesource.com/243951 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Minmin Gong <mgong@microsoft.com>, 15312978, 382, 105, 382
Regenerate the projects after the last merge, 15312978, 382, 105, 382
Add some missing disallow macros.  DISALLOW_COPY_AND_ASSIGN was missing from CompilerImpl FramebufferImpl and DefaultAttachmentImpl.  BUG=angle:904  Change-Id: I2e57078cd5b40baf6962f19869c2f3b67ad6dc6e Reviewed-on: https://chromium-review.googlesource.com/245514 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add generic Impl casting helper methods.  GetAs and GetImplAs are template helpers that can replace all of our custom "makeTextureD3D" etc methods. This will help save code across different back-ends.  Change-Id: Ib3215c005bfac5a819c5d8f7d60a73a725241332 Reviewed-on: https://chromium-review.googlesource.com/245390 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add Python requirement to the README, 15312978, 382, 105, 382
Merge branch 'google/master' into ms-master, 15312978, 382, 105, 382
Resubmit "Compile the D3D11 VS and PS on separate threads at GL link time"  The original change caused a Chromium build break due to "__uncaught_exception" not being defined in concrt.h. This is because Chromium defines "_HAS_EXCEPTIONS=0" in its GYP but ANGLE doesn't do this.  This change defines "_HAS_EXCEPTIONS=0" in ANGLE's GYP to match Chromium and refines it in ProgramD3D.cpp before including <future>.  Change-Id: Ic324702569bac8f4ae1381f308c4f3f11f190f9e Reviewed-on: https://chromium-review.googlesource.com/244860 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix indentation in entry_points_gles_3_0.cpp.  Change-Id: Iba3d8d51f5fb04958c5f917d56dbc01df70da041 Reviewed-on: https://chromium-review.googlesource.com/245323 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix the calculation of the D3D stream output offset in the D3D11 backend  Also add an extra check in BindBufferBase/Range that XFB is not active.  BUG=angle:898  Change-Id: I0d61ebaa0674b0a375cc35efa614b021a6901eac Reviewed-on: https://chromium-review.googlesource.com/243892 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix instanced point sprites when gl_PointSize is specified but not used, 15312978, 382, 105, 382
Fix ANGLETest::getPlatformRenderer.  Was mistakenly returning a boolean instead of EGLint.  BUG=angle:850  Change-Id: I07f0995d66783f62124d37f5ea8e595f516cc84f Reviewed-on: https://chromium-review.googlesource.com/244844 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fix parity bug in egl::Error::createMessageString.  The check should be "==" instead of "!=". This gave a crash any time we would generate an Error with a message.  Change-Id: I7c5d57e30053591b4713d8c829e89fd1c0703da0 Reviewed-on: https://chromium-review.googlesource.com/244820 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix parity bug in Error::createMessageString.  The check should be "==" instead of "!=". This gave a crash any time we would generate an Error with a message.  Change-Id: I9217e6237ee8a2d3a4d6caa799b8508edbf4e774 Reviewed-on: https://chromium-review.googlesource.com/244754 Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix 2D tex array buffer unpacking.  In some cases when an unpack buffer is enabled we would use the incorrect layer offset because we would think the pixel pointer was NULL. Use a new parameter instead of the double "null" meaning to fix this.  This fixes several tests in the dEQP texture specification group. (EG: dEQP-GLES3.functional.texture.specification.teximage3d_pbo)  BUG=angle:899  Change-Id: If96bba6987a04653301efc348d32de372a237aa1 Reviewed-on: https://chromium-review.googlesource.com/244092 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Compile the D3D11 VS and PS on separate threads at GL link time"  Failing compile on Chromium bots:  FAILED: ninja -t msvc -e environment.x86 -- C:\b\build\goma/gomacc "C:\b\depot_tools\win_toolchain\vs2013_files\VC\bin\amd64_x86\cl.exe" /nologo /showIncludes /FC @obj\third_party\angle\src\libANGLE\renderer\d3d\libANGLE.ProgramD3D.obj.rsp /c ..\..\third_party\angle\src\libANGLE\renderer\d3d\ProgramD3D.cpp /Foobj\third_party\angle\src\libANGLE\renderer\d3d\libANGLE.ProgramD3D.obj /Fdobj\third_party\angle\src\libANGLE.cc.pdb  c:\b\depot_tools\win_toolchain\vs2013_files\vc\include\concrt.h(4774) : error C3861: '__uncaught_exception': identifier not found ninja: build stopped: subcommand failed.   This reverts commit 6d51f2629a8118f7afd450ea832c93143a84c330.  Change-Id: Iebb2843dfbc3795290fbb33e1a111ddad59c3126 Reviewed-on: https://chromium-review.googlesource.com/244792 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Compile the D3D11 VS and PS on separate threads at GL link time  BUG=angle:900  Change-Id: Iad5dbbcc676e2a2b6dfc3d7bc6ab5957154de33e Reviewed-on: https://chromium-review.googlesource.com/240490 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Skip failing Texture tests on Intel D3D11.  There are currently some failures on the Chromium GPU FYI bots. The failing machine is using an Intel HD 3000 and the group of failing tests are the TextureTest.CopySubImageFloat_* group. I'm unable to repro these failures but disable the tests until we can fix them.  Also clean up our method of determining Renderer properties in ANGLETest.  BUG=angle:850  Change-Id: I444b9d3497ea635fbd8957ac243b16c822c19d06 Reviewed-on: https://chromium-review.googlesource.com/244781 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Complete EGL 1.5 entry point stubs.  We were missing the entries in the def file and we were missing two new entry point functions from the new header. This fixes linking against dEQP.  BUG=angle:901  Change-Id: I56d35bb6e8f3bd9e26943eaec196034605e154fc Reviewed-on: https://chromium-review.googlesource.com/244444 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update egl.h from khronos source.  Our header was out-of-date with some EGL 1.5 Image-related stuff. This fixes the new dEQP compile which relies on the entry points being defined.  BUG=angle:901  Change-Id: Ic6ecf45c9e626e4b8e5f715f5301a9fbba295f3e Reviewed-on: https://chromium-review.googlesource.com/244443 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added required casts to fix 64-bit compilation errors  Change-Id: I5ec9090e0129c778de8fcdc6cf70ea0fe460a19d Reviewed-on: https://chromium-review.googlesource.com/244510 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix WebGL test failure after render-to-backbuffer change, 15312978, 382, 105, 382
Allow 32-bit float formats in ES2 CopyTexSubImage.  These corner case formats can come about from using floating point textures and trying to copy between them. There currently isn't a good alternative in WebGL 1 for copies.  BUG=angle:850  Change-Id: I3dc29e42b5ec7dcf071185bc09c6b3e9e3cb3207 Reviewed-on: https://chromium-review.googlesource.com/241048 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update the texture storage after generateMipmaps and setStorage.  Also adds a few assert in SetData and various places to ensure that images are not dirty before modifying the storage.  BUG=angle:873  Change-Id: I7cc922b33da0d79a1b5aefe216e9ccfaaf86a306 Reviewed-on: https://chromium-review.googlesource.com/241880 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com>, 15312978, 382, 105, 382
Merged google/master' into ms-master, 15312978, 382, 105, 382
Update texture size information on egl[Bind|Release]TexImage.  BUG=450257  Change-Id: I7609131d78f255bf9f79b42f39b02303a5c14b60 Reviewed-on: https://chromium-review.googlesource.com/243915 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix TextureStorage11::setData for 3D textures.  Currently this method doesn't handle partial offsets. Fixes dEQP tests in the texture specification group.  BUG=angle:899  Change-Id: I20160e49a46957b4f6cf96f529ab4ea7ddf7b343 Reviewed-on: https://chromium-review.googlesource.com/244091 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Defer dependent HLSL global var inits.  Some global initializers depend on other globals for instance a varying or attribute value. Since we use a static proxy variable for these varyings we need to initialize the global static after we initialize the proxy in the shader preamble. This fixes a long- standing compiler bug.  We should also add a WebGL test for this.  BUG=angle:878  Change-Id: I71db103a6b8c24fb862e0d8b32293da9bc2e8103 Reviewed-on: https://chromium-review.googlesource.com/243581 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix 'getDepth' in Texture::isLevelComplete.  Was mistakenly inserted as getWidth in 691e58cd84360f.  BUG=angle:681  Change-Id: Ibccf056dcb47c8711422efb8bd40fb6f64ff57d9 Reviewed-on: https://chromium-review.googlesource.com/244090 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed OpenGL ES Samples.  Added missing useRenderToBackBuffer default initialization., 15312978, 382, 105, 382
Avoid double copy of d3dcompiler_47.dll  ninja expects the output of an action to update the timestamp however a plain copy does not do this. So on a second run ninja sees the timestamp of the copy .bat is newer than the dll (original publish date) so it re-copies. To avoid this `touch` the dll on copy.  BUG=453037 Change-Id: Icb849d2b0faaceeccfc33e2eda509c835c9cdc93 Reviewed-on: https://chromium-review.googlesource.com/244040 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Scott Graham <scottmg@chromium.org>, 15312978, 382, 105, 382
Fix checks for base and max level in Texture.  The dEQP unpack buffer tests were failing because they use a max and base level of zero with mipmapping enabled. Update our sampler completeness checks to account for min and max level.  We'll have to dig in to our code to find corner cases in D3D with base and max level.  Change-Id: I74357c6dc2e1908d0463d2e5cbc8ee91b61a3b7f Reviewed-on: https://chromium-review.googlesource.com/240763 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add Minmin to CONTRIBUTORS.  Change-Id: I15598e42fa708861c0803acd6df4aa0b9d423ab5 Reviewed-on: https://chromium-review.googlesource.com/243950 Tested-by: Minmin Gong <mgong@microsoft.com> Reviewed-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Use a stack for OutputHLSL info log output.  Previously we would always reference mBody in several intermediate output methods. This made using these traversals from within the header or for utility methods very difficult. Instead use a stack where we write to the top InfoLog and can push/pop from the stack. This gives us more flexibility.  BUG=angle:878  Change-Id: I8a6c0382bad18b44d75158274c701db13d4d4e65 Reviewed-on: https://chromium-review.googlesource.com/243580 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Update WebGL expected failures.  A new test 'sampler-struct-function-arg' fails with ToT WebGL.  Change-Id: Ie62208364ceacd4b980cb16f5de31cc4b5c62fa1 Reviewed-on: https://chromium-review.googlesource.com/243594 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use JSON as startup parameters to BufferSubData test.  BUG=angle:744  Change-Id: I60287f3c612011f505f1bc20632efc4dd17001d3 Reviewed-on: https://chromium-review.googlesource.com/221375 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Resize buffer storage on getLatestBufferStorage if needed.  BUG=angle:897  Change-Id: I3d6079b718bb5dd61cbd3098694204aae9bbc932 Reviewed-on: https://chromium-review.googlesource.com/243152 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com>, 15312978, 382, 105, 382
Fix lots of variable shadowing in ANGLE  BUG=angle:877  Change-Id: I3df0fffb19f5ecbe439fbc2a8d6d239a5dc6b638 Reviewed-on: https://chromium-review.googlesource.com/243334 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Avoid precision emulation overhead on unused values  Avoid rounding intermediate values when the intermediate value is not consumed. For example this avoids rounding the return value of assignment so "b = a;" becomes "b = frm(a);" instead of "frm(b = frm(a))".  BUG=angle:874 TEST=compiler_tests  Change-Id: Ifcdb53fb1d07a2cf24e429cc237c2d0262dc32f8 Reviewed-on: https://chromium-review.googlesource.com/241852 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Regenerate the Windows Store projects after merge, 15312978, 382, 105, 382
Merge branch 'google/master' into future-dev, 15312978, 382, 105, 382
Move the templates into an 8.1 folder and restructure directory layout, 15312978, 382, 105, 382
Update READMEs with new project locations, 15312978, 382, 105, 382
Reimplement render-to-backbuffer after merge, 15312978, 382, 105, 382
Reimplement most functionality from the old future-dev, 15312978, 382, 105, 382
Generate egl configs from the DisplayImpl.  Still do the actual generation in the Renderer9/11 for now but route it through the DisplayImpl.  BUG=angle:658  Change-Id: Ib976fbd1b9e349146dc068bbdd4e6a3d2a5ddc69 Reviewed-on: https://chromium-review.googlesource.com/238860 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Check for EGL extension existance during validation.  BUG=angle:658  Change-Id: I078d7f9ab4ab42bd7d3cd3865572ead8ed1f0b29 Reviewed-on: https://chromium-review.googlesource.com/234763 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move display extension initialization to DisplayImpl.  BUG=angle:658  Change-Id: I44d95fad4e1be5cc76f443d724defd37da4a268f Reviewed-on: https://chromium-review.googlesource.com/234762 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix lots of variable shadowing in ANGLE"  Caused WebGL CTS failures on the texture-npot test: https://www.khronos.org/registry/webgl/sdk/tests/conformance/textures/texture-npot.html  This reverts commit c67e6e9fade44ef8938724e82db11db725e9c8e5.  Change-Id: I089e99859231e0d657084ac3647257c650a9da92 Reviewed-on: https://chromium-review.googlesource.com/243041 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix lots of variable shadowing in ANGLE  BUG=angle:877  Change-Id: I15168ae32605b26aee08274464ffe68adb5a7e87 Reviewed-on: https://chromium-review.googlesource.com/242351 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Disable MipMapTests on all renderers.  Change-Id: Ic229ced16f667882521536db5bd483c76b24d600 Reviewed-on: https://chromium-review.googlesource.com/242905 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable Windows Phone 8.1 project generation  Change-Id: Iab44f6d634bdcd01348aa49de28b96c3b6086df7 Reviewed-on: https://chromium-review.googlesource.com/241945 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Disable the MipMapTests on D3D11 FL 9.3.  Change-Id: Ibcb72f7b1aabcd98c4bebd91c3a57f5ba57eac3a Reviewed-on: https://chromium-review.googlesource.com/242850 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge branch 'google/master' into future-dev, 15312978, 382, 105, 382
Improve D3D11 FL9_3 zero-LOD workaround (e.g. TextureCubes)  D3D11 Feature Level 9_3 can't disable mipmaps on a mipmapped texture and sample from level zero of it. A previous commit added a workaround for this in ANGLE to Texture2Ds. This commit fixes some minor issues in that commit and extends the workaround to apply to TextureCubes too.  Change-Id: Ic97321af6f8bbf7ad5d96e58655c342db3978a6a Reviewed-on: https://chromium-review.googlesource.com/241944 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support for 3D texture transfers with a non-null z offset.  Also fixes the unpack buffer offset which must be in pixel instead of bytes in the shader parameter.  BUG=angle:508  Change-Id: I908460a76c300d96054a02206e1f2e3ad2b8e9d0 Reviewed-on: https://chromium-review.googlesource.com/241440 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com>, 15312978, 382, 105, 382
Use a special flag to mark D3D11 shaders as dirty instead of NULL.  Also remove mCurPointGeometryShader and instead pass the program to drawArrays.  BUG=angle:872  Change-Id: If55517e81d9234705eabcc0e5be7b5b492858e08 Reviewed-on: https://chromium-review.googlesource.com/241421 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Removed Samples and Tests project generation from Windows Store builds.  Change-Id: Ic9a9f498888dba0c1986faa309f78bc71711c751 Reviewed-on: https://chromium-review.googlesource.com/241943 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Create a formatutilsD3D and move some functions from formatutils.  BUG=angle:681  Change-Id: I694073c50dccd05c3117761e446eba0d15c03293 Reviewed-on: https://chromium-review.googlesource.com/238480 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable HugeSetDataShouldNotCrash test.  This test flakes out on some Chromium bot configurations. It could be that we need to redesign it to use mocks or something similar to test reliably.  Change-Id: Ib323940d52db052e18d2352e45e029bbb1b64af0 Reviewed-on: https://chromium-review.googlesource.com/242023 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reduce D3D9 error spam in renderer9 utils.  CheckDeviceFormat with a depth stencil format gives a spurious error when called with a non-depth-stencil format. We can check the number of format bits before we call to reduce the error spam.  Change-Id: Ia2a6e6d756c84e13effe298240f33c8c83379267 Reviewed-on: https://chromium-review.googlesource.com/242030 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update readme to state VS2013 Update 4 requirement, 15312978, 382, 105, 382
Added PointSprites Support for renderers that do not support Geometry Shaders  Change-Id: Iae9ac5f8fbba68dba5e49ccda7bb7eebb05c8e9a Reviewed-on: https://chromium-review.googlesource.com/240450 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for bitwise operations in ESSL3  Add support for << >> & | ^ and their compound assignment variants <<= >>= &= |= ^=. Also add support for bitwise not (~).  BUG=angle:870  Change-Id: I5e6a835409589556d5d58d58078fdf505cfd8da5 Reviewed-on: https://chromium-review.googlesource.com/241850 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only call std::string constructor in gl::Error when necessary  std::string's constructor is very expensive in debug builds. In some applications we have seen it use 10% of the CPU. This change makes (e)gl::Error store a pointer to an std::string and only create a string when necessary.  Change-Id: I78bfbda86568944681517fe32df9d1556e4ebee7 Reviewed-on: https://chromium-review.googlesource.com/240495 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add basic support for ESSL3 vec2 (un)pack functions  The functions are emulated on HLSL and use the native functions on OpenGL 4.2+ and GLES3.0. Emulation for OpenGL versions <= 4.1 is not yet implemented.  BUG=angle:865  Change-Id: I6803a1767dacdb3dca12f13924651fd38fcacb75 Reviewed-on: https://chromium-review.googlesource.com/240961 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add rapidjson library to DEPS.  RapidJSON gives us the ability to use JSON in our performance tests to specific the input. The license is very permissive and according to the author the performance is excellent.  Chromium's JSON library unfortunately seems quite tied to the "base" project.  BUG=angle:744  Change-Id: I64e72aad1ed6fa954acd851607032cb48a461348 Reviewed-on: https://chromium-review.googlesource.com/221374 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move imageformats to the d3d folder.  BUG=angle:681  Change-Id: I83f0e5aaca4aaa84e5868afcde4f27eba011d5f1 Reviewed-on: https://chromium-review.googlesource.com/238479 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move loadimage to the d3d folder.  BUG=angle:681  Change-Id: Id901d9ae66207ac5e7d2844b8cd1f6a58c4492f6 Reviewed-on: https://chromium-review.googlesource.com/238478 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move GenerateMip to the D3D folder.  BUG=angle:681  Change-Id: Icdffe7eb8f975ee0966e9fb241835ac541eb39f0 Reviewed-on: https://chromium-review.googlesource.com/238477 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move copyvertex to the d3d11 folder.  BUG=angle:681  Change-Id: Id37ed1ca617f1d2b6c1bd4a86fc8fcd28b933e8f Reviewed-on: https://chromium-review.googlesource.com/238476 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move copyimage to the D3D folder.  BUG=angle:681  Change-Id: I2ce237281cc75fdae11b5ddb4eca52058c395e7a Reviewed-on: https://chromium-review.googlesource.com/238475 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move vertexconversion.h to the d3d9 folder.  BUG=angle:681  Change-Id: I87ef6856040978a9a6045d1df20fe3117def35a3 Reviewed-on: https://chromium-review.googlesource.com/238474 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename ShaderExecutable to ShaderExecutableD3D and move it to the D3D folder.  BUG=angle:681  Change-Id: I097d6591be4e873c9a6f210cc91e3f4eb60f036b Reviewed-on: https://chromium-review.googlesource.com/238473 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename SwapChain to SwapChainD3D and move it to the D3D folder.  BUG=angle:681  Change-Id: Idcf24556e590e07cc0b6cf640d4701353a0cda5e Reviewed-on: https://chromium-review.googlesource.com/238472 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename RenderTarget to RenderTargetD3D and move it into the d3d folder.  BUG=angle:681  Change-Id: I1946e01ce09d99405c318723c254fe300cc5ac53 Reviewed-on: https://chromium-review.googlesource.com/238471 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge the Image class into ImageD3D.  BUG=angle:681  Change-Id: I0c0d41fb3ff9592b08ede58a8c2ec2bd2d94a0b2 Reviewed-on: https://chromium-review.googlesource.com/238470 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use the ImageIndex class for indexing the Texture size information.  BUG=angle:681  Change-Id: I0c8d1c04ca8eefb9b618ee6635c0643d162c0cc1 Reviewed-on: https://chromium-review.googlesource.com/240241 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement matrix inverse built-in  Inverse is emulated in HLSL by calculating the cofactor matrix and dividing that with the determinant. This results in the transpose of the inverse as is required. Better performing options might exist especially for 4x4 matrices but this is enough for a working implementation.  BUG=angle:859  Change-Id: I5185797cc1ed86865f5f4342707abdc2977a186b Reviewed-on: https://chromium-review.googlesource.com/240331 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix issues related to modulus operator  Make sure that "scalar %= vector" is not approved by the compiler and that % and %= are only exposed on GLES3.  BUG=angle:854  Change-Id: I3ac7eb607bd86a6caa905d2bef5d397688ad3fd3 Reviewed-on: https://chromium-review.googlesource.com/241410 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixing EVENT message of gl::RenderbufferStorage.  Change-Id: Iaf151d7521e67e8fe8bca331dabdf44d72e77ca1 Reviewed-on: https://chromium-review.googlesource.com/241420 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
MipmapTestES3's SetUp() doesn't conform to standards  Change-Id: I57dba132cd08bb1b3db2cda2fe0c31b97746e1a4 Reviewed-on: https://chromium-review.googlesource.com/241380 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Fix WinRT build break. angle_common needs the WinRT flags.  Change-Id: I409527becc9d8d2d91766a4cc5a24f96fd2b7505 Reviewed-on: https://chromium-review.googlesource.com/241070 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Fix off-by-one max mip levels in getSRV.  We would try to create SRVs with zero mip levels when we should be asking for a single mip level. This would happen when the base level is equal to the max level. See the dEQP test:  texture.mipmap.2d.max_level.linear_nearest  Change-Id: I3f231f159dbdecbf7c2e61b373bfc3545875f36e Reviewed-on: https://chromium-review.googlesource.com/240762 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix pixel unpack buffers for some formats.  The renderability test got flipped in 6cf8e1b906ebfc.  See dEQP test: texture.specification.teximage2d_pbo.rgba8_snorm_2d  Note: this test still fails due to a bug in isMipmapComplete which has a fix in a subsequent patch.  Change-Id: Ied8ad7712bbb844132b6ac37426716780c9801c9 Reviewed-on: https://chromium-review.googlesource.com/240761 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable MipmapTest::ThreeLevelsInitData test due to failure on D3D11  Change-Id: I5d1ee78fceb91c05f3925e753888b10cc81ec2b8 Reviewed-on: https://chromium-review.googlesource.com/241080 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove usage of std::copy_n from the entry points.  This method is c++11 only and caused a build breakage on Mac.  BUG=angle:773  Change-Id: Ib362b8d577aa85b9d6d2b8b87840ec5197240cf2 Reviewed-on: https://chromium-review.googlesource.com/241010 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Work around zero-LOD mipmap issue on D3D11 Feature Level 9_3  In OpenGL ES it is possible to sample from level 0 of a mipmapped texture by setting GL_TEXTURE_MIN_FILTER to GL_NEAREST.  This is possible in D3D9 and D3D11 Feature Level 10_0+ via various methods. It's not possible in D3D11 Feature Level 9_3 though. This change works around this restriction by creating two copies of each texture on 9_3. The textures are identical except one has mipmaps and one doesn't.  The D3D11 renderer figures out which texture to use at the right time and keeps the textures in sync with each other as necessary. Note: each texture is only created when it's needed. It's possible that only one (or even neither) D3D texture will be created for a given GL texture.  Change-Id: I3c17137b4f63b9158b3abf067ad8e5d5c49d2191 Reviewed-on: https://chromium-review.googlesource.com/234522 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reduce calls to ID3D11DeviceContext::Map() in VertexBuffer11.cpp  This change moves VertexBuffer11::storeVertexAttributes()'s call to Map() outside a for-loop eliminating unnecessary calls to Map(). Since Map() is a relatively expensive operation (even when using NO_OVERWRITE) this change gives a noticeable performance boost in some scenarios.  Change-Id: I320111b32f2bb9eed92efbd240206e12aaa9964e Reviewed-on: https://chromium-review.googlesource.com/240181 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Merge all gl::Texture* classes.  The validation for sampler completeness had a lot of duplicated code. The special cases have been merged into the base class by checking mTarget.  BUG=angle:681  Change-Id: I11d94c1432f8fc70a1edaaf8228bbc43c3c8fff3 Reviewed-on: https://chromium-review.googlesource.com/236932 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Linux build and update BUILD.gn.  Re-re-land with fixes for Linux and Android.  We were getting multiply defined symbol errors on Linux for some stuff in the common sources. Switch to using a static lib target for the common sources and also sync BUILD.gn with the latest gyp.  BUG=angle:773  Change-Id: Ia2d52978a167c532e5e76cb711de589855eff44e Reviewed-on: https://chromium-review.googlesource.com/240553 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use emmintrin.h for SSE includes.  This header should work on all available platforms instead of the platform-specific intrin.h or x86intrin.h.  BUG=angle:773  Change-Id: Ia012053064838f9893aa647d872e136a47cfad1a Reviewed-on: https://chromium-review.googlesource.com/240552 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed WinRT ARM build break.  ARM cannot use SSE.  Change-Id: I9a55d37db148f82b255e2c7ff414e79259e2c4e1 Reviewed-on: https://chromium-review.googlesource.com/240476 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Split the flush and finish commands into separate methods.  Improves the readability of the implementations and more closely mirrors the GL commands.  Change-Id: Ifa7bc55751d50271eb01fd87e4efdc69f00c2c48 Reviewed-on: https://chromium-review.googlesource.com/239845 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move egl texture binding to the base texture class.  It's still only valid to bind a 2D texture but the validation layer verifies that.  BUG=angle:681  Change-Id: I744dc32f9bd0f69b1e1235b8feef7e796167d033 Reviewed-on: https://chromium-review.googlesource.com/236931 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove references to the Image class from gl::Texture and rx::TextureImpl.  BUG=angle:681  Change-Id: I83659f47cbe9f22ff5ad0cf54471544bd14775aa Reviewed-on: https://chromium-review.googlesource.com/236690 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor Texture to track image information for size and format queries.  BUG=angle:681  Change-Id: Ifb3f52d6348e4479181e66f1c39578f49e9dcf76 Reviewed-on: https://chromium-review.googlesource.com/235613 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add Gregoire to CONTRIBUTORS.  Change-Id: I3e2a1f627de891c13964501f78314f84794cbded Reviewed-on: https://chromium-review.googlesource.com/240422 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Clean up BuiltInFunctionEmulator public interface  This removes all language-specific bits from BuiltInFunctionEmulator parent class and makes the public interface of BuiltInFunctionEmulator minimal.  Writing comments around emulated function definitions is removed from OutputHLSL they are not necessary as the emulated function definitions are just another part of the shader header.  Change-Id: I9abf57d86f4e37b0674d7dfafe653298f205dd27 Reviewed-on: https://chromium-review.googlesource.com/240230 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Implement simple ESSL3 matrix functions  Add support for built-in functions outerProduct determinant transpose and the variations of matrixCompMult that were previously unsupported.  BUG=angle:859  Change-Id: Ie2b9cf83cd80c5a886c6d4eb190c7ce25a32d0a4 Reviewed-on: https://chromium-review.googlesource.com/239873 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Use BuiltInFunctionEmulatorHLSL for all emulated functions  Implementation of missing built-in functions is a separate concern from outputting the intermediate tree itself as HLSL so it makes sense to have all of the built-in emulation in a class that is separate from OutputHLSL. Being able to reuse the same logic for different emulated functions also makes the code more compact.  Change-Id: Id503dc3a5c5e743ec65722add56d6ba216a03a7f Reviewed-on: https://chromium-review.googlesource.com/239872 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix null check after addUnaryMath is called for a built-in function  The intermTypedNode pointer null check should be done before the pointer is used not after. In practice the pointer should never be null if IntermUnary::promote() is consistent with the built-in function table but it's useful to have the null check as a fail-safe when developing.  Change-Id: I24e0d7399ef9d628f474e99fbca08dbd67fdd8c3 Reviewed-on: https://chromium-review.googlesource.com/240411 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Fix Linux build and update BUILD.gn."  Still more build failures different ones this time.  This reverts commit 9f8a57c6419f64965fd97fcc0df8e138677febaf.  Change-Id: I7bea8e24403d92ca4ecb2ee0f24f9e065db5366d Reviewed-on: https://chromium-review.googlesource.com/240550 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix Linux build and update BUILD.gn.  Re-land with fixes for Android.  We were getting multiply defined symbol errors on Linux for some stuff in the common sources. Switch to using a static lib target for the common sources and also sync BUILD.gn with the latest gyp.  BUG=angle:773  Change-Id: Id3edecc633b1c4be205558137c91baf87f256156 Reviewed-on: https://chromium-review.googlesource.com/240145 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move the block layout code to translator.  This code is easily accessible from the translator with the proper export calls. This facilitates adding a common static library since this code calls some methods in translator.  BUG=angle:773  Change-Id: I0c50098ec3f67c2df7749b3c2518be0a9fd939e2 Reviewed-on: https://chromium-review.googlesource.com/240093 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement support for ES 3.0 instanced arrays  BUG=angle:863  Change-Id: I3918c478b33b26b2b179a7f8dd6e4210ecb0cf5c Reviewed-on: https://chromium-review.googlesource.com/239170 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add more options to translator sample  Adds precision emulation and WebGL 2 and GLES3 specs as options. The example command line is also fixed.  Change-Id: Ia45eca1815724a63b26662ee0cadecf9dfea51f9 Reviewed-on: https://chromium-review.googlesource.com/236793 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Refactor defining emulated functions in BuiltInFunctionEmulator  This removes the fixed enumeration of emulated functions in favor of a dynamic map. This makes the code more compact and flexible. The main benefit is that maintaining the list emulated functions is a lot simpler now.  Change-Id: Ic9951a496b9f021c76ad5b4c3daccd89af5ac093 Reviewed-on: https://chromium-review.googlesource.com/239871 Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Don't use SSE functions on Android.  These methods are unavailable on ARM platforms.  Also fix a sequencing bug that caused us to incorrectly define the Android platform as Linux.  BUG=angle:773  Change-Id: Id2b47acdd5b574c618ac86641a1a8238fbb4a2c3 Reviewed-on: https://chromium-review.googlesource.com/240095 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't use std::is_fundamental on Android.  This method is unavailable due to being c++11.  BUG=angle:773  Change-Id: I995e03c26b5d3103fab963d8fb1eddc5050cf5b5 Reviewed-on: https://chromium-review.googlesource.com/240096 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Avoid using std::map::at.  This c++11 method call is unavailable on Android.  BUG=angle:773  Change-Id: I08064c3f18e387a2ed2496a3fb2912486546843f Reviewed-on: https://chromium-review.googlesource.com/240094 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Adds microbenchmark for resizing vs. creating new textures  Change-Id: I21a20250492b6b19181386890afd5e1a911ee055 Reviewed-on: https://chromium-review.googlesource.com/240091 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Adds a sample to demonstrate TRIANGLE_FAN vs TRIANGLES performance.  Change-Id: Ic8f3d3e66904638cfdeab71aa6c19188f2a1b286 Reviewed-on: https://chromium-review.googlesource.com/238520 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Allow zero output variable ES3 shaders.  We were assuming at least one variable when some shaders could legitimately use zero. This was causing assertions in the dEQP shader.function tests.  BUG=angle:855  Change-Id: I7e4aa52a1c6ba98d4a396f4c642816ff95115fd5 Reviewed-on: https://chromium-review.googlesource.com/240144 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Implement hyperbolic function support for ESSL 3.00  Emulating arc hyperbolic functions is required on HLSL where they do not exist natively. For this BuiltInFunctionEmulator is split into GLSL and HLSL subclasses. The GLSL subclass handles the pre-existing built-in emulation implemented for working around OSX bugs and the HLSL subclass handles emulating asinh acosh and atanh on HLSL.  BUG=angle:855  Change-Id: I0dfeffb862ac27ba7f9ecf5492ec31d9d952b273 Reviewed-on: https://chromium-review.googlesource.com/236861 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix "start" vertex being applied for instanced buffers.  In GLES the start vertex only applies to non-instanced vertex attributes.  BUG=angle:864 BUG=447140  Change-Id: Idd2afbfbd4c2e76e06b2704cc002fae26b353109 Reviewed-on: https://chromium-review.googlesource.com/239843 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update WebGL expecations.  Change-Id: Ic318a929f43a48f0e957add5fab4bc3362be47b0 Reviewed-on: https://chromium-review.googlesource.com/239954 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Fix Linux build and update BUILD.gn."  This reverts commit ed409f938b4fd8db89d8551d2bf7fc6a6b9ad9b7.  Change-Id: I208a2c43c73e99ae95988c6d81ed64691bd8a99f Reviewed-on: https://chromium-review.googlesource.com/239900 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix signed/unsigned missmatch on 32-bit builds.  BUG=angle:681  Change-Id: I6144359acd1611a13b0a582d3a31019138bb941c Reviewed-on: https://chromium-review.googlesource.com/239844 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Linux build and update BUILD.gn.  We were getting multiply defined symbol errors on Linux for some stuff in the common sources. Switch to using a static lib target for the common sources and also sync BUILD.gn with the latest gyp.  BUG=angle:773  Change-Id: I212284cfa90cd117a784a5f17057f47dd08900d1 Reviewed-on: https://chromium-review.googlesource.com/239193 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge the Texture set*Image methods and use objects for sizes and offsets.  BUG=angle:681  Change-Id: If2e981c522ca5ba3eab4484594cb41aa23800ec4 Reviewed-on: https://chromium-review.googlesource.com/236261 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use typed tests for the gles conformance tests.  BUG=angle:497  Change-Id: I396411cc7c07047ef2fab70605de39287aaea879 Reviewed-on: https://chromium-review.googlesource.com/239515 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed WinRT compilation to use non static C runtime because of Windows Store requirements.  Change-Id: I310e4909aaa94c90eecd610e6c7cbbde3c19b777 Reviewed-on: https://chromium-review.googlesource.com/238532 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed failed compilation for WinRT to use  OutputDebugStringA for non wide strings.  Change-Id: If012660d4b895399fe5e3226dea25a8c7f78c8ac Reviewed-on: https://chromium-review.googlesource.com/239504 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add EGL extensions structs.  BUG=angle:658  Change-Id: Iffb26caf16416313abc114ba779e6311f2c00848 Reviewed-on: https://chromium-review.googlesource.com/234760 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement float-integer conversions for ESSL 3.00  The implementation uses asint asuint and asfloat in the HLSL output.  BUG=angle:865  Change-Id: I6b48298e18c7b3b0bdeac522b375ebc4eab7cf4e Reviewed-on: https://chromium-review.googlesource.com/239520 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Fix multisample framebuffer validation ASSERT  Change-Id: I1b02ed7209f30549c17f46aeb3726ba1254df3ea Reviewed-on: https://chromium-review.googlesource.com/239270 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable some extensions on D3D11 Feature Level 9_3 which aren't supported  BUG=angle:858  Change-Id: Ib2b2b2b54ba25654ea80b5cb1c59b74ed0379b68 Reviewed-on: https://chromium-review.googlesource.com/239271 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable shared texture support on D3D11 FL9_3  BUG=angle:858  Change-Id: I0fe3baf811d561584f7d24f6da665c6934e32b2a Reviewed-on: https://chromium-review.googlesource.com/239272 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove an unused mRenderer member from Program and initialize TF members.  BUG=angle:731  Change-Id: Ie11c80ce1f3a8c3d08145dfb4a075ac0e022ae38 Reviewed-on: https://chromium-review.googlesource.com/239218 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a test for rendering to cube map faces.  BUG=angle:849  Change-Id: I9986e45256da6f4cdbd375dad95037464fbcf299 Reviewed-on: https://chromium-review.googlesource.com/239219 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Print ERR() errors to the debug output on Windows.  We can switch this on for Debug only. This will help developers catch bugs more easily and will only show up for internal errors and major performance caveats. Currently it's far too easy to miss these messages - it requires manually modifying debug.h looking at a text file and potentially also running Chromium with an special flag.  BUG=angle:663  Change-Id: I75b3bd05fbc75d21607b9957134db8e8990c77b1 Reviewed-on: https://chromium-review.googlesource.com/239191 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Allow the special format BGR5_A1 in CopyTexImage.  We use this format as a backbuffer texture for the EGL surface in some configs. Thus the app needs to be able to use it since they don't know when they are secretly using BGRA instead of RGBA similar to our existing logic which allows BGRA in CopyTexImage.  BUG=angle:811  Change-Id: I3748d38b3b085aa4ccaae67ce88711b13eb2c98e Reviewed-on: https://chromium-review.googlesource.com/239192 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use gl::Data as a parameter to Texture::isSamplerComplete.  BUG=angle:861  Change-Id: I3fadf954e6d28dd82e361ceac4ba1967dbd7e8bf Reviewed-on: https://chromium-review.googlesource.com/235612 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove all uses of "actual" formats.  BUG=angle:861  Change-Id: I7cd2d1a56772fdf18bcf926456399322d13e7a4f Reviewed-on: https://chromium-review.googlesource.com/236305 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing test files to angle_end2end_tests_sources.  Change-Id: I97217f4b4f42d9b9811185706587e2eb55270888 Reviewed-on: https://chromium-review.googlesource.com/239226 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix missing "!" in cube map render target serial check.  BUG=angle:849  Change-Id: I9e4cb31bdc82a1c556908571355387a9698c7528 Reviewed-on: https://chromium-review.googlesource.com/239230 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed invalid IsWindow( ) call for WinRT Windows Store applications.  Change-Id: Ic5f2aca0100a842be193cec9e89872187742f2c6 Reviewed-on: https://chromium-review.googlesource.com/238821 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Avoid using std::unordered_map on OSX.  This c++11 standard library class isn't available on Chromium/OSX. For now we can replace it with std::map.  BUG=angle:773  Change-Id: I0b8ab0de5192a23408755d03df2b9f738f28d762 Reviewed-on: https://chromium-review.googlesource.com/238445 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove "mDeviceLost" member from Renderer9 and Renderer11  These classes has base RendererD3D which already have "mDeviceLost". This can lead to errors because this variable is used in the methods from RendererD3D and his derived classes  Change-Id: Ie0814bd1fd604a2f26693a705d127345ba8f77b5 Reviewed-on: https://chromium-review.googlesource.com/239171 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Unwritten shader output variables should not crash.  BUG=angle:862  Change-Id: I8e7fa9b0d00bb1b2a32a8d60d8ceda998cea8e8c Reviewed-on: https://chromium-review.googlesource.com/239160 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update template README to state VS Update 4 requirement, 15312978, 382, 105, 382
Fix assertion in D3D11 Feature Level 9_3 instancing implementation  BUG=angle:858  Change-Id: I6197d0f86536cb4613aa1aeb2d73a8173b4e4631 Reviewed-on: https://chromium-review.googlesource.com/238530 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use correct SSE header on OSX.  This fixes the compile errors in loadImageSSE2.cpp.  BUG=angle:773  This reverts commit a93192369eb448e932bcdd1e08ae791aacfbe0c4.  Change-Id: I31bc419cd3930ae129903b935f49a3c9b27fc887 Reviewed-on: https://chromium-review.googlesource.com/238448 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a cross-platform rotl implementation.  The _rotl method is unavailable on any platform but Windows so we can implement the method ourselves.  BUG=angle:773  Change-Id: I1342f4cf8a996daf11a36553c3bf7a01a2b182b3 Reviewed-on: https://chromium-review.googlesource.com/238500 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Ensure all source files end in a newline.  This fixes compile errors on OSX.  BUG=angle:773  Change-Id: I11ce9fd470a54b08656a62afc50586e5d2f987d8 Reviewed-on: https://chromium-review.googlesource.com/238446 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move getData from the D3D to the Impl.  We will need this functionality for index validation so we likely can assume an implemenation will need to support such a call. We might redesign this requirement but for now we can't call though to BufferD3D on OSX.  BUG=angle:773  Change-Id: I16187c78ff62471fdf7221a11b9956560e617a14 Reviewed-on: https://chromium-review.googlesource.com/238450 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix standalone OSX build.  We were missing one warning diable flag for bison compatiblity and were missing the appropriate flag to enable c++11 support.  BUG=angle:773  Change-Id: I717ead6e1726920a6c28559503cb98e94dc29c16 Reviewed-on: https://chromium-review.googlesource.com/238449 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't call std::is_fundamental on OSX.  We can't use this method on OSX due to missing c++11 STL support. Instead use a helper function to replace it.  BUG=angle:773  Change-Id: Iddcd2705792217e6356f51e4bb9dce248d7c3be2 Reviewed-on: https://chromium-review.googlesource.com/238447 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix iterator comparison in Context.cpp.  In deleteTransformFeedback we were using a const iterator in a non-const method. Fix the comparison by using auto which delegates more work to the compiler's static type checking.  BUG=angle:773  Change-Id: Ibc362fe49629331811a5302df1b68269dfa128a6 Reviewed-on: https://chromium-review.googlesource.com/238444 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add OSX cases to EGL headers.  These changes we'll have to upstream at a later time.  BUG=angle:773  Change-Id: I18feb84ae58cb16e3e555c9ab65b6925ba35048e Reviewed-on: https://chromium-review.googlesource.com/238443 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't use std::tuple in IndexRangeCache.  std::tuple currently isn't available on Chromium/OSX.  BUG=angle:773  Change-Id: I9f9efc88dcfe904e98a76df8b04086b88f724424 Reviewed-on: https://chromium-review.googlesource.com/238442 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use #include <stdint.h> instead of <cstdint>.  This fixes the compile on OSX.  BUG=angle:773  Change-Id: I68111e178986bb78b73006a1559ba26120275599 Reviewed-on: https://chromium-review.googlesource.com/238441 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't assume c++11 std::map::erase in invalidateRange.  We were using the c++11 iterator return value from std::map::erase. Instead use the post-increment operator to keep a valid iterator after the call to erase even on older stl.  BUG=angle:773  Change-Id: Ieaa21a2b5a3fcd5ca229a31d40bdf9b8f3283a3c Reviewed-on: https://chromium-review.googlesource.com/238440 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement KHR_create_context.  We need the functionality of this extension to support dEQP. Likely we only needed the minor version enum to not generate an error but we can take the time to implement the few cases for the other enums as well.  We don't support any debug context functionality currently but we may want to support it in the future.  BUG=angle:501  Change-Id: Ib74cd2e4581e054f8153bb358824d9296b9f8a1c Reviewed-on: https://chromium-review.googlesource.com/238083 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Advertise EGL_EXT_platform_base.  We were not advertising the extension though we require it for ANGLE_platform_angle. This was blocking dEQP functionality.  Change-Id: I8781867e772b4b1af62f1387faa863f8ce21de76 Reviewed-on: https://chromium-review.googlesource.com/238082 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Accept no attributes in GetPlatformDisplayEXT.  It is quite valid for the app to pass in NULL for the attribs list. In this case we currently crash. We could trigger this error using dEQP.  Change-Id: I64aba1077f9095bd099c6b60f789ec076cb3d385 Reviewed-on: https://chromium-review.googlesource.com/238081 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Restrict depth buffer formats on D3D11 Feature Level 9_3  *_TYPELESS formats weren't supported in D3D10Level9 until Windows 8. Some Win8 D3D9 drivers don't support them either. To workaround this we avoid _TYPELESS formats on D3D11 FL9_3.  BUG=angle:856 BUG=435726  Change-Id: I280dc7f87e3a2c737c14284ebb744188e7f10616 Reviewed-on: https://chromium-review.googlesource.com/237292 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Emulate large and negative viewports on D3D11 Feature Level 9_3  Like D3D9 D3D11 Feature Level 9_3 doesn't support large or negative viewports. We have to emulate these in the vertex shader.  BUG=angle:858  Change-Id: I2bd53e3921dc3590cc7193164d73596deafca9ea Reviewed-on: https://chromium-review.googlesource.com/236040 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix instancing on D3D11 9_3 by ensuring slot zero contains non-instanced data  D3D11 Feature Level 9_3 supports instancing but slot 0 in the input layout must not be instanced. D3D9 has a similar restriction where stream 0 must not be instanced. This restriction can be worked around by remapping any non-instanced slot to slot 0. This works because HLSL uses shader semantics to match the vertex inputs to the elements in the input layout rather than the slots.  BUG=angle:858  Change-Id: I67b2be9095afc206a4b9f107ed61356820551afe Reviewed-on: https://chromium-review.googlesource.com/237270 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Improve standards conformance of ANGLE's testing code.  ANGLE's testing code recently got enabled in Chromium's builds. While it builds fine with cl.exe it isn't quite standards-conformant and doesn't build with clang. Fix this.  There were three issues:  1. ANGLE_TYPED_TEST_CASE() is a variadic macro that tries to use    __VA_ARGS__ as argument to a variadic template and then pass    that template to another macro. However [cpp.replace] describes    that ANGLE_TYPED_TEST_CASE(Test int float) should be expanded    to TYPED_TEST_CASE(Test ::testing::Types<int float>) which    should be interpreted as a "call" of TYPED_TEST_CASE with the    3 macro arguments `Test` `::testing::Types<int` and `float>`.    As a fix use a typedef for the variadic template and refer to    it through the typedef in the macro call.  2. `#version` was used on its own line in a substitution of the    SHADER_SOURCE macro. [cpp]p1 says that every line starting with    a `#` is a preprocessing directive and [cpp.replace]p11 says    "If there are sequences of preprocessing tokens within the list    of arguments that would otherwise act as preprocessing directives    the behavior is undefined" (with a footnote that this includes    non-directives -- # followed by unknown text). As a fix merge the    `#version` line with the previous line. Now the line doesn't start    with `#` and things are fine.  3. Unqualified lookup usually doesn't look into dependent bases. If    this is desired one usually has to make the call qualified a    good explanation for this is at    http://eli.thegreenplace.net/2012/02/06/dependent-name-lookup-for-c-templates    cl.exe doesn't implement this rule and clang tries to emulate    cl.exe's behavior to a certain extend when in Microsoft mode.    However that seems to not work for member templates with explicit    types (filed http://llvm.org/PR22066 for this but since it's not    needed to parse Microsoft headers and not standards-conformant    I'm not sure if we'll fix that). As a fix don't provide an explicit    type the inferred type is the same. This is also consistent with    all the other tests in this file. (We might clean up -Wmicrosoft    warnings in the future; if so I'll add the explicit this->s that    are missing in this file when we do.)  BUG=chromium:445406  Change-Id: I77a2f3ab9601a1f0f39b56ed3d05217f123155b8 Reviewed-on: https://chromium-review.googlesource.com/238090 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix DisplayD3D not initializing mRenderer.  BUG=angle:658  Change-Id: If865910d52154f574f4d488d4c45fcac9a87b050 Reviewed-on: https://chromium-review.googlesource.com/234761 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add format size information for DXGI_FORMATs.  Change-Id: I14d0b8ebd631e5c9c3c3b63c047c9ef7c11bf310 Reviewed-on: https://chromium-review.googlesource.com/236304 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add format size information for D3DFORMATs.  Change-Id: Id8d884df31726546e871d75a719bc419dd767d6b Reviewed-on: https://chromium-review.googlesource.com/236303 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a translator crash with index expressions.  This crash happened with certain bad shaders which used temporary values as array (or other) index expresisons.  Fixes the crash covered in the WebGL test "conformance/bugs/undefined-index-should-not-crash"  BUG=angle:857  Change-Id: I13e2ba6d5f1ab0846ac902021bc0b57cbb37d759 Reviewed-on: https://chromium-review.googlesource.com/237460 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable conditional InfoLog for HLSL link failures.  We don't always have an InfoLog available for dynamic shaders but we can still capture data in some cases for default shaders.  Change-Id: Iccd022f24d5c2b8922e9254580705675cd4e405f Reviewed-on: https://chromium-review.googlesource.com/237328 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Implement support for the binary operator '%' in the translator.  BUG=angle:854  Change-Id: If116de132dc83d93255749b54c1919a75abcb65c Reviewed-on: https://chromium-review.googlesource.com/236330 Tested-by: Gregoire Payen de La Garanderie <Gregory.Payen@imgtec.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update WebGL expectations.  Change-Id: I69795b97ef032838cd43e889119405aaee66fa4f Reviewed-on: https://chromium-review.googlesource.com/237329 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Disable FL9_3 tests because of Windows 7 failures.  These tests were failing on SwapChain11 with errors relating to the Depth Stencil backbuffer.  BUG=angle:856 BUG=435726  Change-Id: Idd371a380e9b302d7d5e40437e9d76589872b750 Reviewed-on: https://chromium-review.googlesource.com/237450 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Update ANGLE's translator to Bison 3.  BUG=angle:462  Change-Id: I2c1c18027dee1c3b4efb87374caaadbf58367841 Reviewed-on: https://chromium-review.googlesource.com/236930 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Support remaining vertex attrib formats on D3D11 9_3  Change-Id: Id0d3ad6ec7764ed84ec504ad92eca81dff29aac8 Reviewed-on: https://chromium-review.googlesource.com/236043 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Prevent usage of GSSetConstantBuffers on D3D11 Feature Level 9_3  Calling GSSetConstantBuffers with real data causes a device removed error on 9_3. We therefore ensure that ANGLE doesn't call it on 9_3.  Change-Id: I151a74ee7ea81fc4b795d8bf10d5e5c42bfe7c86 Reviewed-on: https://chromium-review.googlesource.com/236042 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactored test targets into angle_unittests and angle_end2end_tests.  angle_unittests subsumes the previous:   angle_compiler_tests   angle_preprocessor_tests and will subsume angle_implementation_unit_tests in a follow-on CL.  angle_end2end_tests subsumes the previous:   angle_tests   angle_standalone_tests   angle_implementation_unit_tests  The bulk of these two targets have been factored into their own .gypi files so that a different main.cpp can be trivially plugged in for the gtest harness. This refactoring has been tested both in ANGLE standalone builds and builds within Chromium.  BUG=chromium:435726  Change-Id: I231a3c1989c17e188cc469dcf80fe78b052afe78 Reviewed-on: https://chromium-review.googlesource.com/236681 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Move blit to the Framebuffer object and Impl.  BUG=angle:841  Change-Id: I482e53a90606d9d6b105c7006234215d51ab1a6b Reviewed-on: https://chromium-review.googlesource.com/232692 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move ReadPixels to the Framebuffer object and Impl.  BUG=angle:841  Change-Id: I71deac9e755b5dfa010596cd1f8a213c24d895bf Reviewed-on: https://chromium-review.googlesource.com/232691 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move Framebuffer clearing from Renderer to the Framebuffer object.  BUG=angle:841  Change-Id: I95c9cbdc2d1c99731e19c48e18117358d22b9e94 Reviewed-on: https://chromium-review.googlesource.com/232690 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix normalized GL_BYTE vertex attributes on D3D11 9_3  Feature Level 9_3 doesn't support as many formats for Input Layouts as 10_0+. On 9_3 we have to make sure that GL vertex attributes are converted into formats that 9_3 supports.  Change-Id: I27b9a85a6eb21a37bd36e60bf011b83fce743fd0 Reviewed-on: https://chromium-review.googlesource.com/234523 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix glCopyTexImage2D on D3D11 Feature Level 9_3, 15312978, 382, 105, 382
Fix depthStencil leak in DefaultFramebuffer::DefaultFramebuffer, 15312978, 382, 105, 382
Unify duplicated code for both depth and stencil buffer in ValidateBlitFramebufferParameters()  Tested with angle_*_tests and WebGL CTS in Chrome Canary on Windows. Passed with no regressions.  Change-Id: Ied0a32ea75565ef19b8e87bed8bdd555b74edee3 Reviewed-on: https://chromium-review.googlesource.com/234110 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Dongseong Hwang <dongseong.hwang@intel.com> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Link libANGLE against translator_static.  If there are multiple users of translator.dll then one could ShFinalize and destroy the memory of all the others.  libANGLE needs it's own copies of the global pool allocator to make sure this doesn't happen.  There should be no functional changes for non-component builds.  BUG=angle:823  Change-Id: Id6f7d50e86d8950834399b16a7ab14e6e3198d12 Reviewed-on: https://chromium-review.googlesource.com/234594 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Prevent D3D11 Feature Level 9_3 from sampling from SV_Position in Pixel Shaders  D3D11 FL9_3 like Shader Model 2.0 in D3D9 doesn't support reading from SV_Position in the pixel shader. We have to reconstruct gl_FragCoord using dx_ViewCoords instead.  Change-Id: I7e898038d210d73a9d224dcc18b033e5cd4a56f5 Reviewed-on: https://chromium-review.googlesource.com/234277 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a unit test for UNPACK_ROW_LENGTH., 15312978, 382, 105, 382
Disable UNPACK_ROW_LENGTH for GLES 2.0., 15312978, 382, 105, 382
Add UNPACK_ROW_LENGTH support., 15312978, 382, 105, 382
Turn off textures' share handle for Feature Level 9_3, 15312978, 382, 105, 382
Encapulate the ESSL compiler into a GL object that is per-context.   * Allows for multiple contexts have to have different client versions caps    and extensions without causing shader compilation failures.  BUG=angle:823  Change-Id: I523679e90be031b0b7fa385d46d6839b1cf3029f Reviewed-on: https://chromium-review.googlesource.com/227710 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move some structs and enums from Renderer.h to RendererD3D.h  Change-Id: Ib334d2506031466a73f1a233ee68c1658841a882 Reviewed-on: https://chromium-review.googlesource.com/234720 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove D3D11_BIND_STREAM_OUTPUT usage on D3D11 Feature Level 9_3  Change-Id: Ib9d2d155a6e062488ff5bb5ce578036b6187ca70 Reviewed-on: https://chromium-review.googlesource.com/234276 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
In Clear11 use ID3D11DeviceContext1::ClearView when appropriate  Change-Id: I8d9054b5582cfe78beaff07146adc73b4716eaf9 Reviewed-on: https://chromium-review.googlesource.com/233680 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix cube map rendertargets.  We were using the entire level parameter of the cube map instead of using the helper functions for cube map ImageIndexes which set the layer corresponding to the cube map face.  BUG=angle:849 BUG=440701  Change-Id: Id78db5c8281b6b644392bb961d69a7f869755a34 Reviewed-on: https://chromium-review.googlesource.com/234380 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
On D3D11 Feature Level 9 use IDXGIAdapter2::GetDesc2.  On Feature Level 9_3 GetDesc() returns "Software Adapter" in the hardware description string instead of a description of the actual GPU. As a result glGetString(GL_RENDERER) on 9_3 wouldn't return any useful info about the current hardware.  Change-Id: Ie4d329a08a03ee044fc0b594308aaf0bf235c74e Reviewed-on: https://chromium-review.googlesource.com/233663 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Add basic D3D11 Feature Level 9.3 support  Change-Id: I660c74791ddb9917bd4796bb652eefab2a3e4863 Reviewed-on: https://chromium-review.googlesource.com/233660 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Rename Framebuffer::completeness to checkStatus and add an Impl method.  BUG=angle:841  Change-Id: I04b4ffd086424569a15aa21447dd552e0a898928 Reviewed-on: https://chromium-review.googlesource.com/232394 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add set*Attachment methods to FramebufferImpl.  BUG=angle:841  Change-Id: Ie819c253a900d105d768aee168a6a2de89754ccc Reviewed-on: https://chromium-review.googlesource.com/232393 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update generated D3D shaders.  We neglected to regenerate with our switch to the 8.1 SDK.  Change-Id: Idd67dce1147ad0acec9bf933a0fd01f421c784ef Reviewed-on: https://chromium-review.googlesource.com/233844 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move libEGL to compile on all platforms.  BUG=angle:773  Change-Id: I377c6df9b1f10e2756b7f000099847dc910c965c Reviewed-on: https://chromium-review.googlesource.com/232793 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Allow implementation tests to compile on all platforms.  BUG=angle:773  Change-Id: I9fb56c1d8332b1529460eb3962bae1b756f58e91 Reviewed-on: https://chromium-review.googlesource.com/232791 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Move the Image::copy implementation to ImageD3D.  This method uses rx::RenderTarget which is D3D-only.  BUG=angle:773  Change-Id: I2cb523fa98bda96661260d37a8c69c2ed8e7aa84 Reviewed-on: https://chromium-review.googlesource.com/233441 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move GetAttachmentRenderTarget and GetAttachmentSerial to FramebufferD3D.h.  BUG=angle:841  Change-Id: Ic341239e848f1daf7cf38f233d79a58f221780f4 Reviewed-on: https://chromium-review.googlesource.com/232969 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move some D3D-specific stuff into ProgramD3D.  BUG=angle:773  Change-Id: I48b42e7a3e82a43d3dde16a8d1016d28280eae39 Reviewed-on: https://chromium-review.googlesource.com/232968 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix texture format support queries on AMD-D3D9.  We were allowing calls to the device to check support for D3DFMT_NULL which AMD reports as a usable texture type. This was causing crashes with the WebGL CTS and angle_end2end_tests when the user tries to use an sRGB or other type which we incorrectly reported as available.  BUG=angle:839  Change-Id: I4941baac6a2b14a09c0ad2c924f29189ccfc6a07 Reviewed-on: https://chromium-review.googlesource.com/232728 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Mark the exported entry points as stdcall.  Because they may be returned as stdcall from eglGetProc address the entry point functions must be stdcall.  Fixes issues on 32-bit builds.  BUG=angle:733  Change-Id: Ia20046a67fdc28c702837ec59b8299c6bb722006 Reviewed-on: https://chromium-review.googlesource.com/233471 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Have libGLESv2 compile tls.cpp.  BUG=angle:733  Change-Id: Ief3ddabdc441eb7e46581337a511cec2a90ede48 Reviewed-on: https://chromium-review.googlesource.com/233431 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use the static CRT.  Remove a test that expects a crash it has become flaky.  BUG=angle:733  Change-Id: Ia1d4e0b3dd09fa755f678b97b8deceee3ef0a35b Reviewed-on: https://chromium-review.googlesource.com/232963 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement all entry points in libGLES and have libEGL act as a shim.  This allows libANGLE to only be included in libGLESv2 and moves all TLS data to libGLESv2.dll.  BUG=angle:733  Change-Id: I34f0b47987a5efbe906c290d3ca656142e69ea9a Reviewed-on: https://chromium-review.googlesource.com/232962 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reject compound assignments of the type scalar op= vector/matrix  scalar op vector/matrix produces a vector/matrix which can't be assigned to a scalar. Handle this correctly for addition subtraction and division. Multiplication was already handled correctly as a special case.  BUG=angle:832 TEST=WebGL conformance tests  Change-Id: I318cae8bf353a5c58c588876ce3f29d18389263c Reviewed-on: https://chromium-review.googlesource.com/232601 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Stop advertising ANGLE_framebuffer_multisample on 9.3, 15312978, 382, 105, 382
Enable instancing on Feature Level 9.3, 15312978, 382, 105, 382
Fix double delete with invariant varyings.  The compiler would leave some TString variables lying around after the pool gets released leading to a potential crash.  BUG=angle:846  Change-Id: I484ed9b14bba9bf653f6ed4001ae79f87791b0dd Reviewed-on: https://chromium-review.googlesource.com/232780 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix ASSERT not covering full range of drawbuffer counts.  BUG=angle:841  Change-Id: I59cc281e4848572010cbba3d45382a98063e8db2 Reviewed-on: https://chromium-review.googlesource.com/233210 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move Framebuffer invalidation into the impl.  BUG=angle:841  Change-Id: Ibcf58c4f676491f3b2582198c6cf9fd4a7a38b42 Reviewed-on: https://chromium-review.googlesource.com/232392 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Set all the drawbuffer state at once instead of one buffer per call.  BUG=angle:841  Change-Id: I988c7c0cd45317c78b8fd16df8324028ff1cb25d Reviewed-on: https://chromium-review.googlesource.com/232391 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix doubly defined variables in libANGLE and libGLESv2.  We can get by with only including these in libANGLE since libGLESv2 pulls in libANGLE.  BUG=angle:773  Change-Id: Iccbdb968b3c55528e2a7e1dd55f4f1280a70bfe9 Reviewed-on: https://chromium-review.googlesource.com/232967 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix event tracer linking on Linux.  We were including the cpp in multiple targets which was causing a multiply defined error.  BUG=angle:773  Change-Id: I1e31756faee2d7734f1fc6cfb086d0e7ec6519bc Reviewed-on: https://chromium-review.googlesource.com/232966 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move native display check to the DisplayImpl.  This fixes another Linux compile error in the EGL layer.  BUG=angle:773  Change-Id: Iba643a72fb7b0d5994fe69e46184256e07aa3aad Reviewed-on: https://chromium-review.googlesource.com/232945 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update WebGL CTS expectations.  Change-Id: I04f232b560dda470d589f8afbe8601d5cf7abeef Reviewed-on: https://chromium-review.googlesource.com/232965 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Skip BlitStencil test on Intel D3D9.  We seem to fail this config. It could be driver bug or other problem in ANGLE. Disable the test until we can find an answer.  BUG=angle:809  Change-Id: I90d773d2047569d71fa8a25c8919a8e46b5676b1 Reviewed-on: https://chromium-review.googlesource.com/232980 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove polymorphism of egl::Display.  This was causing a warning on GCC and is no longer necessary.  BUG=angle:773  Change-Id: I6cb09e79bff9035e3e38966dcad2cc7ba74701a1 Reviewed-on: https://chromium-review.googlesource.com/232944 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Move native window check to the DisplayImpl.  This hides the D3D-specific methods from the EGL side of things.  BUG=angle:773  Change-Id: I5a1c2bbff865e02bc1a07b3295347469ef9792e3 Reviewed-on: https://chromium-review.googlesource.com/232943 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix stray ANGLE_EXPORT.  BUG=angle:733  Change-Id: Ia4a84bea483ac11a2326d2402649affe10d661c9 Reviewed-on: https://chromium-review.googlesource.com/232942 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove support for compiling libANGLE as a dynamic library.  BUG=angle:733  Change-Id: Iacef45b89f234091eb5df505437adabece1e564b Reviewed-on: https://chromium-review.googlesource.com/232961 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable shader texture LOD extension on 9_3, 15312978, 382, 105, 382
Fix glScissor and glReadPixels with render-to-backbuffer on 9_3, 15312978, 382, 105, 382
Rename IsSampler to IsSamplerType.  BUG=angle:733  Change-Id: I62aece16c11aefdbf13c0b5faf83040fdb8555e6 Reviewed-on: https://chromium-review.googlesource.com/232960 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable support for shader model 2 in Renderer9.  Change-Id: I2fc6e1b440cbdd72c99971d355637819a13951be Reviewed-on: https://chromium-review.googlesource.com/232091 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Merge some special cases of the default framebuffer into the Framebuffer class.  BUG=angle:841  Change-Id: Id4b5ac38926bc90fa015584d966aaef3a7101849 Reviewed-on: https://chromium-review.googlesource.com/232390 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only generate shader debug info on Windows.  This was messing up the Linux build with some recent changes.  BUG=angle:773  Change-Id: I9ca201f08ddde0a36224872b2c78d1d666cf458d Reviewed-on: https://chromium-review.googlesource.com/232792 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Improve image update perf by re-using a MemoryBuffer.  Instead of allocating a new MemoryBuffer every frame we can store one scratch buffer in the Renderer and occasionally re-create it to ensure we aren't stuck using the maximum amount of memory.  BUG=angle:842  Change-Id: Id7c1912921ed8f84b151413453c3268d853352db Reviewed-on: https://chromium-review.googlesource.com/230861 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Bruce Dawson <brucedawson@google.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Ignore GCC's always inline warnings in MurmurHash.  These were benign and treated as errors. The always inline attribute may still have some value so I left it in.  BUG=angle:773  Change-Id: I78c5f792485e8f8d890123ee861cfecf2a5649be Reviewed-on: https://chromium-review.googlesource.com/232790 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Move the SystemInfo helpers to Win32 only.  BUG=angle:773  Change-Id: I53938837d925b14d8fc86c94a38d23bb86d82de5 Reviewed-on: https://chromium-review.googlesource.com/232699 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Remove src/libANGLE from default includes.  This is unnecessary and was breaking Linux builds because of a conflict with features.h.  BUG=angle:773  Change-Id: Ic704ac24a0e8f5781f67cadca396bef779495efe Reviewed-on: https://chromium-review.googlesource.com/232698 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Do not use std::strlen.  GCC doesn't use the std:: namespace for these methods.  BUG=angle:773  Change-Id: I0d887f103298cdd184b3f7825c5e44363edb9b92 Reviewed-on: https://chromium-review.googlesource.com/232697 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Make compile optimization level hidden outside D3D.  BUG=angle:773  Change-Id: Ia6f16d2e4644c02d94cf99b73f70d05486886925 Reviewed-on: https://chromium-review.googlesource.com/232696 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Remove unrefed texture validation variables.  These were causing unused variable warnings in Linux GCC builds.  BUG=angle:773  Change-Id: I860d425a1caef07a58f6ff1b6c113ad7b63283dc Reviewed-on: https://chromium-review.googlesource.com/231856 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Add missing cstring include to Uniform.cpp.  This file was missing on GCC builds.  BUG=angle:773  Change-Id: I6222b5ee563d64967d878c422abd464c8c92e646 Reviewed-on: https://chromium-review.googlesource.com/231855 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Use memset to zero out ClearParameters.  Using the C struct initialization syntax was giving errors on Linux.  BUG=angle:773  Change-Id: I298c851df7246eeb1772837c5678f3c578483b63 Reviewed-on: https://chromium-review.googlesource.com/231854 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Remove RendererD3D header from Renderbuffer.cpp.  BUG=angle:773  Change-Id: Idb9f840c0a83550bd9a58c3c4599c65ee916fa3c Reviewed-on: https://chromium-review.googlesource.com/231853 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Remove RemoveAllTreeNodes since it was a no-op  IntermNode operator delete() or any of the IntermNode destructors don't do anything since all the AST memory is allocated on the PoolAllocator. Because of this RemoveAllTreeNodes was simply a no-op and redundant with the PoolAllocator deallocation procedure and could confuse people reading the code to think that IntermNodes should be deleted individually when in fact this is not the case.  BUG=angle:831  Change-Id: Ie1ccaa51986aabf267280d92a8e76ca9f97a19e5 Reviewed-on: https://chromium-review.googlesource.com/230730 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Add GLSL/ESSL validator/translator support for GL_EXT_shader_framebuffer_fetch.  BUG=angle:834  Change-Id: I2d4e25909a8e1266b9bb7f1d4421324143157c8a Reviewed-on: https://chromium-review.googlesource.com/231032 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Erik Dahlström <ed@opera.com>, 15312978, 382, 105, 382
MANGLE egl::Display.  BUG=angle:794  Change-Id: Id131f3119100030d6ee630e357a8d28396a6a813 Reviewed-on: https://chromium-review.googlesource.com/231852 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge the ProgramBinary class into Program.  BUG=angle:731  Change-Id: I2ee97155841dc62f04bb71c1f2035d210fd3883c Reviewed-on: https://chromium-review.googlesource.com/232694 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Merge the ProgramBinary class into Program."  Issues appeared on the FYI waterfall content_gl_tests hangs.  This reverts commit 2195a6d6032883ed05468d5ecd019e7cb9a27bce.  Change-Id: I9fe1a53cf40887ae5a98fd77b4872f41085fcea7 Reviewed-on: https://chromium-review.googlesource.com/232386 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge the ProgramBinary class into Program.  BUG=angle:731  Change-Id: Ia0a356c0684f3a3576c71dfd04b00874318dd084 Reviewed-on: https://chromium-review.googlesource.com/228701 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Create stubs for the FramebufferImpl class.  BUG=angle:841  Change-Id: I089409981604abe9c65c3019765d8d9eeffe38f5 Reviewed-on: https://chromium-review.googlesource.com/232381 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove Display::recreateSwapChains.  This method was unused and dead code.  BUG=angle:794  Change-Id: I1348f5ffc62ff57f3c6503c6842cc68bcbefb550 Reviewed-on: https://chromium-review.googlesource.com/231851 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix override keyword in Renderer9.h.  BUG=angle:773  Change-Id: I1d69b79ed8f85a2e9238cee1ffada11ee362cffb Reviewed-on: https://chromium-review.googlesource.com/232395 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Clean up Adapter LUID queries.  We might need to revisit this when we implement other GL back-ends.  BUG=angle:773  Change-Id: I6e742254bd0df8cc899ea02a523992b4d66dfd68 Reviewed-on: https://chromium-review.googlesource.com/229061 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Support compiling libANGLE as a static or shared library.  BUG=angle:733  Change-Id: If27d3330534bce0f5b691010ea7d97bcb7579122 Reviewed-on: https://chromium-review.googlesource.com/231052 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make some FramebufferAttachment methods const.  BUG=angle:841  Change-Id: I4670e417c1976ebd2198ea4c8927a00fff7bb15c Reviewed-on: https://chromium-review.googlesource.com/232380 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make getAdapterIdentifier D3D-only.  We only use this Renderer method in ProgramD3D so we can hide it from the GL-side API.  BUG=angle:773  Change-Id: I7a8092a7e3bceb1498f4e4022f84486e0295759d Reviewed-on: https://chromium-review.googlesource.com/229060 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Do not check format caps for D3DFMT_NULL."  Seems to be causing problems on the AMD Release GPU FYI bot.  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win7%20Release%20%28ATI%29/builds/6378  This reverts commit 533f0a1d6a9510c3380dc791457883274fbdc997.  Change-Id: I94ae0f72303ad5bc6e84e56c35a683d01844309a Reviewed-on: https://chromium-review.googlesource.com/232192 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
MANGLE egl::Surface.  This class has its fingers in a lot of other classes. In particular we will likely need to revisit the context lost handling methods when we implement the robustness extensions on top of desktop GL. For now we can leave them tied pretty tightly to the D3D implementation.  BUG=angle:795  Change-Id: I9b3ac90dfd393f52c5b49bc2bd6b97fb5536ed91 Reviewed-on: https://chromium-review.googlesource.com/228916 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Do not check format caps for D3DFMT_NULL.  On AMD systems the driver was reporting these textures as usable. This was causing crashes in the sRGB extension tests.  BUG=angle:839  Change-Id: I8e9924ed44f82a2a6bc891d1df76c0f9a19084ad Reviewed-on: https://chromium-review.googlesource.com/232062 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add Fence implementation tests back to project.  Somehow they had been neglected.  Change-Id: Ibe8b063758be8e99978fdd2723192be7bcea6d04 Reviewed-on: https://chromium-review.googlesource.com/232220 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update WebGL expected failures.  Change-Id: I8d90f9189340b6a8f8535bab595fd1e8f65fe9ff Reviewed-on: https://chromium-review.googlesource.com/231965 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Optimize LoadL8ToRGBA8.  We can save some work by re-using the color value in a temporary.  BUG=angle:842  Change-Id: Ib64b34ca7bc77c73368e159527ad84419079f958 Reviewed-on: https://chromium-review.googlesource.com/231997 Reviewed-by: Bruce Dawson <brucedawson@google.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Disable EXT_depth_textures on AMD D3D9 devices.  BUG=angle:839  Change-Id: Ia8c24db98a31141994e22b25efbdfddaa4eced49 Reviewed-on: https://chromium-review.googlesource.com/231996 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix error in dumping direct struct indexes.  The parser would become confused over the purported array size of struct indexes. In reality they were always a single direct index into a struct but it would take the object size of the represented type (EG a vec4 would have size 4) and deference out-of-bounds memory.  BUG=434033  Change-Id: I92349aa04e6faadc766cb28c04e28d5f19c4e1ec Reviewed-on: https://chromium-review.googlesource.com/230530 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Remove the libGLESv2_static target.  BUG=angle:733  Change-Id: Ia33a67d8422c6c31a1f07f2a8778537e023b2dd2 Reviewed-on: https://chromium-review.googlesource.com/230781 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add mediump and lowp precision emulation support for GLSL output  This implements the rounding as specified in WEBGL_debug_shader_precision extension proposal for desktop GLSL and ESSL output. The bulk of the new functionality is added in the form of a new EmulatePrecision AST traverser which inserts calls to the rounding routines angle_frm and angle_frl in the appropriate places and writes the rounding routines themselves to the shader.  Compound assignments which are subject to emulation are transformed from "x op= y" to "angle_compound_op_frm(x y)" a call to a function which does the appropriate rounding and places the result of the operation to x.  The angle_ prefixed names should not clash with user-defined names if name hashing is on. If name hashing is not on the precision emulation can only be used if the angle_ prefix is reserved for use by ANGLE.  To support the rounding routines in output a new operator type is added for internal helper function calls which are not subject to name hashing.  In ESSL output all variables are forced to highp when precision emulation is on to ensure consistency with how precision emulation performs on desktop.  Comprehensive tests for the added code generation are included.  BUG=angle:787  Change-Id: I0d0ad9327888f803a32e79b64b08763c654c913b Reviewed-on: https://chromium-review.googlesource.com/229631 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Enabled compressed texture format support for FL9., 15312978, 382, 105, 382
Add querySurfacePointerANGLE method to Surface.  This method will more closely match the desktop GL implementation.  BUG=angle:795  Change-Id: I796b46bb6e8e895dad8d9824e8405edcc12e8a4f Reviewed-on: https://chromium-review.googlesource.com/228915 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use cross-platform enum for Vendor ID.  BUG=angle:795  Change-Id: Ibe9bbb79b92730ba80ca7275528c8b61d5d44c59 Reviewed-on: https://chromium-review.googlesource.com/228914 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move as many files as possible from common to libANGLE.  BUG=angle:733  Change-Id: If01c91cd52ac5c2102276a9fdc4b68ebc13e47f9 Reviewed-on: https://chromium-review.googlesource.com/231850 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use EGLClientBuffer in place of HANDLE in EGL.  BUG=angle:795  Change-Id: I7af47e9306e0e12b980cfd3f061bbbe0951ac4e4 Reviewed-on: https://chromium-review.googlesource.com/228913 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Move as many files as possible from common to libANGLE."  Chromium directly includes our common/version.h and couldn't build after this change.  This reverts commit f0a2c7727f9863c38a435a16a69d513c481fbbdd.  Change-Id: Iafc41b1a3973f609518fe3588fdb64cecc285332 Reviewed-on: https://chromium-review.googlesource.com/231840 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move as many files as possible from common to libANGLE.  BUG=angle:733  Change-Id: I40cee6e2e305ac493acbc8649f858785c0569aed Reviewed-on: https://chromium-review.googlesource.com/231051 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "In Clear11 use ID3D11DeviceContext1::ClearView when appropriate"  Causing failures on GPU Windows bots  This reverts commit 3b23162968cdb7fb76aef74e979d8ea1fd256a8d.  Change-Id: Ie1806db36b13f8b03dc1a1ae10f237260c99de7b Reviewed-on: https://chromium-review.googlesource.com/231701 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix handling of shader source with fixed length.  BUG=angle:837  Change-Id: Ie9c3059ad2973b0733be92b7548525ee694bb1fa Reviewed-on: https://chromium-review.googlesource.com/231612 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
In Clear11 use ID3D11DeviceContext1::ClearView when appropriate  Change-Id: I81fe722973aa3c89ea03501543ab74d92e26b02b Reviewed-on: https://chromium-review.googlesource.com/228620 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix include guards.  BUG=angle:733  Change-Id: I08b2c11c4831f1161c178c1842b10e807185aced Reviewed-on: https://chromium-review.googlesource.com/230831 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make device lost flag a RendererD3D member.  This flag we used in both D3D renderers and hence we can move it to the base class to share a bit of common code.  BUG=angle:795  Change-Id: I8bd60796bfeb9590bdf798f9d044f8e20c7ad779 Reviewed-on: https://chromium-review.googlesource.com/228912 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove notify parameter from testDeviceLost.  We can get rid of this parameter now that we call notify directly on the display in cases where we need to.  BUG=angle:795  Change-Id: I2024b70d0d725e755f7aa742ba221c2d0179d8b6 Reviewed-on: https://chromium-review.googlesource.com/228911 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Do not use notify feature of testDeviceLost.  This is part one of a simplification of testDeviceLost. This patch changes the instances where we would use the notify parameter to notify the Display directly. We can do this by using the Display attached to the Renderer in some cases.  BUG=angle:795  Change-Id: I24fd827989d47b0b2cefef7afb99fa62581ddc1b Reviewed-on: https://chromium-review.googlesource.com/228910 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed Mac and Linux build breakage.  Introduced in 1edac3b1bdcc54a4b0f0449cb727bda84ab3ee53 .  BUG=none  Change-Id: Ia5c5e38b794e9c991ec8624de34681dcf13a651f Reviewed-on: https://chromium-review.googlesource.com/231441 Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Rename and slightly reorganize test targets.  Use "angle_" prefix for all targets to disambiguate them from any potential Chromium-side targets.  Combine compiler and preprocessor tests into angle_compiler_tests. (Chromium's "angle_unittests" target contains both.) Deleted preprocessor_test_main.cpp.  BUG=angleproject:833  Change-Id: I7acc5a76f49c15d0064c16d2ace256f9cc86e9e8 Reviewed-on: https://chromium-review.googlesource.com/231185 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fixed Visual Studio 2013 Update 4 build failures for WinRT  Change-Id: I393e9800d1c2e902f60728e1f7d0debca66b76a0 Reviewed-on: https://chromium-review.googlesource.com/231140 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the README to match the one on the google code page.  Change-Id: I05b61d9a7c80a6e53df1b12a99b0c107b570496c Reviewed-on: https://chromium-review.googlesource.com/231223 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the DISALLOW_COPY_AND_ASSIGN macro to use c++ operator deletion.  Also remove the TSymbol copy constructor which is not used.  BUG=angle:836  Change-Id: I4f35f554c90d01dc2132d244a1974d9a8dc89bbd Reviewed-on: https://chromium-review.googlesource.com/231231 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix releasing textures after we kill D3D11.  This bug was crashing the IncompleteTextureTest in Release mode. Fix this by releasing the textures before we free the D3D11 libraries.  BUG=angle:838  Change-Id: I771e4cc6876e3529c5d26f36711dea9181e631f0 Reviewed-on: https://chromium-review.googlesource.com/231247 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Merge libGLESv2 and libEGL classes into libANGLE.  BUG=angle:733  Change-Id: Ic491c971411fe82c56cd97c5c8325ac14ec218df Reviewed-on: https://chromium-review.googlesource.com/230830 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disallow copying of the MemoryBuffer class.  BUG=angle:836  Change-Id: Ie3f674ef6c321770209a37b1af06ea21d788f476 Reviewed-on: https://chromium-review.googlesource.com/231232 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix leaked ID3D11Resource object.  BUG=427245  Change-Id: If4833df5dc405a2a8d87a577bbd47b954613e321 Reviewed-on: https://chromium-review.googlesource.com/231246 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor gmock and gtest dependencies for ANGLE's tests.  This change allows these targets to be referenced from Chromium's build projects.  BUG=angleproject:833  Change-Id: I14694f610921d28ddcd8664887086ca30375b7a2 Reviewed-on: https://chromium-review.googlesource.com/231072 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix bugs in 2D Array Texture support.  This fixes assertion failures and other errors reproducible by running the dEQP Texture Format tests.  BUG=angle:813  Change-Id: I3b97f89323f9656b45f617211fb4579a24013951 Reviewed-on: https://chromium-review.googlesource.com/229351 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix failure initting 2D Array textures.  Our code currently failed in retrieving a NULL Image internally when we relied on getting texture dimensions on an unitialized texture.  BUG=angle:813  Change-Id: Iaf6791ee291e45daae9c80d6452c4d9154227fdb Reviewed-on: https://chromium-review.googlesource.com/229350 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fixed compilation errors due to Sleep being added as supported in latest Visual Studio 2013 (Update 4), 15312978, 382, 105, 382
Adds a file to track known failures in the WebGL CTS  Because ANGLE does not have a framework for testing directly against the WebGL CTS we're unable to suppress failing tests at runtime. Instead we'll document them in the repository for the reference of contributors.  Change-Id: Ieea68a9aaa0b7bfebda2900265e3c4a857a0ce64 Reviewed-on: https://chromium-review.googlesource.com/230582 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Trivial change to allow translator to be compiled via Emscripten.  BUG=none  Change-Id: Ifdb02d4b7c061f403f50d2e1fbea4ab117462475 Reviewed-on: https://chromium-review.googlesource.com/230813 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Remove pre-generated projects.  BUG=angle:829  Change-Id: I220ffb0929cf20f2834e7e0ea163105b45a9e03b Reviewed-on: https://chromium-review.googlesource.com/229065 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove includes of libGLESv2/main.h.  It was mostly being included for gl::error or the debug.h include.  BUG=angle:733  Change-Id: If40d511c5422ac9265fbd809f647a91bcc802d41 Reviewed-on: https://chromium-review.googlesource.com/230551 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove includes of libEGL/main.h.  It was mostly being included for querying the current state and EGL includes.  BUG=angle:733  Change-Id: Ia985dbc9de5739f6ea7fa5bb6eb2e187cc1d60f3 Reviewed-on: https://chromium-review.googlesource.com/230780 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Create a DefaultAttachment type and an implementation for it.  This allows for dynamically sized default attachments instead of calling Context::makeCurrent each time the surface changes size.  BUG=angle:824  Change-Id: Ic39c0d7dc4269db53a34c01c4d915cb1a3cfbd08 Reviewed-on: https://chromium-review.googlesource.com/228180 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix memory leak when default framebuffer has 0 depth bits and 0 stencil bits  Change-Id: If9dbcfc7eac3295b2523dd41dc87198d1b1e2d76 Reviewed-on: https://chromium-review.googlesource.com/229022 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
Limit D3D11 Feature Level 9 to GL ES 2.0 and say it's not conformant  Change-Id: I2ce88217c9b78e83bac6df5975d9edfbbf90e557 Reviewed-on: https://chromium-review.googlesource.com/225251 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Change the component type of STENCIL_INDEX8 to UNSIGNED_NORMALIZED  That way RenderbufferStorageMultisample accepts STENCIL_INDEX8 as an internal format for a multisampled buffer (samples > 0) as it isn't concerned by the restriction on integer component types anymore. This is consistent with the component type returned by the NVIDIA driver.  BUG=angle:812  Change-Id: Ic03f502ffa082b1011e8127213a5c1df0617ef43 Reviewed-on: https://chromium-review.googlesource.com/227470 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
On 9_3 delay GPU mipmap texture creation until necessary. Also remove unnecessary texture creation when using zero LOD workaround., 15312978, 382, 105, 382
Copy the D3D compiler dll in the GN build.  Change-Id: I773a411d07991d9ae160267eba8325c327146554 Reviewed-on: https://chromium-review.googlesource.com/229007 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: John Abd-El-Malek <jam@chromium.org>, 15312978, 382, 105, 382
Unset SRVs which resource are being bound to an RTV  This is the extension of a previously debug-only workaround for D3D doing the unsetting by itself (with a warning). It made our state tracking of the bound SRVs out of sync with D3D's and caused some rendering to not take place.  BUG=427245  Change-Id: Id378030b64fddafbb3d406872a7dfd2c84793221 Reviewed-on: https://chromium-review.googlesource.com/229066 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Revert "Revert "Switch to 8.1 SDK and d3dcompiler_47.dll""  This reverts commit 3cbdc34d4e90f6b51d5612e6f1d3ae632da47234.  This reverts back to using 8.1 and d3dcompiler_47 as chrome is now rolled forward.  Change-Id: I7ef4ebdbc32146b9ba6f551e376ac03ac71131ba Reviewed-on: https://chromium-review.googlesource.com/229990 Reviewed-by: John Abd-El-Malek <jam@chromium.org> Reviewed-by: Scott Graham <scottmg@chromium.org> Commit-Queue: Scott Graham <scottmg@chromium.org> Tested-by: Scott Graham <scottmg@chromium.org>, 15312978, 382, 105, 382
Revert "Switch to 8.1 SDK and d3dcompiler_47.dll"  This reverts commit e1425d95ba0ab095c5d64536bbeb3f78adcbf79f.  This is to keep the GPU fyi bots green until the chrome side is landed. Chrome will be rolling to e1425d95...  Change-Id: Iff1c60eeb7143fb72afa8525b31f8f0de9385897 Reviewed-on: https://chromium-review.googlesource.com/229497 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Switch to 8.1 SDK and d3dcompiler_47.dll  Change-Id: If43c7861ab7f47448fd726fd0b5c35f3a6eeb362 Reviewed-on: https://chromium-review.googlesource.com/229616 Commit-Queue: Scott Graham <scottmg@chromium.org> Tested-by: Scott Graham <scottmg@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added Trim support for Windows Store application certification requirement  Change-Id: Iff58863bf4af756d77521aadb1ccbaa977f0b78a Reviewed-on: https://chromium-review.googlesource.com/227530 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix precision tracking of constructor return values  Precision should be set for constructor return values if they are of a built-in type. Structs should not be precision qualified.  BUG=angle:787  Change-Id: Ie5efd5be25a788ff6f01c5b989254572c00231eb Reviewed-on: https://chromium-review.googlesource.com/229560 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove redundant rx:: scoping prefixes.  In many places we can get rid of this scoping operator.  BUG=angle:789  Change-Id: If6c40c435a97473d2fd9d6f1fb5a2c709393eb00 Reviewed-on: https://chromium-review.googlesource.com/225566 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove the unused Renderer client version methods.  Previous patches enable us to get rid of this workaround. We should in subsequent patches also try to clean up code that uses the internal Renderer-only version of the context caps.  BUG=angle:789  Change-Id: Ic054090303cdc3f7ee8e45e4577c157559955472 Reviewed-on: https://chromium-review.googlesource.com/227714 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Pass GL context data into shader creation.  This allows us to remove the hack where we store the current GL client version in the Renderer.  BUG=angle:789  Change-Id: I6526f11eaa922325a9a41df0df48b2152e022e26 Reviewed-on: https://chromium-review.googlesource.com/227713 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix memory leak when default framebuffer has 0 depth bits and 0 stencil bits, 15312978, 382, 105, 382
Use the [[flatten]] attribute only when a loop is present.  Flattening branch-heavy shaders that contained no loops caused regressions. As a temporary workaround we only flatten ifs when there exists a loop.  BUG=395048  Change-Id: I95c40f0249643b98c62304a0f2a4563561d1fbbc Reviewed-on: https://chromium-review.googlesource.com/228722 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Corentin Wallez <cwallez@chromium.org>, 15312978, 382, 105, 382
Fix gl_FragCoord and render-to-backbuffer issue on 9_3, 15312978, 382, 105, 382
Fix ProgramBinary being disabled when it should be enabled.  Change-Id: I6a21bca32ae5bf1e0e638c0cf46102bd964cd066 Reviewed-on: https://chromium-review.googlesource.com/229064 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor Framebuffer attachment application.  Instead of passing texture and renderbufer IDs which requires a call to gl::getNonLostContext to resolve the objects pass the Texture and Renderbuffer objects directly.  BUG=angleproject:733  Change-Id: Ia500a781643e43a17c8e9cea9f95847a7ff7b25d Reviewed-on: https://chromium-review.googlesource.com/228280 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Pass GL caps and version to compiler.  This allows us to get rid of some of the reliance on storing the current context client version in the Renderer. A subsequent patch will allow us to remove the client version ugly hack.  BUG=angle:789  Change-Id: I139e0f66e1d39e5cd41a484c841a7101b1f29540 Reviewed-on: https://chromium-review.googlesource.com/227712 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move the Context ReadPixels logic into RendererD3D.  BUG=angle:789  Change-Id: I0a678f8fe31a3e7ddd9a675a0e3cb0342299b0e3 Reviewed-on: https://chromium-review.googlesource.com/226064 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move BlitFramebuffer logic into RendererD3D.  BUG=angle:789  Change-Id: Ib3f830ba2f915a5fa4fa552dccc13c24575aa843 Reviewed-on: https://chromium-review.googlesource.com/226063 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split the RenderTarget classes based on if they are backing a SwapChain.  bug=angle:824  Change-Id: I89e475d4065102dbaa7fa1f1bfd02c7207def75c Reviewed-on: https://chromium-review.googlesource.com/227600 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix compilation failure with Visual Studio 14.  Change-Id: If009cec928318c90a2f6d445ea8b4b06c4e45209 Reviewed-on: https://chromium-review.googlesource.com/228919 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add EGL_ANGLE_SURFACE_RENDER_TO_BACK_BUFFER to the templates, 15312978, 382, 105, 382
ifdef Feature Level 10_0+ selection on Windows Phone, 15312978, 382, 105, 382
Pass 0 for the sample count to RenderTarget when there is no multisampling.  BUG=angle:520  Change-Id: Idc9a19ece620d107b87110dac8e1ef7a24f565cc Reviewed-on: https://chromium-review.googlesource.com/228551 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move Clear logic into RendererD3D.  BUG=angle:789  Change-Id: I56d4398e4c49fe980f649327b105cdba9d944a00 Reviewed-on: https://chromium-review.googlesource.com/226062 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Move Context draw call logic into RendererD3D.  Also move a lot of supporting code.  BUG=angle:789  Change-Id: I098bf7d072ece1f414605783c32ec5354ba63e19 Reviewed-on: https://chromium-review.googlesource.com/226061 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fixes a bug in program ID validation for GetUniform* calls.  BUG=angle:571  Change-Id: I7080f0f7ea0def29d1b67c9d954ee5d9d41fb348 Reviewed-on: https://chromium-review.googlesource.com/228560 Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
MANGLE the ANGLE Renderer class.  BUG=angle:789  Change-Id: Ib6d9d47a9353ea3c1a931b793baba85a2698b659 Reviewed-on: https://chromium-review.googlesource.com/225472 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix zero texture application.  Patch https://chromium-review.googlesource.com/#/c/227711/ would allow NULL Textures sometimes from State::getSamplerTexture. Fix this by always setting the zero "Default" textures instead of NULL in the State.  This was breaking the ES2-CTS test 'framebuffer_objects' on Windows.  BUG=angle:826  Change-Id: Ie08a89cff0555f21c769759e0c0ed73456a2f91c Reviewed-on: https://chromium-review.googlesource.com/228275 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove the gl::error function.  BUG=angle:520  Change-Id: Iefd4345aa347041143d5452cc2fcf48c071d494b Reviewed-on: https://chromium-review.googlesource.com/222839 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add error handling to RenderTarget creation.   * RenderTarget9/11 don't create any resources themselves anymore.  * Pass the real internal format to RenderTarget creation so that it is    not lost by converting to D3D formats and back.  BUG=angle:520  Change-Id: If420970d42f0bf6ce392d64f9cb7efa4df0b8f8e Reviewed-on: https://chromium-review.googlesource.com/222838 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Regenerate projects.  Disabled warnings were reordered.  Change-Id: I29772c1522e7428c3e66607fda82d14d2b182702 Reviewed-on: https://chromium-review.googlesource.com/228273 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix possible crash when the info log length is zero.  BUG=angle:822  Change-Id: I01cb590cc9c1ba05f4d63dd088eef7e176a09d2f Reviewed-on: https://chromium-review.googlesource.com/227264 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Corentin Wallez <cwallez@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add RendererD3D as a layer between GL and Renderer9/11.  BUG=angle:789  Change-Id: I6107e6cbdeb5e3466f96a4bdf98181b8e5a25467 Reviewed-on: https://chromium-review.googlesource.com/225471 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use Context caps in Framebuffer completeness check.  This frees the Framebuffer from any dependency on the Renderer.  BUG=angle:789  Change-Id: I0e9ae0edf93674e32ae4f6538a934cddbdc804d5 Reviewed-on: https://chromium-review.googlesource.com/225470 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a base for GL essential data.  The data holds the GL state caps extensions texture caps and current client version.  BUG=angle:789  Change-Id: Icd15d806e14490f39041dea663ab2461a6a76090 Reviewed-on: https://chromium-review.googlesource.com/226060 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix MultipleDrawBuffers sample on 9_3, 15312978, 382, 105, 382
Fix rendertarget being created before level-zero workaround texture is created, 15312978, 382, 105, 382
Merge zero textures into the state texture map.  We can treat these textures the same as the rest saving a bit of code and complexity cost.  BUG=angle:789  Change-Id: I14b426c817cbe3c5bb737410378b6a80e274689b Reviewed-on: https://chromium-review.googlesource.com/227711 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix platform if defined build error on Linux.  Using #if instead of #if defined() was giving an error when ANGLE_PLATFORM_WINDOWS was undefined. Instead of defining it as zero for all platforms use #if defined() to ensure our legacy usage of #ifdef doesn't get messed up by #define <value> 0.  BUG=angle:825  Change-Id: Ibad51c45c4337a30feb68561b6cf54ed5dc05d9d Reviewed-on: https://chromium-review.googlesource.com/228270 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Configure 9_3 Google tests to render to the backbuffer, 15312978, 382, 105, 382
Convert ANGLE_ENABLE_RENDER_TO_BACK_BUFFER to be a runtime option, 15312978, 382, 105, 382
Merge google/master into future-dev, 15312978, 382, 105, 382
Switch to new APIs in samples/translator/translator.cpp  Also fix a few issuse for ninja build "all" to finish.  BUG=angle:775 TEST=translator.cc compiles OK  Change-Id: I6507e9143882a628a7737dd139efb6d8d358b0db Reviewed-on: https://chromium-review.googlesource.com/227490 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixes for Angle to build with Windows GN.  Change-Id: Id38c4b11dba31b2779efa7beade481cd50f3d935 Reviewed-on: https://chromium-review.googlesource.com/227692 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix fuzzy color check in ClearTest.  This test was failing on some systems because of overly stringent color expectations.  BUG=angle:809  Change-Id: I817de315ff6de46fb87f8ed1c21e3bb62c133176 Reviewed-on: https://chromium-review.googlesource.com/225262 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fixes for Angle to build with Windows GN.  Change-Id: I5af7a1305e5a190de5367ad940186edd6baee5bc Reviewed-on: https://chromium-review.googlesource.com/227665 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use an ES3 shader spec for ES3 contexts.  BUG=angle:823  Change-Id: I377b4483b3835660e7fd45d923bf7f560cf2e5f6 Reviewed-on: https://chromium-review.googlesource.com/227593 Tested-by: Geoff Lang <geofflang@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fixed a typo in generatePointSpriteHLSL.  Change-Id: I104bbca6442835ab5e8e78580c6cbbb58d32a9b2 Reviewed-on: https://chromium-review.googlesource.com/227570 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Name mangle function prototypes and print them in interm output  This patch changes function prototype handling so that they get assigned the same kind of a mangled name as function definitions and function calls. This name is now also printed in interm output so that function prototypes can be accurately identified in the interm output.  BUG=angle:821 TEST=compiler_tests  Change-Id: Ia150b8ac5b816b8096c964767cd8666bdee28539 Reviewed-on: https://chromium-review.googlesource.com/227390 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Commit-Queue: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Changes gl::RenderbufferStorage to rx::RenderbufferImpl  BUG=angle:782  Also eliminates Colorbuffer/DepthStencilBuffer and related friends and adds the RenderbufferD3D implementation of RenderbufferImpl.  This version fixes problems with the prior CL's handling of render target serial issuance.  Change-Id: I7ddfbec1097723d7ea6ce93a9c034f941349108a Reviewed-on: https://chromium-review.googlesource.com/227195 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Force text to be white in XAML template, 15312978, 382, 105, 382
Bring new Feature Level mechanism across to future-dev, 15312978, 382, 105, 382
Fix an incorrect iteration over EGL attributes.  BUG=angle:490  Change-Id: If7a86ee0a5226f2b45e26bbadf4a84f8f605d1c2 Reviewed-on: https://chromium-review.googlesource.com/227231 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added ISwapChainPanel support  Change-Id: I26faa32804ee47cb6ad8458c90abeb93a01dfbdf Reviewed-on: https://chromium-review.googlesource.com/224991 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Regenerate projects.  BUG=angle:820  Change-Id: Ifb392fbfc7399ee504fc20abbe63218668a0574b Reviewed-on: https://chromium-review.googlesource.com/227165 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update ANGLE_platform_angle to allow requesting of Renderer versions.  Added enums to allow users to request major and minor versions of the underlying API and if a WARP device is used.  BUG=angle:490  Change-Id: I0bfb2ac8d327da28a47cc8e6346300e47ab9538c Reviewed-on: https://chromium-review.googlesource.com/225081 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added an egl::Error class and updated libEGL to use it.  BUG=angle:520  Change-Id: I792c8ddd8e8b76184f566294196d089bc9d1902a Reviewed-on: https://chromium-review.googlesource.com/223270 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Change ShaderLang APIs from c style to c++ style.  BUG=angle:816 TEST=gpu_unittestsangle_unittestswebgl_conformance  Change-Id: I0b46c11f6055a82511bb946a6dc491360835526e Reviewed-on: https://chromium-review.googlesource.com/226410 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Revert "Changes gl::RenderbufferStorage to rx::RenderbufferImpl"  This reverts commit 9fc51d90176dcf4273cd6689968e1ca5d1c9fe16.  Change-Id: I4134ebe5ef6b8f509f4cc5cc22a2d526ec43ef6d Reviewed-on: https://chromium-review.googlesource.com/226374 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fixed comments around choice of C runtime.  BUG=angle:733  Change-Id: Ia1add30d54c3a7d08effca6660f98c99cb3981c2 Reviewed-on: https://chromium-review.googlesource.com/226377 Tested-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix angle_unittests failures.  BUG=angle:815 TEST=angle_unittests  Change-Id: I4d59f227b7c72f4f456d0a60d8507d097ef05dec Reviewed-on: https://chromium-review.googlesource.com/226463 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Changed feature macros to reduce accidental enabling/disabling  Change-Id: Ieb1a0c55f412f2a1bb858522b2dfaa7a60aa7ddb Reviewed-on: https://chromium-review.googlesource.com/226304 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Reject shaders of a version that the compiler doesn't support.  For example WebGL 1.0 compiler should not compile WebGL 2.0 shaders.  BUG=angle: TEST=815  Change-Id: Iaec66fa5127426778aff6e3891e2c214048d7457 Reviewed-on: https://chromium-review.googlesource.com/226380 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Changes gl::RenderbufferStorage to rx::RenderbufferImpl  BUG=angle:782  Also eliminates Colorbuffer/DepthStencilBuffer and related friends and adds the RenderbufferD3D implementation of RenderbufferImpl.  Change-Id: Ibe72c9589b3c238b952744e7cfd70d97ec898eb9 Reviewed-on: https://chromium-review.googlesource.com/222925 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Updated Image9 to use gl::Errors for staging texture manipulation.  BUG=angle:520  Change-Id: I527a2bcadbf1abb05bd461d35ddbd7e28d487639 Reviewed-on: https://chromium-review.googlesource.com/221396 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use D3D11 Debug Annotations when D3D9 is unavailable  Change-Id: I37ac5fe7f0b2fe5e71bd7f0afca55e9894f3463c Reviewed-on: https://chromium-review.googlesource.com/224512 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove ShGetVariableInfo() and related code.  BUG=angle:775 TEST=chromium builds and runs fine  Change-Id: Ic62d3a3c9a8f034880b77a96f7f1c6be2691985e Reviewed-on: https://chromium-review.googlesource.com/226004 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Regen projects with RENDER_TO_BACK_BUFFER and debug annotations, 15312978, 382, 105, 382
Moving Uniform handling into ProgramD3D.  Moves the last references to HLSLBlockEncoder out of ProgramBinary. Only one reference to ShaderD3D remains.  BUG=angle:731 Change-Id: Ie23e24e09fbed4c8c5fab3bab814b7092a383c7f Reviewed-on: https://chromium-review.googlesource.com/220940 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Updated Image11 to use gl::Errors for staging texture manipulation.  BUG=angle:520  Change-Id: I5792b139ddd69c2cabc3b901a7067438c1ee363b Reviewed-on: https://chromium-review.googlesource.com/221395 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Updated mipmap generation to return Error objects.  BUG=angle:520  Change-Id: Ic4e57148d031d6c452b3054efad98f6e730c7691 Reviewed-on: https://chromium-review.googlesource.com/221394 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reenable SwapChainPanel in future-dev, 15312978, 382, 105, 382
MaxLOD should default to 1000.0f, 15312978, 382, 105, 382
Fix an issue with separate invariant statement.  Basically we end up with an extra "invariant xxx ;;" on GL backend.  This is not handled correctly by Mac drivers and also out shader translator.  BUG=angle:776 TEST=webgl conformance on mac/windows  Change-Id: If32867efba64ab0d3e6e690155790b90d736439f Reviewed-on: https://chromium-review.googlesource.com/225780 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add ANGLE_ENABLE_DEBUG_TRACE_TO_DEBUGGER to output trace to debugger window  Change-Id: I7be71c41b0ec3a77f508c90c2de3331c9522a11b Reviewed-on: https://chromium-review.googlesource.com/223592 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename ANGLE_ENABLE_TRACE -> ANGLE_ENABLE_DEBUG_TRACE  Change-Id: Ib70c456c8d01161e370b9165ff4daa2f0f90c840 Reviewed-on: https://chromium-review.googlesource.com/223591 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rename ANGLE_ENABLE_PERF -> ANGLE_ENABLE_DEBUG_ANNOTATIONS  Change-Id: I701cd5ee749797428171e9c58a46fce626b9a969 Reviewed-on: https://chromium-review.googlesource.com/223590 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed D3DDisassemble function dynamic GetProcAddress failure on WinRT  Change-Id: I32a345803c9183e0b9b77d529027711f8c8e1ad8 Reviewed-on: https://chromium-review.googlesource.com/225847 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix build failure on WinRT due to missing Sleep definition.  Change-Id: I9032484dde6e690fcd175d6d76192724e5bc0357 Reviewed-on: https://chromium-review.googlesource.com/225893 Reviewed-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only use the Windows 8.1 SDK for WinRT configurations.  BUG=angle:772 BUG=395405  Change-Id: If26a0ec34e6bfd0e22d20803a0bb3ac2000a8e34 Reviewed-on: https://chromium-review.googlesource.com/225531 Reviewed-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix precision tracking for built-in function return values  Previously the type of the return value of all function calls was set to the type of the return value in the function signature. This did not carry precision information.  This patch changes this so that the return value precision is set correctly for built-in functions. For single-argument math functions it mostly depends on that addUnaryMath sets the type of the return value to be the same as the type of the operand. The type is replaced but the precision information from the operand type is retained when needed. For multi-argument math functions precision is determined based on all the nodes in the aggregate after the type has been set. For texture functions the precision is set according the sampler type as per ESSL 1.0 spec. For textureSize the precision is always highp as per ESSL 3.0 spec.  BUG=angle:787  Change-Id: I48448e3ffe38656b91177dee9b60dd07a03cd095 Reviewed-on: https://chromium-review.googlesource.com/224951 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Olli Etuaho <oetuaho@nvidia.com>, 15312978, 382, 105, 382
Remove unnecessary GL API parameter validation on 9_3, 15312978, 382, 105, 382
Merge branch 'google/master' into future-dev, 15312978, 382, 105, 382
Fixed some configuration data not being added to 64-bit builds.  The Debug and Release configurations are 32-bit only.  The Debug_Base and Release_Base configurations should be used in these cases.  In the future we should not rely on defines being placed in these configurations because if ANGLE is included in another project they may not have the same configuration names and the defines will not be added. To combat this always make sure that there are appropriate #ifdef's in the headers and don't add defines that would result in poor performance if they do not exist.  BUG=angle:772  Change-Id: I2b26ffb934f8b3d5e6e556a1e87c1c5ee209c430 Reviewed-on: https://chromium-review.googlesource.com/225051 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove getData from BufferImpl.  We only ever call this method inside the D3D Renderer so we can downcast to BufferD3D and call getData on the D3D-specific type.  Leave a FIXME for handling index range validation which will need a CPU-side data cache.  Change-Id: Iaf71bc8055869a8561777b6b36f67e376a1d0b81 Reviewed-on: https://chromium-review.googlesource.com/224654 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Support compressed textures with unpack buffers.  BUG=angle:792  Change-Id: I32f32422232bd4cb04c8a70005cb51482224bf3e Reviewed-on: https://chromium-review.googlesource.com/224655 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix ASSERT failure in XFB test.  With the invariant handling changes we're also exporting gl_Position and other builtin variables from the translator where we were not previously. This was causing an assert in the XFB code where we would inadvertently assign a register to gl_Position and trip up logic further in the varying handling logic.  BUG=angle:808  Change-Id: I674902da75c572e969f9516033a85c7a7170d7d1 Reviewed-on: https://chromium-review.googlesource.com/225261 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Port DEBUG_TRACE and DEBUG_TRACE_TO_DEBUGGER defines from Google's master, 15312978, 382, 105, 382
Add robust D3D11 SRV state tracking.  This will ensure our currently set pixel and vertex SRVs match with the underlying D3D state and reduce the need for resetting them as often.  BUG=angle:756 BUG=417424  Change-Id: I42e9e25182b279871ac4cdf8da5e2ab62c8cf71f Reviewed-on: https://chromium-review.googlesource.com/225052 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Defer the creation of textures in TextureStorage9 and use Error objects.  BUG=angle:520  Change-Id: I5db70189d95babef14d48548054af4c7ff2bfc47 Reviewed-on: https://chromium-review.googlesource.com/219334 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Defer the creation of textures in TextureStorage11.  BUG=angle:520  Change-Id: If1c1f7519a84900f594701b6298b64ebf8798073 Reviewed-on: https://chromium-review.googlesource.com/219333 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove build_angle.gyp.  This file is a duplicate of angle.gyp and we can remove it now that Chrome and Blink are finished with it.  BUG=angle:460  Change-Id: Ida68c8343921ebe9a37b5bcd982e114c91febc3d Reviewed-on: https://chromium-review.googlesource.com/225053 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Compiler flags and macros added to shader debug report  The list of D3D compiler flags and macros used if compilation of a shader succeeds is added to the shader debug output.  BUG=angle:751  Change-Id: Ie84a586010787fe8d9c0dedfe9208f881058a588 Reviewed-on: https://chromium-review.googlesource.com/224970 Tested-by: Tibor Ouden den <tibordenouden@gmail.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Limit D3D11 9_3 to GL ES 2.0, 15312978, 382, 105, 382
Use a new class name for each window.  If a previous window was not cleaned up properly due to a crash in a test the subsequent windows can fail to be created because the class is not destroyed.  Work around this by always creating a unique class before creating the window.  Change-Id: Ied6b2818ef03fa12b07111d8204c3c1a6a5bd5ac Reviewed-on: https://chromium-review.googlesource.com/225080 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Templates should check whether eglChooseConfig returns a config, 15312978, 382, 105, 382
9_3 shouldn't say it's GL ES 2.0 conformant, 15312978, 382, 105, 382
Get rid of use of "static const std::string".  BUG=angle:807 TEST=angle_unittests  Change-Id: Ifa4d713deeb25d52a7aafc362a7e4630024fd511 Reviewed-on: https://chromium-review.googlesource.com/225004 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Regenerate public projects.  Change-Id: Ifcff7cba0c16775fdc99812539416ad07d88bf5a Reviewed-on: https://chromium-review.googlesource.com/225050 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix initialization sequence translation bug.  BUG=angle:805 TEST=https://www.khronos.org/registry/webgl/sdk/tests/conformance/glsl/misc/expression-list-in-declarator-initializer.html  Change-Id: I94fbdd0824dbe73034f8bf022aa53627582ad48b Reviewed-on: https://chromium-review.googlesource.com/224813 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix varying interpolation parsing.  This was broken sometime in the CollectVariables refactor.  BUG=angle:803  Change-Id: Iaa09449f02290c4547f87c1560465dc8998d957c Reviewed-on: https://chromium-review.googlesource.com/224104 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Delete the ShaderImpl on gl::Shader object destruction.  BUG=angleproject:804  Change-Id: I4d68f9283299e9fb6b907a6406c37f92f8b08dbe Reviewed-on: https://chromium-review.googlesource.com/224106 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Change the C runtime from static to dynamic.  BUG=angle:733  Change-Id: Iab9a3fbc8aa1e05f4d969016ab28bac868089487 Reviewed-on: https://chromium-review.googlesource.com/224482 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove last uses of gl::error in the Buffer classes.  BUG=angle:520  Change-Id: Id18e93b440da64360a6845a42a2664ae531b06f9 Reviewed-on: https://chromium-review.googlesource.com/218769 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always include precision in interm output if it's available  This helps with debugging precision propagation issues.  BUG=angle:787  Change-Id: Ia969481c8d933455cdafef4ae25c6ab3946bc1c2 Reviewed-on: https://chromium-review.googlesource.com/224281 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Use windows_sdk_path for the 8.0 SDK path and windows_8_1_sdk_path for 8.1.  Change-Id: I0cb4262552852ccbc772ca828a0faa7d3e63784b Reviewed-on: https://chromium-review.googlesource.com/224483 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make ShBuiltInResources comparable with memcmp  Chromium builds a std::map with ShBuiltInResources as part of the key. Comparator for == and < are needed for the map implementation.  Currently Chromium uses memcmp as the comparator. Padding in ShBuiltInResources causes uninitialized reads.  Fix this by clearing the padding with memset during ShBuiltInResources initialization.  Change-Id: I78aa3c59ce165503831aa2a67c96cf8af316c152 Reviewed-on: https://chromium-review.googlesource.com/223431 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Make commitRegion a base method of TextureD3D.  Use a helper method isValidIndex to preserve ASSERT checks.  Refactoring patch only.  BUG=angle:741  Change-Id: Ie19fa21db51cd0239a3b391de362584a9fbab2df Reviewed-on: https://chromium-review.googlesource.com/222268 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Restrict use of TexStorage more in CopyImage.  We were being too permissive in some copyImage methods when checking if we can create a render target or not. This would lead us to trying to use an inconsistent TexStorage in some cases.  Note that we do need to create inconsistent TexStorage in cases where we are doing a FBO copy *from* a mipmap-incomplete texture attachment.  BUG=angle:780  Change-Id: I5a849b5d8c53713e38cb5f5052a8bb88b3f56260 Reviewed-on: https://chromium-review.googlesource.com/224480 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix missing include of common_defines.gypi.  Change-Id: I308956a700df4d440573fbae89e67cab0f2cf482 Reviewed-on: https://chromium-review.googlesource.com/224653 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Invariant related processing.  * Fix a bug in PreProcessor for STDGL pragma. * Record all invariant settings and set them in ShaderVariable. * Write #pragma STDGL invariant(all) in GL  BUG=angle:776 TEST=https://www.khronos.org/registry/webgl/sdk/tests/conformance/glsl/misc/shaders-with-invariance.html  Change-Id: Ie28b75480deed79f0c9f26e3b98f1778d1290182 Reviewed-on: https://chromium-review.googlesource.com/223610 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove getNativeTexture from TextureImpl.  We can stop exposing this method on the GL-side now that we only use it on the D3D back-end.  BUG=angle:781  Change-Id: I3a9ecc277dcd21147881b8780849782f68b3e62e Reviewed-on: https://chromium-review.googlesource.com/222924 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Remove getSamplerStateWithNativeOffset.  This method returned a sampler state as normal with the base level automatically offset by the one or two levels we use in the D3D workaround for small compressed textures. Since this is D3D-only we can move all of the logic into the D3D classes themselves.  BUG=angle:781  Change-Id: Ie0a60877efebb41f02f4e57625a44e5fb5cce074 Reviewed-on: https://chromium-review.googlesource.com/222923 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Move Texture Serials to the base class.  It's reasonable to use the serial logic on both the GL and all other translated Renderers since we check the logic on the GL-side. Serials give us a way to identify Textures that aren't raw pointers and aren't "id". "id" has issues when Textures are deleted then re-allocated with the same value.  BUG=angle:781  Change-Id: I1a2a8b6f4ea3db915574c957c143a81e0210ec7d Reviewed-on: https://chromium-review.googlesource.com/222922 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Use immutable level count in gl::Texture.  Instead of storing a binary flag indicating if we've created immutable storage store a level count. This indicates if or if not we've created immutable storage as well as avoiding the call to the native storage to return the level count.  BUG=angle:781  Change-Id: I08a6bd086d00ddf3255262a7711628be5212b4b7 Reviewed-on: https://chromium-review.googlesource.com/222921 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Added IInspectable EGLNativeWindowType and ICoreWindow support  Change-Id: I6dd7fef72a73572d4a3deda7ce36a11da3a75c81 Reviewed-on: https://chromium-review.googlesource.com/224366 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Defer the creation of Blit9's geometry and return Errors if it fails.  BUG=angle:520  Change-Id: I5e51fec38c513419beea5ff612a6ec2fb0e81a26 Reviewed-on: https://chromium-review.googlesource.com/218768 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use a constant for the number of faces in a cube map.  BUG=angle:520  Change-Id: Ia35103059526aff2fc1b29a160d8471f4b5cbd42 Reviewed-on: https://chromium-review.googlesource.com/223107 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Removed declaration of getAttachedShaders() without implementation.  Found while working on BUG=angle:751  BUG=angle:751  Change-Id: I8a5c5383f88ecb379395d1a23e36148145ebe34d Reviewed-on: https://chromium-review.googlesource.com/224090 Tested-by: Tibor Ouden den <tibordenouden@gmail.com> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update the getRenderTarget functions to return gl::Error objects.  BUG=angle:520  Change-Id: If1f4f71972b669704eff70b5f60927d8e6ac07b3 Reviewed-on: https://chromium-review.googlesource.com/218767 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge the copyToStorage methods.  BUG=angle:741  Change-Id: I67380748ee875cc2dea61eb82a9b0d600144dc85 Reviewed-on: https://chromium-review.googlesource.com/222267 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Added IInspectable EGLNativeWindowType and ICoreWindow support"  Causing regressions in the build: http://build.chromium.org/p/chromium.gpu.fyi/builders/GPU%20Mac%20Builder/builds/20182  This reverts commit 756aebfc7afa6d0de14e96637ef396dd7b290c2d.  Change-Id: I2f4bdb5aeb429c9bbc5e655a1761704f33737841 Reviewed-on: https://chromium-review.googlesource.com/224221 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added IInspectable EGLNativeWindowType and ICoreWindow support  Change-Id: I34e443b1e194800460e441ac6cee42cf68430564 Reviewed-on: https://chromium-review.googlesource.com/224302 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix TextureD3D::setData for depth-stencil textures.  D3D11 requires us to NULL the update region parameter when updating depth stencil textures. For these textures we can't always use the subdata workaround so disable it entirely for these textures.  BUG=angle:729 BUG=365078  Change-Id: I44258dd1b8937b1aebcb3a73de835698805537e0 Reviewed-on: https://chromium-review.googlesource.com/222911 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix CopyBufferSubData validation.  We were checking readTarget twice instead of both read and write.  BUG=angle:800  Change-Id: I4096a9c4e0fdec9c77bfc25250923c188d2b43db Reviewed-on: https://chromium-review.googlesource.com/224102 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add c++0x flag to cflags on non-win platforms.  Our previous change to use static_assert leads the new wave of c++11 features.  BUG=  Change-Id: Id6d382475daa7029109dab1017a59b5ef07c18df Reviewed-on: https://chromium-review.googlesource.com/221267 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
We managed to disable NPOT textures on AMD. Reenable them.  BUG=angle:799  Change-Id: Iaa8aee1f09c8c2ac3669d6709572f76f40f21847 Reviewed-on: https://chromium-review.googlesource.com/224042 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Enable most Google tests for Feature Level 9_3, 15312978, 382, 105, 382
Revert "Added IInspectable EGLNativeWindowType and ICoreWindow support" due to build failures on Chromium FYI bots.  This reverts commit 406a3be91cc8175df95bd390425e35830778f2d5.  Change-Id: Ica2abd2e557a4fd9852d85b7fc018e3d272b6edf Reviewed-on: https://chromium-review.googlesource.com/224051 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Added IInspectable EGLNativeWindowType and ICoreWindow support  Change-Id: I9ad82b7819bcca1c05e7aa60dc2baec4a7bc403c Reviewed-on: https://chromium-review.googlesource.com/222360 Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use DXProgrammableCapture to check for capture/replay in Windows Store, 15312978, 382, 105, 382
Enhance shader debug output  glGetTranslatedShaderSourceANGLE() returns the glsl code the initial translated hlsl code the final translated hlsl code and the disassembly of the generated binary with the compiler configuration. This enhancement is only available if the define ANGLE_GENERATE_SHADER_DEBUG_INFO exists. This define is set in the debug configurations for the Windows platform.  BUG=angle:751  Change-Id: I8b15e8b25fbb0c0575a73cc876bf8f1fa7ed142a Reviewed-on: https://chromium-review.googlesource.com/221059 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use fewer string operations when debug annotations are enabled, 15312978, 382, 105, 382
Enable D3D11 debug annotations in Windows Store projects., 15312978, 382, 105, 382
Use D3D11 debug annotations when D3D9 isn't available, 15312978, 382, 105, 382
Use attributes to avoid unrolling and flatten conditionals.  [loop] and [flatten] help avoid unrolling make more shaders compile successfully. When unrolling has to happen an error X3531 is generated so we have to try compiling again without these attributes.  BUG=395048395286  Change-Id: I91ea8ac3a822ab1f1ac24907d42326e3c6c9d9af Reviewed-on: https://chromium-review.googlesource.com/222810 Tested-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update Renderer11::packPixels to return Error objects.  BUG=angle:520 BUG=394361  Change-Id: I95f2f806210ac7aea8b0c57bece610eb22d018ed Reviewed-on: https://chromium-review.googlesource.com/222481 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Set _DEBUG for debug projects and NDEBUG for release projects, 15312978, 382, 105, 382
Refactor TLS management.  Use cross-platform APIs and constants and conditionally compile the Windows-specific DllMain.  BUG=angleproject:783  Change-Id: I8fd2708ab0925cb3207010eb0e759cfc055183ab Reviewed-on: https://chromium-review.googlesource.com/222955 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Split FenceImpl into FenceNVImpl and FenceSyncImpl and refactor.  Move Windows-specific code out of Fence.cpp. Split FenceImpl based on suggestions on previous review https://chromium-review.googlesource.com/221805/ . Refactored further based on code review feedback and added first unit tests.  BUG=angleproject:774  Change-Id: I630034e1788e48ddb7722016ca22da474e785798 Reviewed-on: https://chromium-review.googlesource.com/222954 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Fix compile error on 32-bit builds.  BUG=angle:520  Change-Id: Ibd3f46ca565ddd96820ef52b140f7e99cf28a5c2 Reviewed-on: https://chromium-review.googlesource.com/223168 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Updated TextureStorage11 to use Error objects for D3D11 object creation.  BUG=angle:520  Change-Id: I2b4d3d2be99d4185ff1ff1c6521fbd66a1e771ae Reviewed-on: https://chromium-review.googlesource.com/217337 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the TextureStorage calls to associate textures to use Errors objects.  BUG=angle:520  Change-Id: Ied81c25a04d7239985cc83bb20493ce0bfd372d3 Reviewed-on: https://chromium-review.googlesource.com/217336 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added test to ensure ProgramBinary saving and loading works correctly  Change-Id: I7fa88e7e3ecf812659967867e856cc1677b8359d Reviewed-on: https://chromium-review.googlesource.com/222931 Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix PBO missing unmap in some edge cases.  We had missed a few unmap calls in NativeBuffer11::copyFromStoage. This method is only called when PBOs are used in conjunction with SubData updates or when drawing with PBOs.  BUG=angle:667  Change-Id: I04a2b78e830edb9439e25661a2676af374df439e Reviewed-on: https://chromium-review.googlesource.com/222920 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix a crash with the WebGL conformance test suite.  Undefined behavior caused by an overflowed enum was causing the translator symbol table stack to not get popped correctly when the compiler completed causing dangling symbols who's storage was reclaimed and reused when the allocation pool was popped. The error occurred in the "shader-with-reserved-words" test which passes when the compiler fails due to the use of reserved words as identifiers. As such this test would pass even if the GPU process crashes but further tests in the test suite would fail.  BUG=angle::785 786  Change-Id: I365cb55f962f8dfe409f40532effeb10b8189432 Reviewed-on: https://chromium-review.googlesource.com/223093 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Gus Fernandez <gusfernandez@chromium.org>, 15312978, 382, 105, 382
Fix FL9_3 mipmap issue caused by 9_3 not supporting MaxLOD=0.0f, 15312978, 382, 105, 382
Improve corner-case viewport emulation in 9_3, 15312978, 382, 105, 382
Reduce calls to ID3D11Device::GetFeatureLevel, 15312978, 382, 105, 382
Removed unnecessary call eglGetConfigs call from templates, 15312978, 382, 105, 382
Fix D3D11 Hazard warnings in Debug.  BUG=angle:756 BUG=417424  Change-Id: I827f1db6bb0a3ba33f116e4cfbf8556da0e884d1 Reviewed-on: https://chromium-review.googlesource.com/221220 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Implement support of unary operator "+" in translator.  BUG=angle:779 TEST=conformance/glsl/misc/struct-unary-operators.html  Change-Id: Ia827e07dcfc8ad3bbbc078e54336815be9027945 Reviewed-on: https://chromium-review.googlesource.com/222720 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Improve the TextureStorage11 SRV cache.   * Use a std::map instead of std::vector for logarithmic search time.  * Reduce the number of structs and make them private instead of    protected since they arn't used outside of the base class.  * Fix the SRV cache member name.  BUG=angle:520  Change-Id: I5158c1d46523f46158c51cd68044f7c915a3de03 Reviewed-on: https://chromium-review.googlesource.com/217335 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor Texture::storage methods to use gl::Error objects.  BUG=angle:520  Change-Id: I33bc8479815a587749bddc722ac9fe5a85f554cb Reviewed-on: https://chromium-review.googlesource.com/216648 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor Texture::copy*Image methods to use gl::Error objects.  BUG=angle:520  Change-Id: I8b6bf5d50ee0d1f796eff52919ee65823fdee6cb Reviewed-on: https://chromium-review.googlesource.com/216647 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make OSWindow a non-static member of ANGLETest.  BUG=angle:611  Change-Id: I455e1dd0ad5582191621e316c4808a2d753e9aaa Reviewed-on: https://chromium-review.googlesource.com/219867 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add workaround for Unicode compile error.  Chromium builds define UNICODE while we don't which confuses the built-in IDC_ARROW macro.  With this fix and http://crbug.com/415983 we can build angle_perf_tests in Chromium.  BUG=angle:744  Change-Id: I268a7c11a5b5355cb2485bf10faf750972cf4e30 Reviewed-on: https://chromium-review.googlesource.com/220363 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove perf tests dependency on gtest.  BUG=angle:744  Change-Id: I9272e0009238680db1a87e6cb1c1c48b2ed48dd6 Reviewed-on: https://chromium-review.googlesource.com/220362 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use Chromium perf bot output style for perf test.  The Chromium style output will allow the perf bots to collect data from our performance tests.  BUG=angle:744  Change-Id: I2ffdace688004edf2918ead2a3e2aa2a6c4daf95 Reviewed-on: https://chromium-review.googlesource.com/220361 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Import the testing/perf module from Chromium.  We can use these perf routines to make our performance test output compatible with the Chromium perf bots.  BUG=angle:744  Change-Id: I75a44786d4521fc0c7d8226f10575fcfda0fa221 Reviewed-on: https://chromium-review.googlesource.com/220360 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use GL_APIENTRY and EGLAPIENTRY instead of __stdcall directly.  BUG=angleproject:773  Change-Id: Iab098f787b966bf3999c22687af113cc9909593b Reviewed-on: https://chromium-review.googlesource.com/221796 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Refactor libGLESv2.gypi to allow libANGLE to be built on all platforms.  Required pulling angle_enable_d3d{911} into angle.gypi and definition of angle_libangle_win_sources. Pull in those sources in BUILD.gn.  Tested with local GYP build on Windows. Did not test GN build yet.  BUG=angleproject:773  Change-Id: Ia3703fe4fa2bc8a1682c1fa1667ca36268b36cc7 Reviewed-on: https://chromium-review.googlesource.com/221785 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Updated Renderer::sync to return Error objects.  BUG=angle:520  Change-Id: I8f1f095977bab3848b9215cda1127a71982858b8 Reviewed-on: https://chromium-review.googlesource.com/220800 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Perform short-circuit unfolding on separate declarations.  BUG=415694  Change-Id: I812abb21d2ab4af0b63631a23026d5860df61672 Reviewed-on: https://chromium-review.googlesource.com/221945 Tested-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Split combined declarations into separate statements.  BUG=415694  Change-Id: I7afb08a8a5ed10bbc6f7d23638daca6982f7c88b Reviewed-on: https://chromium-review.googlesource.com/221455 Tested-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Updated the FenceSync and FenceNV objects to use Error objects.  BUG=angle:520  Change-Id: I1e49b35905d8916baadb129c8aa58a11bd721500 Reviewed-on: https://chromium-review.googlesource.com/220781 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add type comparison type retrieval original name retrieval to ShaderVariable.  This is needed to effectively use the new APIs to get shader variable info.  BUG=angle::770 TEST=ShaderVariableTest  Change-Id: Ia591eb567868ebe898f4a7449c64167ad212f59b Reviewed-on: https://chromium-review.googlesource.com/221388 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add needed static_casts to GLenum for compilation on Linux.  BUG=angleproject:773  Change-Id: I8b01a1f187456eb8997fc7a620b5ecdffb872c19 Reviewed-on: https://chromium-review.googlesource.com/221810 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Enable TexSubImage workaround on D3D11.  This workaround uses UpdateResource instead of staging buffers for texture data updates. It improves performance for highly dynamic textures especially in some benchmarks eg the turbulenz particle demo.  Re-land with fix to the issue with glGenerateMipmaps.  BUG=angle:729 BUG=365078  Change-Id: I4c9398e0645176c296bf95e35eab97a44eae4319 Reviewed-on: https://chromium-review.googlesource.com/221493 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use ImageIndex in copyToStorage.  Also change the image association methods in TexStorage to use ImageIndex for consistency and compatibility.  BUG=angle:729  Change-Id: I05afa803735c9b93ae7d623fee5e6899c9ccec28 Reviewed-on: https://chromium-review.googlesource.com/221722 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use mTopLevel in getSubresourceIndex.  We need to include this in every call so might as well handle it automatically.  BUG=angle:729  Change-Id: I5c230408a9eb80c8cfcc3f0d3a4ea531fa173aed Reviewed-on: https://chromium-review.googlesource.com/221760 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix image index iterator unit test.  This test was checking out-of-bounds. The bug only showed up in Linux.  BUG=angle:741  Change-Id: I4cb45fc00dbb0bf9713f735a20fb6fd04bc95140 Reviewed-on: https://chromium-review.googlesource.com/221057 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Use ImageIndex as a parameter to TextureD3D::setImage.  This will allow us to call the TexureStorage::setData easily.  BUG=angle:729  Change-Id: I16ada583894c8c427c78de5050f7f462c96d1fd1 Reviewed-on: https://chromium-review.googlesource.com/221492 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make blit extension check for internal format mismatch.  The extension spec dictates a format mismatch generates invalid operation. Since we can't have the same internal format map to different actual/native formats this check is more strict and we can replace the previous one.  BUG=angle:769  Change-Id: Ic1b5c335ba38a4f2feaffa1478a65e7fcf7f75ea Reviewed-on: https://chromium-review.googlesource.com/221065 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Enable TexSubImage workaround on D3D11."  Probably causing WebGL CTS failures:  http://build.chromium.org/p/chromium.gpu.fyi/builders/Win8%20Release%20%28NVIDIA%29/builds/6148  This reverts commit 2d337ce0503db5f91fcf0a11591cd436dfb32cd7.  Change-Id: Ic032640f44adf337c4b3eedd4d7f3551d565a5cb Reviewed-on: https://chromium-review.googlesource.com/221397 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable TexSubImage workaround on D3D11.  This workaround uses UpdateResource instead of staging buffers for texture data updates. It improves performance for highly dynamic textures especially in some benchmarks eg the turbulenz particle demo.  BUG=angle:729 BUG=365078  Change-Id: Idd82c27845a772199caef3695111c96735e8843e Reviewed-on: https://chromium-review.googlesource.com/219864 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use COM object dynamic cast for RT resource queries.  BUG=angle:729  Change-Id: I55af209211329a7a71728e3c6d55d87154cfb45e Reviewed-on: https://chromium-review.googlesource.com/221269 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use gl::Rectangle as a param to Image::copy.  BUG=angle:729  Change-Id: I13194760df35cb18db6ac43d567e6b393e838d56 Reviewed-on: https://chromium-review.googlesource.com/221268 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Accept a second form of WARP Test renderer string.  On our Renderer test we would be overly restrictive in the forms of Renderer string we would accept for WARP. On this machine it returns a different string than the one we had in the test. Expand the test to accept both.  BUG=angle:769  Change-Id: If27644d32d6d7d0eff77ff9cca81faee3b2be4e1 Reviewed-on: https://chromium-review.googlesource.com/221066 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Restrict the tests that use ClearBuffer to ES3.  We had changed the configurations to run them in ES2 mode while ClearBuffer is an ES3-only method.  BUG=angle:769  Change-Id: I63d92af4702a133aa8bbf52444dfef59a4f602b0 Reviewed-on: https://chromium-review.googlesource.com/221064 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Updated authorship and contributors for Borbitsoft/Tibor den Ouden  Removed Borbitsoft from the AUTHORS file added Tibor den Ouden. Removed Borbitsoft from CONTRIBUTORS file company section. Moved Tibor den Ouden in CONTRIBUTORS file from company section to individual section  Change-Id: I3ab47d637d0879fde8f9dc0f714e2cb44562c897 Reviewed-on: https://chromium-review.googlesource.com/221054 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Update Program ProgramBinary and HLSLCompiler to use Error objects.  BUG=angle:520  Change-Id: Ibbe8c95780fecfb68f4558e99e3a761107da6aee Reviewed-on: https://chromium-review.googlesource.com/220790 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add option to support EXT_draw_buffers with NV_draw_buffers  After this patch it is possible to set a flag to change EXT_draw_buffers extension directives to NV_draw_buffers in ESSL. This enables users of ANGLE to emulate EXT_draw_buffers by using NV_draw_buffers in combination with GLES3.0.  Change-Id: I5dacdbd6cd0d0362424ea3791557342c42efd4bd Reviewed-on: https://chromium-review.googlesource.com/219941 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Tested-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add TextureStorage::setData.  Usually we copy data from the Image classes into the Storage. This method which will only apply to D3D11 is useful for our SubData performance workaround.  BUG=angle:729  Change-Id: I50ca8158ee9e0638f59f617b9e6170b508eaeb44 Reviewed-on: https://chromium-review.googlesource.com/219837 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use the virtual commitRegion in TextureD3D::subData.  This allows us remove the duplicated code in the various typed methods that checks for an error before committing.  BUG=angle:729  Change-Id: Icd0ad2be55ac423baec3855e05c53f4b624b6764 Reviewed-on: https://chromium-review.googlesource.com/220275 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Introduce new method commitRegion to TextureD3D.  Replacing commitRect with commitRegion which takes generic parameter types will allow us to call it directly from the base class TextureD3D. This will be useful in subsequent patches that introduce the SubData performance workaround.  BUG=angle:729  Change-Id: I37bf12f847b43f7c961b403321de19f547258b01 Reviewed-on: https://chromium-review.googlesource.com/220274 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix building angleutils.cpp on Linux  vsnprintf is defined in stdio.h according to the standard. It was not in the include chain of angleutils.cpp which broke the build on Linux on some configurations. Seems like other toolchains include the function in some non-standard way.  BUG=angle:761  Change-Id: Idcd75776e8a9b83dad182d1b4bac0beac006c6ac Reviewed-on: https://chromium-review.googlesource.com/221053 Reviewed-by: Olli Etuaho <oetuaho@nvidia.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix typos in caps generation method names.  Change-Id: I7efa752b2276cb92b4ca12ffaf7aa37c514525f0 Reviewed-on: https://chromium-review.googlesource.com/219807 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Store XFB buffers in a vector in State.  BUG=angle:685  Change-Id: I4bff717f716ba21633c59244560fd56f41f587ed Reviewed-on: https://chromium-review.googlesource.com/219806 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use a caps-dependent sized vector to store Uniform Buffers  BUG=angle:685  Change-Id: I3f2e9fcccf27aebbb4ec5485286eec9828851887 Reviewed-on: https://chromium-review.googlesource.com/219805 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Change mVertexAttribCurrentValues from fixed-size array to STL container.  BUG=angle:685  Change-Id: I42fc6c919f42cd6ab1c11531742f9a2c5ad0cd3d Reviewed-on: https://chromium-review.googlesource.com/219353 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Vertex management functions can take a State reference instead of pointers to attrib data.  BUG=angle:685  Change-Id: I0bfc26c53eb1358a023ac5d4ec20be06f9c90f4a Reviewed-on: https://chromium-review.googlesource.com/219352 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove context pointer from State  BUG=angle:685  State needs only to track a few variables from Context's caps so store those instead of a pointer to Context.  Change-Id: I36d448dcaccf9780d6df2cfc82ef975b2ba0346f Reviewed-on: https://chromium-review.googlesource.com/219804 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Disable broken D3D9 GLSL Varying tests.  Not sure at the moment if we can only disable tests in D3D9/etc but these tests are broken for D3D9 and hence we can disable them to return angle_tests to passing.  BUG=angle:769  Change-Id: I3c13f985fde99c3d885f825de60af841c8f3f0f1 Reviewed-on: https://chromium-review.googlesource.com/221067 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't run the DrawBuffers tests in D3D9.  We only support MRT on the D3D11 Renderer for now so we can skip running these tests entirely on the D3D9 back-end.  BUG=angle:769  Change-Id: I442936fe987ae1749d5ee7626f6a4737e824ac6f Reviewed-on: https://chromium-review.googlesource.com/221063 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix D3D9 varyings limits.  We were off by one varying since D3D9 treats PSIZE specially.  BUG=angle:769  Change-Id: Id5242d12c3ca42da3f3f528ff4a21445dba89701 Reviewed-on: https://chromium-review.googlesource.com/221062 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix a bug in MaxTextureSizeTest.RenderToTexture.  This bug only presented itself in our D3D9 Renderer. In D3D11 we would stretch the texture to fit -- this is behaviour correct in ES3 but not in the ANGLE spec draft.  BUG=angle:769  Change-Id: Iddb8551c9645aa6f0841e2dc9d96fbd196bc6788 Reviewed-on: https://chromium-review.googlesource.com/221061 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Accept RenderTargets as parameters to Image::copy.  This gives us the flexibility to use copy internally for Textures as well as FBO attachments. This will be useful for the TexSubImage performance workaround.  BUG=angle:729  Change-Id: I4df8ef3a5a928d44ef84100cd96a5d35f12b47fa Reviewed-on: https://chromium-review.googlesource.com/219863 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Roll gyp dependency to 1987  Change-Id: Id063785b1d0c2a4badc73d6ec828060b7893e58c Reviewed-on: https://chromium-review.googlesource.com/220843 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Cooper Partin <coopp@microsoft.com> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fixed mingw compilation.  Change-Id: I8ae33c752feb19e291e4a3b128d21a0ced883c90 Reviewed-on: https://chromium-review.googlesource.com/220761 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Freed temporary info log buffer and removed explicit destruction of char[]  BUG=angle:758  Removed explicit destruction of char[] by using std::vector<char> object.  Added Borbitsoft to AUTHORS and Tibor den Ouden to CONTRIBUTORS  Change-Id: I9c4017eb81ce3fab8b7fb4a5b4ad52a758d14a2d Reviewed-on: https://chromium-review.googlesource.com/219940 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add check for size before setting buffer data.  If data is non-null and size is zero the memory buffer may have a NULL pointer.  BUG=angle:765  Change-Id: I4cb8f54ec85fea886e37ee2d4469d26e651a916b Reviewed-on: https://chromium-review.googlesource.com/220801 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Replace usages of std::vector::data in most cases.  In some parts of ANGLE code we were using std::vector::data to get a pointer to the first element. Sadly this is c++11 only which isn't currently supported on Chromium. This was causing a breakage on Android. We should probably refrain from using data except on D3D-only code which we know will be Visual Studio.  BUG=angle:767  Change-Id: Ibc10577368435a13f62d74d77c95076482cd8f82 Reviewed-on: https://chromium-review.googlesource.com/220920 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update templates to use eglGetPlatformDisplayEXT, 15312978, 382, 105, 382
Use new pattern to request FL9_3 in Google Tests, 15312978, 382, 105, 382
Updated DEPs to use latest GYP version. Old version (1806) New version (1987), 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into future-dev, 15312978, 382, 105, 382
Fixed compilation on systems that only contain the SDK for Windows Store Applications only., 15312978, 382, 105, 382
Configure Google Tests to run against multiple renderers/GLES versions  BUG=angle:611  Change-Id: I7d43612171c439045038db9ae82fd8716c0b31c6 Reviewed-on: https://chromium-review.googlesource.com/220400 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Austin Kinross <aukinros@microsoft.com>, 15312978, 382, 105, 382
More TextureD3D cleanups.  The getLayers method was redundant and the getBaseLevelImage method we can replace with a shared TextureD3D method rather than a specialized method for each type.  BUG=angle:729  Change-Id: I80c94a765dbc369fb0bb60ec8273e9e3ba6ffeed Reviewed-on: https://chromium-review.googlesource.com/219862 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up ensureRenderTarget().  We can use the same code for this method with the only difference being in when we determine a texture image holds no pixels.  BUG=angle:729  Change-Id: I3356f5deb900c24b1a5c739ce8de99e9ce1371c0 Reviewed-on: https://chromium-review.googlesource.com/219861 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix d3d9 copyToStorage dirty flag.  This flag wasn't being set in the 2D version of this method. The bug would only cause a performance penalty on Windows XP machines.  BUG=angle:729  Change-Id: I516206740becc90438d613ae9abb3ac550733aed Reviewed-on: https://chromium-review.googlesource.com/219860 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove copyToRenderTarget methods.  These Renderer methods can be replaced with virtual TextureStorage methods now that we do not have TextureStorageInterface to complicate matters. This reduces the number of stubs in Renderer as well as allowing cleaner code re-use.  BUG=angle:729  Change-Id: I6d2004d4f1abdb1041420144cee1c173e5ab199e Reviewed-on: https://chromium-review.googlesource.com/219839 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Moved the responsibility for releasing the dest surface out of copyToSurface.  BUG=angle:520  Change-Id: I4c6c39462b43eeb0a202f731c4a54007ef16445c Reviewed-on: https://chromium-review.googlesource.com/219866 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor Texture::compressed*Image methods to use gl::Error objects.  BUG=angle:520  Change-Id: I8fd7ebf3edb3edef06e77b79776c363672931a61 Reviewed-on: https://chromium-review.googlesource.com/216646 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge the various TextureCube::setImage* methods.  BUG=angle:520  Change-Id: I4e8191dd827744ef380348a31dce7181d99fbf30 Reviewed-on: https://chromium-review.googlesource.com/216645 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor Texture::setImage and subImage to use gl::Error objects.  BUG=angle:520  Change-Id: Ib43ace0fbdab59086ae4314cce139636d9045e65 Reviewed-on: https://chromium-review.googlesource.com/216644 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix the ANGLE_ENABLE_TRACE build.  We needed to include angleutils.cpp in libtranslator for this to compile. Also allow the event helpers to record API calls even if ANGLE_ENABLE_PERF is off.  BUG=angle:513  Change-Id: I2646d5ebeae536a4a7f1cd7ecaf0ce019ce5ff76 Reviewed-on: https://chromium-review.googlesource.com/219756 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Updated the PixelTransfer class to use Error objects.  BUG=angle:520  Change-Id: I7e21acbfd5726607ea62c8fcf64d76bbf5877860 Reviewed-on: https://chromium-review.googlesource.com/216643 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a centralized workarounds module.  This is a temporary home for the various workarounds we use for performance or to solve driver issues. Eventually we will want a standalone library we can use as part of Chromium or in ANGLE standalone.  Re-land with member variable initialized.  BUG=angle:729  Change-Id: If7f8f9596a39b2855366d9a67caebf6dd4197b55 Reviewed-on: https://chromium-review.googlesource.com/219868 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Add a centralized workarounds module."  Was missing an initialization in Renderer.cpp.  This reverts commit 815a1dc3710c48ecc84539b7ffb15860f6738f6c.  Change-Id: Ia4666911c2ff58660e0ab5c7cec4431b1c30a1e1 Reviewed-on: https://chromium-review.googlesource.com/220420 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Updated to include NativeWindow concepts cleaned up project generation based on updated GYP changes., 15312978, 382, 105, 382
Add a centralized workarounds module.  This is a temporary home for the various workarounds we use for performance or to solve driver issues. Eventually we will want a standalone library we can use as part of Chromium or in ANGLE standalone.  BUG=angle:729  Change-Id: Ib0254262cad9f8fb779886dacb967be646ea96ae Reviewed-on: https://chromium-review.googlesource.com/219838 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reduce code duplication in generateMipmap.  Using the newly introduced image index struct we can simplify our code somewhat in TextureStorage.  BUG=angle:729  Change-Id: Iff274fd1df7a0dc36dd34e0cb31ad42831b4f5d5 Reviewed-on: https://chromium-review.googlesource.com/219836 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add TextureD3D::getIndex.  This is a simple virtual method which gives an ImageIndex at a particular level and layer. It's useful for handling all the texture types uniformly which all treat levels and layers differently.  BUG=angle:729  Change-Id: I72db560287272c195b1ff8555f99ab2258ac7e6d Reviewed-on: https://chromium-review.googlesource.com/219835 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add ImageIndexIterator.  We can use image index iterators to iterate over all images in a Texture. This allows us to do some operations in TextureD3D rather than in the typed subclasses and save on some repeated code.  BUG=angle:729  Change-Id: I3ba47b2eebad2cfca313117fd501ff76d5107044 Reviewed-on: https://chromium-review.googlesource.com/219834 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix gyp linux build.  ANGLE implementation unit tests was enabled by mistake on Linux.  BUG=angle:761  Change-Id: Ibdca214466a6177aa50bdb3a3f55031dc0957b90 Reviewed-on: https://chromium-review.googlesource.com/220272 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove include of util.gyp from all.gyp.  Since util.gyp doesn't have any executables there isn't any need to include it from all.gyp.  It should only be included by targets that depend upon it.  BUG=angle:761  Change-Id: Iabad2da7bca0f161d092c044ab0021568f9b6f59 Reviewed-on: https://chromium-review.googlesource.com/219759 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Moving Shader Executables into ProgramD3D  BUG=angle:731 Change-Id: I677fc9773914307184bcdd9ab7ac564956d77f6a Reviewed-on: https://chromium-review.googlesource.com/219814 Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added SurfaceHost to enable additional hosts and abstract access for EGLNativeWindowType.  Change-Id: I590b52925c6b9127d08eaf0e5ba2a0bde30505c3 Reviewed-on: https://chromium-review.googlesource.com/219488 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update Renderer::copyToRenderTarget to return Error objects.  BUG=angle:520  Change-Id: Ieab2d031d638056676e07d80aa024b6c6f12f3d6 Reviewed-on: https://chromium-review.googlesource.com/216642 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Benchmark point sprites test with several varyings.  A potential performance slowdown could be our geometry shader using extra logic in packing varyings. Test this by adding a variable number of varyings to the point sprites benchmark.  Initial tests show it could slow down the test by about 30-40% or so stil not catastrophic compared to D3D9.  BUG=angle:705  Change-Id: Ia815f0ee28e2af2d3dc4d9f5675c27bbeb4cb119 Reviewed-on: https://chromium-review.googlesource.com/216468 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a point sprite benchmark.  This benchmark will attempt to reproduce the slowdown we see in D3D11 on the turbulenz GPU particles demo.  BUG=angle:705  Change-Id: I9c4c2f09d4282feae30f448fd374cdbb6bceae9b Reviewed-on: https://chromium-review.googlesource.com/216467 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update Renderer::copyImage to return Error objects.  BUG=angle:520  Change-Id: I1bb7a53bc75ebb8bf324935b673ea636bdff6931 Reviewed-on: https://chromium-review.googlesource.com/216641 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update blit calls to return Error objects instead of calling gl::error.  BUG=angle:520  Change-Id: I94c3ad327433cf275744e98be6cb2ba91be49c0f Reviewed-on: https://chromium-review.googlesource.com/216640 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the code that writes the temporary shader file to the shader compiler.  BUG=angle:755  Change-Id: I5fdc3ae112ea3f59694a22da6199b99a568ed0a1 Reviewed-on: https://chromium-review.googlesource.com/219530 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor HLSLCompiler to use stl objects and encapulate workarounds.   * Pass std::strings for the source and profile.  * Create a wrapper struct for storing the compile configurations and pass    them to the compiler with an std::vector.  * Remove function typedefs they're available from the platform.h header.  BUG=angle:755  Change-Id: I19dd2be1655a12f76fc5718450db974a7ec324ec Reviewed-on: https://chromium-review.googlesource.com/219287 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Removed the last references to Renderer from ProgramBinary.  BUG=angle:731 Change-Id: I8829a434e59279b1b9c37e9a1922ae05d467b376 Reviewed-on: https://chromium-review.googlesource.com/219421 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Rename GN public variables.  forward_dependent_configs_from => public_deps direct_dependent_configs => public_configs  Change-Id: I93beca2109181a2aac8d5793c3464b3af8b6ab9b Reviewed-on: https://chromium-review.googlesource.com/219695 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brett Wilson <brettw@chromium.org>, 15312978, 382, 105, 382
Make EVENT() macro do something useful in Windows Store apps when ANGLE_ENABLE_TRACE is defined, 15312978, 382, 105, 382
Fix window resizing in Windows Store apps., 15312978, 382, 105, 382
Removed the last references to DynamicHLSL from ProgramBinary.  Migrated several more non-generic values from ProgramBinary the D3D impl.  BUG=angle:731 Change-Id: Ic043dd75328cffbc6bef6556da801c382b4138bc Reviewed-on: https://chromium-review.googlesource.com/219390 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix some texture support queries ORing extensions instead of ANDing.  A couple of formats that required two extensions would OR the checks together when they should have ANDed them and allowed the validation to be too permissive.  Fixed the checks and added a new one that needs to OR the extension checks together to verify GL_DEPTH24_STENCIL8_OES support.  BUG=angle:752  Change-Id: I2e1e12fd428358e975cd22eb685b9a8fb797161f Reviewed-on: https://chromium-review.googlesource.com/219094 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the requirement that a format must be texturable to be renderable.  Previously to determine if a texture format was renderable the texturable and renderable fields had to be and-ed together.  This caused issues for formats such as D24S8 which can be renderable but not texturable depending on available extensions.  Made the renderable flag a complete check that may be different than the textureable flag and removed assumptions that a format is texturable if renderable from the code.  GL_DEPTH24_STENCIL8 now checks for ANGLE_depth_textures for texturability and ANGLE_depth_textures or OES_packed_depth_stencil for renderability.  BUG=angle:752  Change-Id: I6d197cee72cc249e5996fa395303bdf43d246a87 Reviewed-on: https://chromium-review.googlesource.com/219093 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the draw calls to return Error objects.  BUG=angle:520  Change-Id: I3330ba2dbe095fc9460789822a938420a80a149f Reviewed-on: https://chromium-review.googlesource.com/213823 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Updated the swizzle generation functions to use Error objects.  BUG=angle:520  Change-Id: I01b3cdb7d6719582fa8a57f21218705f6743a7b0 Reviewed-on: https://chromium-review.googlesource.com/217103 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Emulate large and negative viewports on all 9_3 devices., 15312978, 382, 105, 382
Actually merge remote-tracking branch 'origin/master' into ms-master, 15312978, 382, 105, 382
Merge master into ms-master, 15312978, 382, 105, 382
Create test configuration include guards  BUG=angle:501  Change-Id: I0281cf6de4fbf8ddd142b7af4ea2917f0a0a1569 Reviewed-on: https://chromium-review.googlesource.com/218840 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Use a D24S8 format to back GL_DEPTH_COMPONENT32_OES in D3D9.  Looks like the D3D9 D32 format isn't available on most GPUs (and doesn't exist in D3D11) so back GL_DEPTH_COMPONENT32_OES with D24S8 instead to match D3D11.  BUG=angle:750  Change-Id: I0f7a124544c1c14ba21db20fbf6765d07e244966 Reviewed-on: https://chromium-review.googlesource.com/219080 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a NULL dereference on buffer initialization.  In some cases where the user would create a buffer with NULL (empty) data we would attempt to dereference NULL when drawing with the buffer as a vertex attribute.  BUG=angle:749  Change-Id: Ied5ecbab4608c85890cdf7cc32a8dae46989e33b Reviewed-on: https://chromium-review.googlesource.com/219090 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove rx::TextureStorageInterface entirely.  This class provides no added benefit now that we've scrapped the type-specialized classes. We can squash it's functionality into TextureStorage instead.  BUG=angle:741  Change-Id: I04984806719a01f299986265fe09b3cccf04dca5 Reviewed-on: https://chromium-review.googlesource.com/218316 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Squash the TextureStorageInterface heirarchy.  Since there are no longer any significant differences in the child classes of TextureStorageInterface we can scrap the different implementations. This involves changing the function names of some Renderer functions which relied on overloading.  BUG=angle:741  Change-Id: I074797e4ac0bf3ecf8fe4bddf84eaed28b1a2c23 Reviewed-on: https://chromium-review.googlesource.com/218315 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move generateMipmap to storage interface base class.  Using a little bit more of code repetition allows us to move the implementation of the mipmaps to a simple virtual interface in TextureStorage.  BUG=angle:741  Change-Id: I7661d0cc3bdb02b646da0802cba285650d7832b2 Reviewed-on: https://chromium-review.googlesource.com/218314 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use ImageIndex in getRenderTargetSerial.  Also move getRenderTargetSerial to the TextureStorageInterface base class since it shares a common interface.  BUG=angle:741  Change-Id: I1bc1cfac6426e241ac91d373884a7dd8a1c5b188 Reviewed-on: https://chromium-review.googlesource.com/218313 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Updated the vertex buffer classes to use Error objects.  BUG=angle:520  Change-Id: Id003e66b2acbf37dbbe66aaca2fa336c3c884be2 Reviewed-on: https://chromium-review.googlesource.com/217102 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Renderer11 signed/unsigned warning in 32-bit.  Change-Id: I1e11f54b0ae245cdd7e090ab0748821738ad6314 Reviewed-on: https://chromium-review.googlesource.com/218761 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use dynamically sized containers for texture and sampler bindings.  BUG=angle:685  Change-Id: I7af97a95deee69fbdebca2b57403244f45516e67 Reviewed-on: https://chromium-review.googlesource.com/216564 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use ImageIndex in getRenderTarget.  Also change ImageIndex to allow invalid indexes for layer. In 3D indexes sometimes the layer parameter is invalid indicating we index an entire mip level instead of a layer of a mip level.  BUG=angle:741  Change-Id: I7b410f9aaf568f215bb93ae063934669a8fa09bd Reviewed-on: https://chromium-review.googlesource.com/218312 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't skip draw calls on zero-sized viewports.  If transform feedback is active primitives still need to be rendered even if no pixels are written to the framebuffer.  Instead of checking for active transform feedback simply remove the draw call skipping optimization since it is most likely an application mistake to draw with a zero sized viewport and we shouldn't optimize for this case.  This change doesn't affect the clear calls because the viewport is set to the framebuffer size which is non-zero.  BUG=angle:743  Change-Id: I04af9d6de5aad3040e3c6b3c24990e107e21ad36 Reviewed-on: https://chromium-review.googlesource.com/218508 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix remaining vertex attribute formats on 9_3., 15312978, 382, 105, 382
Fix template README formatting when displayed on GitHub., 15312978, 382, 105, 382
Improve D3D11 varying packing when there are more varyings than registers.  BUG=angle:738  Change-Id: I0599840fc79d571230acf26105d512322bcffdcd Reviewed-on: https://chromium-review.googlesource.com/214108 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix incorrect error check.  The registers variable became a pointer but this error check was not updated.  BUG=angle:743  Change-Id: Id2cd7b5ba39180281a3bbc408cd7c31bc663500c Reviewed-on: https://chromium-review.googlesource.com/218507 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge the sampler uniform application into ProgramBinary::setUniform.   * Fixes incorrect dirty checks for the dirty sampler mappings flag.  * Fixes WebGL tests:    * conformance_canvas_texture_bindings_unaffected_on_resize    * conformance_reading_read_pixels_test    * conformance_uniforms_uniform_default_values  BUG=414450  Change-Id: I132dbc301a236aef153fb6da4c6b64c36b0ba3f3 Reviewed-on: https://chromium-review.googlesource.com/218501 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix enum in FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE query.  We were using DEPTH_STENCIL instead of DEPTH_STENCIL_ATTACHMENT.  BUG=angle:739  Change-Id: I0c746c374577dca2b965dfd7ccfac793f7075efb Reviewed-on: https://chromium-review.googlesource.com/218592 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Accept ImageIndex in TextureD3D::subImage and getImage.  This paves the way for setting data on the TextureStorage directly instead of working through the Image objects.  BUG=angle:741  Change-Id: I3be3d5f9b2e45707c1630b74ad3f4789e034c3fd Reviewed-on: https://chromium-review.googlesource.com/218311 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix the varying sort comparator in ShaderD3D.  The comparator was actually a <= operator while sort requires a strict < operator. This was causing a potential assertion failure.  Bug report from Kerim Borchaev.  BUG=angle:742  Change-Id: I37c2925ab0b85e70ee1b2be3c72c6ddc062e8d28 Reviewed-on: https://chromium-review.googlesource.com/218506 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move validation of ANGLE_instanced_arrays to the validation layer.  BUG=angle:520  Change-Id: Idb3c50235a7029e72c58bc202aba0cfab735202a Reviewed-on: https://chromium-review.googlesource.com/218510 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Don't modify the function parameters in ProgramBinary::setUniform.  BUG=414450  Change-Id: Ib5ebf18e57af671b8694ffcfc3cb152557f7f002 Reviewed-on: https://chromium-review.googlesource.com/218500 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Prevent Image11 null dereference on its Renderer11, 15312978, 382, 105, 382
Added IPropertySet support for creating EGL surfaces with custom properties., 15312978, 382, 105, 382
Add several missing header guard comments  These were causing build failures under GCC.  Change-Id: Iba19ed166f909fe559d19731f31849770619f412 Reviewed-on: https://chromium-review.googlesource.com/218580 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
gn: Fix source paths  Change-Id: Idf0c746d7e4e9f03b176744e8ff027be2d5f25ad Reviewed-on: https://chromium-review.googlesource.com/218520 Reviewed-by: Brett Wilson <brettw@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Cem Kocagil <ckocagil@chromium.org> Tested-by: Cem Kocagil <ckocagil@chromium.org>, 15312978, 382, 105, 382
Update Queries to return Error objects instead of calling gl::error.  BUG=angle:520  Change-Id: If8f2bb1c4de7b9cc30861a06aab1d89c97305b26 Reviewed-on: https://chromium-review.googlesource.com/216699 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix up ANGLE_ENABLE_TRACE_OUTPUT., 15312978, 382, 105, 382
Moving more D3D-only logic into ProgramBinaryD3D  BUG=angle:731  Change-Id: Ia62ec9a912c8bd63fcee51ca206d52688dd999da Reviewed-on: https://chromium-review.googlesource.com/217495 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Remove dead RenderbufferStorage::getDepthBuffer.  This code was unused.  BUG=angle:732  Change-Id: I764d7c5624bdb81650e05a22c4ef0431c2002b18 Reviewed-on: https://chromium-review.googlesource.com/217331 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a helper to replace FBO attachment's getSerial.  Ideally we could store a render target serial in the render target itself. For now this helper function allows us to finally stop exposing rx::RenderTarget from gl::Texture.  BUG=angle:732  Change-Id: I4ffc5e0af6f0542212ad4e74adced21ebbd89462 Reviewed-on: https://chromium-review.googlesource.com/217330 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an attachment helper to replace getRenderTarget.  We would like to stop exposing rx::RenderTarget to any GL-layer code like the Context or Framebuffer. Then we can pull any necessary information inside the Renderer back-ends.  BUG=angle:732  Change-Id: Ifa35218f097c528e616d732bda4bcd8e5f1c3843 Reviewed-on: https://chromium-review.googlesource.com/217029 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix signed-unsigned mismatch  Change-Id: Ie7fba8a0fd0475a395205139c4f7169cc94e61b7 Reviewed-on: https://chromium-review.googlesource.com/217510 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Updated the index buffer classes to use Error objects.  BUG=angle:520  Change-Id: Ifc249058a3ed3ffffe163a9e3ec21d6fc8c75bd0 Reviewed-on: https://chromium-review.googlesource.com/217101 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only allocate the streaming index buffers when they are first needed.  BUG=angle:520  Change-Id: I111e4fd830ad19f6a4ff50749ba891fc14f9154b Reviewed-on: https://chromium-review.googlesource.com/217100 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the counting IB from IndexDataManager to Renderer9.  BUG=angle:520  Change-Id: Ice0a04b296af6c0a61a604f629b08603e594bb0b Reviewed-on: https://chromium-review.googlesource.com/216919 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the RenderStateCache to use Error objects.  BUG=angle:520  Change-Id: I14e2a84c6d2e6f98a50395b63ac206e32bc10f8b Reviewed-on: https://chromium-review.googlesource.com/216918 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add queries for attachment targets.  Queries for the FBO attachment Textures and Renderbuffers allow us more options than specific methods for querying the texture storage or texture serial.  BUG=angle:732  Change-Id: Ieb4ddca3955fcf716dbf54331524d0c1e25fe946 Reviewed-on: https://chromium-review.googlesource.com/217028 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Add a TexSubImage benchmark.  Currently we are about 2x as slow on this micro-benchmark in D3D11. Preliminary testing suggests using CopySubresourceRegion gives improved performance across the board but testing could disprove this hypothesis.  Modified from a sample from bajones.  BUG=angle:705  Change-Id: Iedf36a4e7b9b9bbed308302fd2bf3912acacbd2c Reviewed-on: https://chromium-review.googlesource.com/216272 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Win32Window::resize breaking angle_tests.  We were messing up the client rect on resize which caused the ReadPixels checks to mess up around the window edges. Disabling the window styles on the test windows masked this bug. Fix this by using a style-less child window inside the parent window. This gives us access to window styles for the samples project along with the ability to use tiny 1x1 windows for testing.  BUG=angle:730  Change-Id: Ic6dd931df7b4e32fbbcacbb004d3bbc49917f658 Reviewed-on: https://chromium-review.googlesource.com/217024 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Get stencil buffer clear parameters format directly.  The state layer should not be querying render targets directly since they are not a GL concept.  BUG=angle:732  Change-Id: I5ee96ae54cced8a32c5082ddd9f8796a975e2591 Reviewed-on: https://chromium-review.googlesource.com/213971 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Only use direct buffers for static data in D3D11.  For highly dynamic data which gets updated every frame or almost every frame we're better off using our existing dynamic buffer path. We could further optimize the dynamic buffer path by only uploading changed data every frame.  BUG=angle:705  Change-Id: Icbb357b889be789b30f73067f75b13664c806929 Reviewed-on: https://chromium-review.googlesource.com/217280 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Starting refactor of ProgramBinary  This is gonna take a while...  BUG=angle:731 Change-Id: Ief72c3361b6429f3f6e0bc2d2ea0810d523ff178 Reviewed-on: https://chromium-review.googlesource.com/215661 Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Squash the Texture attachment classes into one.  BUG=angle:732  Change-Id: Ib6b26fe1351bc09e729178f6ec8b8d2ec1f7ff58 Reviewed-on: https://chromium-review.googlesource.com/213970 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Optimize dynamic buffers."  This reverts commit 3e3813f787ee5e8bb7808eed539a606a4e2e3fd3.  Conflicts: 	src/libGLESv2/renderer/d3d/d3d11/Buffer11.cpp  Change-Id: I6470059672d3b377ce0fafbc8b637318a91f62c8 Reviewed-on: https://chromium-review.googlesource.com/217106 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move assertion into if-block.  Since the loop always goes up to MAX_VERTEX_ATTRIBS the ASSERTION may be triggered even though no more attributes are enabled.  BUG=angle:740  Change-Id: I2bb30d7e9f426ae1a0b8250e65c1fd02107973ac Reviewed-on: https://chromium-review.googlesource.com/217027 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the ReadPixels calls to return Error objects instead of calling gl::error.  BUG=angle:520  Change-Id: I2ead221e7d1f02cf088b60d0e98376fcd68dde8e Reviewed-on: https://chromium-review.googlesource.com/211441 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update clear calls to return Error objects instead of calling gl::error.  BUG=angle:520  Change-Id: I474a6ed29b882963f7f3425515e7d65f8f69b3e4 Reviewed-on: https://chromium-review.googlesource.com/211440 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update Buffers to return Error objects instead of calling gl::error.  BUG=angle:520  Change-Id: I4b6af8e2d4fae97639518e2acd26e2d4be93c925 Reviewed-on: https://chromium-review.googlesource.com/209881 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Eliminate typed render target Texture attachment method.  More convergance to the base TextureAttachment class.  BUG=angle:732  Change-Id: I9aae1a49ab3908a4eb4cec4bce201b88a7d93926 Reviewed-on: https://chromium-review.googlesource.com/213859 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Use ImageIndex to return Texture attachment properties.  This and subsequent patches will eliminate the need for typed attachments.  BUG=angle:732  Change-Id: Ia1cfa672855b577f7a2ce219e6ed8ca1e3e16cc1 Reviewed-on: https://chromium-review.googlesource.com/213858 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix typo in "PixelShaderOuputVariable".  Change-Id: I2b223c9b80faa3ff2a0f94bd52ca73edf3d67cf7 Reviewed-on: https://chromium-review.googlesource.com/216273 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Drop support for the old "full multiplexed" MRT shaders.  This will simplify the code somewhat. It should no longer be necessary now that we have the nVidia workaround.  BUG=angle:705  Change-Id: I1abe1abd9f03472341ce4315975a76c56b252bb4 Reviewed-on: https://chromium-review.googlesource.com/216111 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Enable MRT pixel shader rewriting.  Writing to all 8 pixel outputs was causing performance problems on Intel and AMD. Enabling Geoff's work to rewrite our pixel shaders solves the regression.  This patch also includes a workaround to the nVidia driver bug where it would ignore NULL RT values in OMSetRenderTargets by compacting the RT list to skip NULL values.  BUG=angle:705 BUG=365078  Change-Id: Ia68af6f0ccd5f10c484d6f76297a0bec694948f0 Reviewed-on: https://chromium-review.googlesource.com/214852 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use attachment binding points for dynamic PS key.  Because our output signature is only dependent on the arrangment of the attachments not the attachment type use the output layout key for now. If we need to we could store both in the future.  BUG=angle:705  Change-Id: I3b99954d30b91a4741fdd6f48f8ffcf88c0bea7a Reviewed-on: https://chromium-review.googlesource.com/215846 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Declare commit_id a gyp 'hard_dependency'.  Hard dependencies are marked for static library targets unlike normal soft dependencies which the static libraries ignore. This change ensures we run the commit_id script before compiling any static libraries that depend on it.  Change-Id: Ic29652012883273810c2863132d6f49bd6ada4b8 Reviewed-on: https://chromium-review.googlesource.com/216461 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix MSVC librarian warning about no target machine.  We had the appropriate setting in our linker settings but were missing the entry in our librarian settings. The new static lib target exposed the error.  Change-Id: I689ccb3cd6dbf2218c869b33500aaef43b8a421f Reviewed-on: https://chromium-review.googlesource.com/216460 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a new TextureAttachment class to simplify FBO attachments.  This single class will eventually replace the four child classes.  BUG=angle:732  Change-Id: Ie2862b4458c8b1302ff4fc5fbe0e4ded3b81894d Reviewed-on: https://chromium-review.googlesource.com/213857 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an ImageIndex helper struct to index into tex levels.  This encapsulates the three values needed to index into the image array. It will simplify the logic for querying texture images from the base calss.  BUG=angle:732  Change-Id: I31c55b3f972fd4d96ab540ec8498ef4b9b2ba16b Reviewed-on: https://chromium-review.googlesource.com/213856 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor Framebuffer::invalidateSub.  Use our new helper methods to simplify this method.  BUG=angle:732  Change-Id: I56b837678d5efbc60de6de4bdb01447ca811e71d Reviewed-on: https://chromium-review.googlesource.com/213855 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Use libANGLE to reduce duplicated ANGLE source compiles.  libGLESv2_static and libGLESv2 can re-use the same object files.  BUG=angle:733  Change-Id: I894f4b5b6fbc1fc47812609d9e996691daf9f318 Reviewed-on: https://chromium-review.googlesource.com/214188 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Retrieve render colorbuffers as a single vector.  Making all our render methods query FBO attachments for rendering in one place will allow us to easily control the MRT peformance workaround and simplify the implementation.  BUG=angle:705  Change-Id: I6c476d45b81228d6ffe8831347443994237e3593 Reviewed-on: https://chromium-review.googlesource.com/215843 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Mark shared and std140 UBOs as always active.  This aligns ANGLE with the GL spec. With this fix we pass all of the dEQP conformance tests in Functional / Uniform Buffer Object that don't rely on single buffers.  BUG=angle:507  Change-Id: I6063a416e3f7ee6d5327d96850e3d0cc8521c817 Reviewed-on: https://chromium-review.googlesource.com/213506 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move CollectVariables to sh namespace.  BUG=angle:466  Change-Id: I903ea840e333dfeb44f242a1759aed39974d0510 Reviewed-on: https://chromium-review.googlesource.com/213505 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use the CollectVariables path on the HLSL translator.  This approach consolidates our two methods and lets us reuse the same code for both methods of variable collection.  BUG=angle:466  Change-Id: Ie92f76ff0b6d0d0dbfd211a234d0ab86290fa798 Reviewed-on: https://chromium-review.googlesource.com/213504 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Compact the D3D shader specializations into one.  BUG=angle:731  Change-Id: I4f35a05aeea130f9011ec62cfe931ed23e2681c9 Reviewed-on: https://chromium-review.googlesource.com/214871 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move shader variables into the base impl.  These variable types apply across shader types. Either we'll want a way to cache them after we query them or we'll do a pre-parse pass similar to our current Chromium GLSL to GLSL pre-pass where we store the variables in ANGLE. In either case they're shared across GL implementations so make sense as queries from gl::Shader.  BUG=angle:731  Change-Id: I23f5541423abb4af87a2bc2fc1e9f4047fd2ff90 Reviewed-on: https://chromium-review.googlesource.com/214870 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix memory leaks in angle_unittests.  Call ShDestruct() to destroy the compiler objects to avoid memory leaks.  BUG=angle:737  Change-Id: I71a8ddfe67c9d8c7b4e5b5683c69dd578fc38c66 Reviewed-on: https://chromium-review.googlesource.com/215860 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Sudarsana Nagineni <sudarsana.nagineni@intel.com>, 15312978, 382, 105, 382
Use GL-like methods for InvalidateFramebuffer calls.  This will faciliate the MANGLE implementation.  BUG=angle:732  Change-Id: I0e4d569667e03305c9cca8d7c23154c70fb71eeb Reviewed-on: https://chromium-review.googlesource.com/213854 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Move logic of InvalidateFramebuffer to Framebuffer.cpp.  This method will translate to an implementation call.  BUG=angle:732  Change-Id: Ida1e3c9cccd94f7d166cc9a785708c12bfc52da5 Reviewed-on: https://chromium-review.googlesource.com/213853 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix use of references with va_start  BUG=angle:736  va_start behavior is undefined if the second parameter is a function array or reference type. clang produces a warning for this while MSVC does not.  Change-Id: I0bc2805e312e3542aac816f10a257e2f1cfad128 Reviewed-on: https://chromium-review.googlesource.com/216010 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Replace getDepthStencil with getRenderTarget.  In all places where we called this method we treated a NULL return value as an internal error. This implies to me that we don't need the two getRenderTarget and getDepthStencil methods since we aren't using them to check if a surface is depth or stencil.  BUG=angle:732  Change-Id: I4d1dc148abf3383b1b101bbff4f4d22de27ad03e Reviewed-on: https://chromium-review.googlesource.com/213852 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Clean up Query classes.  BUG=angle:717  Change-Id: I8f29f24964a9661d9f0bea5dca48cebddbf9b0b2 Reviewed-on: https://chromium-review.googlesource.com/211136 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Removed unnecessary call to eglMakeCurrent( ) in XAML template., 15312978, 382, 105, 382
Expand the SubData benchmark.  BUG=angle:705  Change-Id: I9bd29bb35ad6c240bf141b9449bb613d2e00f828 Reviewed-on: https://chromium-review.googlesource.com/213811 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added BufferSubData benchmark.  BUG=angle:705  Change-Id: I65d557f35e4c9f1d94853a775330a92b7d428847 Reviewed-on: https://chromium-review.googlesource.com/213810 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix 64-bit use of Win32Window.  An incorrect call to SetWindowLongPtr was crashing the 64-bit test.  BUG=angle:705  Change-Id: I3815bb0a1308f5e66e74faead37c0ae09f975a10 Reviewed-on: https://chromium-review.googlesource.com/214883 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Converted ProgramBinary to use Context caps instead of Renderer  BUG=angle:731 Change-Id: I9bbce69cabf767fb5fb2c94f437a9950bc79d1aa Reviewed-on: https://chromium-review.googlesource.com/215370 Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix GL_BYTE vertex attribs on FL9., 15312978, 382, 105, 382
Use the specified Program instead of current in GetUniform.  This bug slipped in with the GetUniform validation refactor.  BUG=angle:571  Change-Id: I2b87e6fe98224ba99c5b21a71d66b197fd618741 Reviewed-on: https://chromium-review.googlesource.com/214872 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update validation functions to use new error mechanisms.  BUG=angle:520  Change-Id: I1c64af2e57cf2d89138bd23da2b07d5873742e4e Reviewed-on: https://chromium-review.googlesource.com/209880 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add caps for transform feedback limits from table 6.34.  BUG=angle:658  Change-Id: Ifd8c620080c8de486ffb7c8f9e985be1aba516c1 Reviewed-on: https://chromium-review.googlesource.com/207376 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add caps for the aggregate shader limits from table 6.33.  BUG=angle:658  Change-Id: I59d0cd131114fcb925f01d83d218a657f4498a2a Reviewed-on: https://chromium-review.googlesource.com/207375 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a README file for the ANGLE github page.  Change-Id: I8f1dfe43521f9a7a8f8d0a388e1b70f2e70a6e24 Reviewed-on: https://chromium-review.googlesource.com/214482 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a performance tests target.  Include a preliminary implementation of a simple benchmark app.  BUG=angle:705  Change-Id: I627450f6fdf01ed2054a50bd2327b7b9128c86f5 Reviewed-on: https://chromium-review.googlesource.com/214230 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Removed common_includes.h reordered includes.  Since we are not using precompiled headers anymore remove common_includes.h so that fewer files are included in cpp files.  Reordered includes to be in the following order:  1) Local ANGLE project headers ordered by directory in descending depth  2) GL headers  3) STL headers This helps enforce the include-what-you-use principal by reducing the number of STL headers unexpectedly shared between files.  This include order conflicts with some of the Google c++ style guide which states that STL includes should be first but this helps us catch more issues.  Change-Id: I8f7785f4ad574e253dd3c7b4fb1e54d3ce3b99fc Reviewed-on: https://chromium-review.googlesource.com/214850 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make OSWindow destructor virtual.  BUG=angle:734  Change-Id: I6deb639abc26a314dd890189613e0a3a2e1be1d2 Reviewed-on: https://chromium-review.googlesource.com/214714 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Moved DynamicHLSL into renderer/d3d  Obviously D3D-only class is obvious. :)  BUG=angle:731  Change-Id: Ide54e76a8b9bacb9b6834e2cb0a801140eecfe46 Reviewed-on: https://chromium-review.googlesource.com/213862 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
More shader refactor cleanup  Removed VertexShader and FragmentShader in favor of using a single Shader object Used VertexShaderD3D and FragmentShaderD3D directly when appropriate.  BUG=angle:731 Change-Id: Ib1ffdf85ee0bfa7c88bb9ddb1029ccbd63a9dbe1 Reviewed-on: https://chromium-review.googlesource.com/213840 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Revert "Fixes a compilation error when ANGLE_DEFAULT_D3D11 is defined."  The condition would always evaluate to true since we define ANGLE_DEFAULT_D3D11 as zero.  This reverts commit 10f05630a9a65514e74ec235a129104a5101d582.  Change-Id: I39304398be149d09a8f65a6cf44400b3672ed730 Reviewed-on: https://chromium-review.googlesource.com/214715 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a compilation error for the ES3 CTS in 64bit.  The generated obj file was too large it required an extra MSVC flag for this particular project.  BUG=angle:497  Change-Id: I833a78611da78b0ac5a308547d11a911428ea04c Reviewed-on: https://chromium-review.googlesource.com/214684 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove remnants of old PCH code.  Remove the precompiled.cpp file which was producing a build warning and rename the header to make it clear we no longer support PCH.  BUG=angle:  Change-Id: I944081ae477b1478ca9c18924fb02bb920d420a7 Reviewed-on: https://chromium-review.googlesource.com/214187 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix row-major layout tracking in interface blocks.  Some block field types such as nested structs were bugged. This only affects our "CollectVariables" path not our current HLSL UBO path.  BUG=angle:466  Change-Id: I2b8daf58aa7ec1ad06a80d38f57e76087eacccdc Reviewed-on: https://chromium-review.googlesource.com/213503 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Refactoring Shader objects (Take 2)  This change refactors shaders to no longer be dependent on D3D-only concepts.  BUG=angle:731 Change-Id: I1006112f1d31b7e41bd14bd3225ea157b7d6c6c9 Reviewed-on: https://chromium-review.googlesource.com/214467 Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Refactoring Shader objects"  This reverts commit 537dfde52a33d621ab1198c949a81b09a1269b2e.  Change-Id: I5eb8923ac8f78877e6e77a8cd897021e56ee004a Reviewed-on: https://chromium-review.googlesource.com/214466 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Refactoring Shader objects  This change refactors shaders to no longer be dependent on D3D-only concepts.  BUG=angle:731 Change-Id: I4fc1efeba9df4f873b3d7c8ba6f67f00b6532b9c Reviewed-on: https://chromium-review.googlesource.com/213803 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix GetUniform validation.  We were missing a check for an out-of-bounds Uniform which could cause us to miss an error and also give assertion failures.  BUG=angle:571  Change-Id: I844658a82ce13ea179a2358a202733c54bc2c0c7 Reviewed-on: https://chromium-review.googlesource.com/212934 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor GetUniform validator helpers.  BUG=angle:571  Change-Id: I7b36c7af38b102a24dc0e5d5d87fc042533e90af Reviewed-on: https://chromium-review.googlesource.com/212933 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move GetUniform size validation to top layer.  BUG=angle:571  Change-Id: Ie7064cf85f6a125ccd6cdf1bff89443520e2a06d Reviewed-on: https://chromium-review.googlesource.com/212932 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use shared compile helpers in the ANGLE tests.  BUG=angle:730  Change-Id: Ib3bd646c73355449105e6cf79bdcf0a14b391fd2 Reviewed-on: https://chromium-review.googlesource.com/213550 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add some shared utility methods to the utils project.  BUG=angle:730  Change-Id: I268c7f76ee9a14ab82f646ae8ebf4eed100bf86d Reviewed-on: https://chromium-review.googlesource.com/213509 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use EGLWindow in ANGLETests.  This completes the refactor to use the same code for EGL and OS Window creation for samples and tests.  BUG=angle:730 TEST=angle_tests  Change-Id: Ib6de89f5bf83c0730a66f662cd1f87351f36a5f7 Reviewed-on: https://chromium-review.googlesource.com/213297 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move GetUniform validation to the validation layer.  BUG=angle:571  Change-Id: Id1b7afb22d8bd52dbf7f95f4e8cac3fc8f798596 Reviewed-on: https://chromium-review.googlesource.com/212931 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixes a compilation error when ANGLE_DEFAULT_D3D11 is defined.  Change-Id: I09853b4565d5458ce4c318611a6495ec265fa8de Reviewed-on: https://chromium-review.googlesource.com/213899 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Tidy up some files after the last merge., 15312978, 382, 105, 382
Merge branch 'master' into future-dev  Conflicts: 	projects/samples/hello_triangle.vcxproj 	projects/samples/mip_map_2d.vcxproj 	projects/samples/multi_texture.vcxproj 	projects/samples/multiple_draw_buffers.vcxproj 	projects/samples/particle_system.vcxproj 	projects/samples/post_sub_buffer.vcxproj 	projects/samples/sample_util.vcxproj 	projects/samples/sample_util.vcxproj.filters 	projects/samples/simple_instancing.vcxproj 	projects/samples/simple_texture_2d.vcxproj 	projects/samples/simple_texture_cubemap.vcxproj 	projects/samples/simple_vertex_shader.vcxproj 	projects/samples/stencil_operations.vcxproj 	projects/samples/texture_wrap.vcxproj 	projects/src/libEGL.vcxproj 	projects/src/libEGL.vcxproj.filters 	projects/src/libGLESv2.vcxproj 	projects/src/libGLESv2.vcxproj.filters 	src/common/angleutils.h 	src/libGLESv2/Caps.cpp 	src/libGLESv2/Caps.h 	src/libGLESv2/Renderbuffer.h 	src/libGLESv2/renderer/d3d/d3d11/Renderer11.cpp 	src/libGLESv2/renderer/d3d/d3d9/Renderer9.cpp, 15312978, 382, 105, 382
Allow app to specify EGL Window extra parameters.  Extra parameters include pixel bit sizes swap interval and if we want multisampling. This gives parity between the tests and samples EGL creation options.  BUG=angle:730  Change-Id: I68d619c2ea141794f0089456bb6bba3d3b1c2a07 Reviewed-on: https://chromium-review.googlesource.com/213296 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use OSWindow with angle_tests for Window management.  BUG=angle:730  Change-Id: I409fd4f4e00eb0d8d964b0ac199fa6f675a36df8 Reviewed-on: https://chromium-review.googlesource.com/213295 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix interface block static use tracking.  The current code couldn't handle some uses of interface blocks such as blocks with instance names.  BUG=angle:466  Change-Id: I0a3746f277af0538cede30232532c6788412da1c Reviewed-on: https://chromium-review.googlesource.com/213502 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Refactor ShaderVariables to store fields in the base.  Instead of only storing structure information in Varyings Uniforms and Interface Block Fields store it in the base class. Also only store base variable information for struct fields instead of fully typed information. This works because stuff like interpolation type invariance and other properties are for the entire variable not individual fields.  Also add new fields for interface block instance name varying invariance and structure name for all struct types.  BUG=angle:466  Change-Id: If03fc071e6becb7aad6dea5093989bba7daee69e Reviewed-on: https://chromium-review.googlesource.com/213501 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Reduce CPU texture usage in D3D11 where possible  Change-Id: I3186d78fa0a5c676611806c6f553c5c7ad06f56a Reviewed-on: https://chromium-review.googlesource.com/212118 Tested-by: Austin Kinross <aukinros@microsoft.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix some MSVC warnings about possible truncation of int -> char.  BUG=81439 TEST=none  Change-Id: Iedf02bf374e4992fc4c8ee050eff76f4f05708ac Reviewed-on: https://chromium-review.googlesource.com/214065 Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Peter Kasting <pkasting@chromium.org>, 15312978, 382, 105, 382
Refactored TransformFeedback for multi-platform ANGLE and added tests.  Added angle_implementation_unit_tests target designed for testing the cross-platform code in libGLESv2 and libGLESv2_static target as a dependency. The goal is to incorporate these tests into Chromium's angle_unittests target on all platforms; however more work is needed to make libGLESv2's common code compile on non-Windows platforms so this is an intermediate step.  BUG=angle:719  Change-Id: Ifc44a779352294e857d6e913d9b997a60674c443 Reviewed-on: https://chromium-review.googlesource.com/214105 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Move some methods of VertexDataManager to helper methods.  Refactoring patch only.  BUG=angle:571  Change-Id: Ic318b4c4366e33b8d33f6003dd39f660f40d354a Reviewed-on: https://chromium-review.googlesource.com/210649 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Move validation from IndexDataManager to the API.  This validates all necessary buffer sizes for element array buffers in the validation layer before we start the draw.  BUG=angle:571  Change-Id: I602744ca1ea493e9f0f7e1ccbeb85fc4ae5c9f5a Reviewed-on: https://chromium-review.googlesource.com/210648 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add OSWindow::setVisible.  BUG=angle:730  Change-Id: I9c9e2f3b694ba57df359906cd8517ede60af632d Reviewed-on: https://chromium-review.googlesource.com/213294 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a Resize method to OSWindow.  BUG=angle:730  Change-Id: I64106f05eb4188305eb34bbabe7d1cde037e1948 Reviewed-on: https://chromium-review.googlesource.com/213293 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Extract validation from VertexDataManager.cpp to the API.  We can check for buffer overflow at draw validation time before processing any vertex data.  BUG=angle:571  Change-Id: I4f49629b98c17ca28e25baed74cad4ae5341b20f Reviewed-on: https://chromium-review.googlesource.com/210647 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Improve ANGLE shader variable packing algorithm., 15312978, 382, 105, 382
Hard-limit the number of uniform vectors in D3D11.  Before the Caps were added the maximum fragment and vertex shader uniform vectors were hard-limited to 1024.  When increasing them to the D3D11 maximums the WebGL test uniforms/gl-uniform-arrays would time out. Reverting the limit until the test can succeed with higher limits.  BUG=407309  Change-Id: Ifb7015bdeb3d32d7dcd124cfedbea5f7e2c25a5e Reviewed-on: https://chromium-review.googlesource.com/213824 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a new invariant declaration operator.  BUG=angle:711  Change-Id: I54a48b636a68c317b8d44ee2d578847b80095289 Reviewed-on: https://chromium-review.googlesource.com/213500 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clean up copyimage.h  Change-Id: Ie4b81bb37dbbe6a9584dfc6a6c92670a9b73cda5 Reviewed-on: https://chromium-review.googlesource.com/207374 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Adds a required EGL_BAD_MATCH case to eglMakeCurrent  BUG=angle:723  Change-Id: I12bb763acc70cb0737adf460226242023357b368 Reviewed-on: https://chromium-review.googlesource.com/212701 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Optimize dynamic buffers.  In D3D11 we would previously always use a staging buffer to proxy data to the GPU. This change allows users which specify DYNAMIC_DRAW to skip the staging buffer as long as they only write to index or vertex buffers.  This improves performance on all tested GPU vendors but in D3D11 on AMD and Intel our SubData calls are still significantly slower than in D3D9.  BUG=angle:705 BUG=365078  Change-Id: I4f83164176d67ff00119bdd0a6a80d7c84fd0f03 Reviewed-on: https://chromium-review.googlesource.com/213813 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add BufferStorage11::setData.  This helper method will be useful for implementing dynamic buffers.  BUG=angle:705  Change-Id: I8461a59724fb8866b36059c9ef5b838f072cc63a Reviewed-on: https://chromium-review.googlesource.com/213812 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up copyvertex.h   * Move "private" functions into copyvertex.inl.  * Capitalize global function names give them more descriptive names.  * Use size_t for all dimensions.  * Use uint8_t pointers instead of unsigned char pointers.  Change-Id: I408cf7ebb28655c5811ad18979a20f4273d278cd Reviewed-on: https://chromium-review.googlesource.com/207373 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add caps for vertex and fragment shader limits from tables 6.31 and 6.32.  BUG=angle:658  Change-Id: I98509aa16caf74c3e4e28852e8b59aedd903f03a Reviewed-on: https://chromium-review.googlesource.com/207372 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add caps from the 6.29 table.  BUG=angle:658  Change-Id: I392f581b1aea445d60f507c1fa897c4348c1a137 Reviewed-on: https://chromium-review.googlesource.com/207371 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add description for desktop applications to README., 15312978, 382, 105, 382
Fix compilation error due to bad merge.  Change-Id: I54b3e0423e41b86b28d93fdce8d4d2d3304d56cf Reviewed-on: https://chromium-review.googlesource.com/213822 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added check to avoid accessing possible NULL renderer pointer.  Change-Id: I38524e7d3c74656902151e004d3aa47555531fd5 Reviewed-on: https://chromium-review.googlesource.com/211203 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed memory leak in  Renderbuffer class. Offscreen objects backbuffer texture /shader resource view depth stencil texture/shader resource views were leaking during swapchain resize operations.  Change-Id: Iee83a14d043eecc465e6ffb8e21a6449def38e9b Reviewed-on: https://chromium-review.googlesource.com/211834 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Create an Error object to represent GL errors.  BUG=angle:520  Change-Id: I1a54e6f308b5b0f310c725a7771af737a77ecd42 Reviewed-on: https://chromium-review.googlesource.com/209619 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Ensure SamplerState.MaxLOD = FLT_MAX on 9_3., 15312978, 382, 105, 382
Prevent sampling from SV_Position in 9_3 Pixel Shaders., 15312978, 382, 105, 382
Improve ANGLE shader variable packing algorithm., 15312978, 382, 105, 382
Added DXGI_FORMAT_B5G6R5_UNORM DXGI_FORMAT_B5G5R5A1_UNORM and DXGI_FORMAT_B4G4R4A4_UNORM to mapping table., 15312978, 382, 105, 382
Fixed format mapping table Component type field for DXGI_FORMAT_B5G6R5_UNORM DXGI_FORMAT_B5G5R5A1_UNORM and DXGI_FORMAT_B4G4R4A4_UNORM., 15312978, 382, 105, 382
Move the index range cache to gl::Buffer.  Because we want to move all validation to the API layer we need to move the index validation to the API layer. This means exposing the index cache to the validation layer.  In the future we will probably want a way to skip index validation when it's not necessary or the chosen back-end handles index validation on its own.  BUG=angle:571  Change-Id: Iee1618e669bc28abf7e0709ca4a03b4727b1383e Reviewed-on: https://chromium-review.googlesource.com/210646 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix std140 UBO layouts.  A call to "prePadding" instaed of "prePaddingString" was confusing the HLSL output engine.  A separate bug was causing HLSL errors because HLSL puts all cbuffer members in a flattened namespace which caused our internal padding variables to overlap.  BUG=angle:725  Change-Id: I69a01fefa430a83e433385c64a532a69e6851ae8 Reviewed-on: https://chromium-review.googlesource.com/212930 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Prevent accessing more arguments than provided.  BUG=390111  Change-Id: Iecc2ac2354a82cca937a823e5c588c662264e36c Reviewed-on: https://chromium-review.googlesource.com/213551 Tested-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use Range type for index ranges.  This compacts a lot of parameter passing. Refactoring patch only.  BUG=angle:571  Change-Id: Ic918478d0c6b81093bfea6154ce0f6bf1d2b5be2 Reviewed-on: https://chromium-review.googlesource.com/210645 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split vertex translation into helper methods.  Refactoring patch only.  BUG=angle:571  Change-Id: I17e8c1eb80bdf7c3ec7cc4bad4e70e81590e4a89 Reviewed-on: https://chromium-review.googlesource.com/210644 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix "Reize" to "Re*s*izeWindow".  BUG=angle:730  Change-Id: I7d4e5a36cec2b3a5c61ae768ec4c816553031baf Reviewed-on: https://chromium-review.googlesource.com/213292 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make the EGLDisplay a non-static member of ANGLETest.  We would create and destroy the display with every test as it was not part of the environment.  BUG=angle:730  Change-Id: Iae003f13c8e975ae57d3af2d74f9f058a560046f Reviewed-on: https://chromium-review.googlesource.com/213291 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make the sample app own the OS Window object.  This allows us to use OS Windows and EGL contexts differently for different implementations - eg tests and samples.  BUG=angle:730  Change-Id: I65e69fd829c3dbf2f1b406d90045bc296798ebb6 Reviewed-on: https://chromium-review.googlesource.com/213290 Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a util project to share between samples and tests.  This code shares the Window and EGL logic between the two projects.  BUG=angle:730  Change-Id: I8940371226a8f7b02579c332f51679c4a5d0e2a5 Reviewed-on: https://chromium-review.googlesource.com/212799 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Only set declaration operator if not already set.  This allows us to return different operators from single declarations which will be useful for treating invariant declarations as different operators.  BUG=angle:711  Change-Id: Id278b91854bbefe8e635380d7b27198198236fef Reviewed-on: https://chromium-review.googlesource.com/212939 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Add a helper method to parse invariant declarations.  This pulls out more functionality from the grammar into simple c++ source files.  BUG=angle:711  Change-Id: I19121d710dc1543585361cb53a0deb2ea0479db9 Reviewed-on: https://chromium-review.googlesource.com/212938 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Add a getNamedVariable helper method to TParseContext.  This method will be useful in more than one place since we need to get a TType from an indentifier when parsing invariant declarations.  BUG=angle:711  Change-Id: I1c1befbdcc93ea626428fb4e313b8c6326c158f6 Reviewed-on: https://chromium-review.googlesource.com/212937 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Moved some validation back to Texture unified all TextureImpl variants  BUG=angle:688 Change-Id: Ie2df18277c84345fceaa31d4f63f5cbbb47540c6 Reviewed-on: https://chromium-review.googlesource.com/211387 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Rename intermediate.h to Intermediate.h.  This was breaking the Linux build.  Change-Id: I8f63527cfa37ee774ea5d1e6eb0043a4c7ccc734 Reviewed-on: https://chromium-review.googlesource.com/213300 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Merge google master into ms-master, 15312978, 382, 105, 382
Call addRef when creating a new Fence Sync object.  BUG=angle:728  Change-Id: Iafd838c3ceb1a88afd4d3b0994e8d841945df499 Reviewed-on: https://chromium-review.googlesource.com/213142 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Rename compiler intermediate source files.  This prevents confusion between "TIntermediate" and "TIntermNode".  BUG=angle:711  Change-Id: Ib7a086382a479db3f77bf2ab06ce321aa7b35d13 Reviewed-on: https://chromium-review.googlesource.com/212936 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fix reversed shift in the huge SetData test.  BUG=angle:716  Change-Id: I1b621668b78373e0566f6eab6034993ec09aa4b9 Reviewed-on: https://chromium-review.googlesource.com/213221 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix swizzle formats being assigned incorrectly.  * Non-4 component formats cannot be used as swizzle formats. * Unsized formats should not have swizzle formats.  BUG=angle:721  Change-Id: Ic4e2642f5dc4c9811768961fbab00f6edd200ce1 Reviewed-on: https://chromium-review.googlesource.com/211241 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the gclient file it should be generated now.  BUG=angle:713  Change-Id: Icd3e9c5212baf4c1dc781df6fef68c078b054e1a Reviewed-on: https://chromium-review.googlesource.com/210883 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Simplify the creation of OS-specific windows and timers in the samples.  BUG=angle:521  Change-Id: I9550269e9cd67fc24246853bec3c1f67cb16da2a Reviewed-on: https://chromium-review.googlesource.com/211130 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Amend comment about nameless structs & layout qualifiers  Change-Id: I1177c808bffd2beba7d52bd8f8869125a1624698 Reviewed-on: https://chromium-review.googlesource.com/212700 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Minor cleanup to Query constructor to normalize it with other interfaces  Change-Id: I562245cf6323edc7a127480e8de6ac16c6f97c03 Reviewed-on: https://chromium-review.googlesource.com/211641 Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Adding a GitHub README for future-dev branch., 15312978, 382, 105, 382
Initialize TranslatedAttributes  BUG=398337  Uninitialized TranslatedAttributes were causing false positives in checks for nonzero attrib divisor.  Change-Id: I44655d3fbe4f5478ca3757e05db38799d014e4c7 Reviewed-on: https://chromium-review.googlesource.com/211931 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix application of vertex divisor for non-instanced draws in D3D9  BUG=398337  *Re-land*  ANGLE_instanced_arrays defines the behavior of the non-instanced draw calls (glDrawArrays glDrawElements) such that they behave as single-instance draws so the vertex divisor should still apply. We were handling this correctly in D3D11 but not D3D9.  This fixes a new WebGL conformance test: https://www.khronos.org/registry/webgl/sdk/tests/conformance/extensions/angle-instanced-arrays.html  Change-Id: I5ed09d41229c8996a78a3b55893c6a655a423644 Reviewed-on: https://chromium-review.googlesource.com/211930 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Make D3D11 texture formats depend on feature level, 15312978, 382, 105, 382
Fix nameless struct handling.  BUG=401296  The addition of layout qualifier handling in es3 development inadvertently broke handling of nameless structs.  Change-Id: I805bab7a981d1f7f6227ae043720296fc3454662 Reviewed-on: https://chromium-review.googlesource.com/211860 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Revert "Fix application of vertex divisor for non-instanced draws in D3D9"  Other issues turn up on the FYI bots with this patch applied; reverting until this is investigated further.  This reverts commit 9f6907bfdd4cf95d20408831b1776a6efd221ab3.  Change-Id: Ib30c51b2c905e87973c73b06baa4b8ebba31d210 Reviewed-on: https://chromium-review.googlesource.com/211683 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fixed memory leak for Renderbuffer objects., 15312978, 382, 105, 382
Fix application of vertex divisor for non-instanced draws in D3D9  BUG=398337  ANGLE_instanced_arrays defines the behavior of the non-instanced draw calls (glDrawArrays glDrawElements) such that they behave as single-instance draws so the vertex divisor should still apply. We were handling this correctly in D3D11 but not D3D9.  This fixes a new WebGL conformance test: https://www.khronos.org/registry/webgl/sdk/tests/conformance/extensions/angle-instanced-arrays.html  Change-Id: Ib50e189d866d6dc97612e46460db4ca1723b3662 Reviewed-on: https://chromium-review.googlesource.com/211445 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Regenerate default projects for recently added shader translator changes.  Change-Id: Ic9b8758477d334a0dcd564f5f2548b5a64584fc7 Reviewed-on: https://chromium-review.googlesource.com/211444 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fixed up ANGLE_ENABLE_RENDER_TO_BACK_BUFFER to render scene in correct orientation., 15312978, 382, 105, 382
For SCALARIZE_VEC_AND_MAT_CONSTRUCTOR_ARGS assign precision to temp variables.  Otherwise on Windows or other platforms with GLES backend using this workaround will trigger shader compile failure.  For the moment to simplify the workaround for any missing precisions in float we always assign the highest available precion to it.  BUG=angle:695 TEST=webgl conformance tests  Change-Id: I810579442bc7fc61d6a52b76aff31a779046fa22 Reviewed-on: https://chromium-review.googlesource.com/211253 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Merge branch 'p/coopp/googlemerge' into ms-master, 15312978, 382, 105, 382
Let ANGLE render directly to swapchain backbuffers when ANGLE_ENABLE_RENDER_TO_BACK_BUFFER is defined., 15312978, 382, 105, 382
Unifying the various texture interfaces where possible  Also fixed diamond inheritance pattern that was causing trouble on Windows 8  BUG=angle:688 angle:720 Change-Id: I678826bd4f3927c68ca1eb2e018dbb5aad33a8cc Reviewed-on: https://chromium-review.googlesource.com/211037 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix GN build with missing ShaderVars.cpp.  Change-Id: I29be6cdda643f83a40a6adc9b76153667aafcc51 Reviewed-on: https://chromium-review.googlesource.com/211400 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Add compiler option SH_REGENERATE_STRUCT_NAMES.  BUG=angle:701 TEST=webgl conformance tests  Change-Id: I13b35900956e7d840d5891a5bab90a400347cd6f Reviewed-on: https://chromium-review.googlesource.com/209229 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org>, 15312978, 382, 105, 382
Export shader variables from the translator DLL.  This will allow us to use these methods when compiling the translator as a DLL.  BUG=angle:466697  Change-Id: Ic9169fb7c69fe0bf5f98addfc128a30ee6b2159d Reviewed-on: https://chromium-review.googlesource.com/208752 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fixed SwizzleTest to not use old glError from previous test runs, 15312978, 382, 105, 382
Fixed unittests to run.  Fixed GYP files to properly set d3d9/d3d11 preprocessor defines when appropriate., 15312978, 382, 105, 382
Move implementation of hasMappedBuffer to State.  Refactoring patch only.  BUG=angle:571  Change-Id: Ib9f3145eaa457d94e488fd42eb4c4b9133768996 Reviewed-on: https://chromium-review.googlesource.com/210643 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix incorrect validation of ES3 internal format/format/type combinations.  * Fix wrong internal format being passed to ValidateTexImageFormatCombination. * Fix ValidateTexImageFormatCombination validating the format instead of   internal format for general support. * Fix support checks for format and type comparing with wrong format and   type fields. * Add an early-out in format and type check loop to reduce iterations.  BUG=angle:658  Change-Id: I05e1b9f58b2e5ac4b5e1c0fa5a45cf37fb6a4ccd Reviewed-on: https://chromium-review.googlesource.com/210884 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Generate VS2013 public projects.  Allows us to support 64 bit builds in the packaged project files.  BUG=angle:714  Change-Id: I7e2f57ec87d1c46b348a4821821d1e21be671e49 Reviewed-on: https://chromium-review.googlesource.com/210825 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into p/staging, 15312978, 382, 105, 382
Merged changes from google master branch, 15312978, 382, 105, 382
Release CPU copies of Texture2D/Texture3D/TextureCube and Texture2DArrays in certain scenarios, 15312978, 382, 105, 382
Remove the unusused Renderer::getSRGBSupport method.  BUG=angle:658  Change-Id: I3c8331dfc9c1046b528e9c4a7da3411d84f8ae3c Reviewed-on: https://chromium-review.googlesource.com/207120 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix wrong comparison in Buffer ASSERT.  We were using >1 instead of <=1. Caused false errors in Debug.  BUG=angle:716  Change-Id: I7072df99f208bd2e0a687143faeef6c9be79728e Reviewed-on: https://chromium-review.googlesource.com/210990 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make the HugeSetDataTest more robust.  By starting from a near-maximum size and trying until we reach a a valid allocatable size we can guarantee the test can run. Previously the allocation could fail under some systems and succeded in others leading to flakiness.  BUG=angle:716  Change-Id: If1690349f7028c4e6a88f20649fb255ea2dd2587 Reviewed-on: https://chromium-review.googlesource.com/210992 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Simplify formatutils9 by exposing the internal structures.  BUG=angle:658  Change-Id: I8134cde4d72796c51613594e15aded86e83c4af7 Reviewed-on: https://chromium-review.googlesource.com/206837 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix single buffer copies.  In D3D11 the device doesn't allow overlapped buffer copies unless the D3D11_FEATURE_DATA_D3D11_OPTIONS::CopyWithOverlap feature is enabled. This isn't technically available until D3D11.1.  Get around the restriction by using a different storage buffer as the source of the copy.  Fixes funcional.buffer.copy.single_buffer.* in dEQP.  BUG=angle:715  Change-Id: I03fea8a1c6180a29e07e05022e3454524e320803 Reviewed-on: https://chromium-review.googlesource.com/210902 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fix a stray quote that snuck into GLSLTest.cpp.  This was causing a test failure in TwoElseIfRewriting.  BUG=angle:716  Change-Id: I75e21ff586cdef10f0c35985a97fbb7c4783d2fe Reviewed-on: https://chromium-review.googlesource.com/210991 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Prettify HLSL compile retry error messages.  We were inserting excess newlines in several places.  Change-Id: I746334d3696e9e3be585ab02074384ae63535ea5 Reviewed-on: https://chromium-review.googlesource.com/210823 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Simplify formatutils11 by exposing the internal structures.  BUG=angle:658  Change-Id: I8a4ce5f45054a1fa829a9647a94cf2bd0ba93bc0 Reviewed-on: https://chromium-review.googlesource.com/206836 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix shaders with invariant keyword.  We would trigger assertion failures in Debug mode and fail to parse and translate correctly in Release.  BUG=angle:711  Change-Id: Ibb7f33b288376617598578f48c7bbdbdec044279 Reviewed-on: https://chromium-review.googlesource.com/210822 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fix non-square matrix-to-matrix constructors.  This fixes some broken tests in dEQP: functional.shaders.conversions.matrix_to_matrix  BUG=angle:712  Change-Id: I0538595f2913a2c1d4f0da901d65d608a6580d19 Reviewed-on: https://chromium-review.googlesource.com/210882 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fix non-square scalar-to-matrix constructors.  This fixes some broken tests in dEQP: functional.shaders.conversions.scalar_to_matrix  BUG=angle:712  Change-Id: Ia01d720307ea6ca70da266b2085a878eaaab2412 Reviewed-on: https://chromium-review.googlesource.com/210881 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Allow gyp to generate 64 bit project files for VS2012.  Visual Studio 2010 express was the last version to not support 64 bit configurations.  BUG=angle:714  Change-Id: Ie4383a437a98cecfc82702e766a460ade96062f8 Reviewed-on: https://chromium-review.googlesource.com/210824 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix VertexBuffer11::getSpaceRequired for instanced attribs.  The computation could copy more data than needed. Although benign it could cause performance degredation compared to the D3D9 back end.  Change-Id: I3cf1dc79085c33d44040fd55153e63a4e5e63cb1 Reviewed-on: https://chromium-review.googlesource.com/210640 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Simplify formatutils.h by exposing the info structures.  Removed all the separate query functions and simply expose the internal info structures.  This reduces the number of std::map/std::set operations that were hidden behind the API.  Moved the validation tables for ES3 format combinations and effective internal formats into validationES3.cpp so that formatutils.h only has generic GL format queries.  BUG=angle:658  Change-Id: Ieb60d42b8eafcdb4f21dcbec130b39478ce5f7c5 Reviewed-on: https://chromium-review.googlesource.com/206835 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing cache clears to D3D buffer classes.  BUG=angle:709  Change-Id: I93f92b916a0da26975cd459399cc2873cb4ab9f0 Reviewed-on: https://chromium-review.googlesource.com/210642 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fix CopyBufferSubData.  We were passing the arguments from the gl::Buffer stub to the implementation class which was breaking the call.  Also clean up a few comments.  BUG=angle:709  Change-Id: Ib92a36d1c52d60d8929f567d0daf54e9d6a2d127 Reviewed-on: https://chromium-review.googlesource.com/210641 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Added Feature Level 9 support, 15312978, 382, 105, 382
Fix rotation logic in CoreWindow template, 15312978, 382, 105, 382
Fix GN build for libEGL.  Our build in GN differed slightly from our gyp build causing the linker to complain about inconsistent linkage. Also remove some stray definitions of EGLAPI from our headers.  Change-Id: I5d3a09ccb0cec528ead33944ce0996cceed32d86 Reviewed-on: https://chromium-review.googlesource.com/210821 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix GN build for libGLESv2.dll.  In a previous fix to a Clang build error we had neglected to update the GN build. Broken in commit 07d49ef535.  BUG=angle:707  Change-Id: Ic11aa907d591540e915bec60f3bafaea471689d5 Reviewed-on: https://chromium-review.googlesource.com/210652 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brett Wilson <brettw@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add new shader inspection APIs.  Each new entry point corresponds to one of the variable types: varyings attributes uniforms output variables and interface blocks. They return a pointer to the vector with all of the parsed variables which then the app can copy to its own memory.  Currently we do not support the staticUse field in the HLSL translator.  BUG=angle:466  Change-Id: I7dc09e761ab070feef5360ad27740110c44853b3 Reviewed-on: https://chromium-review.googlesource.com/208750 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Move shader variables header to include folder.  This allows the API to query for clear type introspection into the parsed GL types from the translator. The returned types are not expanded and have properly nested fields.  This patch uses the types from ShaderVars.h to return GL type information. The app must include this header to get access to the types structs.  BUG=angle:466  Change-Id: I28ad0d6f11a964804dd234ef0d00651f665d1ae3 Reviewed-on: https://chromium-review.googlesource.com/208751 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Move shadervars constructors to cpp files.  This avoid unnecessary binary bloat from STL default constructors and assignment operators.  BUG=angle:466697  Change-Id: I679e524d3e3dbd0d3866fc30a5a01967d8769249 Reviewed-on: https://chromium-review.googlesource.com/208356 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: bratell at Opera <bratell@opera.com> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Update non-default constructors in shadervars.h.  Most of these constructors are unused. Remove the unused ones and change the usage of existing constructors to be consistent.  BUG=angle:466697  Change-Id: I455dd314036e1dfcb8c4690bab577b81dd0e060c Reviewed-on: https://chromium-review.googlesource.com/208355 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into p/staging, 15312978, 382, 105, 382
Revert "Unifying the various texture interfaces where possible"  This reverts commit 8c9038d6f57a4b53c97c4fb803259e7a50ab4cea.  Change-Id: I29c25121870e6f8d12144d235029f46fff90be7c Reviewed-on: https://chromium-review.googlesource.com/210651 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Unifying the various texture interfaces where possible  BUG=angle:688 Change-Id: I43be738e0a42f7a7e1448e1d9300b30d4bc54125 Reviewed-on: https://chromium-review.googlesource.com/209343 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Merge remote-tracking branch 'google/master' into p/staging, 15312978, 382, 105, 382
Merge branch 'p/coopp/googlesnap' into p/staging, 15312978, 382, 105, 382
Fix viewport logic when rendering to the backbuffer, 15312978, 382, 105, 382
Manual merge of latest changes from google with working Windows Store support., 15312978, 382, 105, 382
Fix CoreWindow template window resize logic, 15312978, 382, 105, 382
Add a test for multisampled PBOs.  We don't allow ReadPixels from multisampled targets in GL.  Also update the assertions in Buffer11 to reflect our expectations.  BUG=angle:511  Change-Id: Ia3d5f796f5405fbae1187f3d45b0080d7f24b6d9 Reviewed-on: https://chromium-review.googlesource.com/210053 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Remove the MajorShaderModel member from Context.  BUG=angle:658  Change-Id: Iab7906309f6603d5364d891bb332af8c3bf457fe Reviewed-on: https://chromium-review.googlesource.com/206834 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Use the FormatCaps for multisample validation and queries.  BUG=angle:658  Change-Id: Ic9fa53fb62d7eff62f07b68d7ddada461ecad859 Reviewed-on: https://chromium-review.googlesource.com/206832 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Avoid D3D11 primitive restart index using 32-bit indices  D3D11 interprets an index value of 0xFFFF in a 16-bit index buffer as a primitive restart marker. This behavior can't be toggled off. http://msdn.microsoft.com/en-us/library/windows/desktop/bb205124(v=vs.85).aspx We work around it by converting to 32-bit indices.  BUG=angle:708  Change-Id: Ibc92d6ba98e5f11a98d76cae14f90ca050a19964 Reviewed-on: https://chromium-review.googlesource.com/209883 Tested-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added D3D11 WARP default fallback logic to support hardware devices does not support the specified features, 15312978, 382, 105, 382
Use D3D11 Renderer for ANGLE Tests.  Many of our tests rely on extensions and ES3 support. Until we have the ability to switch between Renderers for specific tests the D3D11 Renderer should enable many failing tests to pass.  Also fix a double-delete crash in the test cleanup routine.  BUG=angle:702  Change-Id: I5e615ca1a35bd109d9f7bcbb5fa90b88e09157bd Reviewed-on: https://chromium-review.googlesource.com/209102 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Removing D3D-isms from gl::Texture  BUG=angle:688 Change-Id: I0cdc758000993f2d54240c69a84f5ae149306d9e Reviewed-on: https://chromium-review.googlesource.com/209332 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix Clang warning with preloaded D3DCompiler string.  Clang was complaining that we were casting a char* to a wchar_t*.  BUG=angle:707  Change-Id: I063165e9add4e9b57d131181da30c05e5abbc1c2 Reviewed-on: https://chromium-review.googlesource.com/209618 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix masked ClearBuffer.  We were not properly setting the masked channels for these APIs. Since we use a std::vector for tracking the render targets for a particular ClearBuffer call we lose the indexing into the clear parameters. Fix this by storing the information in the std::vector along with the Render Target.  BUG=angle:702  Change-Id: Ie3b1e870aa04054411c4f155682b86a340ec00cf Reviewed-on: https://chromium-review.googlesource.com/209103 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Updating GYP to attempt to use 8.1 SDK path when possible and to set ANGLE_ENABLE_RENDER_TO_BACK_BUFFER for Windows Store projects., 15312978, 382, 105, 382
Let ANGLE render directly to swapchain backbuffers when ANGLE_ENABLE_RENDER_TO_BACK_BUFFER is defined., 15312978, 382, 105, 382
Added GYP support for creating Visual Studio 2013 (windows 8.1/windows phone 8.1) ANGLE projects., 15312978, 382, 105, 382
Remove try-catch blocks from entry points.  BUG=angle:700  Change-Id: I036901c397053a75677923304d7e1ed697c82aa2 Reviewed-on: https://chromium-review.googlesource.com/209570 Reviewed-by: <ehsan@mozilla.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Clang warnings.  MSVC's more permissing validator missed a dependent typename and deleting a void pointer.  BUG=angle:703704  Change-Id: I227b94c9c1590973d7b11b0ed0bfda32f2a71cec Reviewed-on: https://chromium-review.googlesource.com/209613 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a MemoryBuffer type to safely allocate large user data buffers.  MemoryBuffer has a similar interface to std::vector but returns a bool on resize to do error checking.  BUG=angle:700  Change-Id: Ib201eeb91b07f5b7f970e153f5d1e110f9b2fa55 Reviewed-on: https://chromium-review.googlesource.com/209612 Reviewed-by: Nico Weber <thakis@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactored Texture2DArray separated out D3D logic  BUG=angle:688 Change-Id: Ie3e5ac2bedcffb816ef1537575f09afb3f5e7a35 Reviewed-on: https://chromium-review.googlesource.com/208381 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Export include directories to dependents in GN.  Translator headers that are included by dependent code (example: ShaderLang.h) expect to be able to include files from "includes" (example: "KHR/khrplatform.h"). This automatically applies this include path to dependent targets.  Change-Id: I6990f66132562f142a6cdf8b8c434d2dbaad1c98 Reviewed-on: https://chromium-review.googlesource.com/209452 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brett Wilson <brettw@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the format table to check support for filtering and rendering.  Since filerability and renderability may depend on separate extensions use functions to determine their support.  Context now uses these functions to fill it's own TextureFormatCaps.  BUG=angle:658  Change-Id: Ib4dc877ba7c24f84a3823fd5aa2e01a3b3621705 Reviewed-on: https://chromium-review.googlesource.com/206831 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix ASSERT when rewriting else-if blocks with no else.  The code assumed an else-if would end in an else. We can also save a few allocations in the cases where there is no else.  BUG=angle:699  Change-Id: I550857366775b4a34aea97e117ef732297d3f448 Reviewed-on: https://chromium-review.googlesource.com/208681 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Fix buffer tests.  The names of the tests were not properly capitalized and the huge buffer test could fail unexpectedly when it was run after several prior tests which allocated large amounts of memory.  Change-Id: Ied5d1b6f56354e748f0df9d52658d14de9a559ac Reviewed-on: https://chromium-review.googlesource.com/209611 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove sh::InterfaceBlock member info.  We can compute the interface block member info entirely on the API side. This will allow us to get rid of some un-necessary code in the compiler.  BUG=angle:466  Change-Id: I664ffc82de5f2723156e51f4e9ffc07e4de162aa Reviewed-on: https://chromium-review.googlesource.com/207781 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Remove sh::Uniform::registerIndex and elementIndex.  With the previous cleanups these fields aren't needed any longer. We can also clean up some unused methods and simplify existing code.  BUG=angle:466  Change-Id: I96df8d152324bda5e6868b5eccdf52bdc09155e9 Reviewed-on: https://chromium-review.googlesource.com/207256 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Use the block encoder class to store uniform offsets.  This will allow us to use the same code path for assigning register information in all places. Because of this it fixes some long-broken dEQP struct uniform tests.  BUG=angle:466 BUG=angle:505  Change-Id: I4161a388503aa09bbe2d21ff47bfb3352ec93881 Reviewed-on: https://chromium-review.googlesource.com/207255 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Add a uniform register query to the translator.  This returns the uniform index that we assigned for default uniforms. All the dependent structure offsets can be determined from the base register so we won't have to store uniform information in the shader variable.  BUG=angle:466  Change-Id: I0dd05251e8dba00c20d09fd865dfb150de56738e Reviewed-on: https://chromium-review.googlesource.com/207254 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Added virtual destructors to VertexArrayImpl and BufferImpl  Change-Id: Ib9d8b2fc85b63f0cd52a2b19129a88ba7acbc017 Reviewed-on: https://chromium-review.googlesource.com/209380 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nico Weber <thakis@chromium.org> Tested-by: Nico Weber <thakis@chromium.org>, 15312978, 382, 105, 382
Reduce the number of TextureFormatCaps members.  Since GL has no notion of texture formats that can be used for different types of textures merge the TextureFormatCaps texture support members.  Also merge the various renderability members since the texture type is enough to determine what type of renderable a format is.  BUG=angle:658  Change-Id: I7cba50b147fcca8f3880d65c06c57df9c65ed19c Reviewed-on: https://chromium-review.googlesource.com/206830 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix missing EGL extension function exports.  BUG=angle:490  Change-Id: Ie4e7b0075f60676aa5f9fb51a0d6fb8f84b9ed90 Reviewed-on: https://chromium-review.googlesource.com/207140 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update the samples and tests to use eglGetPlatformDisplayEXT.  BUG=angle:490  Change-Id: I5a685e42089377b5c600cd1f7ca8bd9a6654b3ba Reviewed-on: https://chromium-review.googlesource.com/204939 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for ANGLE_platform_angle.  BUG=angle:490  Change-Id: If3c897a9ae3d27b96e4b9bf9475a9ac23a1090ba Reviewed-on: https://chromium-review.googlesource.com/185396 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactored Texture3D separated out D3D logic  BUG=angle:688 Change-Id: I6cda73c2e4c8a026b8c5222bc40cea93ad4e0ba3 Reviewed-on: https://chromium-review.googlesource.com/208102 Tested-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactored TextureCubeMap separated out D3D logic  BUG=angle:688 Change-Id: I2300aaad4fab25df484e0bc3613ac3b176addc93 Reviewed-on: https://chromium-review.googlesource.com/208191 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Refresh generated projects.  Change-Id: I46845edcd6e8334ca56b411ecb8677dfaebf8a07 Reviewed-on: https://chromium-review.googlesource.com/208861 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Explicitly list files for the build.  Removes shelling out to enumerate_files for the main targets (tests and examples are currently unchanged) in favor of explicitly listing out the files in the build.  There are a number of reasons. My immediate reason is that doing this allows the file lists to be shared with the GN build so the GYP and GN builds of angle should mostly automatically stay in sync now. In addition I don't think we should be enumerating files in GYP. No other Chrome sub-projects do this and Chrome engineers expect files to be listed in .gyp* files. It's also slower to shell out a bunch of times to get the file lists (this matters more in the GN build which runs very quickly).  Updates the GN build to share these file lists. This unbreaks the Windows GN Angle build.  BUG=angle:698  Change-Id: Iab8829628aeb7232bb64f4c247c35c6485bba3ee Reviewed-on: https://chromium-review.googlesource.com/208461 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Brett Wilson <brettw@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix style violations.  BUG=angle:650 TEST=no behavior change  Change-Id: I3096615a181b1ec2c18ce60566c3d6249975b84e Reviewed-on: https://chromium-review.googlesource.com/208569 Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix test class names to reflect their class-ness.  Style guide dictates a camel case scheme for classes. Since the tests are actually classes update their names to reflect that.  Change-Id: Ib7422b6d8c5de8414765439704fc103eae8b2d63 Reviewed-on: https://chromium-review.googlesource.com/208680 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix "error: extra qualification 'rx::ImageD3D::' on member 'makeImageD3D'"  As reported by GCC 4.8.1/MinGW.  Change-Id: If62d234074a0a9180f1f3c3619dbb2dd8047d0f3 Reviewed-on: https://chromium-review.googlesource.com/208670 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Brandon Jones <bajones@chromium.org> Tested-by: Andrew Knight <andrew.knight@digia.com>, 15312978, 382, 105, 382
Do not create dummy variables when linking uniforms.  This cleanup prepares us for removing the uniform register info from the shader translator types.  BUG=angle:466  Change-Id: I86f47970b793135f410a5ef698fc96d44219ee96 Reviewed-on: https://chromium-review.googlesource.com/207253 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Refactor ProgramBinary uniform linking code.  This prepares us for moving most of the register assignment to the ProgramBinary class itself and cleans up the various methods.  BUG=angle:466  Change-Id: Ie2965ed41ac50617584fd7a6d7b0ec2784e7dfaf Reviewed-on: https://chromium-review.googlesource.com/207252 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Add a compiler option to rewrite vec/mat constructors  If one of the parameters is a vec/mat expand it into scalars.  This is to work around Linux NVIDIA/AMD and Mac NVIDIA driver bugs.  BUG=angle:695 TEST=webgl conformance test  Change-Id: I35e1e25167d99f873dcb03bfb57a30e84b1aeed5 Reviewed-on: https://chromium-review.googlesource.com/207479 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove the sh::InterfaceBlock::dataSize member.  We can replace this by doing the same calculation in the HLSL-side code.  BUG=angle:466  Change-Id: Iecae4a92e9037e851419ce73e6267094ee8071a2 Reviewed-on: https://chromium-review.googlesource.com/207251 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove sh::InterfaceBlock::registerIndex.  This value is HLSL-only and we can use the new query API to hide it from GLSL programs.  BUG=angle:466  Change-Id: I75dc2fbbf1b29b1f6d561568174a15dea1f5b130 Reviewed-on: https://chromium-review.googlesource.com/207250 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Refactored Texture2D separated out D3D logic  BUG=angle:688 Change-Id: I93c2ff0b125278234d61324844b79cc58135d4d8 Reviewed-on: https://chromium-review.googlesource.com/207675 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Refactors State to be a fully-qualified class  BUG=angle:685  Change-Id: I36cff2da985a12c7180fe2850ccd471f4cebbaad Reviewed-on: https://chromium-review.googlesource.com/206634 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Removes sub-entry-point Framebuffer validations  BUG=angle:685  Change-Id: I2d630396a5971972f858cca9c39ceb6509492aa4 Reviewed-on: https://chromium-review.googlesource.com/205836 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Cache bound FBO and VAO objects themselves in State  BUG=angle:685  Change-Id: I19ae6752d1a7490122dd9ca076efb08564e1901d Reviewed-on: https://chromium-review.googlesource.com/205835 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixes for re-enabling more MSVC level 4 warnings: angle/ edition  This contains fixes for the following sorts of issues: * Signedness mismatch  BUG=81439 TEST=none  Change-Id: Ief116d4b79b63479641259119246bb1465bbfd1f Reviewed-on: https://chromium-review.googlesource.com/207418 Reviewed-by: Alok Priyadarshi <alokp@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Moved TextureStorage and Image into d3d  BUG=angle:688 Change-Id: I98ffa1082340a829a77fe5082958898b9c6ab1a2 Reviewed-on: https://chromium-review.googlesource.com/207054 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Move more draw call validation to the API.  The GL expects us to reject invalid draw calls before we start doing any work so we can prevent internal unnecessary state changes.  Also update the program binary's cached sampler data when we validate. The previous patch was breaking draw calls in Google Earth WebGL.  BUG=angle:571 BUG=390412  Change-Id: I1c4e204ae2467afc36b76af975a3a49e26349639 Reviewed-on: https://chromium-review.googlesource.com/206482 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix CollectVariablesTest GCC/Clang compile errors.  BUG=angle:696  Change-Id: I193f6771d85f2b777e84dc4d650b50fb31875489 Reviewed-on: https://chromium-review.googlesource.com/207770 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Store a map of interface block registers.  The shader translator can return the assigned register for a block via a new API. This will let us delete the member variable in interface blocks for the register -- a nice thing for GLSL.  BUG=angle:466  Change-Id: I9bc38e0cd031e32f90787be42c2324fc7c79dbf9 Reviewed-on: https://chromium-review.googlesource.com/206828 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a default constructor to sh::ShaderVariable.  This cleans up a few repeated lines of code in shadervars.h.  BUG=angle:466  Change-Id: Ie77130e8420d28df790bf9bc036d52fd053b3ce9 Reviewed-on: https://chromium-review.googlesource.com/206827 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Collect shader outputs and interface block information.  This paves the way for returning ES3-specific info from the shader translator with the new query methods.  BUG=angle:466  Change-Id: Ib13cdb604854cdf11e9dc00dd94f18eadc946561 Reviewed-on: https://chromium-review.googlesource.com/206770 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Minor tidy-up to templates., 15312978, 382, 105, 382
Fix 64-bit warnings.  BUG=angle:631  Change-Id: I76439ca2549916d594a54a4a9a35387d80b023ba Reviewed-on: https://chromium-review.googlesource.com/207441 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split Caps into Caps Extensions and TextureFormatCaps.  Context now holds it's own Caps Extensions and TextureFormat caps so that it can modify them based on client version or work-arounds.  BUG=angle:658  Change-Id: Id71b6c89b7aa36e1f3dc42b0e4720eaed1851fb9 Reviewed-on: https://chromium-review.googlesource.com/206480 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up generatemip.h.  * Move "private" functions into generatemip.inl. * Use size_t for all dimensions. * Use uint8_t pointers instead of unsigned char pointers.  BUG=angle:666  Change-Id: I8a1324802e4d670c042e0961c2b6f6fd53f4ebc7 Reviewed-on: https://chromium-review.googlesource.com/202503 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up the functions in loadimage.h/cpp.  * Capitalize the function names to fit the style guide. * Use explicit sizes in the function names to avoid any confusion about   input or output sizes. * Use explicit sized types in the functions to avoid potential issues on   new platforms since a lot of bit-twiddling is used. * Use size_t for all sizes. * Use uint8_t for all binary data for input and output data so that pointer   arithmetic is much easier. * Move templated function definitions into an .inl file so that   loadimage.h looks as clean as possible.  BUG=angle:665  Change-Id: Id7173ed66d9e1b7ee3261eea11e77d838cbd2951 Reviewed-on: https://chromium-review.googlesource.com/202590 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix build errors in validationES.cpp.  This was caused by a bad auto-merge with the Caps patch.  BUG=angle:694  Change-Id: I589d4dafb7ed890d7c340c9ae98080dff945c69a Reviewed-on: https://chromium-review.googlesource.com/207540 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove redundant FBO query methods.  Several query methods simply wrapped a NULL check with a default return value. Most of these safety checks were unnecessary.  BUG=angle:660  Change-Id: I0ac6897f06be082c8efab8721920d1b51ba999ee Reviewed-on: https://chromium-review.googlesource.com/205606 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor common attachment validation to base method.  Split the validation of FBO attachment binding to common methods and separate logic for layers and for 2D attachments.  BUG=angle:571  Change-Id: I9a59055cca60dd853311751be355440ad1e5ead0 Reviewed-on: https://chromium-review.googlesource.com/205605 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Store compact and expanded shader variables.  The current shader API ShGetVariableInfo relies on an expanded list of shader variables. That means that struct or user-defined variables are expanded into separate entries for the app to easily query struct members. The new API will preserve the struct layout so we can store both to support both the old and new queries.  BUG=angle:466  Change-Id: Id30a1d7d1bb49c7e745510e0d699f94ad3184b9c Reviewed-on: https://chromium-review.googlesource.com/206569 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Rearrange texture destructors to delete Images before TextureStorage., 15312978, 382, 105, 382
Release CPU copies of Texture3Ds/TextureCubes/Texture2DArrays in certain scenarios, 15312978, 382, 105, 382
Add caps for texture size limits and other caps in the 6.28 table.  BUG=angle:658  Change-Id: Ia265fe1d3713db7701b41e8430d6d186f352ab4a Reviewed-on: https://chromium-review.googlesource.com/201363 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a GetVariableInfo helper method.  This method replaces the similar logic in storing uniforms varyings and interface blocks when collecting variable info. We can also re-use this method for both GLSL and HLSL programs.  BUG=angle:466  Change-Id: Ie6c13abe0f09f38b2f9b36e117caae4833eaccbf Reviewed-on: https://chromium-review.googlesource.com/206566 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Add missing limits include to angleutils.h  This missing include was breaking the build on Linux.  BUG=angle:692  Change-Id: Id502f477d6e3373519b011e75c144782e9101944 Reviewed-on: https://chromium-review.googlesource.com/206633 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor style in VariableInfo.cpp.  This patch simplifies the functionality change in a subsequent patch.  BUG=angle:466  Change-Id: Ib1c360438fad74fb15cd6cbf983240229c0eee76 Reviewed-on: https://chromium-review.googlesource.com/206568 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Share ArrayString and Str helper methods.  Placing these string helper methods allows us to re-use them in the relevant place of the shader translator.  BUG=angle:466  Change-Id: Idd638542027d3b1035bc79fc941e80bf436c82af Reviewed-on: https://chromium-review.googlesource.com/206567 Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed an issue with Streaming Vertex data overflowing it's buffer.  Bug=angle:689 Change-Id: Ia0ee6f951822901560888ea300a3889601fa1d89 Reviewed-on: https://chromium-review.googlesource.com/207010 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Improve the const correctness.  This improvement to the const correctness makes ProgramBinary::save compile with clang-cl as well which is more strict than MSVC.  Change-Id: Iae091643fa1df7f094b89dbe7529c4e173f04a6d Reviewed-on: https://chromium-review.googlesource.com/206714 Tested-by: <ehsan@mozilla.com> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a ValidateAttachmentTarget helper method.  This helper returns the appropriate error with the user specifies an attachment that is invalid or out-of-range (for indexed color attachments).  BUG=angle:571  Change-Id: I80ed347e3540579110e40e742fbacb0467cb85fd Reviewed-on: https://chromium-review.googlesource.com/205604 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add helper methods for FBO attachment validation.  Subsequent refactoring will eliminate duplicate code.  BUG=angle:571  Change-Id: I086320beb5c432c326d29d047931575e6f2a1d64 Reviewed-on: https://chromium-review.googlesource.com/205603 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Release CPU copies of Texture2Ds in certain scenarios., 15312978, 382, 105, 382
Removed sampler state getters and setters from gl::Texture  BUG=angle:688 Change-Id: I3f203e4d10059c12a0c00e967ad6c7d3b3a18074 Reviewed-on: https://chromium-review.googlesource.com/206335 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Brandon Jones <bajones@chromium.org>, 15312978, 382, 105, 382
Fix HLSL compiler error with else-rewriting in functions.  In functions with return types where we would use if-else rewriting we would potentially generate a spurious HLSL error that warned of branches with no return value in the function.  This was causing a maps regression where overlays would not draw in Earth mode.  BUG=346463 BUG=391697  Change-Id: I9f4fa959057a3a2dab6cdd98f8381b5871cabf03 Reviewed-on: https://chromium-review.googlesource.com/206824 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add a new TIntermRaw node type to translator.  This raw node stores text strings that we directly copy to the output. This allows for more tricky substitutions that don't fit in to the HLSL/GLSL shared parsing model.  BUG=346463 BUG=391697  Change-Id: Ibbde6db4fc98ef6d892f219631ca1a258a902a86 Reviewed-on: https://chromium-review.googlesource.com/206823 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix not rewriting else-if blocks.  We would miss expanding the else-if clauses in a chain of selection statements.  BUG=346463 BUG=391697  Change-Id: Iee644b875cf68d0ed3dc0b73542efc49ecb23242 Reviewed-on: https://chromium-review.googlesource.com/206822 Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add ANGLE_NO_EXCEPTIONS macro  This macro allows us to hide angle's usage of try/catch so that we can properly hide them from compilers that do not support exceptions properly (such as clang-cl and gcc/clang with -fno-exceptions).  Change-Id: I75f466a5322e5840e007711ea851f444bd6ca299 Reviewed-on: https://chromium-review.googlesource.com/206562 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: <ehsan@mozilla.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Support building angle with clang-cl  This works around http://llvm.org/PR20013.  Change-Id: Ibbd8ab4678cf1caf39b329ea304bdbdc21075ddf Reviewed-on: https://chromium-review.googlesource.com/206481 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: <ehsan@mozilla.com>, 15312978, 382, 105, 382
Allow ConvertPrecision to return undefined.  The overly-restrictive check would fail on sampler types or other GL types with no defined precision.  This fixes failures on the Debug GPU FYI bots.  BUG=angle:691  Change-Id: I443b7038a7b7a05675898b9b21e6112b1ac4c5ca Reviewed-on: https://chromium-review.googlesource.com/206552 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix ConvertPrecision.  This method had never been fully implemented and was returning "highp" for every case value.  This should fix problems with the GPU FYI bots.  BUG=angle:691  Change-Id: Ie6ffa80cf2c063e506df06fb25d622227edeffa3 Reviewed-on: https://chromium-review.googlesource.com/206565 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix GCC warning about initialization order.  Shifting these fields was breaking the build in Linux GCC.  BUG=angle:690  Change-Id: I34286753f7ab636900f25f880187dbb297e9c040 Reviewed-on: https://chromium-review.googlesource.com/206632 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Consolidate shader variable storage in Compiler.  The Compiler base class now stores all the shader variables and interface block information instead of duplicating the information in the HLSL translator.  BUG=angle:466  Change-Id: Ia69079fde64fbd6b0cbfc66defd5e37d99ee3e6e Reviewed-on: https://chromium-review.googlesource.com/206020 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use shader variable types for variable collection.  Retire the old TVariableInfoList structure and use the new objects which we will expose more directly through the API.  BUG=angle:466  Change-Id: I999a97369bfb67cf73cd659c4fe885b41429d304 Reviewed-on: https://chromium-review.googlesource.com/205839 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Add GLES 3 types to the VariablePacker test.  These include the new sampler types non-square matices and unsigned int vectors.  BUG=angle:466  Change-Id: I0d88fadfc3f81a2d9be604ee1dffefd5a4a343c5 Reviewed-on: https://chromium-review.googlesource.com/205838 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Consolidate varying packing sort order methods.  We were using the same list in the shader varying sorting as well as in the varying packing validation in the translator.  BUG=angle:466  Change-Id: Ic11758288e7a522d7c18a293de9e137e487e3978 Reviewed-on: https://chromium-review.googlesource.com/205595 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove duplicate SH and GL functions.  In several places we were using variable query methods that were duplicated between the old SH enums and the corresponding GL enums. We can use the common GL enum versions now.  BUG=angle:466  Change-Id: Ib8797fe6bc75828e05aed37b1f5fbd4b9ba03d22 Reviewed-on: https://chromium-review.googlesource.com/205594 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Return shader variable information using GLenum values.  Instead of duplicating GL header define values explictly return GLenum for variable queries in the shader inspection API. This reduces the duplicate defines in the shader compiler header.  BUG=angle:466  Change-Id: Iddaaff597b188251fa2e546f352bf77ab3ac43bc Reviewed-on: https://chromium-review.googlesource.com/205860 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <capn@chromium.org>, 15312978, 382, 105, 382
Add support for EGL_EXT_client_extensions.  BUG=angle:490  Change-Id: Iafc476cef7a3d11b3bb3640e673c28c6df3cf2a1 Reviewed-on: https://chromium-review.googlesource.com/204566 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix d3dcompiler_46.dll case to be consistent unblocks swarming.  src/copy_compiler_dll.bat defines the case of the file copied to the build output directory. It is then referenced by build systems. The case must be consistent with the uses in isolate files and the .gypi file defining output.  BUG=390210  Change-Id: I90c305a0c3663d46d2448e0adfa3103d0ce457d1 Reviewed-on: https://chromium-review.googlesource.com/206305 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Revert "Move more draw call validation to the API."  BUG=390412  This reverts commit 9efa581d0e8f251b88f5a2f432ddb20655036c77.  Conflicts: 	src/libGLESv2/validationES.cpp  Change-Id: I78457e1dfec8b75fecef8dc40c549adbde680a2a Reviewed-on: https://chromium-review.googlesource.com/206340 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Updating ANGLE template descriptions/names., 15312978, 382, 105, 382
Fix GL_RGBA4 EGL support. Calls to eglInitialize fail without this., 15312978, 382, 105, 382
Revert "Return variable type queries using GLenum values."  Breaks the FYI bots until we get Chromium patched.  BUG=angle:466  This reverts commit 53221f5a0382887155d90f7f286e41190d4f5bfb.  Change-Id: Ib28548df5c10a6f76f46e4cf8f2013dca5cf0ee2 Reviewed-on: https://chromium-review.googlesource.com/205850 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Return variable type queries using GLenum values.  Instead of duplicating GL header define values explictly return GLenum for variable queries in the shader inspection API. This reduces the duplicate defines in the shader compiler header.  BUG=angle:466  Change-Id: If631b20ce68747297a946e1371def7709027a613 Reviewed-on: https://chromium-review.googlesource.com/204937 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix null pointer dereference in glGetBufferPointerv  BUG=angle:687  Change-Id: If8f215d4a86332b9e6e791263bdeeb44b23a42a2 Reviewed-on: https://chromium-review.googlesource.com/205711 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix double delete in Framebuffer.cpp.  Depth-stencil buffers were using the same pointer for both attachments which was causing a double-delete in the Framebuffer destructor.  BUG=angle:686  Change-Id: I8b263e5a084c33b495ce18ef2a2a810918ef6540 Reviewed-on: https://chromium-review.googlesource.com/205639 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactoring Buffers  BUG=angle:681 Change-Id: I6c3809e0b9468dfe38465c55759c2572c21485da Reviewed-on: https://chromium-review.googlesource.com/204896 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the clientVersion parameter from the format utils.  clientVersion was only useful for intitial validation of formats and not required for queries.  Only use the client version and caps structure to validate if a format is available and then trust that it is supported past the validation layer.  Fixed some inconsistancies between tables such as missing formats or incorrect load functions in the ES3 tables.  BUG=angle:659  Change-Id: I8d33c902156ee6fb41efe937d93b0586191726e5 Reviewed-on: https://chromium-review.googlesource.com/201167 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add the BUILD.gn file to the ANGLE source.  The script currently lives in Chromium's build/secondary.  BUG=angle:683  Change-Id: I3ce11913fd27e0a01a1763d6ed973b250cf101d8 Reviewed-on: https://chromium-review.googlesource.com/205244 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use a common include for GL headers.  A common place to define required GL includes gives us a nice point to centralize GL customizations. In the header currently are the basic GLES headers with extensions and a define carried over from desktop GL.  BUG=angle:466  Change-Id: I6fc61947b4514654ec21355a786904eac04656c0 Reviewed-on: https://chromium-review.googlesource.com/204936 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Rename ShHandle.h to Compiler.h.  Since the above source file matches Compiler.cpp more closely follow our standard naming convention.  BUG=angle:466  Change-Id: Ib1422f87f16097f91f2bcdad550ec5bd940ce711 Reviewed-on: https://chromium-review.googlesource.com/204681 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Use the sh namespace for shader variables.  Since these types originate from the translator use an appropriate namespace. Also rename some of the gl helper functions to be more specific to their functionality.  BUG=angle:466  Change-Id: Idc29987b2053b3c40748dd46b581f3dbd8a6fd61 Reviewed-on: https://chromium-review.googlesource.com/204680 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove gl::IsInternalTextureTarget.  This function was a duplicate of ValidTexture2DDestinationTarget. Also clean up a bit of the code in Framebuffer::completeness.  BUG=angle:660  Change-Id: Iee8d011274bfb2e426346e3ccdde7342fbb7ef44 Reviewed-on: https://chromium-review.googlesource.com/202595 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove obsolete Renderbuffer types.  RenderbufferProxySet and FramebufferTextureBindingPointer aren't necessary any more with our refactored renderbuffer classes and ownership of attachments by the Framebuffer.  We can also consolidate the FramebufferAttachment and implementation to a single class and no longer need to store ref counted objects in the Framebuffer class directly.  BUG=angle:660  Change-Id: Idcc06dfb42b47242b33494e797a0ba06d6669511 Reviewed-on: https://chromium-review.googlesource.com/201838 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Moved D3D specific files and folders under the D3D folder.  Change-Id: I8afd67e08ee558fe94532c377d079673357a7192 Reviewed-on: https://chromium-review.googlesource.com/205229 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix npot Texture level 0 validation.  We were rejecting npot textures for level 0 even though it is valid in GLES 2 for non-mipped textures to have npot size.  BUG=381495  Change-Id: Iacc3ab50d6487ecba804fd8963aa0a2ada2f1cae Reviewed-on: https://chromium-review.googlesource.com/205220 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Add 16bpp render target to D3D11 back-end., 15312978, 382, 105, 382
Regenerate project files  Change-Id: I6d3cc10335686922c028f5fba4525f62c71c3e59 Reviewed-on: https://chromium-review.googlesource.com/204951 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove the ES version check for buffer to texture copies in D3D11.  With PBOs being exposed through an extension in ES2 now this check is uneccessary.  Change-Id: I609a4bcd944194d104e0774e5f6ea34e072c8d9c Reviewed-on: https://chromium-review.googlesource.com/201320 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added a new #define (ANGLE_ENABLE_TRACE_OUTPUT) to use in combination with ANGLE_ENABLE_TRACE for displaying trace output messages in the debugger output window., 15312978, 382, 105, 382
Move FBO check from applyRenderTarget to the API.  We would traverse the applyRenderTarget path from several entry points which could then trigger a GL error. In-line with our validation refactoring move all error checks prior to executing any state logic.  BUG=angle:571  Change-Id: I51f5bcfa41be7cdba7771eb87d5a831fa622f984 Reviewed-on: https://chromium-review.googlesource.com/203772 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Move draw call primitive type check to the API.  A part of a larger refactoring to clean up the draw call validation.  BUG=angle:571  Change-Id: I0b220d68c04524a81ca11dc58e10c90e458cabde Reviewed-on: https://chromium-review.googlesource.com/203771 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Move more draw call validation to the API.  The GL expects us to reject invalid draw calls before we start doing any work so we can prevent internal unnecessary state changes.  BUG=angle:571  Change-Id: Ic71218b3c2d5dc310280d3738bb1387753a10e03 Reviewed-on: https://chromium-review.googlesource.com/203770 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Move stencil mask validation to before the draw.  ANGLE (and WebGL) restrict the back and front stencil masks on draw due to D3D restrictions. We would previously only validate this if the stencil was enabled in D3D9. In D3D11 we would validate the stencil masks even if the stencil is disabled which is the behaviour the spec suggests.  Moving the error check to before the draw also prevents any issue with interrupting a draw call mid-way through.  BUG=angle:571 BUG=378754  Change-Id: If7651c2be559eef64a872082e144dafa3b2c524b Reviewed-on: https://chromium-review.googlesource.com/203299 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Clean up libEGL.def.  BUG=angle:490  Change-Id: I6f0f707862066c9906aa38601aa6839b78a5cc39 Reviewed-on: https://chromium-review.googlesource.com/204565 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Update to the latest EGL headers.  BUG=angle:490  Change-Id: I205e680a40af18f2657096d4219bdac0f613fb11 Reviewed-on: https://chromium-review.googlesource.com/204563 Reviewed-by: Brandon Jones <bajones@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor and unify HLSL varying signatures.  We would use different code for all of our input and ouput stages in HLSL (vertex output GS input GS output PS input). This was causing an HLSL error and some bugs in certain transform feedback instances.  Fix this by using a helper method to use compatible code for each of the stages.  BUG=angle:667  Change-Id: Idada969a775eccb5788723e0c7fa3ade9cb2d9ec Reviewed-on: https://chromium-review.googlesource.com/203778 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Use a const_iterator in structsHeader().  This was breaking the build for some compilers (GCC on android).  Change-Id: Ibfe5603710961497b6c15aa2d9cb568096ca1dd4 Reviewed-on: https://chromium-review.googlesource.com/204897 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add end-of-file newline to StructureHLSL.cpp.  BUG=angle:680  Change-Id: I37aee0d136021a1ce1c3c398d680cdbc4820e6d0 Reviewed-on: https://chromium-review.googlesource.com/204905 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Disable dynamic pixel shader generation.  Always generate the same pixel shader no matter what framebuffer is bound.  BUG=angle:670  Change-Id: I3fa91ff43363d49b38a19d3815ea523946c675d5 Reviewed-on: https://chromium-review.googlesource.com/204573 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove UNREACHABLEs in D3D9 renderer which are reachable., 15312978, 382, 105, 382
Split OutputHLSL uniform code into new module.  Refactoring patch only should have no externally visible changes.  BUG=angle:466  Change-Id: I01088a3b2979b96702d0a3c424d26928eb72b5b2 Reviewed-on: https://chromium-review.googlesource.com/203731 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Split OutputHLSL structure code into new module.  Refactoring patch only.  BUG=angle:466  Change-Id: I2c57096e1e24574e7de3d35d608645fde3b0c681 Reviewed-on: https://chromium-review.googlesource.com/203730 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Move OutputHLSL utility methods to other files.  OutputHLSL was become a large unweildy file. Some were also useful to other classes even on the GL back-end but were inacessible.  Refactoring patch only.  BUG=angle:466  Change-Id: Id216147122ca105c6ccdf0ba0c5f6c5038726965 Reviewed-on: https://chromium-review.googlesource.com/203459 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add support for EXT_sRGB.  BUG=angle:672  Change-Id: I001ff3dde7a39e545a535a399c02f3a6d91634c8 Reviewed-on: https://chromium-review.googlesource.com/203460 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Always store GL_DEPTH_COMPONENT32_OES as a 24-bit depth format.  Greatly simplifies the format utils by not having any internal format <-> DXGI format conversions depend on the client version. 32 bit floats and 24bit integers have very close precision in the [01] range so there should be no precision issues.  BUG=angle:659  Change-Id: Ife64445ef35f77283fc4c70c98754f5e87b6fb19 Reviewed-on: https://chromium-review.googlesource.com/202507 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix validation of LUMA formats in glGenerateMipmap.  BUG=angle:673  Change-Id: I6c106962d8a50ed8f69d208c537166a30e4f92c6 Reviewed-on: https://chromium-review.googlesource.com/203292 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix transform feedback type.  We were using the wrong enum for the varying type as well as using the row count of the type. We should be using the column count but for matrices we treat them as transposed.  BUG=angle:679  Change-Id: I0eb7f68f629a4372c6822f65b2de51ecc88a03ed Reviewed-on: https://chromium-review.googlesource.com/204520 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix buffer bugs affecting transform feedback.  Running dEQP-GLES3.functional.transform_feedback would trigger a few assertion failures because of some regressions that crept into our code.  Among the regressions is assuming we can't map a buffer that has no underlying storage object. This is valid since we sometimes allow setData without creating a native storage.  Additionally we should free our existing data store on a new call to SetData to prevent old but "new" data revisions from complicating our storage.  BUG=angle:679  Change-Id: Icd96a8a55a2b957d29382d8b8bbd7e8a7ab0cf65 Reviewed-on: https://chromium-review.googlesource.com/204342 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add queries for level and layer to FBO attachments.  BUG=angle:660  Change-Id: I03e76dd7743267dc0b57cf53a4d27cd75a5d5adf Reviewed-on: https://chromium-review.googlesource.com/201837 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add queries for object id and type to FBO attachments.  BUG=angle:660  Change-Id: Id91f6f2ae84eaefd59f9d568736bd99e3a27ef5d Reviewed-on: https://chromium-review.googlesource.com/201836 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix link error when using varyings with "dx_".  Varyings beginning with "dx_" would not get decorated properly or at all which could cause potential internal variables and certainly caused link errors. Fix this by no longer treating the "dx_" prefix differently.  Also fix our naming of "dx_Position" to be consistent with our other internal types.  BUG=angle:678  Change-Id: I03da0494a3d934d82ae7b3f8f12a576ff9bc3869 Reviewed-on: https://chromium-review.googlesource.com/203777 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Duplicate reused symbol table entries.  BUG=angle:651  Change-Id: Ifce3c19d41a0a5a5ca5ee90ede528adf397d1da5 Reviewed-on: https://chromium-review.googlesource.com/204290 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Split the ANGLE_platform_angle_d3d extension by adding child extensions.  Renames the ANGLE_platform_angle_d3d extension to ANGLE_platform_angle which acts as an umbrella extension for all the angle display types but requires the sub-extensions (d3d opengl software) to be present for the enums to be valid (similar to the OES_framebuffer_object extension).  BUG=angle:668  Change-Id: I2c00021558d8b781b20f948f5e0df03f734bd033 Reviewed-on: https://chromium-review.googlesource.com/202597 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a macro for unused trace variables.  This fixes the standalone 64-bit Debug build.  Change-Id: I348b71a96ada435867367e565bc84b570d2bfb67 Reviewed-on: https://chromium-review.googlesource.com/204292 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix compile warnings with attributes.  BUG=angle:676  Change-Id: I291c0b618854179f726cb4c969fb65182d3b591e Reviewed-on: https://chromium-review.googlesource.com/204340 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Implement support for constructing a 2x2 matrix from a vector.  BUG=380353  Change-Id: Ica0b94104e39f87b4a3439df40221b1f682fd678 Reviewed-on: https://chromium-review.googlesource.com/203293 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Refactoring VertexArrays  BUG=angle:676 Change-Id: If17b05ab667d79adcaacfbd1811ed92c0ce47fff Reviewed-on: https://chromium-review.googlesource.com/203294 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove Renderer pointer from FBO attachments.  Removing the Renderer pointer is one step towards making FBO attachments a minimal state object. Eventually we will be able to store them as arrays instead of arrays of pointers.  BUG=angle:660  Change-Id: Idce34e06c339ecb18c60fef12d2ed911d0c4e0f6 Reviewed-on: https://chromium-review.googlesource.com/201835 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add new ref-counted Renderbuffer class.  Renderbuffers are a clear object type in GL and this patch adds a more consistent state representation for them. They're managed by the ResourceManager and have a storage implementation similar to Textures but much simpler.  BUG=angle:660  Change-Id: Ia17199bb8cb570d48db42e1f28ccbcc12a902fcf Reviewed-on: https://chromium-review.googlesource.com/201834 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix buffer overflow error on buffer resize.  We were using the new larger size for our buffer data copy step instead of the old smaller size. This bug was causing a crash on older nVidia drivers during normal browser usage.  Reproducible with the index-validation-large-buffer WebGL test.  BUG=angle:667 BUG=384420  Change-Id: I98ee893e0d8ba0bfc9adfe5a338da9b940248879 Reviewed-on: https://chromium-review.googlesource.com/203776 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix build warnings about unused private variables on clang  BUG=angle:638677  Change-Id: Id9e80f0b86d9c24633b2d353a409844c22441d21 Reviewed-on: https://chromium-review.googlesource.com/203429 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix dependent typename build error on non-MSVC compilers  BUG=angle:677  Change-Id: Ic0d257ef41e8c80baeddd664eb6c2cc5db94ee43 Reviewed-on: https://chromium-review.googlesource.com/203428 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix ifdef complaints in clang  BUG=angle:677  Change-Id: Iee457dfc0990e5ffd61932b1f286f3c0208568bc Reviewed-on: https://chromium-review.googlesource.com/203427 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Re-enable MRT on D3D 10 and 10.1 cards.  BUG=angle:670  Change-Id: I88b4823f25ec28fa52831d856ff9fb836fdfc533 Reviewed-on: https://chromium-review.googlesource.com/203120 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Generate pixel shader output to match the bound framebuffer.  Only generate pixel shader output variables for render targets that are currently bound.  Fixes some performance issues with D3D10 cards that were slow to discard unused outputs.  Fixed memory leaks in ProgramBinary by refactoring the freeing of the current state into a reset function.  BUG=angle:670  Change-Id: I40f83e15724fb9a1a9ae61363a056999f1fa26d2 Reviewed-on: https://chromium-review.googlesource.com/202977 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Eliminate conversion operations.  They've been replaced by using constructor nodes so any code handling conversion operators can be removed.  BUG=380353  Change-Id: I70413179e7443efccbf997a5dd0f053c23689589 Reviewed-on: https://chromium-review.googlesource.com/203453 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor draw validation functions.  We use a significant amount of code duplication in our draw validation that we can consolidate.  BUG=angle:571  Change-Id: I96787cbddf00d9289e368456fb85079d8acec513 Reviewed-on: https://chromium-review.googlesource.com/202975 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move draw call validation to new functions.  Separate draw call validation functions will give us a flexible base for refactoring and cleaning up all draw call validation.  BUG=angle:571  Change-Id: Ia8e3c83cfe48fedb8f2c7aef1fb282f646c66e82 Reviewed-on: https://chromium-review.googlesource.com/202974 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a std140 padding helper class.  Using a helper class keeps our main parser stateless as we define std140 structs which need padding. The only functional change should be that we no longer use a global counter for struct padding hidden variables but a local padding per-struct.  BUG=angle:466  Change-Id: I8b92d65884b86571c8b2f052b0cba6150a4bbab0 Reviewed-on: https://chromium-review.googlesource.com/202911 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Use a Caps structure to store extension and texture format support.  Removes support for fallbacks in D3D9 texture formats. The fallback formats did not work properly anyways.  BUG=angle:658  Change-Id: Idfa5183bf71fd8ebf4608f940f9d93177b9eff08 Reviewed-on: https://chromium-review.googlesource.com/200813 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added unittests for feature level 9 specific functionality., 15312978, 382, 105, 382
Merge branch 'master' into ms-master  Conflicts: 	src/common/debug.cpp 	src/common/mathutil.h 	src/common/utilities.cpp 	src/compiler/translator/osinclude.h 	src/compiler/translator/ossource_win.cpp 	src/libGLESv2/precompiled.h + Add ANGLE_PLATFORM_WINDOWS flag to various projects. + Add/remove new/old files + Fix Thread Local Storage issues (particularly in tls.cpp). + Fix FAR/NEAR undef issue., 15312978, 382, 105, 382
Use commit_id.py on Windows and handle missing git.  This allows us to delete the Windows batch file.  Changes the commit_id script to take the working directory so that it can be called from a different working directory than the angle repository is in.  Renames the generated commit header to angle_commit.h. This is being written to the shared generated code directory for the entire build and "commit.h" is insufficiently unique.  BUG=angle:669  Change-Id: I35e80411a7e8ba1e02ce3f6a4fc54ed4dbc918f3 Reviewed-on: https://chromium-review.googlesource.com/202048 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix crash on zero size but non-NULL bufferData.  Could cause a crash when running the WebGL CTS with Firefox.  BUG=angle:675  Change-Id: I58bf9eed622660d4702b775f368ff9cbd693197a Reviewed-on: https://chromium-review.googlesource.com/203456 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Produce constructors instead of conversions.  GLSL only supports explicit conversion through constructors. Therefore the conversion nodes are redundant.  BUG=380353  Change-Id: Id871c34750191dac431bf72aac9afed7b0db7f8e Reviewed-on: https://chromium-review.googlesource.com/203452 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Create constructors just once.  BUG=380353  Change-Id: I9828a3f193ccfdda2013fa3de0e41e6e28953ea2 Reviewed-on: https://chromium-review.googlesource.com/203451 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add constant casting support.  BUG=380353  Change-Id: I5a350ca09e2b7e7abb9fa079365adb5aad5af607 Reviewed-on: https://chromium-review.googlesource.com/203450 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Fix constructing vectors from matrices.  BUG=380353  Change-Id: I3b0fe55b829602554bb63bbd281ad58d47364502 Reviewed-on: https://chromium-review.googlesource.com/202966 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Restrict the size of shader arrays.  This prevents overflow issues in the HLSL translator and some drivers. The limit it hard-coded to 65536 to be larger than the Shader Model 5 register limit (4096) to account for register allocation optimizations and future hardware.  BUG=379799  Change-Id: I20f05c9dd230fbfc1c92af52533cd2b50f2ff994 Reviewed-on: https://chromium-review.googlesource.com/202939 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Refactor platform related functionality into platform.h and tls.h.  Since libGLESv2 and libEGL will eventually be cross platform it will be useful to have platform defines and TLS functions that work everywhere.  BUG=angle:664  Change-Id: Ia357925a0992d82e8b446d88d32a1984d319e6e8 Reviewed-on: https://chromium-review.googlesource.com/202133 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Report zero bit sizes for channels that shouldn't exist.  If the actual format has more channels than the internal format of a framebuffer bits counts greater than zero will be returned for channels that should not exist.  While it is not against the spec to return more bits than exist in the format it can be confusing for users or break tests.  get*Bits will now only return greater than zero bit counts when the format should have the given channel.  Since this is the only location that we return information about the "real" internal format we're using it's safe to only make the modifications here.  BUG=angle:653  Change-Id: I43ef4c6290c8c70737d579d7e9a2dd30d653330b Reviewed-on: https://chromium-review.googlesource.com/202594 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Added back D3D9 as default renderer and defaulted googletests to use D3D11 renderer/display for testing., 15312978, 382, 105, 382
Store the std140 layout offsets in a pre-pass.  Instead of recording data and mutating a local table as we parse store all of the offsets for the std140 structs when we first generate the struct. This should have no behavioural change as structs should always be defined first in any case.  BUG=angle:466  Change-Id: I1b732d67bd4f5b908211410e5e7796d72d836174 Reviewed-on: https://chromium-review.googlesource.com/202910 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Refactor GLSL scoped structure handling.  With a unique ID similar to how we handle scoped structures in the HLSL translator we can simplify the declared structure check.  BUG=angle:618  Change-Id: I5fe61c8d353650ac67a7c7ecdf53a70b91a9b717 Reviewed-on: https://chromium-review.googlesource.com/202500 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Prevents multisample depthstencil from being bound as an SRV  BUG=381413  Multisample textures can only be bound as both depth stencil views and shader resource views at feature level 10_1 and above. We don't need to bind textures as SRVs if they're multisample depth targets so we should avoid the SRV flag in that case.  Change-Id: I28ca98bdc4a86eb5442b39ea3cf2b42aa9216aab Reviewed-on: https://chromium-review.googlesource.com/202921 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Move FBO attachment code to new source file.  Since FBO attachments and Renderbuffers are semantically distinct make a new location for attachments to live.  BUG=angle:660  Change-Id: I51753f8a814e89641637c5d8293f7e9a573a7ba5 Reviewed-on: https://chromium-review.googlesource.com/201833 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Rename Renderbuffer to FramebufferAttachment.  Part of the refactoring effort to clean up our classes for FBO attachments and Renderbuffers.  BUG=angle:660  Change-Id: Id23df904f56499568159611b66c8922b9dce6a3d Reviewed-on: https://chromium-review.googlesource.com/201832 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Removed unused local variables that were causing release build warnings., 15312978, 382, 105, 382
Added D3D11 as the default renderer for generated ANGLE projects., 15312978, 382, 105, 382
Added exclusion of winrt directory to GYP to fix project generation for the desktop build of ANGLE., 15312978, 382, 105, 382
Fix up some validation bugs in Texture functions.  In several places we weren't handling certain errors or were returning the wrong error code. Several dEQP negative API tests are affected in functional.negative_api.texture.  BUG=angle:571  Change-Id: I19d7250aab2c15d709fd591b8df90ce883f9ac60 Reviewed-on: https://chromium-review.googlesource.com/201250 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Redesign HLSL scoped structures to a unique ID.  A unique ID gives a more flexible renaming scheme than our current method of using nested scope identifiers. The reduced complexity allows for fewer points of breakage and fixes an outstanding bug with scoped structures (with added test).  BUG=angle:618  Change-Id: I6551248bb9fa2d185ab67248721f898dd50151f0 Reviewed-on: https://chromium-review.googlesource.com/202183 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed project templates to link for Release builds., 15312978, 382, 105, 382
Added IDXGIDevice3 Trim( ) support for Windows Certification Kit compliance., 15312978, 382, 105, 382
Regenerate public projects.  Change-Id: I57817666faca834e075216e63d7b0353d7a4d72c Reviewed-on: https://chromium-review.googlesource.com/202596 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix unused variable in validationES.cpp.  Broken in 560a8d889b6866d7d29d.  BUG=angle:571  Change-Id: Idb2414e11ad397cc45c2bdf5f357fd1b8e7fe6c2 Reviewed-on: https://chromium-review.googlesource.com/202602 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor CopyTexImage validation.  Move the common validation code to a shared base function.  BUG=angle:571  Change-Id: Id70b413b408a21f0a8933cfd4a09e261e637bae1 Reviewed-on: https://chromium-review.googlesource.com/200559 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed SurfaceHost unittests to run and pass on Windows Phone, 15312978, 382, 105, 382
Merge branch 'master' into ms-master  Conflicts: 	projects/src/libGLESv2.vcxproj 	projects/src/libGLESv2.vcxproj.filters 	src/libEGL/Surface.cpp 	src/libGLESv2/renderer/Renderer.h 	src/libGLESv2/renderer/d3d11/SwapChain11.cpp 	src/libGLESv2/renderer/d3d9/Renderer9.cpp  - Resolved merge conflicts in these files - Added new preprocessor defines to the Universal projects - Added new files (systeminfo.cpp) to the Universal projects - Ifdef'ed out new code in SystemInfo.cpp for Windows Store - Fixed some x64 compilation issues - Retain the swapchain buffer count when resizing the swapchain., 15312978, 382, 105, 382
Fix missing bracket in translator source.  Broken in ed14b79dc8e9ec4f4a831bb5213ab67ef01af196.  BUG=angle:628  Change-Id: Ia6b92dd13362bb51f0aa17a14278039d568f5434 Reviewed-on: https://chromium-review.googlesource.com/202182 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix edge case scoped structures name conflict.  Structures with names ending in "_#" such as "_0" could conflict with the internally rewritten scoped structures. Fix this by using a prepending rule instead of appending.  Also includes a test and fixes a WebGL test in Firefox. (Chrome is not affected because of the variable hashing step.)  BUG=angle:618  Change-Id: I3d441f1de268b6d7e74a0834b43e889b7bfe578c Reviewed-on: https://chromium-review.googlesource.com/201468 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Add EGLNativeDisplayType to force Feature Level 9_3., 15312978, 382, 105, 382
Adding D3D_FEATURE_LEVEL_9_3 support to ANGLE., 15312978, 382, 105, 382
Removed subclasswindow support because SwapRect handles size changes of the client window and manages swapchain changes if needed, 15312978, 382, 105, 382
Convert WinRT test projects into Universal solutions., 15312978, 382, 105, 382
Move the GL_APICALL and similar defines to the project level.  BUG=angle:658  Change-Id: Ib4fa10bb89a6658efbc20d5a763d8ec9c3a5506f Reviewed-on: https://chromium-review.googlesource.com/201465 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add include of common_defines.gypi for the angle_path variable.  BUG=skia:2272  Change-Id: I29540e009c41a1638e1a0399950621abbbbf2904 Reviewed-on: https://chromium-review.googlesource.com/201839 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix uniform bug from duplicate D3D9 shader pointers.  In D3D9 sometimes the compiler would return the same shader pointer on different calls to compile if the programs were similar. Work around this quirk by storing an applied serial for the program so we know when to refresh uniform data.  BUG=angle:661  Change-Id: I9750ee2298701dbe3f121dac6626198d24a2d1b2 Reviewed-on: https://chromium-review.googlesource.com/201562 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't allocate unused swap chain buffers  According to msdn.microsoft.com/en-us/library/windows/desktop/bb173075(v=vs.85).aspx the front buffer is the desktop and is not a dedicated part of the swap chain. Thus we should only need 1 swap chain buffer instead of the currently allocated 2. Samples in the DirectX SDK also only allocate just one.  BUG=angle:662  Change-Id: If88eeab1954cbc92b39ac7cf42f924515c4b77f9 Reviewed-on: https://chromium-review.googlesource.com/201860 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix warnings about unreferenced local variables.  BUG=skia:2272  Change-Id: Ibf03efedc662fea2a389ad2dc5af5b7b014181a8 Reviewed-on: https://chromium-review.googlesource.com/201900 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Adding Universal XAML SwapChainPanel template to ANGLE., 15312978, 382, 105, 382
Fix register packing for structs in d3d9.  Fixes WebGL test misc/shader-with-array-of-structs-uniform  BUG=angle:656  Change-Id: If79a19db4d40bab9110422f7876de32e7f85e506 Reviewed-on: https://chromium-review.googlesource.com/200620 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Add a compiler query for the translator output type.  This is useful for determining if we are compiling to a D3D9 or D3D11 shader outside of the internal translator classes.  BUG=angle:656  Change-Id: Ib1c1d3de569edaa2b65c24c09d05aa4dd229d3e4 Reviewed-on: https://chromium-review.googlesource.com/201564 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use 'inout' qualifiers in generated HLSL for 'out' parameters.  With our added padding to some structures using only 'out' in the generated HLSL can cause warnings because not all of the structure members are initialized.  BUG=angle:286  Change-Id: I866960883de487f19883fb2bc086c02703ea6271 Reviewed-on: https://chromium-review.googlesource.com/201364 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Regenerate public projects.  Change-Id: Ibaccaa46457e9ee4379c137182673153a17f207d Reviewed-on: https://chromium-review.googlesource.com/201461 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix placement of windows.h include for Win 8.1 SDK.  The windows header must be included before versionhelpers.h.  BUG=angle:649  Change-Id: Ifee95b2918ea039f9a1c93ad0244bf2d35bd8570 Reviewed-on: https://chromium-review.googlesource.com/201462 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Make available EGL surface parameters queryable.  BUG=angle:331  Change-Id: Idb3c3ddc6ddd6bfc21b15b7e8942975ce4cd051f Reviewed-on: https://chromium-review.googlesource.com/200811 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Move state query validation out of Context.  Generate all GL errors in the validation helper functions instead of within the state manipulation logic and internals of Context.  BUG=angle:571  Change-Id: I7a3f540e2ae0f5f8c7126e2593717cc3200dd7e5 Reviewed-on: https://chromium-review.googlesource.com/200551 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Automate the DEQP tests by wrapping them in the gtest suite.  BUG=angle:497  Change-Id: If0a72c053bccccc4369ec78dd70173bbadb1be7b Reviewed-on: https://chromium-review.googlesource.com/200044 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Automate the es conformance tests by wrapping them in the gtest suite.  BUG=angle:497  Change-Id: If12b2dd79f9f666c5d686237d5663f316171b15c Reviewed-on: https://chromium-review.googlesource.com/200043 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Adding Universal Windows Store support for ISwapChainPanel, 15312978, 382, 105, 382
Fix arrays-of-struct and nested struct uniforms.  Our computation of register offsets had a few errors that messed up nested structs and arrays of structs.  This fixes a WebGL test as well as several dEQP tests.  BUG=angle:505 TEST=WebGL CTS 1.0.3 dEQP-GELS3.functional.uniform-api  Change-Id: Id5a0f39481e079fe5ef5ef856943dc1f91ee3639 Reviewed-on: https://chromium-review.googlesource.com/200045 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move all uniform validation from ProgramBinary to API layer.  This will have the contract of having a successful API call once we call into the ANGLE internals having successfully passed valiation.  BUG=angle:571  Change-Id: Ia8d6eccc1e42bdf9e9cc5c10094a08729b42778a Reviewed-on: https://chromium-review.googlesource.com/200075 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor Uniform validation to validationES.cpp.  This patch also incidentally fixes some bugged validation in the new ES3 unsigned int uniform API entry points.  BUG=angle:571  Change-Id: I89bd909467bd9418fe5ce3f246561765cf27a5e9 Reviewed-on: https://chromium-review.googlesource.com/200074 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor UniformMatrix validation.  Move the shared validation logic to validationES.cpp.  BUG=angle:571  Change-Id: I2fb06a012703c647de2176914238b48665145c6f Reviewed-on: https://chromium-review.googlesource.com/200073 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix build warnings in x64.  A std::min/max with size_t and unsigned int.  Popped up in f98e63a54b8a2.  BUG=  Change-Id: I25f26ddbe7fb333f895be8a8dce3d3d73044c3f9 Reviewed-on: https://chromium-review.googlesource.com/200484 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix build on Windows 8.1 SDK.  The Windows 8.1 SDK includes a new DLL compiler DLL and is useful to test against so we should fix the few deprecated functions and warnings.  BUG=angle:649  Change-Id: I28bcf49564f3f7d7403d939d61dd78d3972281ba Reviewed-on: https://chromium-review.googlesource.com/199341 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Adds resource string generation to ANGLE  This will avoid Chrome source having to be updated each time that ANGLE's ShBuiltInResources changes.  BUG=374942  Change-Id: If54dba8351de9b261ff269e885f231547c08ff0a Reviewed-on: https://chromium-review.googlesource.com/200171 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Explicitly set the swap effect.  swapChainDesc.SwapEffect wasn't being set. The whole structure was initialized to 0 and DXGI_SWAP_EFFECT_DISCARD has value 0 so this should have no effect. Also sorted the field initialization in the order they're declared.  BUG=373360  Change-Id: If0113e7468c0bad024a07fec6ad9e223e19494b5 Reviewed-on: https://chromium-review.googlesource.com/200046 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Don't discard serials of zero from the set of bound framebuffer serials.  A serial of zero is a valid texture serial but it was used by RenderbufferStorage to denote a non-texture binding. Added a isTexture method to Renderbuffers and RenderbufferStorage has been updated to return -1 as the current texture serial to avoid collisions.  BUG=angle:633  Change-Id: Ie27e4b185ac09b48b593ae0dea02aeff5950a44f Reviewed-on: https://chromium-review.googlesource.com/200123 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Adding Win32 Application template to ANGLE., 15312978, 382, 105, 382
Adding Universal CoreWindow template to ANGLE., 15312978, 382, 105, 382
Adding Universal Windows Store projects/solutions and ICoreWindow support., 15312978, 382, 105, 382
Fixed dereference of a NULL renderer when eglMakeCurrent is called after the renderer has been destroyed., 15312978, 382, 105, 382
Handle interface blocks in getVariableInfo and getUserDefinedVariableInfo.  BUG=angle:654  Change-Id: I07a230bbf2387e85168c50cb3719c669a7890f8a Reviewed-on: https://chromium-review.googlesource.com/199687 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix binary serialization to use explicit size and type.  Loading program binaries across different architectures would cause runtime errors due to use of size_t.  Also fix the ANGLE major and minor version that were clobbered in an earlier commit.  BUG=angle:647 BUG=371435  Change-Id: I9473cc7e119592fce336aa47881839543e337b69 Reviewed-on: https://chromium-review.googlesource.com/199633 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Optimize texture application in draw calls.  Gather all bound textures and samplers first and then pass them to generateSwizzles and applyTextures to reduce redundant get calls.  BUG=260069  Change-Id: I5b10dddb01a6bfd756c58b76218838cfc1fd59b6 Reviewed-on: https://chromium-review.googlesource.com/199343 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move validation of EndQuery out of gl::Context.  BUG=angle:571  Change-Id: I8913eb1b565a4282d9d84d06933e8b854453f17d Reviewed-on: https://chromium-review.googlesource.com/199349 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor BeginQuery validation out of gl::Context.  Part of our effort to relocate all validation logic to a preliminary pass outside of our state tracking or rendering layers.  BUG=angle:571  Change-Id: I5241daef6249910a781e78fd066debe0ab1d3f2b Reviewed-on: https://chromium-review.googlesource.com/199348 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use lowercase d3d header includes to fix ANGLE compilation on case sensitive OSes  The actual D3D header filenames are all lowercase.  Change-Id: I8f78d618d44360d34b5b01eb5a1972b35f2f15b7 Reviewed-on: https://chromium-review.googlesource.com/199692 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add READ/DRAW_FRAMEBUFFER_BINDING_ANGLE to getQueryParameterInfo  Change-Id: I3e7f5cb0b4d2829eef86b878ffede0ac86279f57 Reviewed-on: https://chromium-review.googlesource.com/199684 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix code style violation in compiler/preprocessor  BUG=angle:650 TEST=no behavior change  Change-Id: Ib52f15f6471fc7897b66d11baee11216cf08158a Reviewed-on: https://chromium-review.googlesource.com/199591 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Track if uniform data has been updated to avoid extra Map calls.  Compare all uniform data to the values currently stored in the uniform and only mark the uniform as dirty if the data is new.  This saves lots of buffer map calls when the same data is set on a uniform many times.  BUG=260069  Change-Id: Ic4df8a276a81b074211712ff50e5cc4d0d9bb612 Reviewed-on: https://chromium-review.googlesource.com/199346 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove references to software rendering in Renderer9.  BUG=angle:641  Change-Id: I3724c2504d43eae0528e8c72eb51e96c9d7c7a71 Reviewed-on: https://chromium-review.googlesource.com/198377 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Minimize the API calls done by InputLayoutCache::applyVertexBuffers.  Reduce the number of IASetInputLayout calls to 1 in all cases and set the fewest number of buffers at once.  BUG=260069  Change-Id: I059337fc6601ecefd801ef37546935becaa0d355 Reviewed-on: https://chromium-review.googlesource.com/199345 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Optimize Texture*::updateStorage by iterating over fewer levels.  Only update the storage on levels that exist.  Especially helps for cube maps which have 90 images that would be iterated over in all cases.  Added an additional early-out check if the image is dirty for cube maps to match the other texture types.  BUG=260069  Change-Id: I3d298f4f9ebdc23136a31138a3ef8364667fa78c Reviewed-on: https://chromium-review.googlesource.com/199344 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split register allocation of varyings from the translator.  The translator gl::Varying struct does not need to know about register allocation. We can put that entirely in the API library. This makes exposing Varying variables with the new translator types cleaner.  BUG=angle:466  Change-Id: Ib85ac27de003913a01f76d5f4dc52454530859e6 Reviewed-on: https://chromium-review.googlesource.com/199736 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove gl::Varying::elementIndex.  We only assigned to elementIndex and never referenced the value at any point in our code.  BUG=angle:466  Change-Id: I541a353110bcd1863b07b21bcf21fad38be19ca1 Reviewed-on: https://chromium-review.googlesource.com/199735 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Fix binary serialization to use explicit size and type."  This reverts commit 261988513e89479a0d121d045a8d89b64dc68214.  Change-Id: I959ca14fcbb257f12005f7f0b64a600e906a118c Reviewed-on: https://chromium-review.googlesource.com/199630 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Attempt an Mac build fix  BUG= TEST=mac bots build on GPU.FYI  Change-Id: I3dd2b07702e8c0a40d64ab973eb969ba50954640 Reviewed-on: https://chromium-review.googlesource.com/199611 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix code styles in OutputGLSLBase SymbolTable and Types.  I came across these three classes in the last CL so do some cleanup as I touched these classes.  BUG= TEST=webgl conformance no regressions  Change-Id: I2819bab5965fcb4917f85c2eded571a7f95ab9a2 Reviewed-on: https://chromium-review.googlesource.com/199423 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix missing <algorithm> include.  Change-Id: Id6952fa07223217c9dde6798d3ea701b49e6089e Reviewed-on: https://chromium-review.googlesource.com/199313 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Regenerate public projects.  BUG=angle:618  Change-Id: I516ad4a5639b021fb467aa7c7889a5f9f9bf4b33 Reviewed-on: https://chromium-review.googlesource.com/199342 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix nested struct scope support in GL backend.  Basically we should be able to reuse a struct name once the previous use is out of the scope or we can reuse it if we are in a inner scope than where it is defined before.  BUG=368910 BUG=angle:618 TEST=conformance/glsl/bugs/nested-structs-with-same-name.html  Change-Id: Icfac76b844deaca0c8a0501d7426ff3802e657dc Reviewed-on: https://chromium-review.googlesource.com/199137 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix binary serialization to use explicit size and type.  Loading program binaries across different architectures would cause runtime errors due to use of size_t.  Also fix the ANGLE major and minor version that were clobbered in an earlier commit.  BUG=angle:647 BUG=371435  Change-Id: If2ad4c8fc246cc9ff0b4d95ba87b7d1ed109a064 Reviewed-on: https://chromium-review.googlesource.com/199102 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Attempt skipping D3D11 shader optimization if compilation fails.  BUG=angle:648chromium:371868  Change-Id: I1de854aad6e002bd1349f08eb8d6b597c535c90b Reviewed-on: https://chromium-review.googlesource.com/199312 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Brandon Jones <bajones@google.com> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Attempt skipping validation if D3D11 shader compilation fails.  Some shaders fail to compile with validation error messages that make no sense.  BUG=angle:648chromium:372016  Change-Id: Ief0e28efa6bc7eaa483c95f45c00ce4f9f20e541 Reviewed-on: https://chromium-review.googlesource.com/199311 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor attempting shader compilation with different flags.  BUG=angle:648  Change-Id: Ie340eaa708820cc13be6d1f5ba04555b6c1918ea Reviewed-on: https://chromium-review.googlesource.com/199310 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix D3D11 'units' polygon offset bias.  D3D11 DepthBias is an integer corresponding directly to GL polygon offset units.  BUG=371604  Change-Id: I20a126bd9c6298efff95f3edbf1babc0dd495b18 Reviewed-on: https://chromium-review.googlesource.com/199200 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix D3D11 polygon offset.  We were not taking the state of GL_POLYGON_OFFSET_FILL into account.  BUG=371604  Change-Id: I9b490ed043faeece86665acaef0b865bf1f7b60d Reviewed-on: https://chromium-review.googlesource.com/199121 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Shaders should fail compile if a boolean's precision is specified  Tested and no regression on WebGL conformance 1.0.3  BUG=angle:628 BUG=368874 TEST=http://www.khronos.org/registry/webgl/sdk/tests/conformance/glsl/misc/boolean_precision.html  Change-Id: Ie74616c3ab846eea19f4bd4a041fc0f00d55f151 Reviewed-on: https://chromium-review.googlesource.com/198884 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix BufferStorage11::getLatestStorage not finding the latest buffer.  If there are only buffers with data revision 0 getLatestStorage will skip over them.  Fixed the if statement so that it will always find a buffer if one exists.  BUG=angle:644  Change-Id: I24fc426383c9ae18b7ccf2f8937a9daa7a071ebe Reviewed-on: https://chromium-review.googlesource.com/198826 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for querying GL_MAX_VARYING_COMPONENTS.  BUG=angle:645  Change-Id: I2e33798bd7fe6cabb1237224aeb9e59cdf03f73c Reviewed-on: https://chromium-review.googlesource.com/198836 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement copies from pack buffers to native buffers.  Full support for using pack buffers as vertex buffers or other binding points requires us to copy through the staging buffer.  BUG=angle:511  Change-Id: Ife0f5390a1a83dfbe0fa0b19db72f3a8b82b6b83 Reviewed-on: https://chromium-review.googlesource.com/198435 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement internal copies from pack buffers.  Pack buffers used in different binding points when combined with other buffer operations require us to be able to read from the pack buffer then write to the native buffer.  BUG=angle:511  Change-Id: I2e859695235eb649ddd5dfc1332ecb19b57c1933 Reviewed-on: https://chromium-review.googlesource.com/198434 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix regression with BufferStorage11 and latest storage.  With our fix to huge buffer allocations an extra check was preventing pixel pack from running on the first try.  BUG=angle:511  Change-Id: Idabafe4e204ad3b7bf2010595dc455affe93dae0 Reviewed-on: https://chromium-review.googlesource.com/198825 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a DXGI format for GL_LUMINANCE16F_EXT in ES3.  BUG=angle:642  Change-Id: I41eb64b8e9963cfe33e4c127f84a16eef9b118d3 Reviewed-on: https://chromium-review.googlesource.com/198379 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the implementations of shader var init to the header.  Making the contructors for shader variables inline saves us from exporting them across DLL boundaries. This makes it easier to use them in the translator when building the translator as a DLL.  BUG=angle:466  Change-Id: Iee0556e06dc1f9e98fe9eea6577819305de0dd0b Reviewed-on: https://chromium-review.googlesource.com/198555 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Replace libEGL catch bad_alloc clauses with ellipses.  Since we incur some kind of type confusion that stops us from properly catching bad_alloc exceptions generated when compiled with exceptions or when ANGLE is compiled with C++ exceptions use catch-all clauses.  BUG=angle:634  Change-Id: I6d6efbf1fc7a4ebf8f13150b2814bfcd5edaad91 Reviewed-on: https://chromium-review.googlesource.com/198421 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Adds the PBO extension test  BUG=angle:581  Change-Id: I50a1181d0547c5629c9037f6d8e989c505c7e5ed Reviewed-on: https://chromium-review.googlesource.com/198239 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Advertises the NV_pixel_buffer_object extension  BUG=angle:581  Change-Id: I1e55582e94a36e56ef3e0f53ff9233c1a31408f5 Reviewed-on: https://chromium-review.googlesource.com/198238 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Adds PBO buffer targets when extension is present  BUG=angle:581  Change-Id: I125cdd995e538db4a275657770149071406a6ad1 Reviewed-on: https://chromium-review.googlesource.com/198237 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Adds conversion for USHORT2N decltype  BUG=angle:643  Change-Id: I90a5e5c91351b9dd43a841cc5612f3f3656dc5b1 Reviewed-on: https://chromium-review.googlesource.com/198233 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Handle buffer memory allocation failures gracefully.  When we would allocate huge buffers we would not always gracefully fail and return a GL error back to the application. We should be able to better handle buffer allocation failures with this patch.  BUG=angle:634  Change-Id: Ic3edce6d22b731ec52666a2a0e82f9a4fbbb23ae Reviewed-on: https://chromium-review.googlesource.com/197994 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Store current pack operation as a queued command.  The pack pixels operation is split in two halves: a GPU copy then a CPU readback. We defer the CPU readback until we can't wait any longer. That is we do the readback when the user maps the buffer or there's another readback or internal operation.  This offers the benefits of doing as much GPU work as asynchronously as possible and only doing the readback work on related API calls (map or subsequent pack calls).  BUG=angle:511  Change-Id: I95a01da2b0e842438b180e8cdbb382c9a46ae210 Reviewed-on: https://chromium-review.googlesource.com/197836 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Stop generating duplicate vertex binaries.  We would generate multiple vertex binaries that result in the same HLSL code eg for vec2 and vec3 vertex attributes. Eliminate duplicates by using the converted attribute type for testing for matching binaries.  BUG=angle:599  Change-Id: I061588164577ff9fa69ebb7d8a3f2bf6bb6fe013 Reviewed-on: https://chromium-review.googlesource.com/197830 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Replace catch blocks from std::bad_alloc to ellipses.  It seems we weren't catching bad_alloc despite using the correct syntax. Using ellipses solves the problem and since we only expect bad_alloc it does the equivalent result of catching and returning out of memory.  I'm currently not aware of the proper syntax to catch bad_alloc.  BUg=angle:634  Change-Id: Ib3154546d1b72d180cb565c71f35716696863cdd Reviewed-on: https://chromium-review.googlesource.com/198245 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use a static function instead of a static initializer for defaultBlockInfo.  BUG=angle:640  Change-Id: I5fe568c9a2b492a5bd8a42142762229c5f992c7e Reviewed-on: https://chromium-review.googlesource.com/198248 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add tests for pack buffer corner cases.  BUG=angle:511  Change-Id: I72ff4f8fa83d9dda4d186d727035085ecc39a9dc Reviewed-on: https://chromium-review.googlesource.com/197703 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable PBO asynchronous readback in Renderer11.  BUG=angle:511  Change-Id: Id795a85ec1daa396fc51f021c37fe23df3ecc065 Reviewed-on: https://chromium-review.googlesource.com/197702 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Keep persistent pack buffer memory storage.  Keeping a persistent storage allows us to treat the memory buffer as the canonical copy of the pack buffer data and simplifies corner cases.  BUG=angle:511  Change-Id: Ied4dcb2edce2b85f68645f5a65603cbf18ad5a16 Reviewed-on: https://chromium-review.googlesource.com/197701 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix 64-bit build failures.  Update the BufferStorage classes to use size_t for all sizes and offsets. BufferStorage9 now uses a std::vector to manage its memory.  BUG=angle:631  Change-Id: Iea4e7b33ede59a5b9c6a1245690c4b7865096fc3 Reviewed-on: https://chromium-review.googlesource.com/197819 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Reference .git/index as a dependency of commit_id.  Any time the git index changes we will re-run the commit id hook. This will ensure we never are left with stale commit ids from other git commits.  BUG=angle:626  Change-Id: I03c37225fb902b6c1801e8f993d767122e8bfeb6 Reviewed-on: https://chromium-review.googlesource.com/197723 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Optimize alignment and conversion test for float attribute types.  The generic alignment and conversion test to check for the possibility of using direct storage is relatively expensive. Float types can be tested more quickly.  BUG=angle:613  Change-Id: I5ab008ce82c8b652f0392c20a80a5b198b2437a5 Reviewed-on: https://chromium-review.googlesource.com/197721 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixes to the standalone Linux build.  Several small build errors present on Linux cropped up due to different warning flags and platform quirks.  BUG=angle:627  Change-Id: If8f651cacf05bb06ecb129be47b12729ccc3f69b Reviewed-on: https://chromium-review.googlesource.com/197724 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor setting the input layout and vertex buffers separately.  BUG=angle:613  Change-Id: Id2ecfc215ef65164cb9ee8bfbad168e9af658386 Reviewed-on: https://chromium-review.googlesource.com/197722 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Early out when direct binding not supported.  BUG=angle:613  Change-Id: I488dca027e3f6d23cda546ca44af54dcc3338047 Reviewed-on: https://chromium-review.googlesource.com/197720 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove unused mWriteUsageCount.  BUG=angle:613  Change-Id: Ia0d9f4ff3b4ace57532b061f5729fa82f49c4497 Reviewed-on: https://chromium-review.googlesource.com/197710 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix a performance regression.  "Refactor BufferStorage11" caused a performance regression by dropping the line which sets mReadUsageCount to 0. This causes markBufferUsage() to clear mResovedData which then has to be restored on the next getData() call.  BUG=angle:613  Change-Id: I61c4b4960305a69b315c20ced66265a770002338 Reviewed-on: https://chromium-review.googlesource.com/197503 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Allow non-4x4 compressed blocks for small mip layers.  CompressedTexSubImage would disallow 1x1 or 2x2 mips being set for any mip level except 0.  This made it impossible to set the data in the lowest mip levels.  BUG=angle:623  Change-Id: I623414ae4fd5d6b051579285160296b03fd36486 Reviewed-on: https://chromium-review.googlesource.com/197250 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> (cherry picked from commit cc84a853eb5ab63a744657da704f84905565ab9e) Reviewed-on: https://chromium-review.googlesource.com/197654, 15312978, 382, 105, 382
Verify that the compiler has been initialized before freeing it.  BUG=angle:625  Change-Id: I8bba0dea26eacf02df4568cfb6840aa332bd0df8 Reviewed-on: https://chromium-review.googlesource.com/197655 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix scoped structure references.  We had neglected to reference scope bracket values when initially constructing the scoped struct name. Fixes the new WebGL test.  BUG=angle:618  Change-Id: Ie78a8264c9e16c5a6574cecd662adbd5475d6495 Reviewed-on: https://chromium-review.googlesource.com/197252 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Lazy creation of the BufferStorage staging buffer.  Only creating the staging buffer on use saves us from allocating a D3D11 staging buffer for pack buffers. This saves some memory and time when we're only using a buffer object for asynchronous readback.  BUG=angle:511  Change-Id: I97b37cc27aba4a4526025815b5935b9e74abae2e Reviewed-on: https://chromium-review.googlesource.com/195367 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> (cherry picked from commit ebf396c1dd243223240bac6ea7f01a23893f9a28) Reviewed-on: https://chromium-review.googlesource.com/197281, 15312978, 382, 105, 382
Implementation of buffer map for pack buffers.  Internally pack buffers are CPU pointers with an associated staging texture. In the map call we copy the data out of the staging memory to CPU memory and return a pointer to the CPU buffer.  BUG=angle:511  Change-Id: I2a82addd2f21241d8d49554b2fc71d890a166386 Reviewed-on: https://chromium-review.googlesource.com/195366 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> (cherry picked from commit 0b44a455b5a81b84662e57f30348f4e791f62358) Reviewed-on: https://chromium-review.googlesource.com/197272, 15312978, 382, 105, 382
Add an ANGLE test for the permissive blit fix.  BUG=361931  Change-Id: Ib44667422f524e5dcc3035692e8f725c24e92821 Reviewed-on: https://chromium-review.googlesource.com/194981 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> (cherry picked from commit 6795ca48559cedbc94c2a5c1e24ce9bd0139571a) Reviewed-on: https://chromium-review.googlesource.com/197251 Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Reduce translator sources compile count to one.  With this change the common sources shared between translator and translator_static are compiled in a static library. There is only one file with exported functions which needs to be compiled for each target. This should reduce ANGLE and chromium build times.  BUG=angle:569  Change-Id: I3ce011872323ec988befbd6db731add4fce5787b Reviewed-on: https://chromium-review.googlesource.com/197271 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix a bug in init_varyings_without_static_use workaround.  The TType constrcuted is using es2 signature which is different from the es3 signature.  BUG=angle:568 TEST=webgl conformance tests with --init_varyings_without_static_use commandline switch  Change-Id: I15347c7a6fe67e9214e4c96b156a50806a90c97c Reviewed-on: https://chromium-review.googlesource.com/197294 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Early-out of *TexSubImage* calls when the width height or depth is zero.  BUG=angle:622  Change-Id: I74ef5b684151895b24a15fa8f799a633174622c2 Reviewed-on: https://chromium-review.googlesource.com/197270 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a mem corruption in ANGLE translator.  Basically outside TCompile::compile() the global parse context is invalid and should never be queried.  BUG=angle:568 TEST=webgl conformance tests no crash  Change-Id: I5573ce2bf3bf838ab24f59dda00948f60a0b023d Reviewed-on: https://chromium-review.googlesource.com/197178 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove gmock the dependency from angle_tests and compiler_tests.  BUG=angle:611  Change-Id: Ieb250bda25d62cda3e0690d05d814a4a39062d92 Reviewed-on: https://chromium-review.googlesource.com/197042 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Force a compiler release when we terminate the Renderer.  Forcing the release ensures we always manually deallocate resources and allows us to compile for different shader model versions after releasing the renderer.  BUG=angle:619  Change-Id: I0c9d68a454c7779a024f4fcc4f4987c2abe12e60 Reviewed-on: https://chromium-review.googlesource.com/196820 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update the VertexAttribute test expectations.  When we switched from converting 8-bit normalized signed int from a full 32-bit float expansion to a 4-channel 8-bit format we broke an ANGLE test. Giving the test a slightly looser bound produces the correct output due to floating point rounding.  BUG=angle:612  Change-Id: I8781e6efe83341e22d31d35b35e0048889bcd540 Reviewed-on: https://chromium-review.googlesource.com/196532 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add validation for unsized BGRA texture formats.  BUG=angle:620  Change-Id: I956b7fc4ed0be99239e4ed1c63b51732727cc87f Reviewed-on: https://chromium-review.googlesource.com/196840 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix validation in TexSubImage.  We weren't properly checking the x and y offsets against the texture boundary and were in some cases producing D3D errors with out-of-bounds writes. This was popping up in IncompleteTextureTest. The test itself was also bugged.  BUG=angle:610  Change-Id: Id58cac088fed03cae2aabbf00bce234f17208753 Reviewed-on: https://chromium-review.googlesource.com/195410 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix Linux GCC unit test build.  In a Chromium build we must respect initializer order due to extended warnings.  BUG=angle:568  Change-Id: I4d86fdd2c5663524c2ffd17e3e3c26da1ff3ccdb Reviewed-on: https://chromium-review.googlesource.com/196291 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix GCC Release build.  The release build was complaining about a missing size_t definition in blocklayout.h.  BUG=angle:568  Change-Id: I9757f3ac45627a2a73d4f90cc507f8620674820e Reviewed-on: https://chromium-review.googlesource.com/196290 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix signed/unsigned comparison warning.  BUG=angle:560  Change-Id: I9d0e8ce01db91a828bc7ae2da74c8ddce60f0184 Reviewed-on: https://chromium-review.googlesource.com/196192 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add newline to fix clang compile  Change-Id: I9e0e32d94f24fb32e9971772fb7cd68cd36ab47d Reviewed-on: https://chromium-review.googlesource.com/196280 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Re-enable RTTI and fix compilation errors.  BUG=angle:616  Change-Id: I964ddc4a3d51d5f202608e3162edb684290cbc6a Reviewed-on: https://chromium-review.googlesource.com/195731 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix build with Clang.  Clang's validation is a bit more thorough than GCC's or MSVC's and picked up a few new errors and warnings. We missed a few default cases in switches and used an improper type for default arguments.  BUG=angle:568  Change-Id: I34239c6c5c785ad1e62917fc37c3243f4c5b5f1b Reviewed-on: https://chromium-review.googlesource.com/195472 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix Linux build.  We were missing several header includes necessary for GCC. Also our static assert macro had a bug preventing us from using the same assert in multiple places.  BUG=angle:568  Change-Id: I01bcdef033a9380f436cbf4bd2a9f11b1553887c Reviewed-on: https://chromium-review.googlesource.com/195471 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Report unknown swap error as EGL_BAD_MATCH.  EGL_BAD_NATIVE_WINDOW is exclusively for indicating that the native window handle is invalid. Since we're seeing this error on switches between full-screen and windowed EGL_BAD_MATCH seems like a better fit.  BUG=361553  Change-Id: If0e2c4e5efd90838629b2769f20fcffdad4c30a9 Reviewed-on: https://chromium-review.googlesource.com/195363 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Implement asynchronous readback with PBOs.  This patch covers the basic implementation in the buffer storage.  BUG=angle:511  Change-Id: Ie7dcb11e42e568115521cc3e4ed479d3486ac957 Reviewed-on: https://chromium-review.googlesource.com/193621 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor Renderer11 to accomodate pixel pack.  Splitting the readTextureData call allow a pack buffer read to return asynchronously after the D3D11 CopySubresource call.  Refactoring patch only.  BUG=angle:511  Change-Id: I3459ddfa7b48497b25fb2f4890e1cc1341e2cf75 Reviewed-on: https://chromium-review.googlesource.com/193620 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove forced windows version macros.  These macros were causing conflicts when chrome redefines them and since we don't rely on any specific windows versions we can remove them.  BUG=angle:568  Change-Id: Ie6bf31d03cea07bf2a71ffa6d815dad2b4d204f8 Reviewed-on: https://chromium-review.googlesource.com/195364 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a pack buffer storage to BufferStorage11.  This new storage implementation uses CPU memory to read back pixel data from a texture. We use this class to implement pack buffers for asynchronous pixel readback.  BUG=angle:511  Change-Id: Ifebd242047291af6b34c981231b69987b87d290d Reviewed-on: https://chromium-review.googlesource.com/193243 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't include the test main files in the source listings.  Since chrome adds the ANGLE test source directly to it's own projects the main function is defined twice.  Remove the main file from the source listings and only add it for our test executables.  BUG=angle:568  Change-Id: I30b481a23d5de80341d7f339583a43ad2f4391bb Reviewed-on: https://chromium-review.googlesource.com/195345 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move ShaderVariables to common shared source.  Also move the block layout encoding utilities to the common folder. The combined changes allow us to include the shader and block code into both libGLESv2 and the translator separately. This in turn fixes the Chromium component build where we were calling internal translator functions directly from libGLESv2.  BUG=angle:568  Change-Id: Ibcfa2c936a7c737ad515c10bd24061ff39ee5747 Reviewed-on: https://chromium-review.googlesource.com/192891 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Remove the second translator target only using static."  This reverts commit d51df461e52ac9421201234fff488104f788a7c3.  Conflicts: 	projects/build/all.sln 	projects/samples/samples.sln 	src/compiler.gypi  Change-Id: I6e1d77531df61de28e4402ed1916f6ecdebb68fd Reviewed-on: https://chromium-review.googlesource.com/192890 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add validation for GL_RED and GL_RG in glReadPixels.  EXT_texture_rg adds support for these readback formats but validation was not added.  BUG=angle:609  Change-Id: Iddd94bb8d8cf3b244a0d8a59cd4445ffa2ae61fe Reviewed-on: https://chromium-review.googlesource.com/195176 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix a semantic index not being written for gl_FragCoord.  BUG=angle:608  Change-Id: Iebf7577a7a0c54cef25cfa7706840e8ad26b7a08 Reviewed-on: https://chromium-review.googlesource.com/195163 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement EXT_shader_texture_lod  BUG=angle:551  Change-Id: I81d7574a15861f1b24ddf6147cf71adbf20e10f3 Reviewed-on: https://chromium-review.googlesource.com/194960 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix comparing TextureFunction structures.  Test each field for smaller or larger than and when they're equal test the next field.  BUG=angle:605  Change-Id: I2c5a90d95c7ff73b83f3067381c14b74a213ef05 Reviewed-on: https://chromium-review.googlesource.com/194602 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix Lod0 texture functions that take a bias parameter.  Texture functions that are in a divergent path can still take a bias parameter. Treat the bias parameter as an explicit lod. The logic behind this is that the implicit lod is considerd to be 0 like with other Lod0 functions and then the bias is added to it.  BUG=angle:604  Change-Id: I2dbc309c497d37e960209f08849f9d2bc9e1fbcc Reviewed-on: https://chromium-review.googlesource.com/194544 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Implement BASE/MAX_LEVEL and MIN/MAX_LOD functionality.  BUG=angle:596  Change-Id: I0c818fdc1575be1ee16966acf7b6daa067a24282 Reviewed-on: https://chromium-review.googlesource.com/193236 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement state tracking for BASE/MAX_LEVEL and MIN/MAX_LOD.  BUG=angle:596  Change-Id: I773720a19b766c7a6930967983db0a34e84f2790 Reviewed-on: https://chromium-review.googlesource.com/193235 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move common SRV management into TextureStorage11.  BUG=angle:596  Change-Id: I0de2e3826e18ee769c27577b40677f0ca4da083b Reviewed-on: https://chromium-review.googlesource.com/193234 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Homogenize the parameter list for all SRV creation functions.  BUG=angle:596  Change-Id: Idd13aea4b4074aabbc4c183a3814226c31dda994 Reviewed-on: https://chromium-review.googlesource.com/193233 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Cache previously created SRVs.  BUG=angle:596  Change-Id: I15ac729388177a2ac89df4caffad5e12c7317bd7 Reviewed-on: https://chromium-review.googlesource.com/193232 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Deduplicate SRV creation.  BUG=angle:596  Change-Id: I2f4e0c4dd5c1182db1f67589f72dafef3717b363 Reviewed-on: https://chromium-review.googlesource.com/193231 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Rename getBaseTexture to getResource and refactor swizzleRequired.  BUG=angle:596  Change-Id: I72d8796172c5db57ddeb86bbc6c08cbb2ec125f1 Reviewed-on: https://chromium-review.googlesource.com/193230 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the map logic to the buffer storage implementation.  Refactoring patch only.  BUG=angle:511  Change-Id: Id69efe15ecb32d711a79cc5ff612853e29377368 Reviewed-on: https://chromium-review.googlesource.com/193242 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix non-square matrix vertex attributes.  When we generate an input signature for a vertex shader we should use the transpose of the matrix type instead of the matrix type itself. This was breaking dEQP tests 'shaders.functions.datatypes'.  BUG=angle:594  Change-Id: Ia945ffd865d7255500f7a62394bcd5bdfbbedef4 Reviewed-on: https://chromium-review.googlesource.com/191461 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Stop shader local variables from using invalid qualifiers.  Local variables in GLSL can't use any other storage qualifier than 'const' but we weren't checking properly. For example the can't have 'in' or 'out' storage. This was causing a dEQP conformance test failure.  BUG=angle:593  Change-Id: Ibb333950f2d0990a47d1a96caecc455497d5e57e Reviewed-on: https://chromium-review.googlesource.com/191460 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Regenerate the compiled lexer.  The lexer was missing some recent changes.  BUG=angle:593  Change-Id: I8fa598e5a4ae35ebc9f9a48789632b6a326bc4d3 Reviewed-on: https://chromium-review.googlesource.com/194136 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix warnings about unreferenced local variables.  BUG=angleproject:602  Change-Id: I2eb04fe6eed60b3877b14628e81c0b1fe3b68647 Reviewed-on: https://chromium-review.googlesource.com/193431 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Handle an unknown error when exiting fullscreen on Windows 8.  BUG=361553  Change-Id: I6d3e843a8ae06f1bbd5313ed95e338cb0b74fef3 Reviewed-on: https://chromium-review.googlesource.com/194233 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Insert missing sampler cases in TType::buildMangledName.  We were missing the cases for 2D Rect samplers and external OES samplers. This was causing an assert in the WebGL CTS in Debug.  BUG=angle:550  Change-Id: Ieefeef6ff0f9a486bf7667c7efc60dee766f03ef Reviewed-on: https://chromium-review.googlesource.com/194122 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use shader optimization level 3 selectively.  Default to HLSL compiler optimization level 1 and work around a compiler bug with break in nested loops by using optimization level 3.  BUG=angle:603  Change-Id: I4f7985a5648f1b5f54d80554c21aced7fc1777c2 Reviewed-on: https://chromium-review.googlesource.com/194129 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Refactor buffer storage to split backing stores.  A more flexible representation of a buffer storage implementation allows us to represent storage for D3D11 buffers and also pack buffer as CPU memory.  Refactoring patch only.  BUG=angle:511  Change-Id: Ie123099f6217bec6edc98594e49333d16f006a0b Reviewed-on: https://chromium-review.googlesource.com/191033 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Pass pack state arguments instead of split parameters.  Similar to unpack state the PixelPackState struct encapsulates all the parameters related to pixel pack buffers. Passing the packstate makes functions more consise.  BUG=angle:511  Change-Id: If6954a5085e9b8f828cfc8892a73e7c7514b0c8a Reviewed-on: https://chromium-review.googlesource.com/191032 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Clamp ReadPixels calls to unsigned limits in D3D11.  GL allows reads beyond the defined pixel rectangle although their resultant values are undefined. D3D11 gives an error when reading out-of-bounds hence clamping the area satisfies both APIs.  This fixes a Renderer crash in our ReadPixels out of bounds test and also fixes the test to test the correct area of pixels.  BUG=angle:590  Change-Id: I12439c22d53ec6a2d69e1b8cf80f53e9c18e11f7 Reviewed-on: https://chromium-review.googlesource.com/191080 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Allow sample projects to choose ES3 & D3D version.  Passing parameters from the sample constructor allows us to test ES3 functionality as well as choose between D3D9 and 11.  BUG=angle:521  Change-Id: I7b9543b399450f62c5415654e8026a7c218b7e37 Reviewed-on: https://chromium-review.googlesource.com/193292 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a common include in the project definitions.  Any projects that may be included by gyp files outside our project (chrome or skia) may not have the same defines or ignored compiler warnings.  To make sure that we can always compile each project now includes a common file with all required definitions and gyp variables.  BUG=angleproject:583  Change-Id: I702bee975d0554c51bfa03981920dfb295ffbafa Reviewed-on: https://chromium-review.googlesource.com/189458 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the angle_relative_path gyp variable.  Add a separate step to copy the scripts to the intermediate directory and run them from there.  BUG=angleproject:583  Change-Id: I307a2810ac03c00248cba1f227f128a1517c6574 Reviewed-on: https://chromium-review.googlesource.com/193432 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove max level from texture storage.  BUG=angle:596  Change-Id: I174e3b73c0cb675b5c9aea5722a7051a34639831 Reviewed-on: https://chromium-review.googlesource.com/192340 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove base level from texture storage.  BUG=angle:596  Change-Id: I66173f77b6c5aed3b8836cd2c9f1da02ae769429 Reviewed-on: https://chromium-review.googlesource.com/192056 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Rename lod offset to top level.  BUG=angle:596  Change-Id: Ic256445528d6587adcf0adfd8aaba5e47778988b Reviewed-on: https://chromium-review.googlesource.com/192055 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Create a single-level SRV when not mipmapping.  BUG=angle:596  Change-Id: Iec5a9e43a23c0743ff8b01985a86a72c5f18a7f7 Reviewed-on: https://chromium-review.googlesource.com/192052 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Pass all sampler state to getSRV.  BUG=angle:596  Change-Id: I4f97ea7c43bf12f5d986db39ae67d87074f98e82 Reviewed-on: https://chromium-review.googlesource.com/192051 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove the es_util project.  BUG=angle:521  Change-Id: Iad633bf210c36db340490f21923534697e27891b Reviewed-on: https://chromium-review.googlesource.com/188741 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the PostSubBuffer sample to the new sample framework.  Add a swap method on the SampleApplication class so that samples can override the default eglSwapBuffers function call.  BUG=angle:521  Change-Id: I3f0ba6ed182b368e6f5fe502de67d1a14267a857 Reviewed-on: https://chromium-review.googlesource.com/188740 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the TextureWrap sample to the new sample framework.  Refactor the generation of checkerboard textures since they're used by this sample and MipMap2D.  BUG=angle:521  Change-Id: I1ba8bc4927a7944eb8efad0c8aa71eba4619e457 Reviewed-on: https://chromium-review.googlesource.com/188729 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the Stencil_Test sample to the new sample framework.  Rename Stencil_Test to stencil_operations a more fitting name for a sample.  BUG=angle:521  Change-Id: I5412ecef12d80c3dbf54539bc7509678a35c44d5 Reviewed-on: https://chromium-review.googlesource.com/188728 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove excess dereferences and casts.  The behaviour of dereferencing an array on the stack is the same as simply using the array but it is counter-intuitive error prone and requires a cast to fit the required type.  Change-Id: Ib14e902293cf6dc71aaf944d57f53ea895a680ab Reviewed-on: https://chromium-review.googlesource.com/188875 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix off-by-one error with the number of storage mip levels.  This caused there to be too few mip levels in the TextureStorage and it would be discarded if there was a modification to a lower mip.  Also modified Texture::mipLevels to return the number of mip levels rather than the index of the smallest mip to avoid confusion.  Fixes WebGL D3D9 conformance failures in:     mipmap-fbo  BUG=angleproject:550  Change-Id: Idf3f543487232edceb520337331b39dab2bd26ba Reviewed-on: https://chromium-review.googlesource.com/192341 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the Simple_VertexShader sample to the new sample framework.  Add a Matrix type and cube gemetry generation helper functions.  BUG=angle:521  Change-Id: Ia50be1790d6f440499eea052f427762637f3c876 Reviewed-on: https://chromium-review.googlesource.com/188727 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the Simple_TextureCubemap sample to the new sample framework.  Added helper functions for generating cube maps and sphere geometry.  BUG=angle:521  Change-Id: Ic1e8584d69793233ec6a97744b13097d55b9f287 Reviewed-on: https://chromium-review.googlesource.com/188726 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a B8G8R8X8 type for mipmaping reading and writing D3D9 BGR textures.  Fixes WebGL D3D9 conformance failures in:     context-attributes-alpha-depth-stencil-antialias     copy-tex-image-2d-formats.html     texture-attachment-formats.html  BUG=angle:550  Change-Id: I09d42c5e6cf7d880841207627fd20698ed188a6a Reviewed-on: https://chromium-review.googlesource.com/191935 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Port the Simple_Texture2D sample to the new sample framework.  BUG=angle:521  Change-Id: Idd1889b13a751d473b1e99c4c593cd4cded972ae Reviewed-on: https://chromium-review.googlesource.com/188725 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the MultipleRenderTarget sample to the new sample framework.  Renamed to MultipleDrawBuffers and added shader loading from file.  BUG=angle:521  Change-Id: Iffeb589a95eee4409d3624c56fe3a5e4a7d5be63 Reviewed-on: https://chromium-review.googlesource.com/188724 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the SimpleInstancing sample to the new sample framework.  Add a Vector2 type for storing texcoords and improve the sample by having it draw several thousand instances instead of two.  BUG=angle:521  Change-Id: I87996a90000a83bc66d091c7537ea411080d7e9f Reviewed-on: https://chromium-review.googlesource.com/188723 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix D3D11 resource leaks.  A few bugs like missing destructors or Release calls were leaking D3D resources in a few places on exit. This patch should fix all the unreleased D3D object warnings on exit when running a sample app.  BUG=angle:589  Change-Id: Ib50df3229998938cddc2859d6f2d19ddd3a4db47 Reviewed-on: https://chromium-review.googlesource.com/190079 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix D3D9 short attributes to int component type.  In the component type lexicon we only use float/int/uint/norm and we were marking the D3D9 short vertex attributes as short.  This fixes the WebGL Test gl-vertexattribpointer-offsets.  BUG=angle:550  Change-Id: I3853df8bad5c98b8d0986bfa4ea73d254264ad56 Reviewed-on: https://chromium-review.googlesource.com/191950 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use correct input stride for disabled attribs.  We were using the input stride from the disabled vertex attribute. This was breaking the gl-disabled-vertex-attrib test in D3D9.  BUG=angle:550  Change-Id: Ia5a37dc39105fe8ec92f4adbee3cfb2905e82676 Reviewed-on: https://chromium-review.googlesource.com/191932 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix stack overflow when parsing huge expressions.  The expression limit validation check needs to be in front of other tree traversal to prevent stack overflows. Also call depths of sufficient size (80k+) could overflow the depth check itself necessitating an upper bound on initial tree traversal.  This fixes crashes in the WebGL long-expressions bug test.  BUG=angle:584  Change-Id: Ib48294bf77a5923d230f237fbd63a36a5662e317 Reviewed-on: https://chromium-review.googlesource.com/191931 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use a heap-memory traversal to free compiler resources.  The stack-memory traversal is prone to stack overflow. See the WebGL conformance test long-expressions-should-not-crash.  BUG=angle:584  Change-Id: I02d72bc2e4101b7141d609c50303403ea8298e60 Reviewed-on: https://chromium-review.googlesource.com/191930 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Port the ParticleSystem sample to the new sample framework.  BUG=angle:521  Change-Id: I6d00333ac7761f15ee83a47dc3e6e3cc13c675cd Reviewed-on: https://chromium-review.googlesource.com/188195 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Compile shaders with the best profile available.  Instead of always compiling D3D11 shaders with shader model 4 compile with the latest profile that the current feature level allows.  BUG=angle:495  Change-Id: I478d3d4a1aadf24d893508eee1a8c11e501bc084 Reviewed-on: https://chromium-review.googlesource.com/190340 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for drawing with transform feedback.  BUG=angle:495  Change-Id: Ib9c19130dfbc44a99998c5d6d8160bfc2b683eb9 Reviewed-on: https://chromium-review.googlesource.com/185037 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Port the MultiTexture sample to the new sample framework.  BUG=angle:521  Change-Id: I72f063664b43d3cfafe03c8f060076596bedea0f Reviewed-on: https://chromium-review.googlesource.com/188194 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Port the MipMap2D sample to the new sample framework.  BUG=angle:521  Change-Id: I3b1d3a02214850bf52c1d5c468f5696076065b88 Reviewed-on: https://chromium-review.googlesource.com/188193 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Adds support for EXT_map_buffer_range  BUG=angle:581  Change-Id: I0ab637db35afd51ff4c516bb97e954f4f2cdad3d Reviewed-on: https://chromium-review.googlesource.com/191710 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Adds support for OES_mapbuffer  BUG=angle:581  Change-Id: I05824051789a77c8169ec5830731e6155c507fc4 Reviewed-on: https://chromium-review.googlesource.com/191650 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Port the Hello_Triangle sample to the new sample framework.  BUG=angle:521  Change-Id: I887257193af3130447c4691bb72303cc978b96fe Reviewed-on: https://chromium-review.googlesource.com/188192 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add an ANGLE sample framework.  BUG=angle:521  Change-Id: If1fc6198dbbe44f0ade5539cff540e3e086f2a3b Reviewed-on: https://chromium-review.googlesource.com/188722 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Make D3D9 default again.  BUG=angle:568  Change-Id: I4b60084f2be0c04bb2f7dd78e78e2ef2825adc00 Reviewed-on: https://chromium-review.googlesource.com/191552 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added transform feedback shader generation.  BUG=angle:495  Change-Id: I41a0177fd3eb43c9f4ab9e54faeadac3eb483c2c Reviewed-on: https://chromium-review.googlesource.com/185035 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add remaining transform feedback queries.  BUG=angle:493  Change-Id: I8841af50dcb90e7fb8a811b95d015bfdd2c5d226 Reviewed-on: https://chromium-review.googlesource.com/191035 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Allow creating fixed-size window surfaces.  BUG=320021  Change-Id: I97cdd65ac17ee142700dbf0f363891500e967571 Reviewed-on: https://chromium-review.googlesource.com/184205 Reviewed-by: John Bauman <jbauman@chromium.org> Tested-by: John Bauman <jbauman@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/190563 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Clean up gyp build scripts.  We can use angle_path instead of angle_build_scripts_path to locate enumerate_files.py. Also pass angle_path to the post-build script hook as this information is necessary to locate the root angle folder.  BUG=angle:592  Change-Id: I06b3f0201751d90b7c1efdefe8db07d114bd87dd Reviewed-on: https://chromium-review.googlesource.com/191082 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fixed error message for exceeding maximum struct nesting.  It got broken in r2423. We were referring to field-name as struct-name. This patch fixes the regression and also improves the error message by adding the field-name.  BUG=angle:459 R=kbr@chromium.org  Review URL: https://codereview.appspot.com/12891043  Change-Id: I9ac9a8dafcad1857f7d39e6d494e457d1fc50f70 Reviewed-on: https://chromium-review.googlesource.com/190530 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Revert "Add remaining transform feedback queries."  This reverts commit 4251b75830f91df68df80a096a0713830c73b1cc.  Change-Id: I95afebcaf91ee38a121df20f403eb06f19b2510a Reviewed-on: https://chromium-review.googlesource.com/190560 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Validate target parameter in CopyTexImage calls before using to check mip level  Would cause UNREACHABLE to be triggered if target was invalid and INVALID_VALUE to be returned instead of INVALID_ENUM if it were the only erroneous argument.  Change-Id: I2606e77379fa2832a50b3a299e6474a4b2f68afa Reviewed-on: https://chromium-review.googlesource.com/189701 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add remaining transform feedback queries.  BUG=angle:493  Change-Id: Ibeae41da2b83ab63d237912602ba5d2aad0bbec2 Reviewed-on: https://chromium-review.googlesource.com/185036 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Only use map-write instead of map-write-discard.  In D3D11 map-discard is reserved for DYNAMIC usage buffer which are resources that live on the GPU. Staging buffers don't have the notion of map-discard and using them with discard gives a D3D11 error.  This patch fixes crashes in dEQP buffer.map.write.invalidate.  BUG=angle:587  Change-Id: Ie225e72d4e226c69e73826c9fb67bbb940bbc466 Reviewed-on: https://chromium-review.googlesource.com/190072 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix unsigned integer R10G10B10A2 vertex formats.  We were incorrectly setting the signed parameter to true in the vertex format table. This fixes a dEQP test in vertex_arrays.output_types.  BUG=angle:586  Change-Id: I84dcdee89a95369cc8e41d451f96dbb8daa37b6d Reviewed-on: https://chromium-review.googlesource.com/190056 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix linking of struct varyings.  The dEQP varying struct linkage tests were triggering asserts when we tried to query component info of struct types.  BUG=angle:580  Change-Id: I61e33573c5577a327c58fec7a07ae7718690ac42 Reviewed-on: https://chromium-review.googlesource.com/189194 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix matrix input attributes and formats.  We can't assume we have a simple mapping between input attribs and shader attribs. The app specifies matrix input attribs as several vector inputs while the shader uses a single matrix type.  BUG=angle:576  Change-Id: I4e3cdde4a14a5f06b86052dfe0325113cbe8e599 Reviewed-on: https://chromium-review.googlesource.com/189193 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Amends CopyTexImage validation to conform to new language in the ES 3.0.3 spec.  bug=angle:582  Also performs format checks for non-subimage copies and permits unsized format textures as destination for the copy.  Change-Id: Id647bb968416fbd35e1c70e5da21c81367e08f07 Reviewed-on: https://chromium-review.googlesource.com/189431 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Draft spec for ANGLE_platform_angle_d3d  This is the initial draft of a spec that extends EGL_EXT_platform_base to allow choosing a particular ANGLE D3D backend.  Change-Id: I1d80fa8b3c4a59fe998f6d15aa0f393bdb9d26c1 Reviewed-on: https://chromium-review.googlesource.com/184975 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Scott Graham <scottmg@chromium.org> Tested-by: Scott Graham <scottmg@chromium.org> (cherry picked from commit dc18dc306d554665b5764ab3281bbb16a5a5569e) Reviewed-on: https://chromium-review.googlesource.com/190026 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Disable MRT support when using D3D10 feature levels.  D3D10 cards perform poorly when the pixel shader outputs to multiple render targets that are not bound.  BUG=325581  Change-Id: I13f6f98861ffeb77cd21f7401ded4425e4ea7841 Reviewed-on: https://chromium-review.googlesource.com/185400 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/190341, 15312978, 382, 105, 382
Update gclient configuation for new git repository.  Cherry-pick of bd79517a4d160bdcbbc799b5ab545bf24c6d7abe.  Change-Id: I87d790c14d68789524df76f63a61fc30a8792e4e Reviewed-on: https://chromium-review.googlesource.com/190350 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Cache bound vertex and index buffers by ID3D11Buffer instead of serial.  Since a DirectBuffer11 may return different buffers from getBuffer depending on the required buffer type and if the internal buffers are dirty or not the current serial is not reliable.  Use the actual buffer object so that there can be no missmatch.  BUG=350581  Change-Id: I6ea1616273346117a17646edb68e6518e584f2b1 Reviewed-on: https://chromium-review.googlesource.com/189435 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix incorrect path usage in generate_projects.  We should use the cross-platform os.path.join() to support platforms other than Windows.  BUG=angle:577  Change-Id: I9d96fc1b13731a57ffcd97469632f0acedb8e5c7 Reviewed-on: https://chromium-review.googlesource.com/188879 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>  Conflicts:  	generate_projects  Change-Id: I76cacb8ee3acf477c0e99cd73cf91622efc3c9b4 Reviewed-on: https://chromium-review.googlesource.com/189131 Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix incorrect function forward declaration.  Change-Id: I135c4457fdc95f2d331e2924104a30f90a40bd1a Reviewed-on: https://chromium-review.googlesource.com/189456 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Refactor ReadPixels validation.  Move ReadPixels error generation out of the implementation and into the API level.  BUG=angle:571  Change-Id: I0b32294f359fedd13d1af2c95baf37a3e5ac1d5b Reviewed-on: https://chromium-review.googlesource.com/188014 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement queries and enums for buffer mapping.  GetBufferPointerv GetBufferParameteri64v and new values for GetBufferParameteriv.  BUG=angle:565  Change-Id: I179a3193987b2bff1b0628e47f6a0d627541b0cf Reviewed-on: https://chromium-review.googlesource.com/188203 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't attempt to perform constant folding with an uninitialized constant variable.  BUG=348205  Change-Id: I9be17832b1a35d2995725ab147977992c2732274 Reviewed-on: https://chromium-review.googlesource.com/188711 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/189471, 15312978, 382, 105, 382
Regenerate public projects.  Change-Id: I0a385ff823ef492b4fced89a734d8053fdb0ffd0 Reviewed-on: https://chromium-review.googlesource.com/189474 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Remove SH_MAP_LONG_VARIABLE_NAMES  We use hashing to map all variables/strcuture field names etc so we no longer need this option.  Checked with Firefox and WebKit they no longer use this option either. Time to remove it.  Change-Id: Ie3e79b91a05258b04af419a9c42b2fd1b00e67c4 Reviewed-on: https://chromium-review.googlesource.com/189236 Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/189568, 15312978, 382, 105, 382
Regenerate default Windows projects  Change-Id: I2fe1d02cdf59409cb2d8a68b407bbd01ab7d8c0a Reviewed-on: https://chromium-review.googlesource.com/188954 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Improvement on loop unrolling with loops indexing sampler arrays      1) Before this workaround is hardwired on mac now we move it behind a compil     2) Fix the issue where "break" inside the loop isn't handled while unrolled.      BUG=338474     TEST=webgl conformance test sampler-array-using-loop-index.html  Change-Id: I4996a42c2dea39a8a5af772c256f8e3cb383f59a Reviewed-on: https://chromium-review.googlesource.com/188079 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>  Conflicts: 	include/GLSLANG/ShaderLang.h 	src/compiler/translator/ValidateLimitations.cpp Change-Id: I546197bd7df1634ebccdd380be14c3250cd56151 Reviewed-on: https://chromium-review.googlesource.com/189061 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix compile errors on pre-C++11 compilers.  BUG=angle:575  Change-Id: Ibad77fda193c850c29483aa56d0d2275c131429a Reviewed-on: https://chromium-review.googlesource.com/189163 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Keep the debug log file open and flush with each message.  Instead of opening and closing the debug log file with each message keep it open permanently and flush it with each message allowing the OS to flush to disk as needed.  With debug logging enabled performance is improved by 100x!  Also dynamically size the output buffer to the max message size.  When running all the samples the largest debug message was 318 characters so an initial size of 512 (instead of 32768) seems reasonable.  BUG=angle:575  Change-Id: If4a1387431fc2d32a6b2d1f9ca1f2590473feb86 Reviewed-on: https://chromium-review.googlesource.com/188713 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement buffer map related entry points and errors.  BUG=angle:565 Change-Id: I14cee4eec032d4b6b8d9479da4234b81e4ec6bec Reviewed-on: https://chromium-review.googlesource.com/188202 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add helper methods for buffer enum tagets.  A query helper method in Context and a validation helper method reduce code redundancy quite a bit.  BUG=angle:565  Change-Id: I96b9ecc4614e7e31240e31594223e8b9636d22c2 Reviewed-on: https://chromium-review.googlesource.com/188201 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added methods for applying the current transform feedback buffers.  BUG=angle:495  Change-Id: I2d9fbf9c245bc519b8c5a724ca3912aaa7a23d97 Reviewed-on: https://chromium-review.googlesource.com/185034 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix default bits for 3-channel un-normalized int.  GPU conversion means we should be using a default of 1 as for int types instead of the MAXINT value for normalized types.  Fixes the WebGL test for vertex attribs with offsets.  BUG=angle:550  Change-Id: I1aa1b1bae2282e8eda96366adeec492ffe1d5728 Reviewed-on: https://chromium-review.googlesource.com/188433 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Combine widen and defaultBits params of copyVertexData.  Since we never and never will use a default value of zero for the alpha channel we can use a value of zero to indicate no widening. This has the benefit of not needing a default value where it does not apply.  BUG=angle:550  Change-Id: Ifdfedcb16039aa1d7f8ee644b65c6b4d89f9a384 Reviewed-on: https://chromium-review.googlesource.com/188432 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Emulate integer cube texture sampling as an array of six 2D textures.  BUG=angle:525  Change-Id: I3c3ec2cecebf9e745f0c02a132433e3076a6fdea Reviewed-on: https://chromium-review.googlesource.com/187534 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update enumerate_files.py to ignore "hidden" files.  Skip over files that begin with '.' since they are often hidden temporary files.  BUG=angle:553  Change-Id: I74f8412e6959c49bfca7f0ae063af42027e12549 Reviewed-on: https://chromium-review.googlesource.com/188035 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove the second translator target only using static.  Because libGLESv2 needs a static translator to link against internal types like Attribute and Varying as well as using some other internal methods we can for now disable the component build for the translator. In the future we can support a proper component build with exports across library boundaries.  BUG=angle:568  Change-Id: Ie3efc0a29342d02491e91952c3c2398568f83576 Reviewed-on: https://chromium-review.googlesource.com/187699 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix crash on multiple calls to ShInitialize().  The previous fix would allow the calling app to trigger an ASSERT if it did not first call ShFinalize. Chrome would do this in some cases causing a test failure.  BUG=344043  Change-Id: I33fa0c4668dac8750ca949febc7f02cc7d3d95e7 Reviewed-on: https://chromium-review.googlesource.com/187849 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Prevent overflow in the variable packer by sanity checking each variable.  BUG=346489  Change-Id: I28f5751580729a4d4d77fa6fdee0b4a6628a05de Reviewed-on: https://chromium-review.googlesource.com/188030 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Re-initialize shader translator properly after one shutdown.  Because of a local static we could get stuck and never re-initialize the translator after calling ShFinalize.  BUG=344043  Change-Id: Ib4d18da886eac28f3e1bc959a7eadf5b34d9410f Reviewed-on: https://chromium-review.googlesource.com/186975 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/187848, 15312978, 382, 105, 382
Implement BufferStorage11 mapping functions.  BUG=angle:565 Change-Id: I4f416981bc63098f0364653ff279b3f54eeb756e Reviewed-on: https://chromium-review.googlesource.com/186979 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement state and interface for map in gl::Buffer.  Mostly these calls pass through to BufferStorage.  BUG=angle:565 Change-Id: I38ab7d4f49bfad940773428f5bb330de55d3f573 Reviewed-on: https://chromium-review.googlesource.com/187080 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update codereview.settings to point to gerrit.  BUG=angle:570  Change-Id: I6654c60aab69861771b6917081baaecbded71bab Reviewed-on: https://chromium-review.googlesource.com/187840 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add in gypi scripts for preprocessor and compiler tests.  Chromium directly includes our .gypi files in its own standalone tests hence we need to keep files where it looks for includes. Previously we had removed the gypi files with the new project structures.  BUG=angle:568  Change-Id: I2cf87bdd3d9635ca8e58b991b9a3e55e00261851 Reviewed-on: https://chromium-review.googlesource.com/187650 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix long error messages breaking InfoLog::append.  Using two calls to vsnprintf allows us to correctly determine maximum buffer size as well as fixing garbage characters from a missing NULL terminator.  Bug report from roland@lagoa.com.  BUG=angle:561  Change-Id: I4eb156342d9106d40783a3cf57c0c1d1889390e2 Reviewed-on: https://chromium-review.googlesource.com/186988 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
texture(sampler2DArrayShadow ...) should not take a bias parameter.  BUG=angle:564  Change-Id: I3b86e8d52ebae0e1efd0805671bd58580a712b23 Reviewed-on: https://chromium-review.googlesource.com/187082 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement textureProjGrad and textureProjGradOffset.  BUG=angle:564  Change-Id: Ice6a3715b0fda13324b3162940de875c932627c9 Reviewed-on: https://chromium-review.googlesource.com/186992 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement textureGradOffset.  BUG=angle:564  Change-Id: Iad0e452f53469208d55755e14a350b5d2ca83e9d Reviewed-on: https://chromium-review.googlesource.com/186987 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement textureGrad.  BUG=angle:564  Change-Id: I95dcd95a274f6d560250c197be0d6e64a5b23516 Reviewed-on: https://chromium-review.googlesource.com/187081 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use a stable ordering when enumerating files.  Output the enumerated files in sorted order when running enumerate_files.py from gyp to prevent unnecessary buildfile churn that makes comparing revisions noisy.  Change-Id: Ic644053d0a1cc9c986ae47fbe983221d6a62b50b Reviewed-on: https://chromium-review.googlesource.com/187690 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix missing generate projects call.  BUG=angle:550  Change-Id: I6c9cfa1d5ceb1660af504982b7abdc39f3024b84 Reviewed-on: https://chromium-review.googlesource.com/187542 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix commit header generation on non-Windows platforms.  Previously we relied on a batch file which for obvious reasons isn't cross-platform.  BUG=angle:529  Change-Id: Ia1e3944f8ed2096773e68c39d48ae2dd7370897b Reviewed-on: https://chromium-review.googlesource.com/186974 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/186985 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Add Map-related stubs to BufferStorage.  BUG=angle:565  Change-Id: I7db13e8e5fb386f5e40dd2a2e273e35f01c1f28c Reviewed-on: https://chromium-review.googlesource.com/186978 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix multiple variables named i in the same scope.  Change-Id: I575e1d80d103f554892feb6369e9b76c199bf20a Reviewed-on: https://chromium-review.googlesource.com/185881 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement texelFetch and texelFetchOffset.  BUG=angle:564  Change-Id: I7ad3484061f5d6912d7842bdadc6297de3e82ef8 Reviewed-on: https://chromium-review.googlesource.com/186990 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix redefinition of variables.  Change-Id: I04b0577c8af45fca938d8fb7cf0b9fe2eadafcf2 Reviewed-on: https://chromium-review.googlesource.com/185883 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement textureProjLod and textureProjLodOffset.  BUG=angle:564  Change-Id: I547c69908d0aa1809f844a50230bc019e6dd5893 Reviewed-on: https://chromium-review.googlesource.com/186685 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Implement textureProjOffset and textureLodOffset.  BUG=angle:564  Change-Id: I647abed0609afd178d2e9522f139d25dd3c7fda4 Reviewed-on: https://chromium-review.googlesource.com/186684 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix commit id versioning when building with Chrome.  The GYP syntax would cause problems with the ninja build.  BUG=angle:529  Change-Id: I84a30afc9bd8900535e44f5d5f9d8f766a4686e8 Reviewed-on: https://chromium-review.googlesource.com/186610 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/186984 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Fix breaking the build with missing GetGlobalMaxTokenSize.  Because the preprocessor is used independently from the compiler we need a way to track max token size when we don't have access to the parse context with the current spec.  BUG=angle:550  Change-Id: Idf5035ec2c001ee75f264151ab3c4e92f3cd44d7 Reviewed-on: https://chromium-review.googlesource.com/187140 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Use generic sampler types to compact symbol table initialization.  BUG=angle:564  Change-Id: Idbca76a4c8360d34652b571227fbb068d8d017c4 Reviewed-on: https://chromium-review.googlesource.com/186683 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix incorrect cast.  Change-Id: I1a41593dbe598dfef301c9df0f47a5105b5705cf Reviewed-on: https://chromium-review.googlesource.com/185882 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Define generic sampler types.  BUG=angle:564  Change-Id: I627f55152000371e73f3e5b4ba6938119fab0223 Reviewed-on: https://chromium-review.googlesource.com/186682 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Simplify the creation of global types.  BUG=angle:564  Change-Id: If611947f7e8ceb603001165c3c1d61d7686f1d30 Reviewed-on: https://chromium-review.googlesource.com/186681 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add functionality to create and destroy TransformFeedback objects.  BUG=angle:491  Change-Id: I3ee3c2aec1878ad656a8f522943a29fea6f7e215 Reviewed-on: https://chromium-review.googlesource.com/185033 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Regenerate public projects.  Change-Id: Ica5add561a1c095d1b2fca863f2d94e9f8d44e50 Reviewed-on: https://chromium-review.googlesource.com/187280 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove dependence on dxguid.lib for release builds.  BUG=angle:559  Change-Id: I10c93b312b4bf206e45d061eace2d00e598403bd Reviewed-on: https://chromium-review.googlesource.com/185690 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Detect cross-process HWNDs and verify DXGI 1.2 exists in D3D11.  DXGI 1.2 is required to create a swap chain for a HWND owned by another process.  This fix will allow us to fall back to creating a Renderer9 if DXGI 1.2 is not available instead of failing to create the swap chain later.  BUG=angle:562  Change-Id: I01b08ffb262bc3f9c86d244168df14eba52c5bdc Reviewed-on: https://chromium-review.googlesource.com/186980 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix git call syntax in commit_id.bat  BUG=angle:566  Change-Id: I437bdec916dbfe12cb310a20d4f38c18072eacd0 Reviewed-on: https://chromium-review.googlesource.com/187210 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org> (cherry picked from commit aacedfcffbca780c56dda2ab03ee07faccf0fbec) Reviewed-on: https://chromium-review.googlesource.com/187201 Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix standalone Linux build.  We can include Makefiles in the ignore list and need a few extra flags to fix the GCC build on Linux.  BUG=angle:563  Change-Id: Iacd386359f0c0d9bb87ddc544dd8b4da2cb8fee0 Reviewed-on: https://chromium-review.googlesource.com/186902 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/186989, 15312978, 382, 105, 382
Implement EXT_blend_minmax.  BUG=angle:555  Change-Id: I1ae6a9783e718d16ee08bda5463f11cd52ad0967 Reviewed-on: https://chromium-review.googlesource.com/186123 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add defines to enable or disable specific renderers.  BUG=angle:559  Change-Id: I88c168205b142701ec843aa394c82c3a5857ed0d Reviewed-on: https://chromium-review.googlesource.com/185569 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Proper support for token max size in WebGL+ES3.  WebGL specifies a maximum token size of 256 characters while ES3 specifies 1024 characters. We can determine the proper max size to support from the spec.  BUG=angle:550 Change-Id: I6aeabe8af3b6184a27b456248ce2f84f361b76e4 Reviewed-on: https://chromium-review.googlesource.com/186973 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Don't include symbols in release builds of the public projects.  Change-Id: Ic21ca93133b6234d2756507ab43252071f04717d Reviewed-on: https://chromium-review.googlesource.com/185691 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add preprocess bison files to the gyp files.  We had accidentally left out the y and l files from our generation scripts causing us to miss several instances of updated enum names.  BUG=angle:550 Change-Id: I8790742fbaab5435e4c0db4f61c3e8194a231550 Reviewed-on: https://chromium-review.googlesource.com/186972 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix unsized formats in GenerateMipmap.  We had accidentally blocked mipmap generation for all unsized formats in ES3 because they were marked as non-renderable. The spec specifically allows for mipmaps with unsized formats in GenerateMipmap.  BUG=angle:550 Change-Id: Iee7eddd011f4fe86b690422723620593f8049ba6 Reviewed-on: https://chromium-review.googlesource.com/186971 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix bugged tokens marked as reserved/free in ES2.  We had accidentally marked 'smoooth' 'centroid' and 'case' as reserved in ES2 when they are available as identifiers. Additionally 'sampler2DShadow' was marked as free instead of reserved.  BUG=angle:550  Change-Id: I33ec1b790ad5b4d9a6f4d2ea2e91cec1ca8e7320 Reviewed-on: https://chromium-review.googlesource.com/186970 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Enable GPU dynamic conversion for unnormalized int formats.  This patch turns on the dynamic conversion logic for integer formats that we must convert to floating point for ESSL 1.0 compatibility. The converted formats are 1 2 and 4 channel unnormalized integer.  BUG=angle:560 Change-Id: I3bcc45f1103290613029bc54fdd6012dddb0a03d Reviewed-on: https://chromium-review.googlesource.com/186700 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor HLSL compilation out of Renderer.  This moves the start-up and tear-down code for D3DCompiler.dll into an object that Renderer9 and Renderer11 use.  This will help future efforts to remove references to HLSL at the GL/Renderer interface level.  BUG=angle:558  Change-Id: I18fcf9b237265d69c1d7d2ea345696c8fd31df29 Reviewed-on: https://chromium-review.googlesource.com/185568 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add logic for dynamic converstion of int to float vertex data.  We can use the format tables and input layout to determine when we need to generate conversion code in the vertex shader.  BUG=angle:560 Change-Id: Ib64fb16823bf78ed6432fba283b0d24bcb673a76 Reviewed-on: https://chromium-review.googlesource.com/185195 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add logic for inserting vertex conversion code in HLSL.  The patch refactors the vertex input HLSL to allow for dynamic conversion in the future. Using a placehold keyword the code replaces that stub with the vertex input conversion logic.  BUG=angle:560 Change-Id: I100c50cb4decd45b0f0c10d7c2c22583368b773e Reviewed-on: https://chromium-review.googlesource.com/185194 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Store un-linked shader attributes in ProgramBinary.  Our caching of compiled vertex shaders according to their input signature needs a consistent input signature to match up shaders. Since the linking step currently shuffles attributes according to API specified locations we need a separate list.  BUG=angle:560 Change-Id: Icc4d5df1d37ae895d5c882b86e60f05b5c268461 Reviewed-on: https://chromium-review.googlesource.com/185193 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Store multiple vertex executables in the program binary.  With dynamic vertex conversion the GPU we will have different input layouts resulting in different executables. This patch adds a way of mapping the input layouts to vertex executables.  BUG=angle:560 Change-Id: Ie36f2f8ac2dfcb96f562af577d31f57d6d89b447 Reviewed-on: https://chromium-review.googlesource.com/185192 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Moved all HLSL-related code from ProgramBinary to DynamicHLSL.  DynamicHLSL encapsulates all HLSL generation we need outside the the shader translator such as for linking between input and output stages and point sprite geometry shaders.  BUG=angle:560 Change-Id: Ib5079aa102000a7c37b166bcbe26b09cc82f8932 Reviewed-on: https://chromium-review.googlesource.com/185191 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Optimize masked clearing of missing channels.  Instead of doing a masked clear when a texture has mismatched channel counts set the clear color to the default for the missing channels and do a regular clear.  This catches es3proto up to master in terms of clear performance.  BUG=angle:557  Change-Id: I4f16976154af7735f5bb2b0b17adb3a264872ec0 Reviewed-on: https://chromium-review.googlesource.com/186611 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Merge 'Tie program binary version to commit hash.'  Port changes from master branch with commit hash embedding to the development branch.  BUG=angle:529 Change-Id: I307bf44103913aaaeb875a2e3ade1fab77838c48 Reviewed-on: https://chromium-review.googlesource.com/186390 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Align static and streaming vertex data to 16-byte boundaries.  Certain vertex formats using fewer than 4 bytes could confuse our buffer code giving us improperly aligned offsets. Aligning vertex data across the board should fix the problem and minimal cost.  Change-Id: I6884b4ddcfb91ef309a970593aaf7932cb65712e Reviewed-on: https://chromium-review.googlesource.com/185196 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add an option to initialize varyings without static use in vertex shaders  ANGLEBUG=554 TEST=webgl conformance test on mac: shaders-with-varyings.html r=kbr@chromium.orgnicolascapens@chromium.org cc=alokp@chromium.orgshannonwoods@chromium.org  Change-Id: I2e692d43fb15f1cf3ade3e398020d1fedb2b32f0 Reviewed-on: https://chromium-review.googlesource.com/185922 Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>  Conflicts: 	src/common/version.h 	src/compiler/translator/Compiler.cpp Change-Id: If7db13ef345bd6199d4ea0d7786f0de20885f2f3 Reviewed-on: https://chromium-review.googlesource.com/186144 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Kenneth Russell <kbr@chromium.org> Reviewed-by: Zhenyao Mo <zmo@chromium.org> Tested-by: Zhenyao Mo <zmo@chromium.org>, 15312978, 382, 105, 382
Fix checking for a NULL pointer after using the pointer.  Change-Id: I0ead14916ec677c97afb53f4c31a903e71fbc70f Reviewed-on: https://chromium-review.googlesource.com/185862 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix depth texture validation in ES2 contexts.  We were checking for extra conditions that apply to ES3 within all ES2 contexts causing the webgl depth texture conformance test to fail.  BUG=angle:550  Change-Id: Iae9a4880b9efc6be8c6857bce27a47d42fecc23a Reviewed-on: https://chromium-review.googlesource.com/186122 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move ShaderCache.h to the d3d directory.  Change-Id: I56e0f5ff11cebd8b9415081b930a804dcce9530c Reviewed-on: https://chromium-review.googlesource.com/185566 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix variable being used to initialize itself.  Change-Id: Ied10d866627485c6cd3eb09e23c14937efc465f4 Reviewed-on: https://chromium-review.googlesource.com/185864 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Mark destructors of Surface and Context as virtual.  Change-Id: If09d621cc249754caa57b057f76ff84726c18265 Reviewed-on: https://chromium-review.googlesource.com/185861 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix wrong enum type being compared.  Change-Id: I020bbf8179c08574f5fc0a207db03d7456eeeba1 Reviewed-on: https://chromium-review.googlesource.com/185860 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add TransformFeedback object.  Change-Id: I1f836575824ff9df17fe3832997f06acc7464746 Reviewed-on: https://chromium-review.googlesource.com/185032 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix wrong variable being compared.  Change-Id: I83b68286b6f3dd369081cb2188af27c86b3de6eb Reviewed-on: https://chromium-review.googlesource.com/185865 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove references to D3D formats in the Texture class.  Change-Id: I67add42cc69ec372840c67656bd2c77c623b23d0 Reviewed-on: https://chromium-review.googlesource.com/185567 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix comparing blend states with the wrong structure size.  Change-Id: I0e4c79cb7eaacf5403203b7b65094a54405ad47a Reviewed-on: https://chromium-review.googlesource.com/185863 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add support for transform feedback queries.  Change-Id: I0aab43b146f87259898db57acb9f74fdbfdb1b96 Reviewed-on: https://chromium-review.googlesource.com/184580 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Improve the enumerate_files.py script.  Cleaned up the agument parsing and added support for excluding files/folders.  BUG=angle:552  Change-Id: I6dcf965f9b92ce4aa1c0b64bd4f9a0420883bcf6 Reviewed-on: https://chromium-review.googlesource.com/185204 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Move the enumerate_files script to the build directory.  BUG=angle:552  Change-Id: I9f357c68c258c7731cf0d5c2ceed3a2875b21228 Reviewed-on: https://chromium-review.googlesource.com/185142 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Implement GL_RASTERIZER_DISCARD.  BUG=angle:498  Change-Id: Ib60c39e206003ae67c93769e35f7f9ef790ce9f4 Reviewed-on: https://chromium-review.googlesource.com/184396 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add GL headers to libGLESv2 libEGL and translator projects.  Change-Id: I66f36623eb5fb60fbb92d16af4f9854688b9484c Reviewed-on: https://chromium-review.googlesource.com/185190 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Relax alignment restrictions to allow more direct storage.  Our restriction to 4-byte alignments caused us to always convert formats like R8 or R16 or R8G8 instead of allowing D3D to handle these formats naturally.  From experimentation the proper rule seems to be "4-bytes unless the vertex format is 1- or 2-byte size." I couldn't find supporting documentation on MSDN but it seems common sense.  Change-Id: I9e38fe86790e34024d1ae912a809a3d3cdc02ccf Reviewed-on: https://chromium-review.googlesource.com/184523 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Remove VertexBuffer::requiresConversion.  Since we now have Renderer methods to query formats for vertex inputs we can get rid of the remaining calls to VertexBuffer which we used to query properties of vertex formats.  Change-Id: I9e57d1d9bf80296aef271877fdd97a16d29114af Reviewed-on: https://chromium-review.googlesource.com/184522 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix initializing the MaxExpressionComplexity and MaxCallStackDepth compiler limits.  BUG=339860  Change-Id: I64600db4bef62236c6acd8728902471df06a8f0a Reviewed-on: https://chromium-review.googlesource.com/185380 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add vertex format queries to Renderer.  With the new support for vertex formats living in the format utils we can use the Renderer class to query vertex properties instead of the VertexBuffer class.  Change-Id: Id76bd4dbf63855016faccef703521887f50da3b9 Reviewed-on: https://chromium-review.googlesource.com/184521 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move D3D9 vertex format tables to formatutils9.  Vertex format information is useful for querying format properties with the new vertex translation logic with dynamic shaders.  Change-Id: I1935c75f1e3920dc1d4a364a2d6968c82692e476 Reviewed-on: https://chromium-review.googlesource.com/184520 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Add D3D11 vertex format tables to our format utils.  Moving the vertex format information to a globally accessible helper file makes them available for the dynamic shaders logic.  Change-Id: I67d6280c0603d9c601ca504751c8905677c2426f Reviewed-on: https://chromium-review.googlesource.com/184399 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add VertexFormat internal struct to represent vertex inputs.  A VertexFormat is similar to a simplified VertexAttribute without extra unncessary data. VertexFormats will be useful for GPU vertex conversions with dynamic shader compilation.  Change-Id: I4e60e0a12d5f081fb52d95c8977c43d481b33bff Reviewed-on: https://chromium-review.googlesource.com/184398 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move storage for uniform blocks to the program binary.  With dynamic shaders we may have multiple shader executables per program binary. We must store the uniforms outside the executable in the program binary to be consistent between variations.  Change-Id: I1b29a5d78c72dede8562d4878569b609536ba074 Reviewed-on: https://chromium-review.googlesource.com/183586 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Move the storage for uniform blocks to its own class.  With dynamic shaders we may have multiple shader executables per program binary. We must store the uniforms outside the executable in the program binary to be consistent between variations.  Change-Id: I1bec83dfb83ee9bb422448b157338a46e8e7ba56 Reviewed-on: https://chromium-review.googlesource.com/183585 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Refactor BufferStorage11.  In preparation for transform feedback BufferStorage11 needs to be able to handle a non-staging buffer being updated.  Each D3D11 buffer now has an incrementing data revision associated with it so the most up-to-date buffer is always known.  Staging buffers are now represented like any other DirectBuffer.  Change-Id: I6e881867cb2bd02d600213d08cce3ebba316c525 Reviewed-on: https://chromium-review.googlesource.com/184395 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add work-around for D3D9 shader compiler bug.  With certain selection statements with a vertex input in the condition and side-effects in the else-block we'd run in to a D3D9 compiler bug which would cause incorrect results.  We can work around this bug in D3D9 by selectively rewriting these statements to use an 'else if' clause instead of 'else'.  BUG=322794  Change-Id: I93c96fb201ff4959c00d9a36321faac7e0343278 Reviewed-on: https://chromium-review.googlesource.com/184681 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix wrong allocator being used for sampler deletion.  Change-Id: I5e5aca5cda2bf1a96db05d594c64970ebf54fd29 Reviewed-on: https://chromium-review.googlesource.com/184572 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fixed missing break statement.  Change-Id: I83e3091243be442eafa4d16e4a4ce247a326c493 Reviewed-on: https://chromium-review.googlesource.com/184570 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Refactor buffer existance check into Buffer::invalidateStaticData.  Change-Id: I28a7654d152865c236831636f00554a71784667b Reviewed-on: https://chromium-review.googlesource.com/184394 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a GetComponentType method to query a DXGI format.  Also add a few missing DXGI formats related to vertex inputs.  Change-Id: Ia39234a164000d11eef3806ba4f06b6426f1cbb7 Reviewed-on: https://chromium-review.googlesource.com/183584 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Split DXGI format info to a GL mapping and info block.  The GL mapping depends on context client version (for certain depth textures) but the DXGI base format info is consistent across versions. Also add DXGI component type information to the table and add a few missing formats related to vertex inputs.  Change-Id: I2d1a8ca92b1cb39f4592d94d7d435ae0ada1de65 Reviewed-on: https://chromium-review.googlesource.com/183583 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Track dirty D3D shaders instead of program serial.  With dynamic shaders we can have multiple vertex shaders in one program binary. Hence the binary serial by itself isn't enough to determine when we need to apply new shaders to D3D.  Change-Id: I5a8b8616d353b506790ffc809e2d459bfc2b831d Reviewed-on: https://chromium-review.googlesource.com/184370 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Minor optimizations to texture functions.  By shuffling some parameters and calls around we can reduce the number of function calls we run for texture operations.  Change-Id: If6d14cb6dff668cdfcb2f1fe6705e0d488dbc03f Reviewed-on: https://chromium-review.googlesource.com/183582 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add the missing GL_DEPTH enum to the fbo attachment query.  This enum is only availabe in GLES 3. We were failing a dEQP state query test (fbo.draw_framebuffer_default_framebuffer)  Change-Id: I4cfb07b8597899561b8cc7956a9eb4cd4b0a99a8 Reviewed-on: https://chromium-review.googlesource.com/181782 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove system.h.  The gyp files already define NOMINMAX and WIN32_LEAN_AND_MEAN.  windows.h is also included via the D3D includes.  This ends up speeding up the build process significantly by not having windows.h included in nearly every file.  Also fixes issues on non-windows systems by not having stdarg.h included in debug.cpp.  Change-Id: Id32d9aac37a5a29df832a062dd8024302a798a1c Reviewed-on: https://chromium-review.googlesource.com/183251 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix FramebufferRenderbuffer validation.  We were not checking for an invalid renderbuffer when attaching to a framebuffer.  Change-Id: Ie29dca1833cc8c2b974f746d51dbee848f52a741 Reviewed-on: https://chromium-review.googlesource.com/181558 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix gl::ValidTextureTarget to work on all enum values.  Change-Id: I347583ae1adcaaae9feeb1276f6150ceb8739885 Reviewed-on: https://chromium-review.googlesource.com/181557 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Refactor validation of FramebufferRenderbuffer.  Consolidate a lot of duplicated code into helper methods. Also move GetTargetTexture to the context class.  Change-Id: I8e3990a5e3c1976cb533941d0a0946466accec30 Reviewed-on: https://chromium-review.googlesource.com/181556 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Remove __stdcall from non-windows builds.  Change-Id: I424cb538808ec64137c85af3bbe8742043e1c573 Reviewed-on: https://chromium-review.googlesource.com/183260 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Rework tracing and perf defines.  Changed ANGLE_DISABLE_* to ANGLE_ENABLE_* for perf and tracing defines so they are disabled by default.  Updated the gyp files to only turn on perf by default for windows debug builds.  Change-Id: I71706674e6d12fbf4208acc8f100d963b82c7674 Reviewed-on: https://chromium-review.googlesource.com/183250 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clamp stencil reference value to D3D11 8-bit limitations.  D3D11 can only mask 8 bits of a stencil reference value so the upper bits are ignored. GL however expects the reference value to be able to scale to 32-bits.  We will expect to fail certain edge cases where the reference value and mask both use particular 9+ bit values.  Change-Id: I8c7451270d9e40310f4154955d38e51bbf7de4df Reviewed-on: https://chromium-review.googlesource.com/181555 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Only use 4-channel shaders for unpack buffers.  D3D11 supports sampling other channel sizes of backing object and declaring them as 4-vectors in HLSL. This allows us to simplify the logic for fast unpack shaders significantly.  Source: http://msdn.microsoft.com/en-us/library/windows/desktop/bb509700(v=vs.85).aspx (Default Values for Missing Components in a Texture)  Change-Id: I7f645372f266f57bd94cdb1c795f1d30bf2a60a4 Reviewed-on: https://chromium-review.googlesource.com/181901 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix zero-size textures and unpack buffers.  We would sometimes attempt to use a NULL staging texture when initializing a zero size texture when using unpack buffers.  Change-Id: I2e03141c19d9c47eeffb0d56c03bcfe476a9e48d Reviewed-on: https://chromium-review.googlesource.com/181781 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix build on Visual Studio 2013.  A breaking change in VS2013 necessitates we include <algorithm> to use std::min/max.  BUG=angle:547  Change-Id: Ia1b21e61d22148ab6d268b34dbfe9a707ca3e59d Reviewed-on: https://chromium-review.googlesource.com/182512 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Properly clamp stencil mask query values to max int.  We could overflow when casting from max unsigned int to integer and return a negative mask.  See dEQP functional.state_query.stencil_value_mask_getfloat  Change-Id: I59189a40b662ad9d8ded79cdfeded923b98f0b85 Reviewed-on: https://chromium-review.googlesource.com/181780 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added a utility application to generate c headers from dds textures.  Change-Id: Idb4c2ca318c84433f2b06bd4f0c66045f43e56de Reviewed-on: https://chromium-review.googlesource.com/182191 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add swizzle tests.  Change-Id: If04bc249b9da8306896c89c28bb057c2cf4da511 Reviewed-on: https://chromium-review.googlesource.com/181771 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Replaced Stanford model images.  Change-Id: I76d568ce7b1acb84aba99adf8e6ca921e0933ac4 Reviewed-on: https://chromium-review.googlesource.com/182190 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add more D3D11 buffer usages.  Works around performance regressions when index and vertex buffer bind flags are used on the same buffer.  Change-Id: I28bc0d3147c6bd70cec507f20e41d97ec4cc45a5 Reviewed-on: https://chromium-review.googlesource.com/181911 Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Don't include windows.h on non-windows systems.  Change-Id: I8cf650073ead5b52bac44e31c8c3c894bc31e01c Reviewed-on: https://chromium-review.googlesource.com/182320 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clean up state query methods.  Consolidate a lot of the code duplication in GetIntegerv GetFloatv GetBooleanv and GetInteger64v.  BUG=angle:540  Change-Id: I7b4a5803ea76e5eeb0ebf25c5caadec4c647b485 Reviewed-on: https://chromium-review.googlesource.com/180971 Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix remaining discrepencies between master and es3proto project files.  Change-Id: I335c9346ac268beab25184e2b18ccfdd0b15c7b1 Reviewed-on: https://chromium-review.googlesource.com/182150 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Renderer11 tracks applied textures as SRVs.  Since swizzled textures have multiple SRVs and the same serial it was possible that the bound SRV would not be updated if the texture became swizzled while already bound.  Change-Id: Id06e82f4002aa7f7661c7a69243692aa65a83b48 Reviewed-on: https://chromium-review.googlesource.com/181772 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix using wrong value for array size in 2D array storage.  We were incorrectly calling Texture::getBaseLevelDepth() which was correctly reporting the number of 3D slices of the texture (1).  Also rename Texture2DArray::getDepth to getLayers for clarity.  Change-Id: I1968cbcb0a3528bb76ec3e4ea4148e5dc0f302c7 Reviewed-on: https://chromium-review.googlesource.com/181553 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added missing depth swizzle backing formats and fixed compressed texture bit calculation.  Change-Id: I2390ace1fe5297f9fcad0c873c55dae564a09c43 Reviewed-on: https://chromium-review.googlesource.com/181773 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Remove unnecessary int cast in ParseContext.  BUG=angle:536  Change-Id: I72287f5ce9736cd48fc241022e09446db717cf92 Reviewed-on: https://chromium-review.googlesource.com/181770 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix improper deferencing of a zero-size vector.  When doing a masked clear with only a depth-stencil buffer we would look for the zero-th element of an empty vector.  Change-Id: I17d61cf582c6e91fd46f8a8e13e35c6d32dfa109 Reviewed-on: https://chromium-review.googlesource.com/181554 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Create HLSL texture offset functions.  BUG=angle:541  Change-Id: I63dd47c40d693724aa6bed93e9967e3b1f8535bd Reviewed-on: https://chromium-review.googlesource.com/181521 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add NetBSD and DragonFly to posix-compliant OS list  BUG=angle:428  Change-Id: I282a6bf138b4e2a2c17baf428cbe1e636f43bdd6 Reviewed-on: https://chromium-review.googlesource.com/181640 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/181670 Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add textureOffset intrinsics to the symbol table.  BUG=angle:541  Change-Id: Ied96edd073017a507369319a781b8ed23f60790b Reviewed-on: https://chromium-review.googlesource.com/181520 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix default vertex attribute component size to 4.  The GL spec states that by default a vertex attribute has a size of 4.  Change-Id: Ic4c977fb936cc0b232ed4742eeb061d6ba6843be Reviewed-on: https://chromium-review.googlesource.com/181480 Reviewed-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix compressed formats breaking swizzle bits checks.  We defautled to zero max bit depth which breaks the swizzle format lookup.  Change-Id: I4d1cd8bcfb79db3460950fa22630c259f90fa432 Reviewed-on: https://chromium-review.googlesource.com/181481 Reviewed-by: Jamie Madill <jmadill@google.com> Commit-Queue: Jamie Madill <jmadill@google.com> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix compiler crash.  Create a fake variable for function identifiers used as a variable identifier to allow continuing compilation after reporting the error.  BUG=chromium:330222  Change-Id: I96c330694e3503fe2df66621375d2bf76115e325 Reviewed-on: https://chromium-review.googlesource.com/181491 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Regenerate the parser using Bison 2.7.12.  The next patch requires a parser grammar change but Cygwin's Bison version got updated so this separates the changes caused by that update from the ones for the actual bug fix.  Change-Id: I6a596e02198725c7dbc6a1a356fdbe388ee512d7 Reviewed-on: https://chromium-review.googlesource.com/181490 Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Update guards in ShaderVariable.h.  We neglected to update the text of the guards when we renamed the file from Uniform.h to ShaderVariable.h.  BUG=angle:533  Change-Id: I59969113536b69a418cf233ef0d7dd797e666ea9 Reviewed-on: https://chromium-review.googlesource.com/180978 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix allowing ES3 enum queries to call through to ES2 contexts.  In some cases we would not validate the enums against the context version allowing the app to call through to unimplemented features.  BUG=angle:540  Change-Id: Ic89422a3a48882314c054f133961af0b4d8d739a Reviewed-on: https://chromium-review.googlesource.com/180970 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add in fixes for dEQP state reset.  dEQP relies on a couple specific enums to reset state (see the prerequisites test) which we don't currently implement. Prior changes require us to implement a few query parameter to allow dEQP to work.  BUG=angle:540  Change-Id: Ibd7caa08ffb821ea2de120717beedb2f82428da2 Reviewed-on: https://chromium-review.googlesource.com/180981 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Fix sorting uninitialized attribute semantics to the end.  A missing condition would produce a sort order where sometimes -1 was shifted to the front of the semantic array instead of the end.  BUG=angle:527  Change-Id: I69b2e5ccc03f6523771601cd59293d6cd325be2f Reviewed-on: https://chromium-review.googlesource.com/180651 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Implement max elements indices and vertices.  ES3 has integer queries for the maximum recommended number of vertices and indices per draw call. These are roughly correlated to D3D's resource limits -- however while ES3 has recommended limits D3D has hard limits.  Change-Id: Ib653bc27e61607c78d0c5e70b0d97fea7af6464f Reviewed-on: https://chromium-review.googlesource.com/179670 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Trigger lost device on an error in D3D9 Present.  This fixes device remove handling on AMD systems as well as notifying the app layer there may have been an internal problem during Present.  BUG=313210 Change-Id: I843ffb3946dd9ef34fbd24b3a46a7b97e3c0fd16 Reviewed-on: https://chromium-review.googlesource.com/179140 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-on: https://chromium-review.googlesource.com/180450 Reviewed-by: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added a read pixels test.  Change-Id: Ia4c5a0290e62e2c312d86fa18ef4e76d782a4a41 Reviewed-on: https://chromium-review.googlesource.com/179357 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added compressed texture tests.  Change-Id: Id6090b134b957ca195afa615d61a10f8b008208e Reviewed-on: https://chromium-review.googlesource.com/179358 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added tests for maximum texture size.  Change-Id: I3bce6ce2a04a3347933bfe515bcaa9b5eaebf255 Reviewed-on: https://chromium-review.googlesource.com/179356 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added line loop tests.  Change-Id: I77a8997ccdf1b0918127d6d46a145039a941ce06 Reviewed-on: https://chromium-review.googlesource.com/179355 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added incomplete texture tests.  Change-Id: Ie223404eb3b36664a6fbaefc45d9ff24d0be5cb1 Reviewed-on: https://chromium-review.googlesource.com/179354 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Moved the compiler test initialization and tear down into a gtest environement class.  Change-Id: I1fd05a188830567b04b9341793e64488da027894 Reviewed-on: https://chromium-review.googlesource.com/179353 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Added a gtest environment class to initialize the ANGLETest class window.  Change-Id: I6fa59201364960cc8fe1cb44e2d09a14cf61dd8a Reviewed-on: https://chromium-review.googlesource.com/179352 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org> Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix initializer type bug when using list declarations.  We were using the first type as the type for each declaration which could cause erros for arrays eg "float one[4] two;"  BUG=angle:431 TEST=WebGL CTS 1.0.2  Change-Id: I104d6701cc019ae3b3831a2d568ffe2b656b45a2 Reviewed-on: https://chromium-review.googlesource.com/179351 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Fix initialization of thread local storage in libGLESv2.  When an app would load libGLESv2.dll via LoadModule then would call methods on a thread that was already created we could creash because of uninitialized thread local storage.  BUG=angle:488  Change-Id: I9b05de462232a16d639c58ec07386b7c38a01793 Reviewed-on: https://chromium-review.googlesource.com/179132 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix initialization of thread local storage in libEGL.  When an app would load libEGL.dll via LoadModule then would call methods on a thread that was already created we could creash because of uninitialized thread local storage.  BUG=angle:488  Change-Id: If3f73fb59dcc5f0713f5b6fb9ca9f8535ee23c73 Reviewed-on: https://chromium-review.googlesource.com/179131 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix build on QNX.  InfoSink.h needs stdlib.h for abs(int) and free() in the global namespace.  ExpressionParser needs malloc.h because bison needs malloc and free in the global namespace but "#include <cassert>" will put it only in the std:: namespace on QNX.  BUG=500 R=geofflang@chromium.org jmadill@chromium.org shannonwoods@chromium.org zmo@chromium.org  Review URL: https://codereview.appspot.com/19330044  Change-Id: Ifa30a8ba5eced1156123416d4a24b490620721af Reviewed-on: https://chromium-review.googlesource.com/178993 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix build on QNX.  InfoSink.h needs stdlib.h for abs(int) and free() in the global namespace.  ExpressionParser needs malloc.h because bison needs malloc and free in the global namespace but "#include <cassert>" will put it only in the std:: namespace on QNX.  BUG=500 R=geofflang@chromium.org shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/19330044  Conflicts:  	src/compiler/translator/InfoSink.h  Change-Id: Ie480d5c293d099f21dafc8c1e7997c0b4cda7207 Reviewed-on: https://chromium-review.googlesource.com/178998 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Disable automatically resizing swapchain if window is iconified  The size of the window is changed if the window is iconified but that change should be ignored.  BUG= R=shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/19460043  Conflicts:  	src/libEGL/Surface.cpp  Change-Id: Ia5053a2f210b29d39551796de3d8a394d7897ac9 Reviewed-on: https://chromium-review.googlesource.com/178997 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add an option to unfold short circuiting in AST.  We replace "a || b" with "a ? true : b" "a && b" with "a ? b : false".  This is to work around short circuiting bug in Mac drivers.  ANGLEBUG=482 TEST=webgl conformance tests R=alokp@chromium.org kbr@chromium.org  Review URL: https://codereview.appspot.com/14529048  Conflicts:  	src/build_angle.gypi 	src/compiler/translator/Compiler.cpp  Change-Id: Ic2384a97d58f54294efcb3a012deb2007a9fc658 Reviewed-on: https://chromium-review.googlesource.com/178996 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix a traverse bug.  In loop node the init part was skipped in traversing.  BUG= TEST= R=kbr@chromium.org  Review URL: https://codereview.appspot.com/14366043  Change-Id: If3200f1dbcafda1147820b2d47b758b897de0fc6 Reviewed-on: https://chromium-review.googlesource.com/178992 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Style violation cleanup for IntermTraverse.cpp  Per suggested by kbr in https://codereview.appspot.com/14366043/ we clean up the stype violation in a separate CL.  BUG= TEST=no behavioral change TBR=kbr@chromium.org  Review URL: https://codereview.appspot.com/14371043  Change-Id: I27e15f632eff3a9d0d22ae955b5a952793128661 Reviewed-on: https://chromium-review.googlesource.com/178991 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add unit tests for proper TLS initialization.  The test creates a worker thread which initializes EGL then calls EGL methods which check for thread local storage values. This can cause a crash of the values are uninialized.  BUG=angle:488  Change-Id: Ibaffede0605c720ba9ca47910690a1334ee9e20e Reviewed-on: https://chromium-review.googlesource.com/179130 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Clear11 will not clear channels that are not supposed to exist in the render target's format.  Change-Id: I9c2bb927ec63d67d315893d44f199ceab4b5df82 Reviewed-on: https://chromium-review.googlesource.com/176856 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Renderer classes now set their blend states to mask out channels that do not exist in the render target.  Change-Id: Ia49bf8de07bbdfa31275ec9835de28adc3717485 Reviewed-on: https://chromium-review.googlesource.com/176855 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Re-add jschuh's TODO comment for 64-bit warnings  Change-Id: I690cfd9146c51cd1e19dc2bcd2cc227b4d156cd0 Reviewed-on: https://chromium-review.googlesource.com/178995 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Merge preprocessor test changes from f84ef70bc729506184b052e5e9cf78796a5a4704  Change-Id: I672f8b37f1e8189e43273abb59bce23ff1d580c1 Reviewed-on: https://chromium-review.googlesource.com/178994 Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Store the commit date in version.h and in the DLL properties.  This will allow Chrome or other apps who reference ANGLE internally to pull chronological version information about ANGLE.  Change-Id: I7dbd5b60b533f176b34f7248d70a1d9757ae99d6 Reviewed-on: https://chromium-review.googlesource.com/179100 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Roll gyp and regenerate public projects to have the cleaned paths.  With gyp r1804 we can support having nice project folders without nested subfolders. We must disable the parallel build for gyp as it is currently broken in our project and turned on by default.  Change-Id: Ie147ce423115009e254447d51cc30da0cfb2704f Reviewed-on: https://chromium-review.googlesource.com/178782 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Fix indices not being offset to the bound vertex buffer when drawing indexed points in D3D9.  bug=angle:535  Change-Id: I5b86874cddbd3b90fe141e94085f5a4afb9f3db3 Reviewed-on: https://chromium-review.googlesource.com/179101 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Adds algorithm.h dependency to support VS2013 builds.  Change-Id: I1c254be3532d9b69380f8e2b0dde0be76a8ad262 Reviewed-on: https://chromium-review.googlesource.com/178990 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Image and RenderTarget classes now initialize their textures if required.  Change-Id: I2cce6f4ffdc7e2a6c23c50d663c6316f9b125880 Reviewed-on: https://chromium-review.googlesource.com/176854 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add functions to check if texture data initialization is required.  Change-Id: I54c3b90780c304d6001b9e52278672981c96cb83 Reviewed-on: https://chromium-review.googlesource.com/176853 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Removed extra AddRef and Release calls on D3D11 objects.  Change-Id: I5918c67735658912663c79e964b8edfb288784a3 Reviewed-on: https://chromium-review.googlesource.com/178450 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix the compiler copy script in the public projects.  This patch silences the copy message fixes the public projects and makes the copy step a separate target so it won't run on every incremental build.  Change-Id: Ie6df39737ad466b6431865b3ca19f66d16437ba9 Reviewed-on: https://chromium-review.googlesource.com/178432 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix the backwards slashes in the commit header generation.  These backwards slashes happen with some versions of gyp.  Change-Id: I6c61e212aa34999fb82d74d9f1605d674f34fce0 Reviewed-on: https://chromium-review.googlesource.com/178522 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add missing swizzle files to the generated projects.  Change-Id: Ic99319d0ee6dfad1fe435197f9aa7edbae679370 Reviewed-on: https://chromium-review.googlesource.com/178451 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Add a relative source path variable to our gyp build process.  This path lets us locate the src folder with respect to the generated output folder for the pregenerated projects.  Change-Id: I5cf36f35f68638572bc1a8aec1f570edf76a1c74 Reviewed-on: https://chromium-review.googlesource.com/178521 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix swapchain resize errors when sizing to 0 width or height.  BUG=angle:519  Change-Id: I3d3d0746b2b3027d04c91cc5fdcd301930e3b22a Reviewed-on: https://chromium-review.googlesource.com/178439 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix unused variable warning in compiler/debug.cpp.  BUG=angle:534  Change-Id: I893e552628c7deba4bc67baae6e5e28b6161c5d4 Reviewed-on: https://chromium-review.googlesource.com/178438 Reviewed-by: Geoff Lang <geofflang@chromium.org> Commit-Queue: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org>, 15312978, 382, 105, 382
Fix device removed handling for systems which do not immediately allow recreating a new device.  On Intel systems there's a cool-down period when you must wait before recreating the device.  BUG=313210  Change-Id: I22cdf41eecf0eae5058b59e1b0863173d604d606 Reviewed-on: https://chromium-review.googlesource.com/178437 Tested-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix the display not updating after a call to eglSwapInterval.  This could happen because we reset the dirty swap interval flag before we called makeCurrent.  BUG=angle:481  Change-Id: I15750db8908eb379d89b2b20104dac87c1399987 Reviewed-on: https://chromium-review.googlesource.com/178520 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Include the current commit as part of the build process.  BUG=angle:529 Change-Id: I6d1d227b495e9bae6e017c88642679210c6d2355 Reviewed-on: https://chromium-review.googlesource.com/177233 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add NULL init for swizzle SRVs with eglBindTexImage textures.  Change-Id: I8a1069013f37988632db07359d65f8215041978e Reviewed-on: https://chromium-review.googlesource.com/178431 Reviewed-by: Geoff Lang <geofflang@chromium.org> Tested-by: Geoff Lang <geofflang@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Renderer11 now generates swizzles and invalidates the cached swizzles.  Change-Id: If5c998a91195942297beeb26a0ec635ff6a466ea Reviewed-on: https://chromium-review.googlesource.com/177035 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Added a RenderBuffer/RenderBufferInterface getTextureStorage method.  Change-Id: I710fba737524e735349ce1c0b09fa535555bd029 Reviewed-on: https://chromium-review.googlesource.com/177034 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Context now detects if a texture needs to be swizzled and calls Renderer::generateSwizzles.  Change-Id: I89f30e028b1d6ec384536cdbeedd91bb98359e8f Reviewed-on: https://chromium-review.googlesource.com/178440 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix enum names in preprocessor tests.  Change-Id: I6c08c43ecb2ad593119f85c05a802473348cafb7 Reviewed-on: https://chromium-review.googlesource.com/178430 Reviewed-by: Jamie Madill <jmadill@chromium.org> Reviewed-by: Nicolas Capens <nicolascapens@chromium.org> Commit-Queue: Nicolas Capens <nicolascapens@chromium.org> Tested-by: Nicolas Capens <nicolascapens@chromium.org>, 15312978, 382, 105, 382
Added a swizzle cache to TextureStorage11.  Change-Id: Iebf297ef5b8560bb468428fc369eb3df8f43ec11 Reviewed-on: https://chromium-review.googlesource.com/177032 Reviewed-by: Jamie Madill <jmadill@chromium.org> Commit-Queue: Jamie Madill <jmadill@chromium.org> Tested-by: Jamie Madill <jmadill@chromium.org>, 15312978, 382, 105, 382
Add a rule to copy the D3D compiler DLL to the output folder.  BUG=315387  Change-Id: I293798ecb7ec167691a1f490c050a48970b17be3 Reviewed-on: https://chromium-review.googlesource.com/177695 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Add GetSwizzle*Format functions to formatutils11.  Change-Id: Idcd4aa5fd18c1629168ba7cdd41e8fb3f6c3ead3 Reviewed-on: https://chromium-review.googlesource.com/177031 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix errors in the gyp projects when we build with ninja.  Ninja does not like having targets named 'all' and the post-build step had some ninja-incompatible variables.  BUG=angle:529  Change-Id: Ia2bf701c997ec072b18bcbd62f7d05a2e40a1578 Reviewed-on: https://chromium-review.googlesource.com/178072 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Added TEXTURE_SWIZZLE_* parameters to the texture sampler state and API queries.  Change-Id: I20aff392ec4cd9e49424afae94a862fdd8eef9b8 Reviewed-on: https://chromium-review.googlesource.com/177030 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Added a swizzleTexture method to Blit11.  Change-Id: I0af836f761893c8928a84d138a6b2d07a3e04da6 Reviewed-on: https://chromium-review.googlesource.com/176989 Reviewed-by: Shannon Woods <shannonwoods@chromium.org> Commit-Queue: Shannon Woods <shannonwoods@chromium.org> Tested-by: Shannon Woods <shannonwoods@chromium.org>, 15312978, 382, 105, 382
Fix issues with the conditional discard workarounds to do with assignments.  The old modifiesState method really checked if an operator was an assignment so restored that behaviour and use the new side effects detection only for the new code.  ANGLEBUG=486 BUG= R=nicolascapens@chromium.org zmo@chromium.org  Review URL: https://codereview.appspot.com/22130043  Change-Id: I84d4e95a0457e63f237a814d80e4f72dd861496b, 15312978, 382, 105, 382
Disable optimizations for shaders with conditional discard in D3D9 and only use expanded short-circuiting conditionals for expressions with potential side-effects.  Conservatively assume aggreate and selection operators have side effects for now.  BUG= ANGLEBUG=486 R=geofflang@chromium.org kbr@chromium.org nicolas@transgaming.com shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/14441075  Conflicts: 	src/common/version.h 	src/compiler/translator.vcxproj 	src/compiler/translator.vcxproj.filters 	src/compiler/translator/OutputHLSL.cpp 	src/libGLESv2/ProgramBinary.cpp 	src/libGLESv2/Shader.cpp 	src/libGLESv2/Shader.h  Change-Id: Iaf9f10b5de7b33c927ef032f3c4fe9d5095f64dd, 15312978, 382, 105, 382
Ensure stream source frequency for stream 0 is set to 1 in swapRect for D3D9.  This prevents D3D errors which we could see when using the Debug runtime.  BUG=321834  Change-Id: I1dd66d9d80def5e558fc13c218fde9c4047ab2b4, 15312978, 382, 105, 382
Add .rc files back to the new gyp build process.  Change-Id: I8798d9dd4a31bb0ced6f695ec5b21a354adeca51, 15312978, 382, 105, 382
Proper handling of D3D9Ex device removed.  BUG=313210  Change-Id: I85dae10bc2ec38a1e9c09f318b8f6b9196466d60, 15312978, 382, 105, 382
Bump version.h  Change-Id: Iaefd68999cf7e378561d2136b6aed28058a767c4, 15312978, 382, 105, 382
Merge "Renamed some Blit11 types and methods to imply they are for blitting (as opposed to swizzleing)." into es3proto, 15312978, 382, 105, 382
Merge "Don't let mBufferSize fall out of sync with the actual buffer size.  Pervents unnecessary buffer re-creations." into es3proto, 15312978, 382, 105, 382
Use 64-bit safe constant union indexes.  BUG=angle:450  Change-Id: I4a16733e3e6aebf2939f8255ae2e4e8c5febc606, 15312978, 382, 105, 382
Don't let mBufferSize fall out of sync with the actual buffer size.  Pervents unnecessary buffer re-creations.  Change-Id: Ie40300865dcd7830fe8eafbccfaa3edad46c7b52, 15312978, 382, 105, 382
Merge "Manual merge of Ehsan Akhgari's change to add include guards to ForLoopUnroll.h" into es3proto, 15312978, 382, 105, 382
Manual merge of Ehsan Akhgari's patch to rename Diagnostics enums to avoid collision with Windows.h  (See https://chromium-review.googlesource.com/#/c/177181/3)  Change-Id: I2978d06ec96789b3ee1696b65a84c2a9f31f7ba4, 15312978, 382, 105, 382
Manual merge of Ehsan Akhgari's change to add include guards to ForLoopUnroll.h  (See https://chromium-review.googlesource.com/#/c/177180)  Change-Id: I353b6ff868dbfd5764d4fa3fb0af88891cf5b436, 15312978, 382, 105, 382
Renamed some Blit11 types and methods to imply they are for blitting (as opposed to swizzleing)., 15312978, 382, 105, 382
Add a step to the gyp projects which can run a python script after a build of ANGLE is complete.  We can use this hook to do things like copy DLLs to user-configured output folders.  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang ANGLEBUG=503  Change-Id: Iecf86b8c211b2a9933894c631c32107c8fda096a, 15312978, 382, 105, 382
Fix the shader calculation for the level of detail for certain samplers.  We were using an extra sqrt function for some cases.  TRAC #23591  Change-Id: I7d5d2b4b78586085396a281daf7975be316a1386 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Remove usages of the auto keyword from the translator.  TRAC #22875  Change-Id: I3ecf30843a82962fbfa5c38f026425fa8acf4657 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix bug with nested struct uniforms.  TRAC #22875  Change-Id: I204cea18a710f6b9206a578a69f1dbc1e13fbd71 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Fix improper getSamplerState in Context::applyTextures.  Introduced in cdf22f94acaf86.  R=geofflang@chromium.org BUG=  Review URL: https://codereview.appspot.com/20320043, 15312978, 382, 105, 382
Fix glGetUniform for non-square matrices.  TRAC #22846  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Remove use of DXGI_FORMAT_R32G32B32_FLOAT as a backing format for GL_LUMINANCE32F_EXT.  TRAC #24036  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Don't apply textures that are currently bound to the framebuffer.  BUG=496 Review URL: https://codereview.appspot.com/18450045, 15312978, 382, 105, 382
Fixed a bug where the vertex data manager was not caching the current value attributes properly.  ANGLEBUG=489 Review URL: https://codereview.appspot.com/18670043, 15312978, 382, 105, 382
Fix incorrectly named test class members and wrong shader compilation function being used.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Silence a warning present in Release mode with a lack of exported symbols in compilerdebug.obj.  TRAC #24052  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Added unpack alignment tests.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added occlusion query tests.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added tests for clear issues.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added tests for NULL buffer data.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added BlitFramebufferANGLE tests.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added vertex attribute tests.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added an angle_tests project and base class for tests.  TRAC #23776  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add support for GL_EXT_color_buffer_float.  TRAC #23794  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Remove TextureStorage::GetActualLevelCount.  TRAC #23978, 15312978, 382, 105, 382
Modify texture storage classes to store a base and max level instead of a range of levels.  TRAC #23978  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add helper functions for returning the dimensions of a level in a texture storage.  TRAC #23978  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Remove Texture::levelCount() and replace it with isValidLevel().  TRAC #23978  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Replace API queries of immutable texture level count with a specialized function.  TRAC #23978  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Remove Texture::getStorage which is no longer needed after the previous refactorings.  TRAC #23976  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactor storage management in Texture2DArray.  TRAC #23976  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactor storage management in Texture3D.  TRAC #23976  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactor storage management in TextureCube.  TRAC #23976  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactor texture storage management in the Texture2D.  TRAC #23976  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Rename Texture and Image methods which operate on storage objects to refer to storage instead of textures.  TRAC #23961  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Make a virtual method Texture::mipLevels to return the value of mip levels defined as in the GL spec.  Also known as the "q" function.  TRAC #23961  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Use a consistent naming scheme for the cube map face index variables in Texture.cpp.  TRAC #23961  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Simplify passing the texture usage parameters through the texture classes.  Avoid passing a raw GLenum when possible.  TRAC #23961  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Change Texture::convertToRenderTarget to ensureRenderTarget which tries to convert a storage to a RT if it isn't already.  TRAC #23961  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added support for EXT_texture_rg in D3D9 and D3D11.  TRAC #22423  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
24bit depth formats need to flip the depth and stencil bits when loading.  TRAC #23540  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fixed the GL_FLOAT_32_UNSIGNED_INT_24_8_REV type having the incorrect number of bytes and allowed the depth stencil formats to specify that they have unused bits.  TRAC #23540  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
SwapChain11 now stores a SRV of it's depth stencil.  TRAC #24025  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Instead of checking if a texture is mipmap complete before we update the storage only update complete storage levels.  TRAC #23996  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Only update the currently active render target level in getRenderTarget instead of the whole texture.  Also add a few more ASSERTs to the texture level update methods.  TRAC #23996  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Re-enable hazard warnings for setting render targets that are currently bound as SRVs.  We can manually unset applied textures in SetRenderTargets. This should fix the spurious warnings while still showing a warning on error cases.  TRAC #24039  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add a method to return the Texture serial of a Renderbuffer or zero if this is a non-texture Renderbuffer.  TRAC #24039  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Do not allow context sharing between egl Displays.  This is an explicit error according to the EGL specification.  ANGLEBUG=487 BUG= Test=WebGL CTS R=shannonwoods@chromium.orggeofflang@chromium.org, 15312978, 382, 105, 382
Regenerate public Visual Studio projects.  TRAC #24044  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Update the GYP dependency to a revision with Visual Studio 2010 Express solution generation working correctly.  TRAC #24044  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Expose the textureLod functiosn to GLES 3.00 shaders.  We should have support for these methods but they were not exposed to the shaders.  TRAC #23991  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Ignore output from new Visual Studio projects.  TRAC #24020, 15312978, 382, 105, 382
Regenerate project files.  TRAC #24020  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Public project generation script is now a python script and generates projects into the projects directory.  TRAC #24020  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Remove un-referenced functions.  TRAC #23785  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix mis-printed type in event message.  TRAC #23785  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Use GLenum instead of GLint to store internal format variables.  TRAC #23785  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Move the PBO unpack shaders to the proper folder.  These were not properly merged with the project changes.  TRAC #24028  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Regenerate public project files., 15312978, 382, 105, 382
Updated the gyp build system for the ninja generator to work.  TRAC #24018  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added a 64 bit build target to the gyp file.  TRAC #24018  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Disable warnings about size_t conversion and fix ambiguous template parameters in 64 bit builds.  TRAC #23409  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Support pixel unpack buffers in TexSubImage3D.  TRAC #23847  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Support the "fast path" (GPU copies) for pixel unpack buffers in TexImage3D.  TRAC #23846  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add support for pixel unpack buffers to TexImage3D.  TRAC #23846  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Add support for pixel unpack buffers to TexSubImage2D.  TRAC #23845  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add support for the "fast path" (GPU copy) pixel unpack buffers in TexImage2D.  TRAC #23844  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactor direct buffer storage to only create two backing buffers for constant buffers and all other bindings.  This simplifies the logic used in retrieving the ID3D11Buffer.  TRAC #23844  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add precompiled D3D11 shaders for pixel unpack buffers.  TRAC #23844  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add a helper method to return the native format backing a GL texture type.  TRAC #23844  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactor the fast path for pixel unpack buffers and fix a few validation gaps with texture completeness.  TRAC #23997  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Place the method responsible for checking for fast pixel unpack buffer support into the Renderer.  TRAC #23997  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Rename ParseHelper.cpp/h to ParseContext.cpp/h.  TRAC #24002  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Add support for querying major and minor GL version in ES3 contexts.  TRAC #23989  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Expose gl_MaxDrawBuffers to ESSL 3.00 shaders.  Previously was only exposed in ESSL 1.00.  TRAC #23990  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Regenerate project files., 15312978, 382, 105, 382
Add a project update script.  TRAC #24017  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fixed issues compiling gtest in using the visual studio 2012 compiler., 15312978, 382, 105, 382
Regenerate project files., 15312978, 382, 105, 382
Merge a0bd8ef0aca9eab29a0e5a437b803c5d95a777c6 from master.  Use ANGLE_TRANSLATOR_STATIC to enforce a static build of the translator in chromium.  This prevents strange warnings from defining COMPONENT_BUILD=0. Also rename COMPILER_IMPLEMENTATION to ANGLE_TRANSLATOR_IMPLEMENTATION for better consistency in chromium.  ANGLEBUG=477 R=zmo@chromium.org BUG=, 15312978, 382, 105, 382
Merge 7692ca41dbfe20e6acf3319a37aa38b8160f51c6 from master.  Remove %(AdditionalDependencies) from gyp linker deps and add full windows dependency library list.  ANGLEBUG=477 BUG= R=zmo@chromium.org  Review URL: https://codereview.appspot.com/14161043, 15312978, 382, 105, 382
Merge 49cbc5768c15d930d5d8751f5263e9546a07d037 from master.  Fix a typo introduced in "GCC Compiler Fixes".  ANGLEBUG=478 BUG= R=shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/14155043, 15312978, 382, 105, 382
Merge 16a3eb3e9fdee83ab9ed15769ec629eab4bc4174 from master.  Fix compiler test initialization issues.  We should call ShInitialize() / ShFinalize() once per process so moving them out of individual test's Setup() / Shutdown() to the test main().  BUG= R=alokp@chromium.org  Review URL: https://codereview.appspot.com/13568048, 15312978, 382, 105, 382
Merge 366229430ea056cf7f33917a4fa37b721512a42c from master.  Create a static translator project and allow the previous translator project to be used in component builds., 15312978, 382, 105, 382
Deleted manually maintained visual studio projects and replaced them with gyp generated ones., 15312978, 382, 105, 382
Enabled multiprocessor compilation., 15312978, 382, 105, 382
Added flags to disable or enable generation of samples and test projects., 15312978, 382, 105, 382
Fixed the DEPS folder and added a .gclient file so gclient sync will now work., 15312978, 382, 105, 382
Added a define that removes d3d includes from the common directory so that d3d9 headers are not included in the translator project., 15312978, 382, 105, 382
Refactored the tests.gyp file., 15312978, 382, 105, 382
Refactored the samples.gyp file., 15312978, 382, 105, 382
Moved the gyp libGLESv2 and libEGL projects into their own gyp files. Renamed build_angle.gpy* to angle.gyp* but kept build_angle.gyp for chrome compatability., 15312978, 382, 105, 382
Moved the compiler source files into directories based on their project and added a compiler.gypi to generate the compiler projects., 15312978, 382, 105, 382
Split the d3d9 and d3d11 backends into folders and updated the gyp file to use a python script to generate the file lists for the libGLESv2 and libEGL projects., 15312978, 382, 105, 382
Fix D3D9 attributes being marked as requireing conversion when they did not.  R=jmadill@chromium.orgshannonwoods@chromium.org  Review URL: https://codereview.appspot.com/14737043, 15312978, 382, 105, 382
Remove an assert statement to do with uniforms and element indexes.  This assert could trigger false positives on sampler types. We should eventually replace our uniform handling logic with something more consistent with D3D11's "everything is a constant buffer" model.  TRAC #23749  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Only check for missmatched HWND process IDs if swap chain creation fails.  R=shannonwoods@chromium.orgzmo@chromium.orgjmadill@chromium.org  Review URL: https://codereview.appspot.com/14540050, 15312978, 382, 105, 382
Do not dereference a NULL pointer when retrieving the base level image of an empty 2D array texture.  TRAC #23957  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Use cube textures as 2D texture arrays in rendertarget SRVs  This fixes mipmapping for renderable cube textures in D3D11.  Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill, 15312978, 382, 105, 382
Add a define to force off the vertical sync for profiling.  TRAC #23973  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix incorrect mip sizes for cube maps when creating them with TexStorage2D.  TRAC #23913  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix incorrect targets for TexStorage2D with cube maps.  TRAC #23913  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Implement META_ASSERT with static_assert if the compiler supports it.  TRAC #23948  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add missing ES3 unsized internal formats and properly return 1 for alpha in integer formats with no alpha channel.  TRAC #23949  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fall back to LoadLibrary if preloading d3d compiler modules fails.  TRAC #23985  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Move validation of API errors out of Texture*::generateMipmaps() to the API.  TRAC #23959  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Clean up the validation logic in glGenerateMipmap by using the generic base format property methods.  TRAC #23959  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
In GenerateMipmap determine if texture is a compressed or depth texture via generic methods instead of from the typed class.  Part of GenerateMipmap cleanups.  TRAC #23959  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add methods to return the properties of the base level image of a texture. We can call these of any texture type.  These methods are only well-defined for complete textures (IE not cube maps with one face defined in one level).  TRAC #23957  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Update to most recent khrplatform.h  Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill, 15312978, 382, 105, 382
Eliminate bitfield enum members to avoid GCC compile error.  BUG=448 R=shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/14302044, 15312978, 382, 105, 382
Refactored the generate_shaders.bat script to use a function to compile the shaders and have the option of creating debug shaders.  TRAC #23907  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Removed parameter validation from Texture::set* calls since validation is already done in ValidateTexParamParameters.  TRAC #23908  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Validate compressed texture dimensions based on the per-format compressed block sizes rather than hard-coded values.  TRAC #23630  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Context now returns maximum texture levels per texture type updated validation to validate mip level based on the texture target.  TRAC #23630  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Defer early-exit due to zero-sized copies until after all other validation for CopyTex*Image.  TRAC #20925  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Enable unpack buffer support for initializing 2D textures in TexImage2D.  TRAC #23843  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add the proper API errors for pixel unpack buffers.  1. For overflowing the currently bound pixel unpack buffer in TexImage and TexSubImage calls. 2. Enforce unpack buffer offset alignment for TexImage and TexSubImage calls. We'll have to check for currently mapped buffers when we implement map.  TRAC #23842  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add helper functions to determien if addition and mulutiplication of unsigned values will cause an overflow.  TRAC #23842  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add a couple missed files types to .gitattributes's CRLF list.  TRAC #23896, 15312978, 382, 105, 382
Use the same mechanism to process int/float literals  This also fixes the float overflow errno leaking bug.  BUG= R=alokp@chromium.org  Review URL: https://codereview.appspot.com/13368050, 15312978, 382, 105, 382
Add an option in ANGLE shader translator to initialize gl_Position to vec4(0.0 0.0 0.0 1.0).  This is to work around driver bugs where shader compile or program link would fail incorrectly if gl_Position is not set in vertex shader.  At the moment at least Linux NVIDIA driver has this bug.  ANGLEBUG=472 R=alokp@chromium.org kbr@chromium.org  Review URL: https://codereview.appspot.com/13509043, 15312978, 382, 105, 382
Expose the packing function so we can check varyings packing per program  ANGLEBUG=471 R=kbr@chromium.org  Review URL: https://codereview.appspot.com/13322043, 15312978, 382, 105, 382
Clamp numeric overflow rather than failing with an error  BUG=249086 ANGLEBUG=468 TEST= R=alokp@chromium.org kbr@chromium.org  Review URL: https://codereview.appspot.com/13195043, 15312978, 382, 105, 382
Fix compile errors in the essl to hlsl standalone translator.  ANGLEBUG=469 R=shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/13281043, 15312978, 382, 105, 382
Add static_use to shader variable info query.  BUG=249018 ANGLEBUG=465 R=kbr@chromium.org  Review URL: https://codereview.appspot.com/13158043, 15312978, 382, 105, 382
Build fix: not all types support precisions.  Currently Angle translator made the wrong assumption that all variables have a precision and ASSERT that.  BUG=276031 TBR=alokp@chromium.org  Review URL: https://codereview.appspot.com/13113044, 15312978, 382, 105, 382
Support precision for sampler types.  BUG= R=alokp@chromium.org  Review URL: https://codereview.appspot.com/12833045, 15312978, 382, 105, 382
Minor refactoring of TSymbolTable.  Used pointers for precision-stack entries as well to avoid unnecessarily re-allocating PrecisionStackLevel whenever the vector needs to resize.  Added a scoped class to properly restore symbol-table level after each compile.  R=kbr@chromium.org  Review URL: https://codereview.appspot.com/12583047, 15312978, 382, 105, 382
Expose varying variables and also precision for all variables.  ANGLEBUG=457 R=alokp@chromium.org kbr@chromium.org  Review URL: https://codereview.appspot.com/12487043, 15312978, 382, 105, 382
add TRACE_EVENT to ANGLE (reland)  Tracing code the same as previous CL: https://codereview.appspot.com/12699047/  Setup code simplified and follows the GetProcAddress model of other gl functions.  R=shannonwoods@google.com, 15312978, 382, 105, 382
Print token string into the syntax error message.  Bison calls yyerror("syntax error") when it cannot match any grammar rule. We used to append current token string to the error message which got broken in r2202.  This patch restores the original behavior.  BUG=442 R=kbr@chromium.org  Review URL: https://codereview.appspot.com/12876043, 15312978, 382, 105, 382
Fixed memory leak associated with TLS.  We used to allocate thread-local memory on each compile. If the compile did not happen on the same thread as ShInitialize we leaked the thread-local memory.  It turns out that there is no need to allocate any thread-local memory. This patch cleans up all the unnecessary junk around TLS.  BUG=crbug.com/181691 R=kbr@chromium.org  Review URL: https://codereview.appspot.com/11679046  Conflicts: 	src/compiler/ConstantUnion.h 	src/compiler/ShaderLang.cpp 	src/compiler/Types.h 	src/compiler/ValidateLimitations.cpp, 15312978, 382, 105, 382
Generate a new grammar with the Bison 2.7.1 the latest cygwin version.  TRAC #23854  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Normalize line endings of tracked files in the repository.  TRAC #23896  Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add .gitattributes to handle end-of-line normalization on commit and checkout.  TRAC #23896  Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Re-generate our compiled shaders with the new version of FXC.  TRAC #23838  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Support the Windows 8 SDK version of fxc by default in generate_shaders.bat.  TRAC #23838  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add pixel unpack buffer stubs to the Renderer classes.  TRAC #23841  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add initial implementation for PixelTransfer11 which will enable GPU buffer to texture and texture to buffer copies.  This is necessary for fast implementation of ES3 PBOs.  TRAC #23841  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Expose and generalize Clear11's CompareStates function and add methods for equality test and initialization.  TRAC #23841  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add a helper method to gl::RenderTarget to return the extents of the texture (width/height/depth).  TRAC #23841  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Make CompilePS a shared utility method in the d3d11 namespace and add methods for vertex and geometry shaders.  TRAC #23841  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Move and adjust the name of the Blit11 local functions to be consistent with our coding style.  TRAC #23841  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add a helper method to return the number of components in a texture format.  TRAC #23841  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix compile error regressions in OutputGLSL and OutputESSL.  These were broken back with the symbol table changes.  TRAC #23857  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Use the context's PixelUnpackState as an argument to Texture's implementation of setImage and subImage.  We need to access the current unpack buffer for our implementation of PBOs.  TRAC #23840  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Move the pixel pack and unpack related state into separate structs for easy parameter passing.  TRAC #23840  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Ensure the 'slice' pixel unpack/pack alignment is only aligned based on the row stride.  TRAC #23837  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add missing varying in and out qualifiers to the interpolation qualifier switch statement.  This was causing a benign assert in Debug mode with GLSL ES 1.00 shaders.  TRAC #23746  Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Remove an unnecessary and non-compliant format check from the SubImage family of calls.  We were overly restricting the user's input data for SubImage calls.  TRAC #23834  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
InputLayoutCache only hashes input layout keys up to last used element.  R=geofflang@chromium.org  Review URL: https://codereview.appspot.com/12676043  Conflicts:  	src/common/version.h 	src/libGLESv2/libGLESv2.vcxproj 	src/libGLESv2/renderer/InputLayoutCache.cpp, 15312978, 382, 105, 382
Revert "Eliminate bitfield enum members."  This reverts commit 56702e6d60883f2d1e33641b907680a852cdb15a., 15312978, 382, 105, 382
Ignore files generated by GYP.  R=shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/12865044, 15312978, 382, 105, 382
Presort reverse mapping of ProgramBinary::mSemanticIndex., 15312978, 382, 105, 382
Made multiple calls to ShInitialize not assert.  BUG=456 R=apatrick@chromium.org kbr@chromium.org  Review URL: https://codereview.appspot.com/11916046  Conflicts:  	src/common/version.h 	src/compiler/ShaderLang.cpp, 15312978, 382, 105, 382
Change the backing for integer 32-bit three-channel textures internally to four components.  On some systems three-channel int textures are not renderable in D3D11.  TRAC #23822  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix an incorrect type entry for RGB565 in the ES3 formats table.  TRAC #23823  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix the format table entry for RGB10_A2UI to be RGBA_INTEGER instead of RGBA. Also add a missing format mapping.  TRAC #23823  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add GL_STRUCT_ANGLEX case handling to the variable row and column count methods.  TRAC #23749  Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Add full support for uniform structs.  TRAC #23750  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Add a field to uniforms to track which element within a register the uniform should be uploaded to.  This is necessary to support HLSL-backed uniform structs.  TRAC #23750  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Add support for struct varyings and more robust varying link validation.  TRAC #23749  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Ensure struct varyings maintain the proper interpolation qualifier for the child fields.  TRAC #23749  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Use the proper register count for structs in HLSL uniforms and varyings.  We must respect HLSL packing rules when uploading structs to D3D.  TRAC #23748  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Rename some constants in BlockLayoutEncoder for clarity.  TRAC #23748  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Consolidate the register counting functions to a single location in the HLSL layout encoder source.  This new method explicitly depends on HLSL packing rules instead of a GL idiom.  TRAC #23748  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Allow block encoders to work with a NULL pointer for the output list structure.  TRAC #23748  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Remove the gl::Varying class and replace all usages with sh::Varying.  TRAC #23746  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Simplify the gl::Varying struct to be more like sh::Varying.  The subsequent patches will remove gl::Varying entirely.  TRAC #23746  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Change the varyings list type from a linked list to a vector type.  TRAC #23746  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Rename compiler/Uniform.cpp+h to ShaderVariable.cpp+h.  TRAC #23754  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Pass varyings to the GLES API from the translator using a direct pointer.  Instead of parsing them indirectly from HLSL the pointer will allow us to more flexibly support new types especially compound types such as structures.  TRAC #23754  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactor sh::Uniform and sh::ShaderVariable into a shader variable base type with different child types.  This change gives us better memory usage (many fields are unnecessary in different types) with better static typing and clear type abstraction for specific methods that might take Attributes or Varyings etc.  TRAC #23754  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Allow the block encoder classes to encode types directly passed by value instead of as a compound type.  TRAC #23754  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Simplify the varying priority sorting logic and add more verbose comments.  TRAC #23746  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Worked around an issue that causes a TDR timeout when Blit11::copyDepthStencil is called repeatedly.  TRAC #23650  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Moved the clipping of blit rectangles to bounds or scissors into the Renderers since rounding to integers can cause errors when stretching in ES3.  TRAC #23650  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Added a Context::getScissorParams method.  TRAC #23650  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Prepend the GLSL code in a comment to the generated HLSL shaders when compiled in debug mode.  TRAC #23775  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Replaced the char pointers with std::strings in the Shader classes.  TRAC #23775  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Implemented glClearBuffer*  TRAC #23475  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Perform validation of glClear parameters at the API level.  TRAC #23475  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Refactored the ClearParameters type and moved Renderer11's clear logic into a Clear11 helper class.  TRAC #23475  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add support for the remaining ES3 framebuffer attachment parameter queries.  TRAC #23474  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add Renderbuffer::getComponentType and Renderbuffer::getColorEncoding methods.  TRAC #23474  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Replaced the custom component type and SRGB bool with GLenums.  TRAC #23474  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix some missing UBO qualifier link validation errors.  TRAC #23747  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add more robust support for interpolation and storage qualifiers with varyings for GLSL ES 3.00.  This fixes some conformance failures in the dEQP varying link tests particularly with ints and the flat keyword.  TRAC #23745  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Moved the code to combine interpolation and stoarge qualifiers to the parse helper.  TRAC #23745  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Fix using the incorrect vertex count in instancing drawing using the streaming buffer.  This could cause visual corruption from reading past the end of initialized vertex data.  R=geofflang@chromium.org shannonwoods@chromium.org ANGLEBUG=467 Review URL=https://codereview.appspot.com/12937045 Test=WebGL CTS 1.0.2, 15312978, 382, 105, 382
Make gl::Buffer::size() a const method.  R=geofflang@chromium.org shannonwoods@chromium.org ANGLEBUG=467 Review URL: https://codereview.appspot.com/12937045 Test=WebGL CTS 1.0.2, 15312978, 382, 105, 382
Fix Texture2DArray calling Texture::set/subImage with invalid pointers when the pixels pointer is NULL.  TRAC #23767  Author: Geoff Lang Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods, 15312978, 382, 105, 382
Add the validation files to the gyp file.  TRAC #23733  Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Adds API-level functionality for indexed query functions  TRAC #23468  Author: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Implements indexed query functionality  TRAC #23468  Author: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Adds size and offset queries to BindingOffsetPointer  TRAC #23468  Author: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
TextureStorage11::updateSubresourceLevel will now use the blitter if it is updating a depth stencil texture.  TRAC #23531  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed a bug where the frontFace shader constant would not be updated if the drawMode or frontFace changed but not the viewport.  TRAC #23719  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Add support for GL_NUM_EXTENSIONS.  TRAC #23704  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Eliminate bitfield enum members.  TRAC #23653 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Nicolas Capens, 15312978, 382, 105, 382
Removed checks for DXGI_FORMAT_R32G32B32_FLOAT support since GL_RGB32F is converted to DXGI_FORMAT_R32G32B32A32_FLOAT.  TRAC #23651  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Capitalized the first letter of all validation function names.  TRAC #23629  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Refactored entry point validation functions into their own files.  TRAC #23629  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Load 1 into the alpha channel of RGB integer formats instead of 0.  TRAC #23651  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Add GL_DEPTH_STENCIL_ATTACHMENT attachment handling to glFramebufferRenderbuffer.  TRAC #23668  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed the rounding of the source lookup in Blit11's copy depth stencil.  TRAC #23669  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed ES3 incorreclty not allowing 2D array textures to accept depth stencil formats.  TRAC #23669  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed a bug where height was used instead of width to calculate a mip size.  TRAC #23669  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed a bug where the parameters to gl::GetDepthPitch were passed in the wrong order.  TRAC #23669  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Split the overflow check into explicit multiplication and addition overflow checks.  TRAC #23671  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Change the offset variable to an unsigned int since it cannot be negative and is assigned to streamOffset which is an unsigned int.  TRAC #23671  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Releases a resource that was leaking.  TRAC #23656  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Implement mipmapping for integer samplers.  TRAC #23655 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Updated gl::IsInternalTextureTarget to have a client version parameter.  TRAC #23470  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Refactored validation for glFramebufferTexture* and implemented glFramebufferTextureLayer.  TRAC #23470  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added Renderbuffers for 3D and 2DArray textures.  TRAC #23470  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Updated Renderbuffers Textures and TextureStorageInterface to be aware of render targets which are based on miplevels and layers other than zero.  TRAC #23470  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Framebuffer now uses mip level and texture layer for binding textures.  TRAC #23470  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
The Texture class now stores the target instead of using a virtual method.  TRAC #23470  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added a new type of binding pointer for framebuffer texture bindings which stores type mip level and layer.  TRAC #23470  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Removes auto from compiler.  TRAC #23604  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Updated VertexBuffer's getSpaceRequired and storeVertexAttributes methods to return bools and fixed some validation of parameters to prevent under and overflows.  TRAC #23643  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fix assert side-effects.  TRAC #23446 Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Remove uses of the HASH_MAP define since unordered_map is already used in several places.  TRAC #23618  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Use SafeRelease and SafeDelete to make sure released objects are NULL and will cause proper errors if referenced again.  TRAC #23617  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Initialize the vertex current value data.  TRAC #23619  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed uninitialized local variable warning.  TRAC #23619  Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fix additional overflow and underflow issues with triangle fans and line loops.  Issue #444  Signed-off-by: Shannon Woods Signed-off-by: Chris Evans Author: Geoff Lang, 15312978, 382, 105, 382
Fixed a bug where cube depth stencils used the wrong format and didn't set the D3D11_DEPTH_STENCIL_VIEW_DESC::Flags member.  TRAC #23608  Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Implement the DEPTH_STENCIL attachment point for FBOs.  Trac #23469  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Emulate RGB32F textures with DXGI_FORMAT_R32G32B32A32_FLOAT so that sampling is always supported.  Trac #23523  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Bump ANGLE version., 15312978, 382, 105, 382
Cache the index ranges at the gl::Buffer and rx::IndexBuffer levels so that ranges do not need to be re-calculated for direct buffers.  Issue #451  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
RenderTarget11::get* calls no longer add references to the D3D resources.  Issue #451  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Cache applied primitive topology.  Issue #451  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Cache applied constant buffers.  Issue #451  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Cache applied vertex buffers and input layout.  Issue #451  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Add a missing case to build manged names of uint types.  TRAC #23590  Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Provide a pass-through mechanic for the new ES3 Query methods to use the old ES2 query extension.  We will need to add the new transform feedback queries in a later patch.  TRAC #23347  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Implement the API entry points for fence sync objects in GLES 3.  TRAC #23446  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add state for the new fence sync objects in ES3.  TRAC #23446  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Make a slight style change to clarify that VAOs are not stored in the ResourceManager.  TRAC #23446  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Rename the old Fence class and associated methods to show an NV suffix for differentiation with ES3 fences sync objects.  ES3 fences are shared across contexts while NV fences are not.  TRAC #23446  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Move the API parameter validation out of Fence.cpp to libGLESv2.cpp.  TRAC #23446  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Move the GL_NV_fence-specific stuff stuff out of the Fence implementation class to gl::Fence.  This will allow us to re-use the same Fence implementation for GLES 3 Fence Sync objects.  TRAC #23446  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fixes handling in eglMakeCurrent to allow for null displays.  TRAC #23577  On behalf of callow.mark@artspark.co.jp Landed-by: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Geoff Lang, 15312978, 382, 105, 382
Diverges version for ES3 ANGLE, 15312978, 382, 105, 382
Remove some accidentally committed compiled shaders.  TRAC #23573  Authored-by: Jamie Madill, 15312978, 382, 105, 382
Implement support all sampler object associated GLES 3 API entry points.  TRAC #23454  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add a helper method to return the selected texture for the TexParameter* and GetTexParameter* family of functions.  TRAC #23454  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Refactor the validation logic for the TexParameter* series of API entry points to use the same shared method.  TRAC #23454  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add internal accessor functions for querying sampler object parameters.  TRAC #23454  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Use the currently bound sampler object combined with the internal texture state to determine the current filtering and address modes at draw time.  TRAC #23453  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Pass a SamplerState as a parameter to Texture::isSamplerComplete instead of using the internal SamplerState.  TRAC #23453  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Change the checks for texture completeness in Texture*::copySubImage to only check if the specified level is complete.  This removes the dependency between copySubImage and isSamplerComplete which makes operation with sampler objects simpler.  TRAC #23453  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Do not check the texture's filtering mode in Texture*::updateTexture instead check the texture's dirty flags.  With sampler objects it becomes difficult to rely on the texture filtering mode state to determine if mipmapping is going to be enabled in the texture as sampler object may or may not override the texture internal state.  TRAC #23453  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add mutator methods for modifying sampler object parameters.  TRAC #23453  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add state for sampler objects.  TRAC #23453  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Replace the logic for doing vector and matrix equivalence tests in the shader with a much simpler formula.  We can use the HLSL fragment "all(a == b)" for all matrix and vector types.  TRAC #23535  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Align the vertical whitespace in the big switch in Context::getIntegerv.  TRAC #23082  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add new GLES 3 enum cases.  TRAC #23082  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Implement the glGetInteger64v entry point.  TRAC #23082  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Added Context::getInteger64v for 64-bit integer state queries.  TRAC #23082  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add a method to round GLfloat parameters to the nearest integral value for use in state-setting API methods.  TRAC #23545  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Added support for TEXTURE_COMPARE_MODE and TEXTURE_COMPARE_FUNC sampler states.  TRAC #23394 Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Make all depth formats texture filterable.  TRAC #23532 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Create the HLSL shadow texture function.  TRAC #23394 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Compact sampler type translation.  TRAC #23394 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Remove intrinsic parameter names.  TRAC #23394 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add shadow texture intrinsics to the symbol table.  TRAC #23394 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add shadow samplers to the compiler front-end.  TRAC #23394 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Eliminate isVariableBuiltIn.  TRAC #21840 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Detect redefinition of functions and variables.  TRAC #21840 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Fix the reported shader gl_MaxDrawBuffers to be compliant with the new EXT_draw_buffers spec.  From the extension spec:  "8) What value should gl_MaxDrawBuffers in the shading language report?"  "RESOLVE: It should match MAX_DRAW_BUFFERS_EXT from the API. None of the API or GLSL specifications explicitly state the linkage between API and SL constants but it seems logical that one would expect them to match regardless of whether or not an extension directive is used in the shading language."  TRAC #23509  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Only allow zero indexes for gl_FragData when the draw buffers extension is disabled.  TRAC #23509  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Implement textureSize.  TRAC #23485 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Use the simpler form of GetDimensions.  TRAC #23485 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add support for copying from BGRA formats in CopyTexSubImage*.  This is necessary for copying from the offscreen texture which we keep in BGRA to align with Chrome's D3D9 format.  TRAC #23501  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fix the internal conversion of DXGI DEPTH_COMPONENT32F formats to be DEPTH_COMPONENT_OES in GLES 2 contexts.  TRAC #23483  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add a client version parameter to several D3D11-specific texture format queries.  TRAC #23483  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
In ShaderExecutable delete mFunction with delete[] instead of delete.  BUG=chromium:253578 R=shannonwoods@chromium.org  Review URL: https://codereview.appspot.com/10658043, 15312978, 382, 105, 382
Protect against integer overflows in the IndexBuffer class by validating that the new write position will not overflow.  Issue 444  Signed-off-by: Jamie Madil Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Protect against integer overflows in the VertexBuffer class by validating the reserved space.  Issue 444  Signed-off-by: Jamie Madil Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Protect against integer overflows when generating index buffers for line loop and triangle fan drawing.  Issue 444  Signed-off-by: Jamie Madil Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Move VAO buffer clearing code to the destructor instead of the constructor.  This fixes assertion failures during the VertexArray destructor in Debug mode.  TRAC #23390  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Implement array sampler support.  TRAC #23472 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add intrinsics that take a bias parameter.  TRAC #23472 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Support 3D textures.  TRAC #23472 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Generate HLSL code for integer sampling.  TRAC #23472 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Handle new sampler types.  TRAC #23472 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add the missing HALF_FLOAT_OES type to the type info table.  TRAC #23479  Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Simplified TType class by carving out TStructure and TField.  R=kbr@chromium.org  Review URL: https://codereview.appspot.com/9866043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2423 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23415 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Include stddef.h so NULL is defined. Review URL: https://codereview.appspot.com/10025043  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@2422 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Added support for EXT_frag_depth  This change also required that support be added for associating built-in variables with an extension similar to how functions could be associated with extensions previously.  R=alokp@chromium.org  Review URL: https://codereview.appspot.com/9827044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2248 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: bajones@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Removed checks for zero-length arrays because you can never define such arrays. Also removed support for max-array-size. You can only define a fixed-size array.  TEST=WebGL conformance tests  Review URL: https://codereview.appspot.com/9697044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2247 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Removed code for unsupported pack-unpack language.  Review URL: https://codereview.appspot.com/9685045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2246 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Add expression complexity and call stack depth limits.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2242 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: gman@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill Conflicts:  	src/common/version.h, 15312978, 382, 105, 382
Used size_t for object size instead of signed int. BUG=crbug 179653 R=aedla@chromium.org kbr@chromium.org  Review URL: https://codereview.appspot.com/8834048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2211 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Clamped negative index access.  Fixed error that allowed negative index for accessing vector matrix and array. Now we report compile error and clamp the index to 0.  Re-arranged code around it to handle negative index at the one location.  BUG=crbug.com/239411 TEST=bug test case R=aedla@chromium.org kbr@chromium.org  Review URL: https://codereview.appspot.com/9193045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2207 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Refactor location tracking.  R=kbr@chromium.org  Review URL: https://codereview.appspot.com/9078046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2202 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Remove dead code left over from the old preprocessor.  Review URL: https://codereview.appspot.com/9309044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2200 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Delete dead code for cloning various types.  R=kbr@chromium.org  Review URL: https://codereview.appspot.com/9242043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2197 736b8ea6-26fd-11df-bfd4-992fa37f6226  TRAC #23333 Authored-by: alokp@chromium.org Signed-off-by: Shannon Woods Signed-off-by Nicolas Capens Merged-by: Jamie Madill, 15312978, 382, 105, 382
Marks formats renderable which had been missed and corrects table headers.  TRAC #23273  Authored-by: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Enables glGetInternalformativ API function  TRAC #23273  Authored-by: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Implements queriability for internal format sample counts.  TRAC #23273  Authored-by: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Adds a function to retrieve the renderable DXGI format for a GL internal format.  TRAC #23273  Authored-by: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Fixes a typo in the spelling of GetTextureFormat.  TRAC #23273  Authored-by: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Fix a missing case in OutputHLSL::textureName for 3D texture sampler translation.  TRAC #23377  Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fix an incorrect instance of getCols which should be getNominalSize.  TRAC #23263  Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Handle the new error case with VAOs introduced in GLES 3 involving a user VAO and non-null data pointers.  TRAC #23392  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Enable the new Vertex Array Object entry points.  TRAC #23392  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add support for new GetAttrib queries for integer and unsigned integer vertex attributes.  TRAC #23391  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Support querying if a vertex attribute is an un-normalized integer.  TRAC #23391  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Refactor the validation for GetAttrib functions to a single shared method.  TRAC #23391  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add support for querying the currently bound vertex array object.  TRAC #23391  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add implementation for Vertex Array Object state.  TRAC #23390  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Refactor VertexAttribute to split the "current value" for generic attributes into its own class.  VAOs in GLES 3 do not store the current values so these must be handled separately from other Vertex Attribute data.  TRAC #23390  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Move VertexAttribute to its own header file.  This is in preparation for VAO support.  TRAC #23390  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fixes tabs-vs-spaces that have crept into the project.  TRAC #23251  Authored-by: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Adds a null check in one additional location in setData  TRAC #23251  Author: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Add support for passing nested structs in standard layout by value.  We add support for this by using global scratch values as storage for the structs in uniform blocks. Any structs in std140 layouts that are referenced by value are initialized in the shader scope without any packing so the type of the structs are equivalent with what a GLSL program would expect.  TRAC #23327  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add padding to nested structs packed with standard layout to address HLSL's more liberal packing rules.  TRAC #23327  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add support for structs in uniform blocks with standard layout.  TRAC #23327  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fix a typo when reporting too many interface blocks in a fragment program.  TRAC #23326  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Move the D3DCompile call to after the check for API link errors.  This avoids producing unhelpful internal D3D errors.  TRAC #23326  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Implemented 2D array sampler HLSL translation.  TRAC #23377 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Support sampler2DArray throughout the compiler.  TRAC #23377 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add 2D array samplers to the lexer/parser.  TRAC #23377 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add array texture intrinsics to the symbol table.  TRAC #23377 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Fix unconditionally supporting derivative functions in ES3.  TRAC #23377 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Construct texture functions from stored characteristics.  TRAC #23377 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Implemented 3D sampler HLSL translation.  TRAC #23365 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Support sampler3D throughout the compiler.  TRAC #23365 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add 3D samplers to the lexer/parser.  TRAC #23365 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add 3D texture intrinsics to the symbol table.  TRAC #23365 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Fixed texture2DProjLod for DX11.  TRAC #23360 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Implemented unsigned integer sampler HLSL translation.  TRAC #23360 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Support usampler throughout the compiler.  TRAC #23360 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add unsigned integer samplers to the lexer/parser.  TRAC #23360 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add unsigned integer texture intrinsics to the symbol table.  TRAC #23360 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Implemented integer sampler HLSL translation.  TRAC #23359 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Support isampler throughout the compiler.  TRAC #23359 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add integer samplers to the lexer/parser.  TRAC #23359 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Add integer texture intrinsics to the symbol table.  TRAC #23359 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Restore using the depth-stencil typed DXGI format for checking for maximum supported samples.  This regression was breaking the es3proto D3D11 testing in Canary.  TRAC #23410  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fix missing spaces in the Display extensions string.  TRAC #23397  Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add comments to the remaining unimplemented API entry points to prevent automerge from janking code to the wrong place.  TRAC #23399  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
We don't need to keep the param variable around for function prototypes.  Saves 20% memory for global symbol initialization  R=alokp@chromium.org  Review URL: https://codereview.appspot.com/9152043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2196 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added load functions to depth texture formats.  TRAC #23262  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added ES3 internal format information about GL_DEPTH_COMPONENT32_OES and mapped DXGI_FORMAT_R32_TYPELESS textures to GL_DEPTH_COMPONENT32F.  TRAC #23262  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Disallow depth textures to be used as destinations of glCopy*Image*.  TRAC #23262  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fix wrong reading functions being used for some D3D formats.  TRAC #23256  Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fix potential segfault when calling glBufferData with NULL data pointer.  TRAC #23311  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Geoff Lang, 15312978, 382, 105, 382
Add support for std140 uniform block layout for basic types.  This support does not include structures.  TRAC #23083  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
For the reported std140 layout to be consistent with the spec.  TRAC #23083  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Redesign the code that uses block layouts to use a generic base class.  The cleaner code also has the benefit of allowing us to separate the HLSL-specific parts out of the shader validator.  TRAC #23083  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add two utility matrix functions.  The first returns the number of components in a matrix column/row and the second the number of columns/rows in matrix uniforms.  TRAC #23083  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add parsing for default block storage qualifiers.  Also add in a missing layout qualifier error check.  TRAC #23083  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Alter array instanced uniform buffer objects to use direct references to HLSL constant buffers.  This avoids using a shader scoped static storage buffer with copies.  TRAC #23299  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add support for column/row major layout qualifiers in generated HLSL.  TRAC #23271  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Refactor code for generating structure strings to a separate function.  This could fix a potential regression which might define structs multiple times in generated HLSL.  TRAC #23271  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Pass matrix packing qualifier data back from the shader translator to the GLES API.  TRAC #23271  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add parsing support for global and interface block scoped matrix packing qualifiers.  TRAC #23271  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Enforce shader input and output variables with a specified location to be single declarations.  This prevents using in and out qualifiers on multiply declared vertex inputs and fragment outputs.  TRAC #23311  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Move the parsing of declarator lists into the ParseHelper.  TRAC #23311  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add support for specifying locations of vertex inputs using layout qualifiers for GLSL ES 3.00.  TRAC #23269  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add a new path for querying active attributes from the shader translator for use with layout qualifier support.  TRAC #23269  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill, 15312978, 382, 105, 382
Fix an improper use of VariableRowCount to AttributeRegisterCount in ProgramBinary.  This is a regression from the non-square matrix uniforms implementation.  TRAC #23269  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Implement GetFragDataLocation often used by applications with MRT shaders in GLSL ES version 300.  TRAC #22704  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Proper support for fragment output variables for GLSL ES shader version 300.  TRAC #22704  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Validate fragment shader outputs and produce a compile error on missing or conflicting assignments.  TRAC #22704  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Blit11 can now blit depth stencils.  TRAC #23321  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added depth stencil format info to format utils 11.  TRAC #23321  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Seperated the blit depthstencil parameters in the blit methods.  TRAC #23321  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Renderer11::blitRenderbufferRect now can handle stretching a blit rectangle and different interpolation methods.  TRAC #23211  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Refactored validation to glBlitFramebufferANGLE and implemented glBlitFramebuffer.  TRAC #23211  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
RenderTarget11 now always attempts to create an SRV if the format exists and specifies the bind parameters based on which formats are available.  TRAC #23211  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Made sure all the depth stencil DXGI variants that are used as SRVs RTVs and DSVs have entries in the DXGI format info table.  TRAC #23211  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added a non-default rasterizer state to Blit11 so it can preform inverted blits.  TRAC #23211  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added support for copying GL_RG GL_RED and integer texture formats in Blit11.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Refactored the Renderer11::copyTexture method into a Blit11 class.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added a dimension type and added constructors to Color Rectangle Box and Dimension for easy construction.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Renamed the Blit class to Blit9.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Replaced switches in Renderer::readPixels with calls to color reading and writing functions.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added table entries for reading colors from D3D and DXGI formats and writing colors to format/type combinations.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added new image formats to match new ES3 formats and added read and write functions to various color types that they can represent.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Moved the image format types into their own header.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Templated the Color structure so it can be used for the new integer and unsigned integer color types.  TRAC #23256  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Initialize the symbol table without invoking the parser.  TRAC #23359 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Assign unique id's to symbols inserted directly into a symbol table level.  TRAC #23359 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Properly report error when layout qualifiers are specified outside uniform blocks.  TRAC #23357  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fix non-multisampled line rasterization.  #23334 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Delete a "rej" file that was accidentally committed.  This was a relic from a preliminary lexer 64-bit compliance patch.  TRAC #23158  Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fixed cube map getRenderTarget for DX9.  TRAC #22705 Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Implemented the remaining non-compressed load functions for ES3.  TRAC #23229  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fix API reported packing rules for matrices and arrays in shared layout to be consistent with HLSL.  HLSL does not round up the final array/matrix block to the register alignment allowing for more compact order.  TRAC #22856  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fix nested uniforms in interface blocks to have the proper API-visible names.  TRAC #22856  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Fix alignment of HLSL packed structs in interface blocks.  TRAC #22856  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add parsing (but not full support) for global default layout qualifiers for block storage and matrix packing.  TRAC #23268  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Redesign layout qualifier parsing to be simpler and more storage efficient.  TRAC #23268  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Move the parsing of single declarations into TParseContext.  TRAC #23268  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Rename UniformLocation to VariableLocation and add an arrayString helper method to ProgramBinary.  TRAC #23268  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Properly recognize error cases for 'centroid out' and 'centroid in'.  TRAC #23268  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Update the shader translator to use new enums for ES3 shader vertex input and fragment outputs.  This fixes many corner cases and error messages with ES3 syntax.  TRAC #23268  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
A special state to track field selection is not necessary.  Identifier is sufficient to parse struct fieldname.  TRAC #23158  Signed-off-by: Nicolas Capens Merged-by: Jamie Madill Authored-by: alokp@chromium.org  git-svn-url: https://code.google.com/p/angleproject/source/detail?r=2195 Review URL: https://codereview.appspot.com/8709048, 15312978, 382, 105, 382
Lexer does not need to handle unknown-char case.  It is handled by the preprocessor. Added an assert.  TRAC #23158  Signed-off-by: Nicolas Capens Merged-by: Jamie Madill Authored-by: alokp@chromium.org  git-svn-url: https://code.google.com/p/angleproject/source/detail?r=2194 Review URL: https://codereview.appspot.com/8653052, 15312978, 382, 105, 382
Lexer does not need a state stack now that it does not handle comments.  TRAC #23158  Signed-off-by: Nicolas Capens Merged-by: Jamie Madill Authored-by: alokp@chromium.org  git-svn-url: https://code.google.com/p/angleproject/source/detail?r=2193 Review URL: https://codereview.appspot.com/8983043, 15312978, 382, 105, 382
Robust distinction between IDENTIFIER and TYPE_NAME tokens.  To distinguish the tokens we used to track the lexer context which is fragile. This patch implements a better way - combine the two tokens into a common parser rule and let the parser context decide if the declaration is valid which it already does by checking the naming conflicts.  TRAC #23158  Signed-off-by: Nicolas Capens Merged-by: Jamie Madill Authored-by: alokp@chromium.org  git-svn-url: https://code.google.com/p/angleproject/source/detail?r=2190 Review URL: https://codereview.appspot.com/8797044, 15312978, 382, 105, 382
Delete dead-code for handling comments and invalid octal integers. These are already handled by the preprocessor.  TRAC #23158  Signed-off-by: Nicolas Capens Merged-by: Jamie Madill Authored-by: alokp@chromium.org  git-svn-url: https://code.google.com/p/angleproject/source/detail?r=2189 Review URL: https://codereview.appspot.com/8632053, 15312978, 382, 105, 382
Deleted unnecessary TParseContext::AfterEOF.  TRAC #23158  Signed-off-by: Nicolas Capens Merged-by: Jamie Madill Authored-by: alokp@chromium.org  git-svn-url: https://code.google.com/p/angleproject/source/detail?r=2188 Review URL: https://codereview.appspot.com/8927045, 15312978, 382, 105, 382
Reformat tokenizer. No functional changes.  TRAC #23158  Signed-off-by: Nicolas Capens Merged-by: Jamie Madill Authored-by: alokp@chromium.org  git-svn-url: https://code.google.com/p/angleproject/source/detail?r=2187 Review URL: https://codereview.appspot.com/8925044, 15312978, 382, 105, 382
Ignore .orig files which result from merge conflicts.  TRAC #23158  Signed-off-by: Nicolas Capens Authored-by: Jamie Madill, 15312978, 382, 105, 382
Add 64bit safety patch step to generate_parser.sh scripts.  TRAC #23274  Authored-by: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Adds patch files for 64 bit safety fixes  TRAC #23274  Authored-by: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Makes generate_parser.sh executable  TRAC #23274  Authored-by: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens, 15312978, 382, 105, 382
Fixed a bug that allowed reading to an integer format from a non-integer frame buffer.  TRAC #23276  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed a bug where ES3 was validating the texture size in non-CopySubImage calls.  TRAC #23276  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Image11 now determines if a format is renderable by checking the RTV format exists rather than the SRV format. Added several more RTV DXGI formats to the table to allow fast copies.  TRAC #23276  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed a bug where GetBlueBits was returning the count of green bits.  TRAC #23278  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Disambiguate getRenderTarget calls.  TRAC #22705 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Fix some uint handling.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Renamed UnsignedInt to UInt in the compiler.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Eliminate unused clone/dump methods.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens, 15312978, 382, 105, 382
Fix an improper usage of getCols which should be getNominalSize in unsigned int vector code.  TRAC #23263  Signed-off-by: Shannon Woods Author: Jamie Madill, 15312978, 382, 105, 382
Marked unsized format load functions as unreachable and added a comment why.  TRAC #23228  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Refactored glGenerateMipmap and added ES3 validation.  TRAC #23277  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
D3D9 will now use D3DFMT_R5G6B5 textures when GL_RGB565 is requested if the device supports it.  TRAC #23279  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fixed a bug where GL_RBG565 was labled as a GL_RGBA internal format.  TRAC #23279  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Capitalized the first letter of all private format util functions.  TRAC #23212  Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Refactored glRenderBufferStorage* validation and implemented glRenderBufferStorageMultisample.  TRAC #23212  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added a Renderer::getMaxSupportedFormatSamples method to query the max support samples for a specific internal texture format.  TRAC #23212  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Added Functions for gathering all referenced D3D and DXGI formats. Renderers now use these functions to generate the multisample support maps.  TRAC #23212  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Fix matrix accessor getCols to correct getNominalSize in code that could trigger a debug assertion failure.  Was breaking the ES2-CTS build test in Debug mode.  TRAC #23263  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill, 15312978, 382, 105, 382
Fixed GL_RGB4 not being marked as color renderable in ES3.  TRAC #23243  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Update GYP file to be in sync with vs projects.  TRAC #23244  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang, 15312978, 382, 105, 382
Diverges version for es3proto branch from mainline., 15312978, 382, 105, 382
Adds README.chromium for third-party integration., 15312978, 382, 105, 382
Bump version for es3proto branch.  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2417 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix calling the right overloaded method for getting a cube map face's render target.  TRAC #22705 Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2416 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Restore 64-bit support of the GLSL lexer.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2415 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented lexing support for the floating-point suffix.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2414 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added preprocessor support for parsing the float suffix.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2413 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added preprocessor support for parsing the unsigned integer suffix.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2412 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Restore 64-bit support of the preprocessor tokenizer.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2411 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated an unused parameter.  TRAC #23185 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2410 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add partial support for parsing layout qualifiers added in the GLES SL 3.00 spec.  This allows us to run a lot of ES3 unit tests and sample apps.  TRAC #23089  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2409 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add several cases to API entry points to handle enum values that dEQP uses to reset state.  The support for these methods is incomplete and unimplemented but will not return INVALID_ENUM.  TRAC #23089  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2408 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertise EGL_KHR_create_context so dEQP can successfully create an ES3 context.  We will need to investigate fully supporting this extension in the future.  TRAC #23089  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2407 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow ANGLE developers to toggle unimplemented assertion failures with preprocessor define.  TRAC #23089  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2406 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for unsigned integer literals in the shading language.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2405 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for unsigned integer vector types to the shader translator.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2404 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for the unsigned integer scalar type to the shader translator.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2403 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the code for parsing constructor functions from the grammar to TParseContext.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2402 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add unsigned integer types to the compiler ConstantUnion class.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2401 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add full integer support to the shader language.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2400 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Put GL to HLSL type string code to a separate helper function in ProgramBinary.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2399 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move logic for parsing fully specified types out of the grammar file to TParseContext.  TRAC #23080  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2398 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add non-square mat support to the shader language interface.  TRAC #23081  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2397 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for folding non-square matrix multiplications.  TRAC #23081  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2396 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix up the indentation and alignment of TIntermConstantUnion::fold to be consistent with the coding style.  TRAC #23081  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2395 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for non-square matrices to the shader translator.  TRAC #23081  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2394 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor Shader::compareVarying to use a table instead of nested switch statements.  TRAC #23081  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2393 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a secondary size field to the shader language types to account for matrix rows. Also add some extra logic to the promote method to check that the sizes of the arguments to multiplications are properly formed.  We require this extra information for non-square matrix support.  TRAC #23081  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2392 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor TIntermBinary::promote to use the required coding style.  TRAC #23081  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2391 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a helper function to the lexer to tokenize strings that can be identifiers in ES2 and are keywords in ES3.  For instance uint or the non-square matrix keywords.  TRAC #23218  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2390 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add helper functions to the lexer to tokenize strings that have different classifications in ES2 and ES3.  TRAC #23218  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2389 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for arrays of aggregates (aka structs) in uniform blocks.  TRAC #23018  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2388 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for structures in interface and uniform blocks.  Also redesigns the uniform block layout computation to be more general.  TRAC #23018  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2387 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix loading function for GL_RGB32F with D3D9.  TRAC #23224  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2386 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the patching location of the previous commit.  TRAC #23063 Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2385 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glRenderbufferStorageMultisample using glRenderbufferStorageMultisampleANGLE.  TRAC #23063 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2384 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glBlitFramebuffer using glBlitFramebufferANGLE.  TRAC #23055 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2383 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
New functions are only unimplemented when there's a context.  TRAC #23055 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2382 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added some missing format table entries.  TRAC #23215  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2381 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for SRGB textures.  TRAC #23046  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2380 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a function to determine if an internal format is SRGB.  TRAC #23046  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2379 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for the remaining floating point textures.  TRAC #23048  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2378 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved the defines of constant float values into more visible constants.  TRAC #23048  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2377 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored getFastPixelCopySize to use the format conversion functions.  TRAC #23049  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2376 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added validation for CopyTexImage with integer textures.  TRAC #23049  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2375 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added helper functions for determining if an internal format is an integer or floating point format.  TRAC #23049  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2374 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for integer and unsigned integer texture formats.  TRAC #23049  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2373 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for SNORM texture formats.  TRAC #23051  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2372 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for GL_R11F_G11F_B10F textures.  TRAC #23052  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2371 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Report correct name length for array variables in GetActiveUniformiv.  TRAC #23018  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2370 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Report correct name length for active uniform block arrays.  TRAC #23186  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2369 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add the shader version of the compiled shaders to the program binary.  Also increment the binary version.  TRAC #23182  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2368 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add adapter LUID to EGL vendor string.  This is so Chrome can create another D3D device on the same adapter that can share resources with ANGLE's D3D device. Review URL: https://codereview.appspot.com/9225046 SVN URL: https://code.google.com/p/angleproject/source/detail?r=2210 TRAC #23166  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Merged-by: Jamie Madill Author: apatrick@chromium.org  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2367 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix using incorrect width and height in transposeMatrix.  This caused issues with non-square matrix uniforms.  TRAC #22840  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2366 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed missing case statements for GL_TEXURE_2D_ARRAY.  TRAC #23162  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2365 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Merged the d3d format info and mip generation tables since both used the same keys.  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2364 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for the GL_RGB9_E5 format.  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2363 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for GL_RED and GL_RG texture formats.  TRAC #22955  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2362 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a templated load function for loading data formats that match.  TRAC #22955  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2361 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glTexStorage and refactored glTexStorage2DEXT.  TRAC #22869  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2360 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug where immutable textures could not have glTexSubImage called on them.  TRAC #22869  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2359 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed check that width == height for cube maps during SubImage call.  TRAC #22956  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2358 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed missing cases for creating incomplete 3D and 2DArray textures.  TRAC #22956  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2357 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for GL_UNSIGNED_INT_2_10_10_10_REV textures.  TRAC #22956  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2356 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added ES3 validation for glReadPixels and glReadnPixelsEXT.  TRAC #22956  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2355 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored validation for gl*Tex*Image2D.  TRAC #22956  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2354 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reorganized the parameters to validateES3CopyTexImageParameters and fixed a bug with compressed destination textures.  TRAC #22956  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2353 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update the libGLESv2 project file to include the new generated pass-through shaders.  TRAC #23189  Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2352 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add new cases for GLES3 SRC_ALPHA_SATURATE blend modes.  TRAC #23125  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2351 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix CONSTANT_ALPHA and ONE_MINUS_CONSTANT_ALPHA blend modes in the D3D11 path.  TRAC #23124  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2350 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the maximum token length in the preprocessor to be 1024 to comply with the GLSL ES 3 specification.  TRAC #23077  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2349 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Regenerate the preprocessor source files with the new versions of the compiler tools.  Will have to be resolved with 64-bit compatible bison in the future.  TRAC #23077  Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2348 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support to the HLSL translator for arrays of named interface blocks.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2347 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable the translator to pass parsed interface blocks back to the ANGLE API via the shader translator layer.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2346 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support to the GLSL to HLSL translator for interface blocks with instance names.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2345 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support to the HLSL translator to output interface blocks to constant buffers using HLSL register packing rules.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2344 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add logic to compute the size and offsets of interface blocks stored in shared (packed) and standard layouts.  The shared layout follows the standard HLSL packing rules for optimal shader performance.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2343 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved utilities.h/cpp and mathutils.h to the shared common code folder.  The HLSL translator needs to compute the sizes of various GL types for computing block layouts.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2342 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for parsing interface blocks to the shader translator.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2341 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the logic for parsing structs and index/field selection expressions from the grammar into TParseContext.  TRAC #22930  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2340 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass uniform buffers active bound to uniform blocks of the active program to HLSL/D3D constant buffers.  TRAC #22892  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2339 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add uniform block linking between the API the program binary and the compiler.  TRAC #22892  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2338 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure we have enough space in our reported max uniform buffer counts for our dedicated internal constant buffers.  TRAC #22892  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2337 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Properly validate struct uniform linking between the vertex and pixel shaders.  This also implements proper struct validation for uniform blocks.  TRAC #22932  Signed-off-by: Nicolas Capens Signed-off-by: Geoff Lang Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2336 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glInvalidateFramebuffer and glInvalidateSubFramebuffer.  TRAC #23133  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2335 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an abstract invalidate method to rx::RenderTarget.  TRAC #23133  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2334 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate allocation size in PoolAllocator. Note that I am planning to get rid of PoolAllocator entirely.  BUG=crbug 179654  Review URL: https://codereview.appspot.com/8662046  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2333 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store optimization level in program binaries and do not load those compiled with a different level. Review URL: https://codereview.appspot.com/9427043   Conflicts:  	src/libGLESv2/renderer/Renderer9.cpp  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2332 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Bump version.h for dx11proto. Review URL: https://codereview.appspot.com/9330043  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2331 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Merge r2002 to dx11proto: Remove dependency on dwmapi.dll. Review URL: https://codereview.appspot.com/9279048  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2330 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an extension describing the new D3D renderer chooser behavior in eglGetDisplay.  TRAC #23029  Author: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2329 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Control the creation of DX9 or DX11 renderers through eglGetDisplay.  TRAC #23029 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2328 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed old texture conversion functions.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2327 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced remaining uses of old texture conversion functions in gl entry points.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2326 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced remaining uses of old texture conversion functions in gl objects.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2325 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced remaining uses of old texture conversion functions in rx objects.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2324 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renderer initializes the client version to 2 since the renderer is used to create a SwapChain object before the Context has been created and the client version is known.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2323 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated the RenderTarget and TextureStorage classes to use new texture format functions.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2322 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture storage classes determine the bind flags through the new helper methods.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2321 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Image9 and Image11 determine the d3d formats through the new helper methods.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2320 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced the Image::generateMipmap switch statements with function calls to get the mip generation function.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2319 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the static Image data loading functions.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2318 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Image::loadCompressedData now uses new loading functions.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2317 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture image setting functions use the refactored texture conversion and loading functions.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2316 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Put the renderer*_utils functions into the rx namespace.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2315 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture::setImage methods now have an internal format parameter if the internal format is unsized a sized one is computed so that Texture classes always store sized internal formats.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2314 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created new helper functions for converting texture formats loading images and generating mipmaps."  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2313 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Split the floating point texture queries into individual methods and mark all support methods as const.  TRAC #22972  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2312 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for querying number of active uniform blocks/block name max length from a program object.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2311 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glGetActiveUniformBlockiv.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2310 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glGetActiveUniformBlockName.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2309 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement UniformBlockBinding and necessary state to track uniform block bindings on the API side.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2308 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement the API-side logic GetUniformBlockIndex. Functionality depends on shader support.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2307 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add state for uniform blocks to ProgramBinary along with loading and saving of the new binary format.  Updated Version.h with this patch.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill Conflicts:  	src/common/version.h  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2306 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor Uniform::[vp]sRegisterIndex to unsigned integers.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2305 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix line endings in the Uniform source and header files to be UNIX-style.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2304 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a helper routine to parse out uniform array indices.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2303 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for querying uniform block related enums.  TRAC #22858  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2302 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update the shader compiler/translator bison-generated source files with the latest cygwin releases.  TRAC #22934  Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2301 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the off-by-one errors in the indexed binding functions BindBufferBase and BindBufferRange.  TRAC #22958  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2300 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure non-zero transform feedback buffers must only be bound with an offset and size of a multiple of four.  TRAC #22958  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2299 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow the application to implicitly create buffers by binding them at indexed binding points without previously calling GenBuffers or BufferData.  TRAC #22958  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2298 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Return correct GL version and GLSL ES version strings when we are running in an ES3 context.  TRAC #22865  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2297 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glGetStringi for querying specific extension strings.  TRAC #22865  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2296 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Not not allow the app to query uniform locations of basic types with "[0]" appended to the uniform name.  TRAC #22865  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2295 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glGetActiveUniformsiv querying specific uniform properties.  TRAC #22865  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2294 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement GetUniformIndices for retrieving active uniform indices from their names.  TRAC #22865  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2293 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for querying gl_DepthRange as an active uniform via GetActiveUniform.  TRAC #22865  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2292 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix binding of the generic uniform buffer bind point when setting the transform feedback binding point in BindBuffer.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2291 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a path to BufferStorage11 to point to D3D11 constant buffer data storage for uniform buffer objects.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2290 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add and implement Renderer::getMaxUniformBufferSize() returning the maximum uniform buffer/block size.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2289 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Call BufferStorage::markUsage when we retrieve a buffer pointer for rendering instead of when we prepare data.  The automatic call eliminates function calls from other points in the library.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2288 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Redesign BufferStorage11 to support simultaneously managing constant buffers and vertex/index buffers.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2287 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a roundUp math utility function that rounds an integral value up to a nearest multiple.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2286 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add state queries for uniform buffer object count and alignment and enforce a large alignment.  This will allow us to force the app to bind uniform buffers with zero offset. Zero offset allows us to map uniform blocks one-to-one to uniform buffers then subsequently map UBOs to constant buffers.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2285 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make the sentinel value for glBindBufferBase whole-buffer binding zero instead of -1 to harmonize with the spec.  TRAC #22852  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2284 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented mipmap generation for 3D textures.  TRAC #22926  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2283 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renderer11::copyTexture can now copy 3D textures.  TRAC #22926  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2282 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added 3D versions of the passthrough shaders.  TRAC #22926  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2281 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
TextureStorage11_3D can generate render targets for the entire texture now as well as each layer.  TRAC #22926  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2280 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
RenderTargets now store a depth value.  TRAC #22926  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2279 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed the passthrough shaders to show that they are for 2D.  TRAC #22926  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2278 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored CPU mipmap generation and added 3D texture mipmap generation functions.  TRAC #22926  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2277 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented mipmap generation for 2D array textures.  TRAC #22927  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2276 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a map type parameter to Image11::map since it was always being mapped for writing but mipmap generation was reading.  TRAC #22927  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2275 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add new GLSL ES 3.0 built-in constants and split off 1.0 ones.  TRAC #22863 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2274 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented basic GLSL ES 3.0 texture intrinsics.  TRAC #22954 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2273 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Skip symbol table levels with built-ins for a different shader version.  TRAC #22954 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2272 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Insert GLSL ES 1.0 built-in variables at the right level.  TRAC #22954 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2271 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Place built-in intrinsics into their corresponding symbol table level.  TRAC #22954 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2270 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
GLSL ES 1.0 operator built-ins are all common with GLSL ES 3.0.  TRAC #22954 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2269 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Split the built-in symbols over multiple symbol table levels.  TRAC #22954 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2268 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture2DArray now uses dynamically allocated arrays to store Image objects.  TRAC #22918  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2267 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fall back to creating a Release runtime Direct3D device if Debug device creation fails.  TRAC #22881  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2266 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a fast path for single render target masked clears in Renderer11.  TRAC #22898  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2265 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Migrate calls to releasing COM objects in Renderer11 to new SafeRelease helper method.  TRAC #22898  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2264 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a helper method to gl::Framebuffer to check if we are drawing to color attachment 0 only.  TRAC #22898  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2263 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable base address randomization.  TRAC #22937 Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2262 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Bump version.h  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2181 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented GL_TEXTURE_2D_ARRAY targets for glTex* functions.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2180 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a binding point for TEXTURE_2D_ARRAY.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2179 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created the Texture2DArray class.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2178 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added GL_MAX_ARRAY_TEXTURE_LAYERS.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2177 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created the TextureStorageInterface2DArray class.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2176 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a TextureStorage11_2DArray class.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2175 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Image::redfine now takes a target parameter Image11 creates an appropriate resource based off of the target.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2174 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated glGenerateMipmap to accept the GL_TEXTURE_3D target.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2173 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented 3D texture entry points.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2172 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated the parameter validation functions to include 3d versions.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2171 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a binding point for TEXTURE_3D.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2170 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created a gl::Texture3D class.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2169 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added the GL_TEXTURE_WRAP_R parameter.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2168 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added parameters for maximum 3D texture size. Renamed maximum 2D texture size methods and variables.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2167 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated Image::copy to have a zoffset parameter.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2166 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added 3D versions of Renderer::copyToRenderTarget and Renderer::copyImage.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2165 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed some extra overloads of TextureStorage::getRenderTarget and added a method to get the render target of a Texture3D layer.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2164 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
RenderTarget11 now stores a Resource instead of a Texture2D.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2163 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Image11 now stores an ID3D11Resource for the staging texture and creates 3D staging textures if depth is greater than one.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2162 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added 3D texture classes for TextureStorage and TextureStorageInterface.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2161 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a helper function for generating pointer offsets and changed type names to include size for clarity.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2160 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added depth parameters to all image loading functions.  TRAC #22705  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2159 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for renderbuffer formats used by the CTS.  TRAC #22890 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2158 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable broadcasting gl_FragColor to all draw buffer color attachments in ES2 contexts.  TRAC #22888  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  Conflicts: 	src/libGLESv2/ProgramBinary.cpp  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2157 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix not correctly allowing the 'require' keyword in shaders enabling EXT_draw_buffers.  TRAC #22888  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2156 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Report gl_MaxDrawBuffers as 1 when the MRT extension is disabled and the implementation value otherwise.  TRAC #22888  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2155 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement flat and centroid interpolation in HLSL.  TRAC #22857 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2154 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Generate the same code once for fragment and vertex varyings.  TRAC #22857 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2153 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds Jamie and Geoff to CONTRIBUTORS file  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2152 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revert device lost display mode changed handling in the D3D9 path.  See https://codereview.appspot.com/8038044  TRAC #22882  Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2151 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix zero-sized buffer copies to complete successfully in BufferCopySubData.  TRAC #22878  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2150 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented interpolation qualifier parsing.  TRAC #22857 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2149 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for unsigned int uniform types to the getUniform series of methods.  TRAC #22845  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2148 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor the ProgramBinary::getUniform family of calls to use a private generic method.  TRAC #22845  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2147 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor getUniform for matrix types to use a single shared internal method.  TRAC #22845  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2146 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a utility method to determine if a gl enum type is a matrix type and some supporting methods.  TRAC #22845  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2145 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add handling of non-square matrix uniform types to utility methods.  TRAC #22845  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2144 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for unsigned integer uniforms. Depends on shader language support for the same.  TRAC #22842  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2143 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add handling of unsigned int uniform cases to utility functions.  TRAC #22845  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2142 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor ProgramBinary::setUniform[XX] to use a generic template function reducing duplicated code.  TRAC #22842  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2141 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Modify the glUniform[X]ui calls to call the corresponding glUniform[X]uiv functions internally.  TRAC #22842  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2140 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for the transpose parameter of the glUniformMatrix family of functions in ES3.  TRAC #22839  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2139 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for non-square matrix uniforms. Depends on implementing shader support for the same.  TRAC #22839  Signed-off-by: Geoff Lang Signed-off-by: Shanon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2138 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make ProgramBinary::setUniformMatrix[X]fv a generic template method.  TRAC #22840  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2137 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a bug in transposeMatrix for correct use with non-square matrices.  TRAC #22839  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2136 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug where BufferStorage11 was unable to handle NULL data being set.  TRAC #22811  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2135 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glCopyBufferSubData.  TRAC #22811  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2134 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a copyBufferSubData method to Buffer.  TRAC #22811  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2133 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an abstract BufferStorage::copyData method and implemented it for BufferStorage9 and BufferStorage11.  TRAC #22811  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2132 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added pixel pack and unpack buffer bindings.  TRAC #22811  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2131 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added binding points for the copy read and copy write buffers.  TRAC #22811  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2130 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added methods to Context to get and set the current (non-indexed) bound uniform and transform feedback buffers.  TRAC #22811  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2129 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable MRT support via glDrawBuffersEXT.  TRAC #22704  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2128 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Alter the precompiled header to import prototypes for the gl extension functions for internal use.  TRAC #22704  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2127 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only support ES3 contexts on Shader Model 4+ hardware.  TRAC #22854 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2126 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for packed integer vertex attributes.  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2125 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Output all fragment data to gl_Color.  TRAC #22715 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2124 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support in/out as type qualifiers.  TRAC #22715 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2123 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for new ESSL 3.00 keywords.  TRAC #22715 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2122 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Accept shader version 300 on ES3 contexts.  TRAC #22712 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2121 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add min and max blend modes.  TRAC #22836  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2120 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for GL_INT and GL_UNSIGNED_INT vertex attributes.  TRAC #22693  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2119 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added conversion rules for GL_INT and GL_UNSIGNED_INT for VertexBuffer11.  TRAC #22693  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2118 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Merged the current value attributes into the regular vertex attributes so they follow the same conversion rules.  TRAC #22693  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2117 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created a structure for holding current attribute data.  TRAC #22693  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2116 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix glDrawBuffersEXT to be compliant with the spec.  Bind GL_NONE to buffers beyond the specified input count and require a buffer count of one for the default framebuffer.  TRAC #22835  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2115 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an ExternalCompilerOptions parameter for use with MSBuild on the command line.  This is necessary for continuous integration to pass D3D11 mode build flags.  TRAC #22555  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2114 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added new acceptable es3 usage tokens for glBufferData.  TRAC #22794  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2113 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glBindBufferBase and glBindBufferRange.  TRAC #22753  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2112 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added uniform and transform feedback state and setting on context.  TRAC #22753  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2111 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a new type of binding pointer which stores offset and size.  TRAC #22753  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2110 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added getter methods to renderer for checking maximum uniform and transform feedback buffers.  TRAC #22753  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2109 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed build failure.  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2108 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add SwapChain::recreate for dealing with certain cases of lost devices.  See https://code.google.com/p/angleproject/source/detail?r=1993  TRAC #22826  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2107 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
When CheckDeviceStats returns S_PRESENT_MODE_CHANGED reset display mode and retest for device lost.  Unless the display mode is reset CheckDeviceLost can keep returning S_PRESENT_MODE_CHANGED potentially masking a device lost on account of a GPU hang causing ANGLE to fail to report context lost. Review URL: https://codereview.appspot.com/7381061  TRAC #22720  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2106 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a warning in the cast of Renderer9::mDeviceCaps.MaxAnisotropy.  See http://code.google.com/p/angleproject/source/detail?r=2000  TRAC #22826  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2105 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fast path for BGRA to RGBA readPixels conversions.  From http://code.google.com/p/angleproject/source/detail?r=1999  TRAC #22825  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2104 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glVertexAttribDivisor.  TRAC #22816  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2103 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Do not broadcast output of gl_FragColor to all attached render targets when using a GLES 3.0 context.  TRAC #22704  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2102 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Relax the requirement for all color attachments to have the same number of bitplanes for ES 3.0 contexts.  TRAC #22704  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2101 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store the current context client version in the Renderer for ease of access.  TRAC #22704  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2100 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a multiple render targets sample using EXT_draw_buffers. Requires the D3D11-enabled ANGLE.  TRAC #22797  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2099 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable MRT support by exposing glDrawBuffersEXT to the application.  TRAC #22710  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2098 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix an improper upper case case 'B' in getFirstColorbuffer.  TRAC #22679  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2097 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix D3D11 depth/stencil framebuffer blit.  D3D11 requires the pSrcBox parameter to be NULL for depth/stencil CopySubresourceRegion calls.  TRAC #22679  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2096 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement multiple render target support in glBlitFramebufferANGLE.  TRAC #22679  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2095 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor Renderer11::blit to use simpler control flow.  TRAC #22679  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2094 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added flag to suppress D3D11 warnings about missing render target views when drawing multiple render targets.  TRAC #22679  Signed-off-by: Geoff Lag Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2093 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added Renderer11 methods to set a one-time render target and unapply render target state.  TRAC #22679  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2092 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for HALF_FLOAT vertex attributes.  TRAC #22703  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2091 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Modified the default value used in the vertex widen rule so that it is specified as a template argument.  TRAC #22703  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2090 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertise ES3 renderable in available configs  TRAC #22806  Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2089 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updates EGL headers  TRAC #22805  Signed-off-by: Jamie Madill Signed-off-by: Geoff Lang Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2088 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds ES3 functions to .def file for export  TRAC #22805  Signed-off-by: Jamie Madill Signed-off-by: Geoff Lang Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2087 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for line continuations.  TRAC #22713 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2086 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pixel shaders support MRT output.  TRAC #22668  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2085 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Shader and Compiler track uses of gl_FragCoord and gl_FragData and MRT extension usage.  TRAC #22668  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2084 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
BuiltInResources initialized with MRT limits from renderer.  TRAC #22668  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2083 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store the BuildInResources in the Compiler class so the draw buffer data can be read during shader output.  TRAC #22668  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2082 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for multiple render targets in glClear.  TRAC #22659  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2081 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added DRAW_BUFFERx_EXT support to getIntegerv and related functions.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2080 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add and implement glDrawBuffersEXT entry point to libGLESv2.  TRAC #22657  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2079 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor Renderer11::getRenderTargetResource to accept a gl::Renderbuffer instead of a gl::Framebuffer.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2078 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable multiple render targets in Renderer11::applyRenderTarget.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2077 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add helper functions to safely release Windows COM resources and arrays of COM resources.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2076 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename renderbufferObject to colorbuffer in Renderer11::applyRenderTarget.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2075 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Safely promote uninitialized constants.  TRAC #22676 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2074 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't assume unary operations on constants will be folded into a constant.  TRAC #22676 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2073 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ignore constants that have not been initialized.  TRAC #22676 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2072 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Provide safer and more convenient constant union accessors.  TRAC #22676 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2071 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added stubs for all the new ES3 entry points with events and an error check to verify that the context is an ES3 context.  TRAC #22694  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2070 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added the GLES3 headers and updated all locations where the GLES2 headers were included to also include the GLES3 headers.  TRAC #22694  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2069 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated gl2.h and gl2ext.h.  TRAC #22694  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2068 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
eglCreateContext passes the client version to the context. gl::Context stores the client version to validate gl function parameters.  TRAC #22694  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2067 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove the old single-color-attachment calls from gl::Framebuffer preferring the new multiple-attachment versions.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2066 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add multiple color buffer attachments points to gl::Framebuffer.  Also addded the checks for framebuffer completeness as defined by the ES2 spec and EXT_draw_buffers.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2065 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add const qualifiers to several methods in gl::Framebuffer.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2064 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow the application to query the maximum number of color attachment point values with GetIntegerv.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2063 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added getMaxRenderTargets() to Renderer for a runtime-specific value for the maximum simulatenous render targets.  We will report this as our maximum draw buffer and color attachment count.  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2062 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add necessary defines and function prototypes for EXT_draw_buffers and multiple color attachment points to gl2ext.h  TRAC #22656  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2061 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Bump ANGLE_SH_VERSION to 110.  The bump to 109 in r1984 collided with a similar version change in dx11proto branch (r1738). Review URL: https://codereview.appspot.com/7446050  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2060 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enabled FRAGMENT_PRECISION_HIGH unconditionally for ANGLE. Review URL: https://codereview.appspot.com/7460048   Conflicts: 	src/libGLESv2/Shader.cpp  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2059 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added preprocessor support for GL_FRAGMENT_PRECISION_HIGH. I will send the tests in a separate patch because I need to refactor the way compiler_tests are setup. Review URL: https://codereview.appspot.com/7402051  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2058 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error for preprocessor tests. Review URL: https://codereview.appspot.com/7388051  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2057 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes infinite recursion in QueryX::getResult due to similarly named base class accessor.  TRAC #22716  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2056 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make position the first vertex output varying on DX9 again to work around an NVIDIA driver issue.  TRAC #22688 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2055 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Creating branch for ES3 prototype  git-svn-id: https://angleproject.googlecode.com/svn/branches/es3proto@2054 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix warning as error in Renderer.cpp. Review URL: https://codereview.appspot.com/7420046  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1981 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix build_angle.gypi so libGLESv2 and libEGL can find precompiled.h. Review URL: https://codereview.appspot.com/7450045  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1980 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update build revision  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1977 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed plain integer pointers being passed to ShGetInfo which expects size_t pointers.  TRAC #22678  Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1976 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated the error handling of compressed image sizes based on the ANGLE_texture_compression_dxt spec.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1975 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug where the texture would not be marked as dirty if mLodOffset was not zero.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1974 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed lod level subtraction since TextureStorage::levelCount already subtracts the lod level.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1973 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Image11 now generates multiple mip levels in its staging texture if a lod offset is required. TextureStorage11::updateSubresourceLevel now takes a subresource index on the source texture and copies to the correct subresource if mLodOffset is non-zero.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1972 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Made Image11::getStagingTexture private and removed the undefined Image11::updateStagingTexture method.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1971 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug where the wrong number of mip levels would be generated if levels was zero and the lod offset was non-zero.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1970 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a utility function to determine if a dxgi format is compressed.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1969 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Convert(Min/Max)Lod now takes into account the lod offset so that it always falls within the min and max.  TRAC #13332  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1968 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updates ANGLE_depth_texture to reflect proposed changes in requirements for g and b channels.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1967 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Build fix for qt-wk2 Review URL: https://codereview.appspot.com/7381049  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1966 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix ANGLE patching/building issues.  1) Remove an empty file: this causes patch apply failures when updating WebKit side ANGLE. 2) Fix a 64-to-32 conversion issue. 3) Append a change to Tokenizer.l that's left out in a previous CL. (cpp is already updated). Review URL: https://codereview.appspot.com/7378051  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1965 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
This pulls in mvujovic's build fix in WebKit ANGLE.  Original patch: http://trac.webkit.org/changeset/139665 Review URL: https://codereview.appspot.com/7392044  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1964 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for extension EXT_draw_buffers. Review URL: https://codereview.appspot.com/7308107  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1963 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix signed / unsigned warning in ParseHelper.cpp. Review URL: https://codereview.appspot.com/7330046  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1962 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed one remaining 64-bit truncation issue missed in the last CL.  BUG=396 Review URL: https://codereview.appspot.com/7323055  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1961 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed 64-bit integer truncation issues in shader translator.  This is an incompatible API change but one which is necessary in order to improve correctness of the code. The API version in ShaderLang.h is updated and unfortunately the define renamed to something less ambiguous due to conflicts on some Android buildbots. Temporary patches in Chromium and WebKit will be landed separately to support this upgrade.  BUG=403404405406407408409 Review URL: https://codereview.appspot.com/7300058   Conflicts: 	include/GLSLANG/ShaderLang.h  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1960 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a 64-bit error in ProgramBinary::load  ProgramBinary::save writes a size_t so ProgramBinary::load needs to read it as the same type.  Landed for jschuh. Original review: https://codereview.appspot.com/7304057/ Review URL: https://codereview.appspot.com/7310052  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1959 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check that the incoming type to a default precision qualifier statement is valid.  Fixes new WebGL conformance tests shader-with-illegal-default-precision.frag.html and shader-with-illegal-default-precision.vert.html per http://www.khronos.org/bugzilla/show_bug.cgi?id=781 . Also ran WebGL 1.0.1 conformance tests; no regressions.  BUG=none Review URL: https://codereview.appspot.com/7302043  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1958 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revert the change to treat S_PRESENT_MODE_CHANGED always as device lost on D3D9.  See: https://codereview.appspot.com/7398052/  TRAC #22492  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1957 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Place each info log message on a new line.  TRAC #22635 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1956 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Provide an error message when uniform linking fails.  TRAC #22635 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1955 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only discard the storage texture when there is a mismatch with its mipmap chain.  TRAC #20587 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1954 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::getDepthTextureSupport.  TRAC #22587  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1953 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Scale the vertex coordinates when the viewport has been clamped.  TRAC #22649 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1952 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug where a static buffer could sometimes be used if it had not had data written to it.  TRAC #22665  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1951 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix ViewDimension for texture cube SRVs to always be specified as a texture cube.  This caused a D3D11 error on D3D10-only systems.  TRAC #22662  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1950 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revert changes to markAllStateDirty that cleared D3D11 shader resources.  TRAC #22642  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1949 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable two D3D11 warnings that would sometimes spam the output log for certain WebGL content.  These warnings identified when we set a render target that was bound as a shader resource and were benign.  TRAC #22642  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1948 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only allow direct vertex buffers binding with attribute with 4 byte aligned offsets.  TRAC #22647  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1947 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix D3D11 errors from specifying the order of FragCoord PointCoord etc different between GS and PS.  TRAC #22646  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1946 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure nested ternary operator unfolding uses a new scope to avoid redefinition of the same temporary variable.  TRAC #22629 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1945 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only retrieve the precision of integer and floating-point types.  TRAC #22635 Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1944 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use ArraySize to determine size of static arrays.  TRAC #22558  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1943 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fall back to drawing indexed points without indices in d3d9.  TRAC #22633  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1942 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate matching uniform precisions.  TRAC #22635 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1941 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store the precision of uniforms.  TRAC #22635 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1940 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clamp the depth passed from glClearDepthf to (01) in Renderer11::clear.  This fixes potential out of range D3D11 errors.  TRAC #22643  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1939 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add precompiled header support for the libGLESv2 project.  TRAC #22518  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1938 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove a lot of unnecessary include files and break include chains.  This should speed up incremental compile times when modifying headers by reducing the number of dependencies.  TRAC #22518  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1937 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a new header for some constants from Context.h.  TRAC #22518  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1936 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't discard texture storage when redefining and image to generate mip maps.  TRAC #22632  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1935 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clear all applied texture resources in Renderer11::markAllStateDirty.  This fixes some D3D11 warnings about having the current render target bound to a shader resource view.  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1934 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass through the PSIZE semantic all the way to the fragment shader in D3D11 fixing a register error.  In some cases when the app would draw triangles and writes to gl_PointSize the vertex shader would output PSIZE and the pixel shader would not read it as an input.  TRAC #22561  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1933 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the D3D11 errors being produced about using wrong input layout register signatures.  This was caused by using the same input layout for vertex shaders with different input signatures.  TRAC #22561  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1932 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Sort the elements of the D3D11 input layouts before we store them in the cache.  This prevents a D3D11 error complaining that the input layout uses a different ordering of the vertex elements than the vertex shader.  TRAC #22561  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1931 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make some getter functions in ProgramBinary const.  TRAC #22561  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1930 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix regression in point sprite geometry shader scaling.  Broken in #22428.  TRAC #22551  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1929 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate the number of uniform vectors.  TRAC #22571 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1928 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add handling for certain cases of D3D9Ex device lost.  This will allow us to handle TDR restarts on newer machines. We still don't handle D3DERR_DEVICEREMOVED.  TRAC #22492  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1927 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use optimization level 0 for D3D11.  TRAC #22516 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1926 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't split loops on Shader Model 4+.  TRAC #22516 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1925 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix D3D11 errors where the application passes in QNAN to glPolygonOffset or for the viewport bounds.  TRAC #22565  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1924 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix using polygonOffsetUnits in place of polygonOffsetFactor in the D3D11 path.  TRAC #22565  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1923 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use actualFormat instead of internalFormat for checking if we can do a fast copy in Image11::copy.  TRAC #22586  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1922 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add the proper data offset in Image11::copy for the slow pixel copy method.  TRAC #22586  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1921 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clear the Geometry Shader state in Renderer11::maskedClear.  TRAC #22569  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1920 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Expand GL sampler arguments to a texture and sampler argument for D3D11.  TRAC #22593 Signed-off-by: Shannon Woods Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1919 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initialize shader resource view member to NULL.  TRAC #22595  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1918 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the alpha blend mask not being initialized for masked clears.  TRAC #22590  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1917 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11:getDXT1/3/5TextureSupport.  TRAC #22422  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1916 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Image11 and TextureStorage11 make sure sizes are aligned properly.  TRAC #22422  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1915 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved common members in TextureStorage11_2D and TextureStorage11_Cube into TextureStorage11.  TRAC #22422  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1914 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a utility function to determine required texture size alignments.  TRAC #22422  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1913 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Change the max reported viewport size to be the same as the maximum texture size in D3D11.  This fixes a regression in the WebGL conformance test "drawingbuffer-test".  TRAC #22582  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1912 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the y offset of Renderer11::copytexture to correct the inverted output image.  Was breaking the WebGL conformance test copy-tex-image-and-sub-image.  TRAC #22589  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1911 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use Map/Unmap instead of UpdateSubResource for uniforms.  TRAC #22480 Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1910 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed and reorganized the vertex conversion tables in VertexBuffer9.  TRAC #22552  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1909 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
TextureStorage11 classes now create shader resource views for depth stencils.  TRAC #22500  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1908 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added utility functions for converting depth stencil DXGI_FORMATs.  TRAC #22500  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1907 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Declare vertex varyings which have not been written to allow successful linking.  TRAC #22581 Signed-off-by: Jamie Madill Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1906 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Isolate D3DCompiler.h include to just the cpp files that need it instead of every file that uses the renderer.  TRAC #22499  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1905 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Break some of the include chains that cause unneeded dependencies between headers.  TRAC #22499  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1904 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Change filter organization for the Renderer source files further subdivided between 9 and 11.  TRAC #22499  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1903 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove D3D9 header included in the D3D11 path and some references to D3DERR.  TRAC #22499  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1902 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug where the streaming buffer would not get space reserved if a higher index static buffer was invalidated.  TRAC #22543  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1901 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored calculation if a vertex buffer can do direct storage into a helper function.  TRAC #22543  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1900 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved duplicate code.  TRAC #22428 Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1899 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimized applying DX11 uniforms with memcpy.  TRAC #22428 Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1898 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store integer and boolean uniforms in 4-element vectors.  TRAC #22428 Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1897 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store boolean uniforms as 32-bit integers.  TRAC #22428 Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1896 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate unused DX11 driver uniforms.  TRAC #22428 Signed-off-by: Geoff Lang Signed-off-by: Jamie Madill Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1895 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the conversion of textures to rendertargets to use the right number of mip levels if we already initialized storage.  When a texture was initialized with glStorage2DEXT or similar the conversion to RT could change the number of mips.  TRAC #22560  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1894 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix clearing the geometry shader state in copytexture and errors generated by a BGRA backbuffer format.  TRAC #22545  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1893 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only advertise postSubBuffer extension if we can actually present less than the whole buffer.  This is not available in D3D11 though it is added in D3D11.1.  TRAC #22506  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1892 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the SwapChain11::swapRect x and y coordinates to reference the lower left corner at (00).  TRAC #22506  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1891 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow zero sized system window FBO to be declared complete and let the application use them for rendering.  TRAC #22548  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1890 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure we do not try to create a swapchain with dimensions smaller than 1x1.  TRAC #22548  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1889 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a regression when drawing point sprites with a non-one-valued w coordinate.  TRAC #22551  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1888 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Index data manager uses direct buffers for indices if possible.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1887 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
VertexDataManager now supports direct buffers when vertex conversion is not needed.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1886 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
VertexBuffer has a new abstract method to determine if conversion is required for a given attribute type.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1885 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an identity flag to VertexBuffer11's conversions.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1884 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
gl::Buffer now uses an rx::BufferStorage to store the data.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1883 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a BufferStorage creation method to renderer.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1882 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created a BufferStorage11 class.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1881 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created a BufferStorage9 class.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1880 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created a BufferStorage abstract class.  TRAC #22297  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1879 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::getFloat*TextureSupport.  TRAC #22502  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1878 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a utility function for determining the size of an array.  TRAC #22502  Signed-off-by: Jamie Madill Signed-off-by: Nicolas Capens Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1877 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a regression with point sprites where the geometry shader state was not properly updated.  This was breaking the ES2 point sprites conformance test.  TRAC #22544  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1876 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement larger bounds for viewports and scissor rectangles in D3D11.  This fixes a bug where we would not allow the application to draw outside the viewport which is valid.  TRAC #22497  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1875 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a simple Range type to represent an integer 1D range.  TRAC #22497  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1874 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable anisotropic filtering support on the D3D11 path.  TRAC #22504  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1873 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for resizing the window without recreating the swap chain in D3D11.  TRAC #22406  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1872 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't convert normalized integer types they are interpreted as floating-point in the shader.  TRAC #22440 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1871 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::getLuminance*TextureSupport  TRAC #22503  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1870 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed the rectangle arguments of Renderer11::blitRect from pointers to const references since they are never null or modified.  TRAC #22416  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1869 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::blitRect for render targets.  TRAC #22416  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1868 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a texture object to RenderTarget11.  TRAC #22416  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1867 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a helper Renderer11::resolveMultisampledTexture method.  TRAC #22416  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1866 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a rounding bug in copyTexture and removed a redundant parameter blend state setting.  TRAC #22416  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1865 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
RenderTarget11 now creates multisampled render targets.  TRAC #22417  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1864 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
RenderTarget11 converts the format again for mActualFormat to match RenderTarget9.  TRAC #22417  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1863 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a Renderer11::getNearestSupportedSamples method.  TRAC #22417  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1862 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::getMaxSupportedSamples.  TRAC #22417  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1861 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Preserve the D3D11 offscreen texture contents when the swap chain is reset (ie from window resize).  TRAC #21929  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1860 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the code related to creating and resetting offscreen texture resources to its own method.  TRAC #21929  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1859 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only allocate offscreen texture resources when we need them not every time we reset the swapchain.  This fixes a memory leak that caused the swapchain to initialize unbounded amounts of resources.  TRAC #21929  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1858 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add the ability to recover from a removed device (TDR or driver removal) to the D3D11 code path.  TRAC #22411  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1857 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enclose error(GLint) and error(EGLint) into gl and egl namespaces.  This should generate a compile time error if we try to call the wrong function.  TRAC #22411  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1856 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the call to notify device lost to the Renderer.  TRAC #22411  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1855 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enclose isDeviceLostError and checkDeviceLost in their corresponding d3d9/d3d11 namespaces.  TRAC #22411  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1854 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix regressions in the unit tests related to setting gl_PointSize and using other draw modes.  This had two regressions using gl_PointSize and drawing triangles and drawing points and triangles with the same binary program.  TRAC #22526  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1853 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use the D3D11 adapter LUID for our adapter identifier check in ProgramBinary.  TRAC #22498  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1852 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for more depth buffer formats in our EGLConfigs.  This includes no depth buffer and 16-bit depth buffer with no stencil buffer.  TRAC #22496  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1851 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the order of the channels in readPixelColor which was messing up BGRA to RGBA readPixels.  TRAC #22529  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1850 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enabled vsync in SwapChain11.  TRAC #22505  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1849 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updates to extensions from public registry  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1848 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created Fence11.  TRAC #22420  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1847 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created Query11.  TRAC #22419  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1846 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Integrated the new rx::Fence class into gl::Fence.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1845 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a fence creation method to Renderer.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1844 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created Fence9.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1843 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created an abstract rx::Fence class.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1842 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed some circular includes.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1841 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
gl::Query now uses the abstract rx::Query.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1840 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added query creation methods to Renderer.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1839 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created Query9.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1838 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created an abstract rx::QueryImpl class.  TRAC #22418  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1837 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for derivative instructions in D3D11.  TRAC #22424  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1836 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update ANGLE_texture_compression_dxt  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1822 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an ANGLE instancing sample to a new folder in samples.  This sample will show a user how to use the ANGLE-specific extensions for geometry instancing.  TRAC #22452  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1819 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version to r1818  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1818 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Do not hash mapping field names of a reserved struct.  With this fixed Chrome behaves the same on WebGL conformance tests 1.0.2 with/without --enable-shader-name-hashing  BUG= TEST=WebGL conformance tests Review URL: https://codereview.appspot.com/7229043  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1817 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::sync.  TRAC #22351  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1816 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix mat2 packing to use 2 rows as per spec.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1815 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a memory out-of-bound visit bug.  So len could equal = max_len and at this point name[len] is out of the range.  BUG= TEST= Review URL: https://codereview.appspot.com/7223045  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1814 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename ANGLE_multiple_render_targets to EXT_draw_buffers  Trac #21120  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1813 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updates to MRT extension.  Trac #21120      01/30/2013  dgkoch  add issue 6 and clear interactions                         renamed to EXT_draw_buffers based on feedback                         changed resolution of issue 3.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1812 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix D3D11 instancing support check to test against the current feature level.  TRAC #22414  Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1811 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Do not use dynamic_cast if RTTI is disabled. Review URL: https://codereview.appspot.com/7250043  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1808 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated version number to 1801  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1801 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Attempt different fix for unknown #pragma on Linux.  BUG=none TEST=compiled on Linux and Mac OS Review URL: https://codereview.appspot.com/7133076  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1800 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed optimization level to D3DCOMPILE_OPTIMIZATION_LEVEL1. With this optimization level it appears that array index clamping can be enabled on Windows without destabilizing WebGL content.  Tested this change with array index clamping enabled with MapsGL a previous failing test from AlteredQualia many Three.js demos the Julia Set tutorial from acko.net the WebGL 1.0.1 conformance suite and other content; all worked.  BUG=none Review URL: https://codereview.appspot.com/7197054  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1799 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Incorporated patch from haixia@ changing the default implementation of array index clamping to use the clamp intrinsic. This works more reliably on pure OpenGL ES devices and on Windows.  Added a mechanism in ShBuiltInResources to choose the strategy for array index clamping.  BUG=none TEST=various out-of-bounds array indexing tests and various WebGL content Review URL: https://codereview.appspot.com/7194051  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1798 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compiler warning on Linux resulting in build failures.  BUG=none TEST=compiled on Linux Review URL: https://codereview.appspot.com/7201056  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1797 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the programBinary argument from Renderer::setViewport.  TRAC #22478  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1796 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented D3D11 non-pow2 texture support.  TRAC #22425  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1795 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed rounding error in SwapChain11::swapRect vertex coordinates.  #22472  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1794 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove DXSDK_DIR from search paths.  Chrome now builds ANGLE against the Windows 8 Platform SDK.  Move the include and lib search paths to common.gypi so that downstream projects can specify the location of the Platform SDK or alternatively use the DirectX SDK instead. Review URL: https://codereview.appspot.com/7193052   Conflicts:  	src/common/version.h  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1793 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Roll gyp dependency to 1564.  This is to fix the standalone gyp build. It couldn't handle changes made in r1721. This is the latest version. Review URL: https://codereview.appspot.com/7204049  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1792 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement instancing support in D3D11.  TRAC #22414  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1791 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Include windows.h from one place to ensure that min and max macros are not defined.  These conflict with the STL functions of the same name.  This is to make the standalone ANGLE gyp build work again. Review URL: https://codereview.appspot.com/7211043   Also includes r1729 which adds the missing new file.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1790 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use TEXT macro to define ANGLE_PRELOADED_D3DCOMPILER_MODULE_NAMES macro.  This is to make the standalone gyp build work again. Review URL: https://codereview.appspot.com/7199046  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1789 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Treat return statements in loops as loop discontinuities.  This is so that texture2D is converted to texture2DLod in loops with return statements. HLSL does not seem to allow gradient operations in loops with return statements. It considers them to be breaks. Review URL: https://codereview.appspot.com/7131057  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1788 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix an issue with instanced drawing in the D3D9 path.  TRAC #22447  Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1787 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement gl_PointSize point sprite emulation using D3D11 geometry shaders.  TRAC #22412  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1786 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor gl_FragCoord and gl_PointCoord usage in ProgramBinary::linkVaryings.  TRAC #22412  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1785 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the call to packVaryings outside of linkVaryings.  TRAC #22412  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1784 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a new internal enum for shader type instead of re-using GL enums.  TRAC #22412  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1783 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a missing variable initialization in ProgramBinary.  TRAC #22412  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1782 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make other angle targets compile on Win64  Addendum to https://codereview.appspot.com/7011048/  BUG=391 chromium:166496 chromium:167187  Landing for jschuh Original patch: https://codereview.appspot.com/7075044/ Review URL: https://codereview.appspot.com/7190044  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1781 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add comments to ArrayBoundsClamper about why 'clamp'  was not used to do the bounds clamping.  BUG=397  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1780 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reorganized new sources from recently applied patch into third_party directory.  Review URL: https://codereview.appspot.com/7105049  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1779 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Document GetIntegerv errors in ANGLE_framebuffer_blit.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1778 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updates for ANGLE_multiple_render_targets  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1777 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid calling getContext() for resource limits.  TRAC #22243 Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1776 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the varying register count to what the feature level supports.  TRAC #22243 Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1775 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase DX11 uniform count to 1024.  TRAC #22243 Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1774 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Retrieve the maximum uniform register count from the renderer.  TRAC #22243 Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1773 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented D3D11 offscreen texture share handle support.  Chrome uses this to for composited rendering. Currently Chrome uses a BGRA texture format for surface sharing so we must create our offscreen textures this way. See EGL_ANGLE_query_surface_pointer EGL_ANGLE_surface_d3d_texture_2d_share_handle EGL_ANGLE_d3d_share_handle_client_buffer.  TRAC #22410  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1772 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement proper BGRA extension support on D3D11.  See GL_EXT_texture_format_BGRA8888.  TRAC #22410 Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1771 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add .opensdf files to .gitignore.  TRAC #22410  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1770 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix assert error triggered in D3D11 path when we redefine textures to GL_NONE.  Instead internally convert them between GL_NONE and DXGI_FORMAT_UNKNOWN.  TRAC #22463  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1769 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only update a constant buffer when any of its uniforms are dirty.  TRAC #22327 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1768 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reuse the constant buffers of the shader executable.  TRAC #22327 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1767 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add constant buffers to ShaderExecutable11.  TRAC #22327 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1766 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use a single set of constant buffers for the driver uniforms.  TRAC #22327 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1765 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store DX11 driver uniforms in a separate constant buffer.  TRAC #22327 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1764 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements generateMipmap for CPU-side textures  TRAC #22350  Author: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1763 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements Image::copy for nonrenderable textures.  TRAC #22349  Author: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1762 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds a function to get the texture resource of a framebuffer's color render target.  TRAC #22349  Author: Shannon Woods Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1761 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Since we can't create a swap chain for another process' window error out gracefully.  Was triggered from Chrome trying to use a Windows XP path on the DX11 side of things.  TRAC #22438  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1760 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented masked clearing in Renderer11.  TRAC #22343  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1759 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reordered the logic of Renderer11::clear to determine earlier if a masked clear is required.  TRAC #22343  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1758 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for vertex texure fetch in DX11 mode.  Trac #22354  Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1757 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add ipch folders and debug.txt to .gitignore.  TRAC #22441  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1756 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a gl_FrontFacing regression.  TRAC #22426 Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1755 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove the ResourceLimits.h reference which was causing the translator_common to always rebuild.  Also tinker with the deps a bit to allow for more parallelism during the build process.  TRAC #22437  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1754 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate the D3DCOMPILE_ENABLE_BACKWARDS_COMPATIBILITY flag.  TRAC #22426 Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1753 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use SV_IsFrontFace to implement gl_FrontFacing on DX11.  TRAC #22426 Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1752 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Convert all vertex data to floating-point.  TRAC #22426 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1751 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented TextureStorage11*::generateMipMap.  #22355  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1750 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::copyImage.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1749 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created a basic position and texcoord vertex and helper method in renderer11 utils.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1748 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renderer::copyImage now uses the ANGLE rectangle structure instead of the windows one.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1747 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed the passthrough pixel shader to  PS_PassthroughRGBA.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1746 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Image11::isRenderableFormat.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1745 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
RenderTarget11 now stores a shader resource.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1744 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture storage now has deferred creation of all render targets and shader resources.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1743 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reorganized the getter methods of SwapChain11 and added a method to get the offscreen texture shader resource.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1742 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the levels parameter from initializeSRV since it is the same as mMipLevels.  TRAC #22358  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1741 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix and extend essl_to_hlsl to support DX11 HLSL.  TRAC #22330 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1740 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use the DX11 syntax for GLSL samplers and textures.  TRAC #22330 Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1739 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass the desired HLSL version down to the HLSL generator.  TRAC #22330 Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1738 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the get maximum point size logic to Renderer9.  Trac #22413  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1737 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
TextureStorage11 classes now store a render target to each mip level.  Signed-off-by: Jamie Madill Signed-off-by: Shannon Woods Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1736 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove dependency on DirectX SDK. Review URL: https://codereview.appspot.com/7135062  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1723 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version to 1717  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1717 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a few unnecessary uses of Renderer9  Trac #22394 Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1716 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove all possible libEGL includes from libGLESv2  Trac #22394 Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1715 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cleanup extraneous D3D9_REPLACE comments  Trac #22394 Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods  Blit.cpp and Renderer9.h/.cpp will remain d3d9-specific. Remove various unused includes and a typedef.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1714 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move dirty DX constant tracking from Context to the Renderers.  TRAC #22308 Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1713 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initialize uninitialized pointers in SwapChain11 to NULL.  This could cause invalid calls in the destructor in debug builds.  TRAC #22393  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1712 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Change line ending type on compiled shaders and delete now empty shader folder   git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1711 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version to 1710  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1710 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add D3D version and shader models to renderer string reported by GetString.  It looks like this now: ANGLE (NVIDIA Quadro 600 Direct3D9Ex vs_3_0 ps_3_0)  I also noticed that the strings returned by GetString are not all static so I fixed that as well. Review URL: https://codereview.appspot.com/7068058   Author: apatrick@chromium.org <apatrick@chromium.org@736b8ea6-26fd-11df-bfd4-992fa37f6226>  Manual merge from Master by daniel@transgaming.com  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1709 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented DX11 GL_TRIANGLE_FAN emulation using a scratch index buffer.  TRAC #22345  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Jamie Madill  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1708 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Build fix.  BUG= TEST=build fine in Linux Review URL: https://codereview.appspot.com/7071056  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1707 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
In generated shaders output +INF and -INF as largest single precision floating point number.  C++ streams seem to use the representation 1.$ for INF and that isn't valid syntax in GLSL or HLSL.  Also preserve the sign of INF in constant expressions that divide by zero. I can't figure out what to do about 0/0 because the shader models we are using do not support NaN. Treating it as +INF as before. Review URL: https://codereview.appspot.com/7057046  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1706 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update Copyright years on the LICENSE file  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1705 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable GL_OES_standard_derivatives when ps_2_x or later is not available.  BUG=392 Review URL: https://codereview.appspot.com/7027051   Author:    bsalomon@google.com  (manual merge from master by daniel@transgaming.com)  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1704 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Upstream various build fixes from WebKit to ANGLE to make updating ANGLE in WebKit easier.  a) http://trac.webkit.org/changeset/127747 b) http://trac.webkit.org/changeset/128539 c) http://trac.webkit.org/changeset/122870 - Specifically items #3 and #4 in this changeset's commit message.  Review URL: https://codereview.appspot.com/7040045   Author:    maxvujovic@gmail.com ------  Upodate preprocessor.vcxproj to reflect changes in r1640.  Review URL: https://codereview.appspot.com/7061044  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1703 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make angle compile on Win64  BUG=http://crbug.com/166496 BUG=http://crbug.com/167187  Landing this for Justin Schuh: https://codereview.appspot.com/7011048/ Review URL: https://codereview.appspot.com/7040045   Conflicts:  	src/common/version.h  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1702 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Incorporated BSD-licensed changes implementing array bounds clamping.  BUG=none TEST=ran associated WebKit layout tests in Chromium Review URL: https://codereview.appspot.com/6999052  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1701 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimize copyVertexData.  TRAC #2237 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1700 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the dirty parameters flag from Texture.  TRAC #22248  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1699 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved applied texture and sampler caching from Context into the Renderers.  TRAC #22248  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1698 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Release leaked SRVs in TextureStorage11.  TRAC #22231  Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1697 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
D3D11 device context clears and flushes the state to release internal references before destruction.  TRAC #22231  Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1696 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added debug names to swap chain resources.  TRAC #22231  Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1695 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a utility function to set the debug name on D3D11 resources.  TRAC #22231  Signed-off-by: Jamie Madill Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1694 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Caches MipLevel in TextureStorage11 to avoid repeated GetDesc calls.  TRAC #22341  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1693 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved the shaders from libGLESv2 to the libGLESv2/renderer.  TRAC #22230  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1692 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Completed D3D11 line loop rendering.  TRAC #22344  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1691 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable large point rendering for DX11.  TRAC #22352 Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1690 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented gl_FragCoord support for DX11.  TRAC #22375 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1689 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renderer11::readPixels queries the RenderTarget11 for the correct subresource to read from.  TRAC #22368  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1688 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
RenderTarget11 now stores the subresource that it represents.  TRAC #22368  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1687 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented support for DX11 integer and boolean uniforms.  TRAC #22364 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1686 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Color blend options may not be used for SrcBlendAlpha and DestBlendAlpha in D3D11.  TRAC #22365  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1685 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
D3D11 uses 1 as the default sampling level not 0.  TRAC #22365  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1684 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes bugs in rendering to textures.  TRAC #22365  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1683 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented support for DX11 driver uniforms by assigning fixed register slots.  TRAC #22369 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1682 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug with sampler state comparison size.  TRAC #22378  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1681 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
SwapChain11::swapRects now correctly sets the viewport to the size of the window.  TRAC #22374  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1680 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed applied index buffer offset not being cached.  TRAC #22371  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1679 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::readPixels.  TRAC #22247  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1678 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reverses the D3D11 vertex winding order WRT GL's.  TRAC #22353  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1677 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use an agnostic renderer in Buffer rather than D3D9-specific.  TRAC #22362  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1676 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements missing Image::loadData cases.  TRAC #22347  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1675 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes an incorrect dirty marking in generateMipmaps.  TRAC #22356  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1674 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements Renderer11::createRenderTarget  TRAC #22340  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1673 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed code style mistakes.  TRAC #22251  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1672 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Made the D3D objects returned by RenderStateCache into weak pointers.  TRAC #22339  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1671 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
When creating ShaderResourceViews -1 should be used for 'all MipLevels' not 0.  TRAC #22337  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1670 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds Renderer11::createTexture functions.  TRAC #22336  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1669 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cached texture and event support on Renderer9.  TRAC #22232  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1668 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::setTexture.  TRAC #22252  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1667 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a typo in an error message.  TRAC #22251  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1666 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::setSamplerState.  TRAC #22251  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1665 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented sampler state caching in the RenderStateCache.  TRAC #22251  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang/Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1664 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add sampler state conversion functions.  TRAC #22251  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1663 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move sampler state structure to angle types header.  TRAC #22251  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang/Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1662 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes places where TextureStorage could have leaked memory during initialization.  TRAC #22250  Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1661 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create ShaderResourceViews for TextureStorage objects  TRAC #22250  Author: Shannon Woods  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1660 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use identical types for VS and PS varyings.  TRAC #22241 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1659 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
DX11 wants VS output and PS input to be in the exact same order.  TRAC #22241 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1658 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
DX11 index buffer offset is in bytes.  TRAC #22332 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1657 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the number of vertices for DrawIndexed to draw.  TRAC #22332 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1656 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
SUCCEEDED assertions fixed.  Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1655 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Patch fixes that should have made it into prior patch for renderable migration.  TRAC #22211  Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1654 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Migrates textures to render targets with copyToRenderTarget in DX11.  TRAC #22211  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1653 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Copies data from the staging texture to the default texture.  TRAC #22210  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1652 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds a function to update a level of a TextureStorage from another resource.  TRAC #22210  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1651 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds getStagingTexture to Image11  TRAC #22210  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1650 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds cube descendant of TextureStorage11  TRAC #22209  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1649 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds TextureStorage11 class and 2D descendant  TRAC #22009  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1648 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use shader D3D optimization level 0.  Review URL: https://codereview.appspot.com/6943062  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1637 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensured that the mUsesPointSprites flag is properly preserved when loading shaders from binary cache.  BUG=https://code.google.com/p/angleproject/issues/detail?id=389 Review URL: https://codereview.appspot.com/6884053  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1636 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated storing decorated uniform names.  TRAC #22326 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1635 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated D3DConstantTable.  TRAC #22326 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1634 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Always link uniforms directly retrieved from the compiler.  TRAC #22326 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1633 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed declaring arrays within structures.  TRAC #22326 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1632 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Assign register indexes to dx_ constants and intercept them.  TRAC #22326 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1631 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented support for DX11 sampler uniforms.  TRAC #22242 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1630 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented support for DX11 uniform arrays.  TRAC #22239 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1629 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented basic applying of uniform values for DX11.  TRAC #22239 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1628 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Link uniforms.  TRAC #22239 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1627 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Retrieve active uniforms.  TRAC #22239 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1626 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Provide an API for accessing the uniform array.  TRAC #22239 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1625 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Declare active uniforms.  TRAC #22239 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1624 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Collapsed register indexes into one.  TRAC #22293 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1623 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Assign constant registers manually in HLSL.  TRAC #22293 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1622 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add utility methods for determining register count.  TRAC #22293 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1621 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Simplified uniform/varying/attribute output.  TRAC #22293 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1620 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a bug in Renderer11::clear where the wrong render target is fetched.  TRAC #22246  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1619 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::drawElements.  TRAC #22246  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1618 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds new functions to support load*Data for DX11-supported formats  TRAC #22294  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1617 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renames current load*Data functions to clarify destination format.  TRAC #22294  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1616 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes extraneous D3D9-ims in TextureStorage code.  TRAC #22300  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1615 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves creation of renderer-specific texture storage objects to the renderer.  TRAC #22300  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1614 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renames classes in the TextureStorage heirarchy for clarity  TRAC #22300  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1613 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves TextureStorage class to TextureStorage9 mostly.  TRAC #22300  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1612 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Creates the TextureStorageInterface class  TRAC #22300  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1611 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::applyVertexBuffer and Renderer11::applyIndexBuffer.  TRAC #22238  Author: Geoff Lang Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1610 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created InputLayoutCache for D3D11 input layouts and vertex buffer application.  TRAC #22235  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1609 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented IndexBuffer11.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1608 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Integrated new IndexBuffer into IndexDataManager and Renderer9.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1607 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an IndexBuffer creation method to Renderer.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1606 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented IndexBuffer9.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1605 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added abstract IndexBuffer class.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1604 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed IndxBuffer to IndexBufferInterface.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1603 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved IndexBuffer into its own file.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1602 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed some paths in the angle gypi project file.  TRAC #22237  Author: Geoff Lang Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1601 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed missing files in visual studio project filters.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1600 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an additional null check in VertexBuffer9::discard.  TRAC #22227  Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1599 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented VertexBuffer11.  TRAC #22227  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1598 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Combine major minor and build revision as the program binary version.  TRAC #22245 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1597 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Provide a stub for Renderer11::applyUniforms.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1596 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move Uniform to separate files.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1595 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move setting the uniforms to the Renderer implementation.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1594 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove special handling of DX constants as uniforms.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1593 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Creates Image11 class  TRAC #22208  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1592 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renames "dx9" utility namespace to "d3d9"  TRAC #22208  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1591 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds a utility function to calculate the size of a pixel given a DXGI format.  TRAC #22208  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1590 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Change VertexBufferInterface and VertexDataManager to use new VertexBuffer.  TRAC #22226  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1589 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added vertex buffer creation methods to renderer.  TRAC #22226  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1588 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented VertexBuffer9.  TRAC #22225  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1587 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add abstract VertexBuffer class.  TRAC #22225  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1586 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed VertexBuffer to VertexBufferInterface.  TRAC #22225  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1585 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Apply DX constants directly.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1584 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't expose DX constants as GL uniforms.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1583 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Combine dx_Depth and dx_FrontCCW into dx_DepthFront.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1582 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move isTriangleMode to utilities.h.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1581 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compute gl_FrontFacing using a single float constant.  TRAC #22245 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1580 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Merged the VertexBuffer and ArrayVertexBuffer classes.  TRAC# 22224  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1579 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved VertexBuffer and derivations into VertexBuffer.h/cpp.  TRAC# 22224  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1578 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed line endings in visual studio project files.  TRAC# 22224  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1577 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move program binary serial caching to renderer  Trac #22249 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1576 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure state caching variables are handled consistently in markAllStateDirty  Trac #22249 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1575 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves renderer-agnostic portions of GenerateMip to their own header  TRAC #22254  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1574 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renames TextureSSE2 to ImageSSE2 and moves it to the renderer directory.  TRAC #22254  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1573 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Migrate Image to Image9 and add an abstract base  TRAC #22254  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1572 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves GenerateMipmap function to the Renderer  TRAC #22254  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1571 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Passes a base-class Renderer pointer to Image where needed instead of Renderer9  TRAC #22254  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1570 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds a function to the Renderer which will return a newly created Image.  TRAC #22254  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1569 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changes the Image array contained in Texture classes to an array of Image pointers.  TRAC #22254  Author: Shannon Woods Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1568 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move NullColorbuffer handling from Framebuffer to Renderer9  Trac #22229  Uses a 12-entry LRU cache to avoid recreating them unnecessarily.  Signed-off-by: Nicolas Capens Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1567 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix implicit vector truncation warnings.  TRAC #22218 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1566 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add explicit std:: namespace to code from <cXYZ> includes.  Some platforms seem to implicitly include the <XYZ.h> headers which also add some types and functions (like strlen size_t...) into the global namespace.  On other platforms though this can result in compile errors which is noticeable in WebKit on e.g. QNX. See also: https://bugs.webkit.org/show_bug.cgi?id=95468  https://codereview.appspot.com/6843083/  Contributed by Milian Wolff Klaralvdavens Datakonsult AB.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1565 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Limit struct size to size of full shader constant.  The HLSL compiler can optimize out the last elements of a struct which caused ANGLE to overwrite constants right after the end of the struct. Each element in a struct should be limited by the size of the entire struct.  BUG=  Review URL: https://codereview.appspot.com/6856100  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1564 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix mixed line endings in generateshader.bat  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1552 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove empty preprocessor/new directory    git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1551 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version on dx11proto branch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1550 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Scissor test state is set as part of the Renderer::setScissor method.  TRAC #22206  Moved scissorTest out of RasterizerState. Fixes buffer-offscreen-test and buffer-preserve-test CTS regressions.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1549 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed D3DConstant table IndexDataManagerVertexDataManager and vertexconversion namespaces.  TRAC #22198  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1548 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved D3DConstantTable IndexDataManager VertexDataManager and vertexconversion files.  TRAC #22198  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1547 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move HLSL compilation to Renderer.  TRAC #22205 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1546 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move constant table retrieval out of compileToBinary.  TRAC #22205 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1545 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::drawArrays.  TRAC #22153 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1544 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed setting write masks when not alpha blending.  TRAC #22153 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1543 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the semantic for SM4+ vertex output position.  TRAC #22153 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1542 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement Renderer11::applyShaders.  TRAC #22153 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1541 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented SwapChain11::swapRects.  TRAC #21930  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1540 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a SM4 pass through shader.  TRAC #21930  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1539 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
SwapChain11 is now created with the correct dimensions.  TRAC #21930  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1538 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed SwapChain11's textures and views.  TRAC #21930  Renamed SwapChain11's textures and views to better represent if they are for the back buffer or offscreen texture.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1537 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Apply the input topology.  TRAC #22151 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1536 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store the shader bytecode in ShaderExecutable to pass it to CreateInputLayout.  TRAC #22191 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1535 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create and set a basic vertex buffer.  TRAC #22153 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1534 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create and set a basic input layout.  TRAC #22153 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1533 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement applyPrimitiveType for Renderer11.  TRAC #22153 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1532 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::loadExecutable.  TRAC #22191 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1531 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add ShaderExecutable11 files.  TRAC #22191 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1530 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::compileToExecutable.  TRAC #22191 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1529 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Load the compiler module for D3D11.  TRAC #22191 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1528 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use SV_Target semantic for gl_Color when compiling for Shader Model 4+.  TRAC #22191 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1527 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Skip applying uniforms for the D3D11 renderer (unimplemented for now) to make ProgramBinary back-end independent.  TRAC #22191 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1526 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove getRenderer9 from Display  Trac #22200 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1525 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove unnecessary d3d9.h includes  Trac #22200 Signed-off-by: Geoff Lang Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1524 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::clear for basic clear operations.  TRAC #22150  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1523 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed an incorrect return value.  TRAC #22149  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1522 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::applyRenderTargets.  TRAC #22149  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1521 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added getter methods to RenderTarget11 for the render target and depth stencil views.  TRAC #22149  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1520 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the mRenderTargetDesc member from Context.  TRAC #22145  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1519 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an ignoreViewport parameter to Renderer::setViewport.  TRAC #22145  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1518 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored Renderer::setDepthStencilState to no longer require the stencil size parameter.  TRAC #22145  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1517 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored Renderer::setRasterizerState to no longer need a depthSize parameter.  TRAC #22145  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1516 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored Renderer::setViewport to no longer take render target size arguments.  TRAC #22145  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1515 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored Renderer::setScissor to no longer require render target size.  TRAC #22145  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1514 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added currently set render target information to Renderer11.  TRAC #22145  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1513 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Release Blob after creating executables.  Trac #22155 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1512 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix line endings on a number of files  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1511 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Get rid of ShaderExecutable9 usage in ProgramBinary  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1510 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make shaderExecutable::getConstantTable virtual  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  Should be temporary until we figure out what we're doing in ProgramBinary for d3d11 shaders  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1509 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a get*Function method to the ShaderExecutable interface  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  This allows ProgramBinary::save to avoid knowing about D3D9 shaders  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1508 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix pointer type for GUID in ProgramBinary::load  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1507 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Inline the Renderer9::compilerShaderSource function  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1506 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store ShaderExecutables on the ProgramBinary instead of d3d9 shaders  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  Also hooks up binary loading to the loadExecutable function. The other notable change is that getVertex/Pixel shader no longer add reference counts to the returned objects.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1505 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add loadExecutable function to Renderer  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  factored out of compileToExecutable as we also need this when loading binaries from disk.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1504 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move compileToBinary to Renderer  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  The body of compileToBinary was moved to Renderer9 and the ProgramBinary simply calls compileToExecutable which does both the compilation to binary and creation of the shaders which are then wrapped into a ShaderExecutable and then returned.  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1503 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove the ConstantTable member variables  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  Since we no longer keep them as member variables we need to make sure we delete them before leaving the function.  This made it necessary to reflow some of the logic.  We can now attempt more parts of linking even if it will ultimately fail but sometimes the partial link information is useful (ie for attributes).  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1502 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Explicitly pass constant tables to linkUniforms  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1501 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Explicitly pass the constant tables to the defineUniform function  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1500 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove default parameter from ProgramBinary::defineUniform and make it explicit  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1499 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add ShaderExecutable and ShaderExecutable9 classes to encapsulate back-end specific shader-isms.  Trac #22155 Signed-off-by: Geoff Lang Signed-off-by: Nicolas Capens Author: Shannon Woods & Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1498 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use convenience function for downcasting the renderer.  TRAC #22016 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1497 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Silence unimplemented asserts and implement retrieving adapter information.  TRAC #22072 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1496 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Retrieve the shader model number instead of a shader model 3 support boolean.  TRAC #22072 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1495 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate D3D9 from Context.  TRAC #22016 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1494 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clean up passing around translated index data.  TRAC #22016 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1493 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the index data manager and draw calls into the renderer implementation.  TRAC #22016 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1492 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove Intel specific workaround.  TRAC #22179 Reverts https://codereview.appspot.com/6460100 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1491 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved VertexDeclarationCache to its own header and source file.  TRAC #22016 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1490 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move blitter creation / destruction to device specific initialization / release.  TRAC #22016 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1489 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::setViewport.  TRAC #22148  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1488 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed clear implementation from Context.  TRAC #22125  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1487 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer9::clear.  TRAC #22125  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1486 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed the Renderer::clear method parameters to use the new ClearParameters structure.  TRAC #22125  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1485 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added clear type enum and clear parameters structure.  TRAC #22125  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1484 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves checkDeviceLost to renderer9_utils.h  TRAC #22141  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1483 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves applyShaders to Renderer  TRAC #22154  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1482 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds RenderTarget11 type  TRAC #22134  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1481 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes getSurface function from base RenderTarget  TRAC #22134  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1480 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds makeRenderer9/11 functions  TRAC #22134  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1479 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves creation of RenderTargets to the renderer.  TRAC #22134  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1478 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds makeSwapChain9/11 functions.  TRAC #22134  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1477 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes line endings on SwapChain9 and SwapChain11  TRAC #22134  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1476 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add applyVertexBuffer stub for D3D11 renderer.  TRAC #22016 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1475 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the vertex data manager and vertex declaration cache from Context to Renderer9.  TRAC #22016 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1474 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pull Context dependencies out of applyVertexBuffer().  TRAC #22016 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1473 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed bug with scissor rectangles Y values being clamped incorrectly.  TRAC #22167  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1472 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't call gl::output unless perf is enabled.  gl::output allocates a pretty large stack buffer so it has to call _chkstk. This is rather slow so avoid calling gl::output if perf and tracing are disabled.  BUG=  Review URL: https://codereview.appspot.com/6843043  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1471 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version.  tbr=kbr Review URL: https://codereview.appspot.com/6826081   Conflicts:  	src/common/version.h  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1470 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement user-defined name hashing.  ANGLEBUG=315 Review URL: https://codereview.appspot.com/6818109  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1469 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version.  Review URL: https://codereview.appspot.com/6818111  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1468 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove dependency on d3dcompiler import library.  It is now loaded with LoadLibrary.  Added compile time option of having ANGLE enumerate various versions of d3dcompiler_nn.dll that the application can preload before eglInitialize(). Review URL: https://codereview.appspot.com/6816074  Author: Al Patrick (applied to branch)  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1467 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Interface design for user-defined name hashing.  1) We use BuiltInResources to pass the hash function to    ANGLE deciding whether we applies hash function or not. 2) We use 64 bits hashing function because 64 bits is 16    bytes using hex representation plus the "webgl_" prefix    we can keep the names under 128 (WebGL allows 5 levels of    nesting in structures).  If chooseing 128 bits we will    go beyond 128 characters and some drivers can't handle    that safely.  ANGLEBUG=315 Review URL: https://codereview.appspot.com/6822077  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1466 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use D3D compiler optimization level 3.  The is to try and fix some three.js lighting issues. It appears optimization level 0 has a loop unrolling bug. The compiler returns success but the shader does not work. All other optimization levels work. http://crbug.com/153105.  Repro here:  http://alteredqualia.com/tmp/tests/angle-issues/webgl_materials_normalmap_test.html  Both heads should look the same. Review URL: https://codereview.appspot.com/6821060  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1465 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed some warnings on GCC  Mozilla has recently made using NULL as integer an error (via -Werror=conversion-null GCC flag) which caused ANGLE to no longer compile on mingw in Mozilla tree. The ones that may not be obvious are removal of some <0 checks. They are not needed because they were done on unsigned types.  Author: Jacek Caban http://codereview.appspot.com/6679049  (With changes to apply to dx11proto branch)  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1464 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the setRenderTarget and setDepthStencil methods from the Renderers.  TRAC #22124  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1463 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Context::applyRenderTargets now uses Renderer::applyRenderTargets.  TRAC #22124  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1462 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer9::applyRenderTarget using Context::applyRenderTarget's code.  TRAC #22124  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1461 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renderer::applyRenderTarget now returns a success/failure bool.  TRAC #22124  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1460 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Created a Renderer9::markAllStateDirty method and moved state initialization into it.  TRAC #22124  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1459 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Invalidate client window area when resetting swap chain  Resizing a window larger results in the newly exposed region being invalidated but the old region is treated as valid. This can result in the old region no longer updating. This has been observed on Windows 7 64-bit with Aero theme using NVIDIA GeForce GTS 250 and driver version 301.42. Invalidate the entire client window area when resetting the swap chain so that it updates properly.  Original bug report: https://bugreports.qt-project.org/browse/QTBUG-27822 Review: http://codereview.appspot.com/6812076/ Author: Jonathan Liu  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1458 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revision 5 of ANGLE_MRT  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1457 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented SwapChain11 initialization.  TRAC #21928 Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1456 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Context now uses Renderer::setViewport.  TRAC #22116  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1455 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Context now uses a Rectangle struct for storing viewport.  TRAC #22116  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1454 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an abstract Renderer::setViewport method and implemented it for Renderer9.  TRAC #22116  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1453 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed unused Display member of Context.  TRAC #22116  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1452 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes the include guards on RenderTarget9  TRAC #22140  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1451 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes calls from Context to retrieve d3d9 surfaces  TRAC #22094  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1450 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass the RenderTarget not the D3D surface up the Renderbuffer heirarchy.  TRAC #22094  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1449 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds a function to Framebuffer to retrieve depth OR stencilbuffer.  TRAC #22094  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1448 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds RenderTarget pointer to TextureStorage.  TRAC #22094  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1447 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove SwapChain.cpp from the GYP project.  TRAC #21926 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1446 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Split the swap chain into an abstract interface and a D3D9 implementation.  TRAC #21926 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1445 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds renderer functions for rendertarget operations.  TRAC #22093  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1444 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use ANGLE's rect instead of D3D's in blitFramebuffer.  TRAC #22093  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1443 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Stores render target description without D3D9 reliance.  TRAC #22093  Signed-off-by: Geoff Lang Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1442 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved the static initializers of RenderStateCache's constants to the top of the cpp file.  TRAC #22129  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1441 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::setDepthStencilState.  TRAC #22044  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1440 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added depth stencil state caching to the RenderStateCache.  TRAC #22044  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1439 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved the stencilRef and stencilBackRef back to Context's state structure.  TRAC #22044  stencilRef and stencilBackRef are now set through the setDepthStencilState on Renderer.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1438 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added utility functions for gl to D3D11 depth stencil states.  TRAC #22044  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1437 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::setRasterizerState and Renderer11::setScissorRectangle.  TRAC #22043  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1436 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added Rasterizer state caching to the RenderStateCache.  TRAC #22043  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1435 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a utility function for gl to D3D11 rasterizer states.  TRAC #22043  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1434 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented Renderer11::setBlendState using the new RenderStateCache.  TRAC #22042  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1433 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a RenderStateCache class for caching D3D11 blend depth stencil and rasterizer states.  TRAC #22042  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1432 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a third party library: MurmurHash3.  TRAC #22042  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1431 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added utility functions for gl to d3d11 blend states.  TRAC #22042  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1430 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds RenderTarget wrapper class for surfaces and views.  TRAC #22092  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1429 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds function to convert depth *and* backbuffer formats.  TRAC #22092  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1428 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make egl::Surface independent of the Renderer implementation.  TRAC #21926 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1427 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add stubs for missing virtual method implementations.  TRAC #21926 Signed-off-by: Daniel Koch Signed-off-by: Geoff Lang Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1426 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed issues with state force flag initialization and applyRenderTarget placement.  TRAC #22041  Fixed the state force flags being incorrectly initialized in Renderer9's destructor they are now in the constructor.  Renderer::applyRenderTarget is now correctly called fromt he begining of Context::applyRenderTarget instead of the end.  Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1425 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the dirty state flags from Context.  TRAC #22041  Renderers will now be minimizing state changes themselves.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1424 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an abstract Renderer::clear method.  TRAC #22041  Unimplemented in Renderer11 and Renderer9 only forces the depth stencil state to reset.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1423 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Context now uses the new structures storing state.  TRAC #22041  Context now uses the new structures for holding rasterizer blend depth stencil and scissor state andcalls the new set methods on the Renderer interface to set state.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1422 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added abstract methods to Renderer for state setting.  TRAC #22041  Added abstract methods for setting rasterizer blend depth stencil render targets and scissors on Renderer. Implemented methods on Renderer9 using the state setting from Context as a reference and new members for storing prevously set state to minimize graphics device calls. Implemented methods on Renderer11 with the UNIMPLEMENTED notice.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1421 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a rectangle structure for holding viewport/scissor information.  TRAC #22041  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1420 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added structures for rasterizer blend and depth stencil state.  TRAC #22041  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1419 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved the Color struct to AngleTypes.h.  TRAC #22041  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1418 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed EnumTypes.h to angletypes.h.  TRAC #22041  Updated the include guard and documentation and updated all locations where EnumTypes.h was included.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Geoff Lang  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1417 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds conversion functions for DXGI-to-GL texture and renderbuffer formats.  TRAC #22065  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1416 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renames es2dx and dx2es namespaces to something better.  TRAC #22002  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1415 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves Image & Renderer into rx namespace  TRAC #22002  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1414 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves the Blitter into the Renderer's domain  TRAC #22001  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1413 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
IDXGISwapChain1::Present1 supports a sync interval of 0 to 4 for all devices.  TRAC #22056 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1412 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Test for valid back buffer and depth stencil formats.  TRAC #22056 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1411 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add stubs for missing virtual method implementations.  TRAC #22056 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1410 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves copyToRenderTarget to Renderer  TRAC #22000  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1409 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes getDisplay and getContext calls  TRAC #22000  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1408 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves ConvertTextureInternalFormat to the Renderer  TRAC #22000  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1407 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Passes the Renderer to various objects at construction time.  TRAC #22000  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1406 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Passes pointer to Renderer to Framebuffer at construction.  TRAC #22000  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1405 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass the Renderer to the ResourceManager at construction time.  TRAC #22000  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1404 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminates usage of Display from Context::makeCurrent.  TRAC #22000  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1403 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass the Renderer to the Context at construction time  TRAC #22000  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1402 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Contain DX9 back buffer and depth stencil surface formats.  TRAC #22056 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1401 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement texture dimension limits and 32-bit index queries.  TRAC #22056 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1400 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create a Direct3D 11 device if enabled and available.  TRAC #21925 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1399 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved Renderer creation/destruction out of Context.cpp into Renderer.cpp.  TRAC #21925 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1398 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved declarations of EGL dependencies to main.h.  TRAC #21925 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1397 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a Renderer11 class for the d3d11 backend.  Trac #21925  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1396 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update minor version number for branch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1382 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
fix early return value from resetSwapChain  Trac #22003  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1381 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Misc fixes to renderer  Trac #22003 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1380 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename renderer namespace to rx  Trac #21999 Author: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1379 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handle software device creation at the Renderer9 level.  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1378 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Explicitly retrieve a Renderer9 or Renderer interface from Display.  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1377 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves portions of utilities specific to D3D9 to the Renderer's domain  TRAC #21931  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1376 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Alters the blitter's copy function so that you can pass a framebuffer to it directly.  TRAC #21910  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1375 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves mipmap generation to texture storage and image objects.  TRAC #21910  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1374 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves copyToRenderTarget operation into texture storage object.  TRAC #21910  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1373 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminates getD3DTexture instead returning the texture storage object.  TRAC #21910  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1372 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Passes texture storage object to image directly to update its surfaces  TRAC #21910  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1371 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Passes the swapchain to texture storage constructor instead of d3d texture.  TRAC #21910  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1370 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initializes storage from GL params instead of D3D params  TRAC #21910  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1369 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves static d3d texture format conversion utilities to TextureStorage.  TRAC #21910  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1368 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Mostly eliminates usage of getD3DFormat in Texture.  TRAC #21906  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1367 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds functions to derive R/G/B/A/Stencil/Depth sizes from GL formats instead of D3D.  TRAC #21906  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1366 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the project filter.  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1365 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added missing files to the GYP file.  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1364 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves TextureStorage class to its own file in the Renderer directory  TRAC #21909  Author: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1363 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves Image class to its own file in the Renderer's directory.  TRAC #21909  Author: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1362 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix minor spacing issue blocking merge  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1361 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated the dependency of VertexDataManager and IndexDataManager on Context.  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1360 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Encapsulated memory pool details for vertex and index buffer creation.  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1359 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Split Renderer into version independent interface and Renderer9 implementation.  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1358 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated isD3d9ExDevice().  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1357 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated D3DADAPTER_IDENTIFIER9 uses.  TRAC #21963 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1356 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass swapchain to DepthStencil constructor instead of d3d9 surface  Trac #21810 Signed-off-by: Nicolas Capens  Also get rid of unused StencilBuffer and Depthbuffer constructors  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1355 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass swapchain to Colorbuffer constructor instead of a d3d9 surface  Trac #21810 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1354 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove min/max swapinterval from Display. Get from Renderer if needed.  Trac #21810 Signed-off-by: Nicolas Capens  Also have the Surface explicitly hang onto the Renderer  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1353 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix share handle usage  Trac #21810 Signed-off-by: Nicolas Capens  I don't think it was possible to use the sharehandle passed in and if one was we shouldn't clear it on release()  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1352 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add renderer::SwapChain class and move functionality from egl::Surface  Trac #21810 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1351 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves Config generation to Renderer.  TRAC #21819  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1350 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds D3DFMT_UNKNOWN to depth stencil format conversion function.  TRAC #21819  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1349 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds constant format arrays to Renderer class  TRAC #21819  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1348 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes D3D types from the Config class  TRAC #21819  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1347 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Temporarily adds format conversion functions to EGL.  TRAC #21819  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1346 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes mConfig from Context as it was only used for setting unused default values.  TRAC #21819 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1345 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes the unused setDefaults function  TRAC #21819  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1344 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes getContext calls from Colorbuffer and DepthStencilbuffer constructors.  TRAC 21817  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1343 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves multisample support data to Renderer from Context.  TRAC #21817  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1342 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes d3d9 device usage from IndexDataManager and subjugate classes.  TRAC #21816  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1341 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove d3d9 devices from use in VertexDataManager and subjugate classes  TRAC #21816  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1340 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes D3DCaps from Context and Display instead querying Renderer for support status.  TRAC #21611  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1339 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix merge compilation errors    git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1338 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move SetTexture calls to the renderer class  Trac #21727  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1337 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move sampler state setting to the Renderer  Trac #21727  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1336 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move texture sampler state into a separate sampler state structure.  Trac #21727  Conflicts:  	src/libGLESv2/Texture.cpp  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1335 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate use of global getDevice() function.  Trac #21727  Everything must go through the renderer.  Conflicts:  	src/libGLESv2/Texture.cpp  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1334 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move shader cache into Renderer  Trac #21727  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1333 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make testDeviceLoss able to perform the notifications  Trac #21727  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1332 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move query and sync support to Renderer  Trac #21727  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1331 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move Sharehandle support query to renderer  Trac #21727  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1330 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add Renderer class and move functionality from Display  Trac #21727  Conflicts:  	src/libGLESv2/Texture.cpp 	src/libGLESv2/libGLESv2.vcxproj  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1329 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
creating branch for dx11 prototype  git-svn-id: https://angleproject.googlecode.com/svn/branches/dx11proto@1328 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Issue 354: remove ANGLE_USE_NSPR (revert r454)  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1327 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the new preprocessor out of the 'new' directory.  TRAC #21966 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1326 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the old preprocessor source interface and license.  TRAC #21966 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1325 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the compile flag to select between preprocessors always using the new one.  TRAC #21966 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1324 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoids uploading levels other than 0 for incomplete textures.  TRAC #21815  Fixes compressed texture test assertion in WebGL top-of-tree conformance suite when running with debug build  Signed-off-by: Daniel Koch Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1323 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix Float16ToFloat32.py. Issue #376. Review URL: https://codereview.appspot.com/6651047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1320 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add missing <string> include in D3DConstantTable.h  Issue=379  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1318 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add Variable Packing checks to ANGLE  BUG=373 TEST=unit tests    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1317 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
.gitignore: Add *.target.mk generated when building as part of ChromiumOS  BUG=None TEST=Build Chromium and ChromiumOS from source and run "repo status"     with and without this change.  Contributed by Josh Triplett <josh.triplett@intel.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1316 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update project includes to remove explicit DXSDK usage.  Trac #21647  This allows ANGLE to be built with either the Win8 SDK or the DX SDK with appropriate configuration on a VS2010 install.  See wiki for details.  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1315 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only replace image surfaces with equal-sized managed surfaces.  TRAC #21621 Issue=311 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1314 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed support for updating from managed surfaces.  TRAC #21621 Issue=311 Signed-off-by: Daniel Koch Author: Nicolas Capens (Fixes XP path that was broken in r1308)  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1313 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated D3DXLoadSurfaceFromSurface from glGenerateMipmaps.  TRAC #21621 Issue=311 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1312 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated D3DXLoadSurfaceFromSurface from Image::copy.  TRAC #21621 Issue=311 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1311 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated D3DXLoadSurfaceFromSurface from copyToRenderTarget.  TRAC #21621 Issue=311 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1310 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate D3DXLoadSurfaceFromSurface from setManagedSurface.  TRAC #21621 Issue=311 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1309 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed an unreachable path in texture loading code  TRAC #21621 Issue=311 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1308 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Also prototype the Lod0 function variant if needed.  TRAC #21842 Issue=374 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1307 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make DllMain have C linkage.  TRAC #21839 Issue=377 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1306 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't promote packed RGB textures to RGBA d3d surfaces.  TRAC #21591 Issue=362  Signed-off-by: Daniel Koch  Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1305 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Some cleanup after the previous sized internal format patches  TRAC #21609  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1304 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes D3D format usage from framebuffer completeness check.  TRAC #21609  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1303 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds BGRA packed sized internal formats  TRAC #21609  Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1302 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Tracks sized internal formats for textures.  TRAC #21609  Signed-off-by: Daniel Koch  Author:    Shannon Woods <shannon.woods@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1301 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add filter files for VS2010 Solution browser  Trac #21647  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1300 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes cases where desired destination format was ignored by CopyTexImage.  TRAC #21595 Issue=339  Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1299 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Delete old .vcproj files that were replaced by .vcxproj files  Trac #21647 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1298 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add DXSDK_DIR include and lib paths  Trac #21647 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1297 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adjust dependencies for samples  Trac #21647 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1296 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add auto converted .vxcproj files for VC++ 2010 Express  Trac #21647 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1295 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update standalone solution files to VC++ 2010 Express  Trac #21647 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1294 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed the name of the extension exposed to shaders to GL_ANGLE_multiple_render_targets in order to match the GL extension name. Using XYZ_draw_buffers as in GL_ARB_draw_buffers and GL_NV_draw_buffers was causing inconsistencies. Review URL: https://codereview.appspot.com/6715045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1293 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Based on feedback from Al Patrick Nicolas Capens and Daniel Koch removed the restriction about draw buffer 0 having to be non-NULL if any higher draw buffers are non-NULL. Appears this can be supported with a NULL FOURCC render target. Removed issue and adjusted introductory text. Review URL: https://codereview.appspot.com/6725048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1292 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed issues pointed out by gman; removed references to GetDoublev and ReadBuffer which don't exist in either OpenGL ES 2.0 or 3.0. Review URL: https://codereview.appspot.com/6681043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1291 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add draft ANGLE_multiple_render_targets extension. Review URL: https://codereview.appspot.com/6642069  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1290 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Retry D3DCompile with different compile settings if it fails.  Now also tries with D3DCOMPILE_AVOID_FLOW_CONTROL and D3DCOMPILE_PREFER_FLOW_CONTROL. Review URL: https://codereview.appspot.com/6593069  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1289 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimized adding dirty rectangles.  TRAC #21588 Issue=353 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1288 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make sure the driver knows the texture is dirty when only lower level mipmaps are updated.  TRAC #21588 Issue=353 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1287 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Generate a more descriptive error when trying to initialize a const array.  TRAC #21589 Issue=359 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1286 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only look at whether the member variable has an array prefix.  TRAC #21593 Issue=367 Signed-off-by: Daniel Koch Signed-off-by: Shannon Woods Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1285 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds missing formats to ComputePixelSize  TRAC #21607  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1284 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds support for per-framebuffer IMPLEMENTATION_COLOR_READ_FORMAT and TYPE  TRAC #21607  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1283 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix bug 368: Specify the Levels parameter of CreateCubeTexture and CreateTexture correctly.  This fixes ATS test cases 3884038841 (while making sure that 44095 44096 44097 44100 44101 44102 still work)  The Direct3D spec for the 'Levels' parameter of IDirect3DDevice9::CreateCubeTexture (and IDirect3DDevice9::CreateTexture) says: "If this is zero Direct3D will generate all cube texture sublevels down to 1x1 pixels for each face for hardware that supports mipmapped cube textures."  The 'levels' parameter can be 0 (which means "generate all texture sublevels") or a non-zero value for the actual number of levels to create (often 1 if mapmapping is disabled). But 1x1 and 2x2 mipmapped textures are not supported so textures with these dimensions will actually create a 4x4 texture and set mLodOffset to 2 or 1 respectively so that the level index can be offset as appropriate. There is only one special case (for textures with dimensions smaller than 4): when levels=1 and the texture is 2x2 it is unnecessary to create all miplevels since the 1x1 texture will never be used.  For all other cases all miplevels must be generated even though the upper ones will be unused in order to generate the lower ones.  If 'levels' is zero all miplevels must always be generated. It's important to preserve the special case to ensure that attempting to access the non-existant level produces the correct error. So if 'levels' is zero the 'Levels' parameter should always be zero otherwise it's the sum of 'levels + mLodOffset'  Also the calls to 'creationLevels' from the TextureCubeMap methods were not quite right.  Passing a zero for the second parameter causes this API to always fail since '0' is not a power of two.  There is already a version of 'creationLevels' that takes just one parameter and works correctly so just deleting the extra parameter fixes this problem.  BUG=https://code.google.com/p/angleproject/issues/detail?id=368  TEST=Run test cases 38840 38841 44095 44096 44097 44100 44101 44102 in http://ats.macromedia.com/Players/ATS/ATS10AS3/Staging/ATS.html?dynamicXML=false&wmode=direct&section=Manual&xmlSetURL=http://fpqa.macromedia.com/crospepperbuild/XMLSets/ATS10AS3ManualPepper.xml  Review URL: https://codereview.appspot.com/6492098  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1279 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Returns early from createTexture if its width or height are zero.  TRAC #21594 Bug=350  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1278 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Skip drawing points when gl_PointSize isn't written.  Trac #21574 Bug=365 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1277 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure texture level count accounts for lod offset.  The lower texture levels (below the lod offset) aren't used and can't be seen so don't count them in levelCount.  BUG=  Review URL: https://codereview.appspot.com/6492084  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1275 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add D3DConstantTable.* to build_angle.gypi. Review URL: https://codereview.appspot.com/6497092  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1274 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Emit "#version 120" if the shader has array as out parameter. Review URL: https://codereview.appspot.com/6494082  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1273 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix bad commit. Review URL: https://codereview.appspot.com/6499078  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1272 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement D3DConstantTable.  Remove ProgramBinary dependencies on D3DX. Review URL: https://codereview.appspot.com/6485061  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1271 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replace D3DXFloat16To32Array.  Method described here: ftp://ftp.fox-toolkit.org/pub/fasthalffloatconversion.pdf Review URL: https://codereview.appspot.com/6506058  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1270 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reconcile AUTHORS and CONTRIBUTORS files  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1269 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move targets from src\build_angle.gyp to src\build_angle.gypi  This enables Skia to compile ANGLE Review URL: https://codereview.appspot.com/6492063  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1268 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow glUniform to set nth element of array of structs uniform where n != 0. Review URL: https://codereview.appspot.com/6477046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1267 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid storing references to temporary strings in RenameFunction  Issue=360 Review URL: https://codereview.appspot.com/6483045/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1266 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable npot texture support on AMD cards on XP.  We had been seeing some BSODs due to this.  BUG=  Review URL: https://codereview.appspot.com/6485058  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1264 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add Jacek Caban to Authors list  Issue=358  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1263 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved SSE2 code to separated file to allow using different compiler flags on GCC  To use SSE2 in GCC a compiler -msse2 flag is needed. It adds both possibility to write SSE2 code in the file but also allows compiles to optimize the whole file with SSE2. To make sure that the code works on non-SSE2 machines moving SSE2 functions to separated file and compiling only that file with -msse2 is the common practice.  Issue=358 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1262 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minor GCC fixes  - Added missing typename keyword - Use proper filenames includes (this matters when cross compiling on case sensitive OSes) - Added <string> include where GCC requires it - Avoid collision between enum variables and template params  Issue=358 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1261 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use unordered_map instead of hash_map on GCC  stdext namespace is a non-standard extension. Use standard std::unordered_map on GCC.  Issue=358 Signed-of-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1260 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed preprocessors errors on GCC  - Preprocessor variables need to be separated from string constants to be separated token - Use ##__VA_ARGS__ GCC extension to support empry __VA_ARGS__ (should be no-op on MSVC). See: http://www.delorie.com/gnu/docs/gcc/gcc_44.html for details.  The following series fixes compilation on GCC (from mingw-w64) and allows cross compiling the source on Linux. It was tested in Mozilla tree since ANGLE has no support for GCC in its build system.  Issue=358 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1259 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only round back buffer to 64 pixels when vendor ID in Intel.  This is actually to fix AMD / Intel switchable systems when using integrated Intel where the source rectangle to Present is not respected. Review URL: https://codereview.appspot.com/6459101  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1254 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reset shaders to null in makeCurrent. Review URL: https://codereview.appspot.com/6460100  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1253 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed version number  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1247 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Shader translator converted single-element vector swizzle to direct index access. It is not wrong but unnecessary and moreover it triggers a MESA optimizer bug. Review URL: https://codereview.appspot.com/6460074  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1246 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Round swap chain surfaces to 64 pixels in width. Review URL: https://codereview.appspot.com/6449123  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1245 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add angle_code var to common.gypi and build_angle.gyp. Add GCC and clang warning flags from WebKit to ANGLE Mac and Linux builds.  The angle_code var differentiates between core ANGLE code vs. test code sample code and third party code.  Review URL: https://codereview.appspot.com/6427049/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1244 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revert r1230.  See https://codereview.appspot.com/6427049/. Review URL: https://codereview.appspot.com/6422063  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1243 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make ProgramBinary a refcount object and use Binding pointers to maintain it's lifetime on context and program.  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens  This fixes the underlying bug since it allows the context to keep the program binary alive after a relink has occurred.    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1242 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Restore the explicit isLinked() method for Programs and fix link().  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens  If link fails we still need to keep the failed binary around for information such as number of active attributes varyings etc. Thus we can no longer use the presence of a binary to tell us if we've successfully linked a program object.    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1241 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Install new program binary when current program is successfully relinked or reloaded  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1240 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make Program link() and setProgramBinary() return the status of the operation  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1239 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
redirect the LinkProgram and ProgramBinary calls through the context.  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1238 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Explicitly track the current program binary instead of just caching it.  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1237 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't erase the cached program binary on deletion.  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens  This is unnecessary since the current program can never be deleted only flagged for deletion.    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1236 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cache the current program binary instead of the current program.  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens  Everywhere we used the currentProgram it was immediately used to get the program's binary.   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1235 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove Program serial tracking. It is no longer useful (or used).   Trac #21270 Bug=351 Signed-off-by: Nicolas Capens     git-svn-id: https://angleproject.googlecode.com/svn/trunk@1234 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use the ProgramBinary's serial to track changed D3D9 shaders instead of the Program's  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens  This is necessary since the shaders can change every time a new ProgramBinary is created (eg when re-linking or loading a new binary).    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1233 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add serial tracking to ProgramBinary  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1232 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass the programBinary directly to applyDeclaration  Trac #21270 Bug=351 Signed-off-by: Nicolas Capens    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1231 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add GCC and clang warning flags from WebKit to ANGLE Mac and Linux builds  Review URL: https://codereview.appspot.com/6427049/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1230 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Embed Blit shader byte code in binary.  Ran a WebGL conformance test that exercises the blitter - copy-tex-image-2d-formats. Review URL: https://codereview.appspot.com/6403043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1229 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix always true condition in assert in MacroExpander.cpp.  Issue: 349 Review URL: https://codereview.appspot.com/6420046/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1228 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Do not call MacroExpander::popMacro() from MacroExpander::~MacroExpander(). MacroExpander::popMacro() assumes that the macro being popped has been fully parsed. This may not be true for MacroExpander destructor which may get called anytime the compiler decides to abort the compilation process. This patch just deletes the macro-contexts pushed in the stack without validating the parse state of current macro.  BUG=348 Review URL: https://codereview.appspot.com/6415043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1227 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Bump version.h  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1226 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cache D3D vertex and pixel shader objects so they can be reused and shared by multiple contexts.  WebGL conformance tests did not regress. I verified they exercise the Blit code. Review URL: https://codereview.appspot.com/6345105  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1225 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make the new preprocessor backwards compatible with Bison 2.3  Review URL: http://codereview.appspot.com/6356098/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1224 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Recognize QNX as POSIX.  Review URL: https://codereview.appspot.com/6353097/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1223 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Scale up non-multiple-of-4 dxt textures  D3D doesn't support DXT textures that aren't a multiple of 4 in size so multiply the sizes by 2 or 4 so they work. Then ensure sampler parameters are set up correctly so they don't sample the unuploaded miplevels.  BUG=https://code.google.com/p/angleproject/issues/detail?id=237 TEST=  Review URL: https://codereview.appspot.com/6287045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1222 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement Anisotropic Texture filtering support  Bug=297 Authored-by: Conor Dickinson Cloud Party Inc. Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1219 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove dos-style line-endings (EOL changes only)  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1218 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version Review URL: https://codereview.appspot.com/6352103  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1217 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable OES_get_program_binary. Review URL: https://codereview.appspot.com/6349053  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1216 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make ProgramBinaries binary rather than text + binary. Review URL: https://codereview.appspot.com/6351082  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1215 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix vertex texture fetch.  The texture v coordinate was still being flipped.  Fixes http://code.google.com/p/chromium/issues/detail?id=136650. Review URL: https://codereview.appspot.com/6345095  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1214 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't set the Break flag on the last loop fragment.  TRAC #21167 ISSUE=338 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1213 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't check for Break on the first loop fragment.  TRAC #21167 ISSUE=338 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1212 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Indicate breaking out of an excessive loop using the loop index name.  TRAC #21167 ISSUE=338 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1211 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Keep track of the index name of excessive loops.  TRAC #21167 ISSUE=338 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1210 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use a single index for excessive loops.  TRAC #21167 ISSUE=338 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1209 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Limit HLSL loop scope to match that of GLSL for excessive loops.  TRAC #21167 ISSUE=338 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1208 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable debug logging on Release builds.  TRAC #21169 ISSUE=322 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1207 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disallow redefinition of built-in functions.  TRAC #21173 Issue=343 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1206 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
This patch reverts r1203 but in slightly different way. It seems there is a problem with the config of memory bots. The usage of std::locale in ANGLE is fine. Review URL: https://codereview.appspot.com/6392052  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1205 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reconstructed preprocessor.vcproj from libGLESv2.vcproj.  There was something different about the project properties in release builds that caused std::vector to have different member variable offsets leading to the samples crashing in Release builds. Removed stuff that was specific to libGLESv2.vcproj. Project now builds in all configs including x64. Review URL: https://codereview.appspot.com/6374050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1204 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Builds for chrome memroy bots (windows only) do not link due to the usage of std::locale the reason for which is still unknown. This patch avoids the usage of std::locale while still enforcing "C" locale and checking for overflow. Review URL: https://codereview.appspot.com/6392046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1203 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement binary streams. Review URL: https://codereview.appspot.com/6357050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1200 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support for serializing a linked program to binary.  The format has a text section followed by a binary section. The binary section contains an image of the device caps and the two shader executables. The text section has everything else newline deliminated.  Ran WebGL conformance tests with temporary change to glLinkProgram that round trips all linked programs through glGetProgramBinary and glProgramBinary. No regressions. Review URL: https://codereview.appspot.com/6295092  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1199 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed link error on GCC and clang. They complain about missing symbols even when those symbols are not used.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1196 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error on android. It was complaining about tolower. This patch removes the usage of tolower and adds tests for checking both versions of hexadecimal integers - 0x and 0X.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1195 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable the new preprocessor. Passes all unit-tests and WebGL conformance tests! Review URL: https://codereview.appspot.com/6357055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1194 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
WebGL spec specifies maximum length of all types of tokens - not just identifier tokens. And it also means preprocessing-tokens not compiler tokens. Note that this implies that non-compliant tokens even inside excluded #if blocks will trigger error.  TODO: This behavior should be implemented as a preprocessor option so that a GLES2 compiler can choose to disable it. Review URL: https://codereview.appspot.com/6355066  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1193 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid implicitly enabling centroid sampling on non-point rendering.  TRAC #21121 Issue=340 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1192 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the maximum point size to what is reported by Direct3D.  TRAC #21121 Issue=345305 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1191 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Restricted the length of identifiers (including #define directive) to 256 as required by webgl spec.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1186 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Lowered the severity of EOF_IN_DIRECTIVE from an ERROR to WARNING. There are just too many shaders on internet (including webgl conformance test) that do not have a newline at the end of directives especially #endif. Review URL: https://codereview.appspot.com/6352059  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1185 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make sure that #version occurs before anything else except for comments and white space. Review URL: https://codereview.appspot.com/6348056  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1184 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handled the case where int and float are of correct format but large. The GLSL spec is not very clear on how integers should be interpreted for expressions. C99 says the expression is of type intmax_t. I am parsing all integers as int except those in expressions which are being parsed as unsigned int. Review URL: https://codereview.appspot.com/6351051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1179 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update revision  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1178 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved error-counting to Diagnostics so that errors generated during preprocessing is included in the count. Enabled logging of preprocessor diagnostics into info-log. Review URL: https://codereview.appspot.com/6354047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1177 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Used std::ostringstream instead of std::stringstream wherever applicable.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1176 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced pp::Token::value with pp::Token::text. The term value will be used for a function which will convert text to integer/float constant.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1175 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
More expression tests for division by zero.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1171 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the compiler warnings on WebKit ports when updating ANGLE in WebKit.  Remove the varargs used for extra info formatting in the error() and warning() methods of ParseHelper. Use std::stringstream for formatting instead.  Review URL: http://codereview.appspot.com/6310067/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1170 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Introduced preprocessing token types. This fixes a bug where invalid tokens inside excluded conditional block may report diagnostics. Now we let the invalid tokens to bubble through the preprocessor so that they have chance to be skipped. Review URL: https://codereview.appspot.com/6356045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1169 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented conditional processing. Review URL: https://codereview.appspot.com/6333046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1168 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
[SH_TIMING_RESTRICTIONS] Restrict sampler dependent values from the tex coord and bias parameters of all sampling operations not just texture2D.  Issue: 335 Review URL: https://codereview.appspot.com/6305049/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1167 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix sample project dependency on preprocessor.vcproj  Issue=342  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1166 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix line-endings in libEGL.cpp  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1165 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor program info log out of ProgramBinary and in to Program.  Tested by setting breakpoint in esLoadProgram with the broken program. Review URL: https://codereview.appspot.com/6305114  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1164 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add preprocessor.vcproj to samples.sln. Review URL: https://codereview.appspot.com/6326046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1163 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Merge no-flip-rows r1142 to trunk. Review URL: https://codereview.appspot.com/6304052  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1162 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added x64 config to preprocessor.vcproj. Review URL: https://codereview.appspot.com/6295105  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1161 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error in the new preprocessor due to the change Preprocessor::predefineMacro() interface.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1160 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed build for manually-maintained vcproj files. Review URL: https://codereview.appspot.com/6297103  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1159 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Hooked up the new preprocessor behind a compile-time flag ANGLE_USE_NEW_PREPROCESSOR. Review URL: https://codereview.appspot.com/6304095  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1158 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for pre-defined macros. Review URL: https://codereview.appspot.com/6301084  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1157 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed IsDepthFormat/IsStencilFormat to IsDepthTextureFormat/IsStencilTextureFormat.  TRAC #20959 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1156 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handle all INTZ format queries.  TRAC #20959 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1155 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed static destructors in DependencyGraphBuilder.  Review URL: https://codereview.appspot.com/6296079/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1154 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error for translator_hlsl.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1153 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error on linux.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1152 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error on linux.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1151 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Preparation of hooking up the new preprocessor. - Added custom Diagnostics class. Routed all info-log messages via this new class. - Added custom DirectiveHandler class. Moved directive-handling code to this class and routed the old path. - Deleted lexer_glue because it is not needed anymore. The new preprocessor is almost ready! - Killed a bunch of dead code related to PragmaTable. Review URL: https://codereview.appspot.com/6308074  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1150 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented line directive. Review URL: https://codereview.appspot.com/6307083  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1149 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented macro expansion. Review URL: https://codereview.appspot.com/6303052  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1148 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove an unused variable from readCPPline()  This causes problems with -Wunused-but-set-variable in GCC 4.6.  Review: http://codereview.appspot.com/6296o59/  Author: Steve Block  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1147 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add placeholder entry points for GL_OES_get_program_binary. Review URL: https://codereview.appspot.com/6279054  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1146 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add the SH_CSS_SHADERS_SPEC flag.  Review URL: https://codereview.appspot.com/6270050/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1145 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move ProgramBinary into new file. Review URL: https://codereview.appspot.com/6299058  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1144 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor Program into Program and ProgramBinary.  Program manages the state and lifetime of the program object.  ProgramBinary holds the linked program and the code to do the linking.  There should be no functional change. WebGL conformance tests did not regress. Review URL: https://codereview.appspot.com/6267047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1143 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Program::link() and callees do not access mPixelHLSL mVertexHLSL mFragmentShader mVertexShader mAttributeBinding.  mPixelHLSL and mVertexHLSL are deleted because they are only used during linking. Review URL: https://codereview.appspot.com/6306047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1141 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initial specification for ANGLE_program_binary. Review URL: https://codereview.appspot.com/6267048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1140 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
If a uniform was created before still set the register type index since it can be different.  TRAC #20948 Issue=337 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1139 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed redundant registerCount > 0 checks. The register indices now indicate presence.  TRAC #20948 Issue=337 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1138 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored setting the register information.  Avoided calling GetConstantByName.  TRAC #20948 Issue=337 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1137 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store multiple register indices per uniform.  TRAC #20948 Issue=337 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1136 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Error out if depth textures have more than one level.  Trac #20959 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1135 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix error checking for glTexSubImage2D  Trac #20959 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1134 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix error checking for glTexImage2D  Trac #20959 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1133 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updates to ANGLE_depth_texture  Trac #20959  - fix a number of incorrect error values  - disallow multi-level depth textures  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1132 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Apply SH_TIMING_RESTRICTIONS to all samplers.  Issue: 332 Review URL: https://codereview.appspot.com/6273044/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@1131 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disallow GL_ALPHA for framebuffer attachment rendering.  TRAC #20943 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1129 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Generate Lod0 functions even if they don't contain gradients so we can call them from discontinuous loops.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1128 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix gyp build and disable warning that is an error in Chrome. Review URL: https://codereview.appspot.com/6260063  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1127 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added PreprocessorTest::preprocess that preprocesses the input string and compares the output with that of the expected string. Renamed other *Test::preprocess methods to something different and clearer.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1126 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the location of EOF token. Added three new location tests for EOF.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1125 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Return 0 for dFdx dFdy and fwidth for discontinuous arguments.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1124 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Call Lod0 functions when inside a loop with a discontinuity.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1123 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Output Lod0 copies of functions containing gradient operations when the shader contains a discontinuity.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1122 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a traverser for detecting gradient operations.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1121 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add analysis utility to detect discontinuities.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1120 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added Lod0 versions of texture sampling intrinsics.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1119 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Output the complete function at once to avoid having to erase the function arguments.  TRAC #20737 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1118 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adjust the maximum loop iterations to keep the HLSL compiler happy  Trac #20913 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1117 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertise support for ANGLE_depth_texture  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1116 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Apply the depth texture correctly as the DepthStencil surface in applyRenderTarget  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1115 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure all getDepthStencil and getRenderTarget calls consistently handle references to the underlying d3d surfaces  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1114 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update FBO completeness checks for depth textures  Trac #20875 Signed-off-by: Nicolas Capens  - improve missing attachment logic to allow no color attachments - disallow depth texture color attachments - allow texture depth and stencil attachments - update simulaneous depth/stencil logic  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1113 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
do some cleanup in Framebuffer::completeness  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1112 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an IsDepthFormat helper function  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1111 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add TextureStorage support for INTZ depth textures and ensure Images never create INTZ surfaces  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1110 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Factor renderability check into GetTextureUsage  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1109 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Pass the usage parameter into TextureStorage instead of passing a boolean  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1108 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor texture usage logic to helper function  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1107 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move glTexSubImage early out check after more of the error checks are done.  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1106 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Report errors for unsupported Depth/stencil texture operations  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1105 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow depth and depth-stencil formats and types for textures and update utility functions  Trac #20875 Signed-off-by: Nicolas Capens  TexImage2D accepts   formatinternalformat=DEPTH_COMPONENT type=UNSIGNED_SHORT   formatinternalformat=DEPTH_COMPONENT type=UNSIGNED_INT   formatinternalformat=DEPTH_STENCIL_OES type=UNSIGNED_INT_24_8_OES  TexSubImage2D accepts   format=DEPTH_COMPONENT type=UNSIGNED_SHORT   format=DEPTH_COMPONENT type=UNSIGNED_INT   format=DEPTH_STENCIL_OES type=UNSIGNED_INT_24_8_OES  TexStorage2DEXT accepts   internalformat=DEPTH_COMPONENT16   internalformat=DEPTH_COMPONENT32_OES   internalformat=DEPTH24_STENCIL8_OES  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1104 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect depth texture support using INTZ and NULL textures  Trac #20875 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1103 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add ANGLE_depth_texture specification  Trac #20893  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1102 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add the SH_TIMING_RESTRICTIONS compile flag and dependency graph implementation.  Description of the algorithm: http://code.google.com/p/mvujovic/wiki/ShaderControlFlowAnalysis  This flag is one potential solution to timing attacks on textures containing cross-domain content or user agent data. This kind of analysis could be useful for both WebGL and CSS Shaders.  The SH_TIMING_RESTRICTIONS flag will reject a shader if it uses texture dependent data to affect control flow.  Other ways of affecting shader timing such as using NaNs in basic arithmetic operations or using built-in functions (e.g. atan) with different inputs are still under investigation.  Issue=329 Review URL: http://codereview.appspot.com/6195062/    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1101 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updated VersionTest to use the same pattern as other tests.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1100 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile errors on linux.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1099 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the unnecessary usage of GTEST_HAS_PARAM_TEST and GTEST_HAS_COMBINE. I would rather have tests fail to compile than be silently ignored.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1098 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored all tests to derive from a common PreprocessorTest. This avoids some code duplication. Review URL: https://codereview.appspot.com/6257048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1097 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed UNEXPECTED_TOKEN_IN_DIRECTIVE to UNEXPECTED_TOKEN.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1096 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented #extension and #version directives. Review URL: https://codereview.appspot.com/6242045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1095 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented #error and #pragma directives. Added new tests and updated old ones for the new preprocessor API. Review URL: https://codereview.appspot.com/6213066  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1094 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Token::value now contains text for all types of tokens - not just CONST_INT CONST_FLOAT and IDENTIFIER. This makes it easier to report diagnostics and various preprocessor directives.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1093 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented #define and #undef directives. Review URL: https://codereview.appspot.com/6215072  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1092 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Deleted old unused files.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1091 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile warnings on linux.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1090 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error in lexer_glue.cpp.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1089 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile errors and warnings on linux.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1088 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved error-handling to a separate class - Diagnostics. We were earlier returning errors as tokens which did not work very well when error occured while parsing a preprocessor directive. Now all returned tokens are valid. Errors are reported via an abstract Diagnostics interface. Updated unit-tests with the new scheme. Review URL: https://codereview.appspot.com/6203089  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1087 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added svn:ignore property for googlemock.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1086 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added DEPS for gmock library. Review URL: https://codereview.appspot.com/6203086  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1085 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reafactored Lexer class to allow chaining. The full chain when parsing #if directive looks like this: Preprocessor -> MacroExpander -> DirectiveHandler -> MacroExpander -> DefinedFilter -> Tokenizer. This chain dynamically changes depending on the current context.  Also added an incomplete implementation of #if handling and ExpressionParser to illustrate how this design is supposed to work. Review URL: https://codereview.appspot.com/6203060  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1084 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove duplicate error checks from Texture subImage and subImageCompressed.  Issue=306 Signed-of-by: Nicolas Capens  These errors are validated by validateSubImageParams* now no need to do it twice.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1083 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make TextureCubeMap size/format/compressed checks explicit about the level and face they are checking  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1082 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make Texture2D format and compression checks be explicit about the level they are checking  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1081 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove unused base class Texture methods and make them non-virtual in derived classes  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1080 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
make sure all texture->isCompressed calls are type-specific  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1079 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Split RenderbufferTexture into 2D and CubeMap specific variants  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1078 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove the unused Texture::getType method  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1077 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Split validateSubImageParams into a texture type-specific check  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1076 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the internal format check for compressed subImage commands to the API layer  Issue=306 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1075 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture: Avoid attempting to create 0 sized D3D textures  Issue=301 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1074 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimize Context::applyTextures by avoiding repeated getTextureSerial calls  Issue=301 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1073 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Memory associated with allTokens is never freed due to early return in "case -1" in CPPpragma(yystypepp*) in cpp.c  ISSUE=328 Signed-off-by: Daniel Koch Author: David Kilzer  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1072 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure that strings produced by getVariableInfo are always null-terminated Issue 326    git-svn-id: https://angleproject.googlecode.com/svn/trunk@1070 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minor refactoring for Input class. Chnaged a raw array to std::vector.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1068 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement SSE2 version of loadAlphaData  http://codereview.appspot.com/6050054/ Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Authored-by: Jin Yang  With this patch my HTML5 2D canvas benchmark with Chromium on Windows7 with GPU acceleration can boost about 4% though the most execution time is in GPU.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1067 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Using yy_scan_string which flushes the old buffer does not work. GLSL requires that each input string is concatenated but yy_scan_string treats each string individually. Added a custom YY_INPUT which maintains the continuity between each string. Review URL: https://codereview.appspot.com/6130045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1066 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added operator test. Review URL: https://codereview.appspot.com/6129055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1065 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added missing files from the renaming of UnfoldSelect to UnfoldShortCircuit.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1064 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make sure the internal DX uniforms get updated after re-linking.  TRAC #20659 Issue=321 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1063 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed UnfoldSelect to UnfoldShortCircuit.  TRAC #11866 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1062 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented short-circuiting for logical OR and AND operators.  TRAC #11866 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1061 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure that non-sequence single-statement conditional blocks and loop bodies get unfolding of short-circuiting operators.  TRAC #11866 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1060 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changes to handle comments properly and associated tests. Review URL: https://codereview.appspot.com/6111059  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1059 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added tests for token location. Review URL: https://codereview.appspot.com/6118062  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1058 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ugly hack to fix compile error on windows. VC++ does not support C99 and hence snprintf. BUG=308 Review URL: https://codereview.appspot.com/6120055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1057 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced Token::Location::string with Token::Location::file.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1056 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed Token::Location::string to Token::Location::file to keep it consistent with __FILE__ inbult macro.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1055 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the usage of testing::Range. I was assuming that the range is closed interval i.e. it includes the max value. But it does not. Review URL: https://codereview.appspot.com/6112055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1054 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added rules for ignoring comments.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1053 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Stop using unsafe sprintf method.  ISSUE=308 Signed-off-by: Kenneth Russell Author: David Kilzer  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1052 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Drastically simplified Input class. Now most of the heavy lifting is done by in-built yy_scan_string and yy_scan_bytes. Comment handling will be done by the lexer.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1051 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added tests for the whole character set. Review URL: https://codereview.appspot.com/6105044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1050 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
The default implementation in flex only handles LF characters. GLSL supports all three newline characters - LF CR and CR+LF. Use a custom newline handler. Review URL: https://codereview.appspot.com/6105045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1049 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Do not return newline and number sign. They are for internal purposes only.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1048 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a catch-rule for invalid numbers.  Note that we do not need such a rule for identifiers because they will always be either terminated by a space a punctuator or an invalid character. Space and punctuator are both valid cases. The invalid character will be caught by another rule specifically for invalid characters. I will cover this case when I add tests for valid character set. Review URL: https://codereview.appspot.com/5978048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1047 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Build fix for chromeos.  BUG= TEST=chromeos bots compile when we roll ANGLE TBR=alokp  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1046 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix signed 16.16 fixed-point conversion.  TRAC #20561 ISSUE=320 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1045 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't append '_' to the end of prefix in long name mapping if the original name starts with '_'  Otherwise we will have '__' which is illegal. Review URL: https://codereview.appspot.com/5978058  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1044 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added tests for identifiers. Review URL: https://codereview.appspot.com/6038043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1042 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handle hex int constant in preprocessor  The patch is provided by jdashg and committed by zmo.  (see angle issue 178)  ANGLEBUG=178 TEST=shader-with-hex-int-constant-macro.html TBR=zmo Review URL: https://codereview.appspot.com/6037044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1041 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added tests for number types. Review URL: https://codereview.appspot.com/6022045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1040 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minor formatting change in pp.l.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1039 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error in lexer_glue.cpp. TBR=zmo@chromium.org Review URL: https://codereview.appspot.com/6035044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1038 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed unnecessary includion of Token.h in various files.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1037 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added tests for pp::Token interface and white-space handling by the preprocessor. By the magic of test-case generators we have 74 tests! Review URL: https://codereview.appspot.com/6009054  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1036 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Mac/Linux build fix.  BUG= TEST=compile fine TBR=alokp Review URL: https://codereview.appspot.com/6013048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1035 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update emulated functions.  It turns out there are bugs in our tests so kbr fixed them a while ago.  Now we had another look at the tests and it turned out some functions we don't have emulate and some functions we need to also emulate in fragment shaders.  BUG= TEST= R=kbr Review URL: https://codereview.appspot.com/6011056  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1034 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Modified the interface of Preprocessor. Added it to the build file. Lexer changes to record leading space.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1033 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added HAS_LEADING_SPACE flag to pp::Token. Split the new preprocessor into a separate target.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1032 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update reserved keywords.  TRAC #20514 ISSUE=317 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1031 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a few compilation warning/errors on Linux/Mac. Review URL: https://codereview.appspot.com/6009045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1030 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Decorate (and undecorate) struct fields too (when not built-in).  Trac #20510 Issue=316317 Authored-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1027 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Guard against null surface in Image::updateSurface. Review URL: https://codereview.appspot.com/5985051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1026 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added googletest to svn:ignore list.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1025 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added infrastructure for adding gtest-based tests. I need to use it for the new preprocessor. Review URL: https://codereview.appspot.com/5988069  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1024 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the unnecessary usage of InputSrc::getch and InputSrc::ungetch when handling pragma. These functions are not supported by the new lexer.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1020 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an alternate lexer for the existing preprocessor. It is still behind a compile-time flag. Review URL: https://codereview.appspot.com/5976072  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1019 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase Vertex Decl cache size to 32 entries.  This should reduce the risk of running out of cache entries inside a frame while being small enough that iterating through it to find the correct entry shouldn't be too expensive.  BUG=310 TEST=  Review URL: https://codereview.appspot.com/5969077  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1018 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed info log regressions.  TRAC #20443 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1017 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Return a sequence when optimizing constant conditions so that brackets will be added to the HLSL output.  TRAC #20052 ISSUE=252 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1016 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed line number reporting. Each newline was being counted twice.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1015 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added lexer rules for operators. Review URL: https://codereview.appspot.com/5966072  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1014 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make Image::lock and unlock private and call them from Image::loadData.  This is because I want loadData to be able to decide whether to use LockRect/UnlockRect or UpdateSurface as the method to load the data depending on whether the Images are backed by textures in the default pool or not.  I think it actually cleans up the code a bit.  Also fixed a bug in subImageCompressed. The associated WebGL conformance test now passes. Review URL: https://codereview.appspot.com/5948043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1013 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Punted on bison parser. It was turning out to be more complicated than necessary. Manual parsing combined with a flex lexer is easier.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1012 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
More prep work for macro expansion. Off-loaded lexing from Context class to a new Lexer class. Review URL: https://codereview.appspot.com/5059048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1011 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Selection nodes are temporaries.  Issue=156 TRAC #16816 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1010 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix comma operator precedence.  TRAC #20059 ISSUE=290 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1009 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fence has pointer to the associated egl::Display.  I think the assumption that getDisplay() returns a valid display in the Fence destructor is wrong.  I'm trying to fix a crash in the field that looks like this:  Thread 0 *CRASHED* ( EXCEPTION_ACCESS_VIOLATION_READ @ 0x00000000 )  0x69582e38	 [libglesv2.dll	 - fence.cpp:27	gl::Fence::~Fence() 0x69582f29	 [libglesv2.dll	 + 0x00022f29]	gl::Fence::`scalar deleting destructor'(unsigned int) 0x6958077d	 [libglesv2.dll	 - context.cpp:1020	gl::Context::deleteFence(unsigned int) 0x69582b9b	 [libglesv2.dll	 - context.cpp:195	gl::Context::~Context() 0x69582dcb	 [libglesv2.dll	 + 0x00022dcb]	gl::Context::`scalar deleting destructor'(unsigned int) 0x69582df2	 [libglesv2.dll	 - context.cpp:4259	glDestroyContext 0x73166ab8	 [libegl.dll	 - display.cpp:768	egl::Display::destroyContext(gl::Context *) 0x73168393	 [libegl.dll	 - libegl.cpp:861	eglDestroyContext 0x6e18f1db	 [chrome.dll	 - gl_context_egl.cc:76	gfx::GLContextEGL::Destroy() 0x6e18f40d	 [chrome.dll	 - gl_context_egl.cc:43	gfx::GLContextEGL::~GLContextEGL()  Here's the disassembly:  69582E21  push        esi   69582E22  mov         esiecx  69582E24  cmp         dword ptr [esi+4]0  69582E28  mov         dword ptr [esi]695CBBE0h  69582E2E  je          69582E3F  69582E30  call        695743F5 // this is getDisplay() 69582E35  push        dword ptr [esi+4]  69582E38  mov         edxdword ptr [eax] // crashes here because EAX is zero 69582E3A  mov         ecxeax  69582E3C  call        dword ptr [edx+24h] // this is freeEventQuery() 69582E3F  pop         esi   69582E40  ret     It looks like getDisplay() returns null.  http://code.google.com/p/chromium/issues/detail?id=117817 Review URL: https://codereview.appspot.com/5875044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1008 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed missing semicolon for do-while.  TRAC #20055 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1007 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid adding duplicate struct constructors.  TRAC #20057 ISSUE=285 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1006 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
The function parameters and function body belong to the same scope.  TRAC #20056 ISSUE=256 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1005 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Define constructors for structures defined in argument lists.  TRAC #20056 ISSUE=256 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1004 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect when declaring previously undeclared variables as invariant and avoid using an uninitialized type.  TRAC #20042 ISSUE=241 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1002 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Start a new scope for conditional statements even when there are no curly brackets. Also fix the DO WHILE grammar.  TRAC #20052 ISSUE=252255 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1001 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Regenerate the parser using Bison 2.4.2.  TRAC #20052 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1000 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Limit HLSL loop scope to match that of GLSL.  TRAC #19197 ISSUE=260 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@999 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revert "Fixed test for 16-bit index range".  TRAC #19988 Issue=304 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@998 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make essl_to_glsl target windows only.  This is a quick fix for gclient runhooks error on Mac/Linux.  BUG= TEST=gclient runhooks --force on Mac/Linux Review URL: https://codereview.appspot.com/5732047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@997 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Provide multi-dimensional atan intrinsics.  TRAC #19989 Issue=302 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@996 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed test for 16-bit index range.  TRAC #19988 Issue=304 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@995 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updates to ANGLE_pack_reverse_row_order  git-svn-id: https://angleproject.googlecode.com/svn/trunk@994 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't use strlen inside of loop  This could hurt performance quite a bit.  BUG=296 TEST=  Review URL: https://codereview.appspot.com/5675086  git-svn-id: https://angleproject.googlecode.com/svn/trunk@993 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support reloading the shader compiler  Trac #19900 Issue=291  - Move compiler initialization to a separate function - all this function to ensure the compiler is loaded when a compile is attempted (previously if the compiler was released you'd have to create a new shader object to get it reloaded).  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@992 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add ability to recompile shader source  Trac# 19900 Issue=291  - add an 'uncompile' function to clear all results from any previous compile attempts - allow compiling to be done multiple times on the same shader - allow a shader to be compiled with no source specified (to produce an appropriate error).  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@991 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename the Shader 'varyings' member to 'mVaryings' to follow coding standard  Trac #19900 Issue=291  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@990 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Provide better encapsulation for Shader member variables  Trac 19900 Issue=291  Moved a bunch of member variables from 'protected' to 'private'  Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@989 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update ANGLE_instanced_arrays spec.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@986 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move translator_hlsl target into Windows specific section of build_angle.gyp. Review URL: https://codereview.appspot.com/5639055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@985 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove 'chromium_code' from build_angle.gyp.  This is because the ninja build system unlike make builds translator_hlsl and fails on the clang warnings. Review URL: https://codereview.appspot.com/5647048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@984 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create D3D device when eglInitialize is called.  This is because some GPUs / drivers are unable to create the device once the Chromium GPU process sandbox has been locked down and waiting for the first context / surface to be created is too late. Review URL: https://codereview.appspot.com/5647046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@983 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable getting share handles when PIX is enabled.  PIX doesn't seem to work with share handles so disable them when we detect that pix is enabled.  BUG= TEST=  Review URL: https://codereview.appspot.com/5625048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@982 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
The normalized argument of vertexAttribPointer should not affect float and fixed.  Issue=155 Signed-off-by: Nicolas Capens Author: Pierre Leveille  git-svn-id: https://angleproject.googlecode.com/svn/trunk@981 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enabled MSVC warning 4389 : signed/unsigned mismatch.  I also fixed Config.cpp so it compiles without the warning.  This is because this is now a warning as error in Chromium. Review URL: https://codereview.appspot.com/5600047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@980 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added missing printf format type.  %z was actually just a modifier. Review URL: https://codereview.appspot.com/5569082  git-svn-id: https://angleproject.googlecode.com/svn/trunk@979 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed _HAS_TR1 macro definition from common.gypi. Review URL: https://codereview.appspot.com/5569078  git-svn-id: https://angleproject.googlecode.com/svn/trunk@978 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix printf format specifier in PoolAlloc.cpp.  %Iu is used for size_t printf arguments in MSVC. The GCC equivalent is %z. MSVC does not support %z though. Review URL: https://codereview.appspot.com/5578050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@977 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Centralize detection of instancing support.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@976 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Expose the ANGLE_instanced_arrays extension.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@975 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Work around a bug observed with ATI graphics cards where instanced draw calls fail when all attributes are non-instanced by repeating the draw call.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@974 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Re-implement line loops by constructing a 'looping' index buffer so it is compatible with instanced draws.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@973 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glDrawArraysInstanced by constructing a 'counting' index buffer since D3D9 only supports instancing on indexed draw calls.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@972 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ignore the 'first' parameter of glDrawArraysInstanced for instanced attributes.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@971 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adjust the amount of streaming buffer space required for instanced attributes.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@970 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Set the stream source frequencies for instanced draw calls. Searches for an indexed (non-instanced) attribute to ensure it gets mapped to stream 0.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@969 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add entry points and constants for GL_ANGLE_instanced_arrays.  TRAC #19489 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@968 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add ANGLE_instanced_arrays spec  Trac #18156  git-svn-id: https://angleproject.googlecode.com/svn/trunk@967 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix warning in PoolAlloc.cpp.  Use "I" instead of "l" as printf type prefix for size_t. Review URL: https://codereview.appspot.com/5572071  git-svn-id: https://angleproject.googlecode.com/svn/trunk@966 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed more warnings.  Clang warns about missing case in enum glslang_lex.cpp so I disabled that one as well.  MSVC as Chromium is built at least warns about things in its own STL headers in SymbolTable.cpp so disabled the warning for that file.  esTransform.c had a struct that the compiler could not determine was initialized so I explicitly initialized it. Review URL: https://codereview.appspot.com/5577048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@965 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase MSVC warning level to 4.  There are some exceptions a subset of the exceptions used by Chromium. They didn't seem to be useful warnings.  In code which we don't change much like the preprocessor I just suppressed the warnings in the specific files rather than changing the code.  There should be no functional changes in this patch. Review URL: https://codereview.appspot.com/5570066  git-svn-id: https://angleproject.googlecode.com/svn/trunk@964 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Explicitly disable warnings for auto-generated files.  I think this is better than modifying the auto-generated files. Review URL: https://codereview.appspot.com/5569058  git-svn-id: https://angleproject.googlecode.com/svn/trunk@963 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix remaining compiler warnings in translator_common.  One MSVC warning and one GCC warning.  I also added a variable to build_angle.gyp that will enforce various rules not normally applied to third party software when built as part of chromium. Review URL: https://codereview.appspot.com/5570061  git-svn-id: https://angleproject.googlecode.com/svn/trunk@962 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove calls to new when modifying shader constants.  There were some unnecessary temporary copies we can remove and the rest have a maximum size so we can allocate them on the stack.  BUG=276 TEST=  Review URL: https://codereview.appspot.com/5540071  git-svn-id: https://angleproject.googlecode.com/svn/trunk@961 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable warnings as errors.  I didn't do it for translator_common though because it contains automatically generated code.  This is improve the signal to noise ratio in the chromium build logs. Review URL: https://codereview.appspot.com/5572055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@960 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix MSVC warning in DetectRecursion.cpp.  In preparation for turning on warnings as errors. Review URL: https://codereview.appspot.com/5564053  git-svn-id: https://angleproject.googlecode.com/svn/trunk@959 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added EGL_KHR_image_base and GL_OES_EGL_image_external entry points to esUtil. Review URL: https://codereview.appspot.com/5574051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@958 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix float texture support test  Trac #19573 Issue=281 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@957 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved RefCountObject to common so it can be used by libEGL. Review URL: https://codereview.appspot.com/5557064  git-svn-id: https://angleproject.googlecode.com/svn/trunk@956 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename IslTextureTarget to IsInternalTextureTarget.  TEXTURE_EXTERNAL is not considered an internal texture target. Review URL: https://codereview.appspot.com/5556067  git-svn-id: https://angleproject.googlecode.com/svn/trunk@955 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect GNU Hurd and Debian kFreeBSD as ANGLE_OS_POSIX  See https://bugzilla.mozilla.org/show_bug.cgi?id=711353  Patch by Mike Hommey    git-svn-id: https://angleproject.googlecode.com/svn/trunk@954 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase size of output buffer for pix to 32768  We output entire hlsl shaders into this buffer so 4096 bytes was too small.  BUG= TEST=  Review URL: https://codereview.appspot.com/5532094  git-svn-id: https://angleproject.googlecode.com/svn/trunk@953 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds support for EXT_occlusion_query_boolean  TRAC #19360 Signed-off-by: Daniel Koch Authored-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@951 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use a global ref-counted singleton for long name map.  This makes sure the same varying/uniform variables maps to the unique name in vertex/fragment shader.  BUG= TEST=webgl conformance tests Review URL: https://codereview.appspot.com/5556065  git-svn-id: https://angleproject.googlecode.com/svn/trunk@950 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rollback r942.  MapLongVariableNames inherits from TIntermTraverser and TIntermTraverser uses ANGLE's memory allocator thus the memory is released per compilation.  Our design is for MapLongVariableNames to be a singleton across all compilations thus this is not working.  BUG= TEST= TBR=kbr Review URL: https://codereview.appspot.com/5556053  git-svn-id: https://angleproject.googlecode.com/svn/trunk@949 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changes the pointer from textures to their renderbuffer proxies to non-refcounted (2/2)  TRAC #19335 Issue=271 Instead the texture maintains an internal refcount which causes the pointer to behave kind of like a "weak" shared pointer-- its reference won't prevent the renderbuffer from being deleted but if the renderbuffer's refcount drops to zero the texture should set its pointer to the renderbuffer to null so that a new one can be created at the next getRenderbuffer call.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@948 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Stores texture in RenderbufferTexture via a BindingPointer (1/2)  TRAC #19335 Issue=271  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@947 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Finished off the GLSL compiler's support for parsing shaders using OES_EGL_image_external.  The GLSL to HLSL translator work is not done yet so the extension is disabled in Shader.cpp. Review URL: https://codereview.appspot.com/5530081  git-svn-id: https://angleproject.googlecode.com/svn/trunk@946 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update extension numbers for published extensions.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@945 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refresh EGL/eglext.h from Khronos  git-svn-id: https://angleproject.googlecode.com/svn/trunk@944 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refresh GLES2/gl2ext.h from Khronos  git-svn-id: https://angleproject.googlecode.com/svn/trunk@943 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Long name mapping needs to be consistent between vertex/fragment shaders.  For example: varying variables uniforms.  This CL makes MapLongVariableNames a ref-counted singleton and therefore the map is shared by all shaders.  Also function/variable names changes from Varying to Global because uniforms also need to be consistent not just varying variables.  ANGLEBUG=279 TEST=webgl conformance tests especially invalid-passed-params.html and glsl-long-variable-names.html Review URL: http://codereview.appspot.com/5539046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@942 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allocate D3D queries from a pool for the Display.  This is a workaround for an Intel bug.  The crash looks like this:  0x5f816c53	 [d3d9.dll	 + 0x00036c53]	CQuery::~CQuery() 0x5f816bec	 [d3d9.dll	 + 0x00036bec]	CQuery::`vector deleting destructor'(unsigned int) 0x5f7e8129	 [d3d9.dll	 + 0x00008129]	CBaseObject::~CBaseObject() 0x5f9e19c7	 [libglesv2.dll	 + 0x000319c7]	gl::Fence::`vector deleting destructor'(unsigned int) 0x5f9de78e	 [libglesv2.dll	 - context.cpp:975]	gl::Context::deleteFence(unsigned int) 0x5f9e1491	 [libglesv2.dll	 - context.cpp:198]	gl::Context::~Context() 0x5f9e182f	 [libglesv2.dll	 - context.cpp:3936]	glDestroyContext 0x717654ec	 [libegl.dll	 - display.cpp:749]	egl::Display::destroyContext(gl::Context *) 0x7176a3da	 [libegl.dll	 - libegl.cpp:907]	eglDestroyContext 0x64fbaf33	 [chrome.dll	 - gl_context_egl.cc:75]	gfx::GLContextEGL::Destroy()  The vendor ID is always 8086 (Intel). Not an XP issue - it's happening on Win 7.  With this change D3D queries are only released when the display is destroyed or reset or if a very high number of D3D queries have been allocated.  Tested by stepping exercising the NV_fence entry points in a debugger. Review URL: http://codereview.appspot.com/5534065  git-svn-id: https://angleproject.googlecode.com/svn/trunk@941 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move Context::sync to Display::sync.  This is a workaround for an Intel bug.  The crash looks like this:  0x5f816c53	 [d3d9.dll	 + 0x00036c53]	CQuery::~CQuery() 0x5f816bec	 [d3d9.dll	 + 0x00036bec]	CQuery::`vector deleting destructor'(unsigned int) 0x5f7e8129	 [d3d9.dll	 + 0x00008129]	CBaseObject::~CBaseObject() 0x5f9e19c7	 [libglesv2.dll	 + 0x000319c7]	gl::Fence::`vector deleting destructor'(unsigned int) 0x5f9de78e	 [libglesv2.dll	 - context.cpp:975]	gl::Context::deleteFence(unsigned int) 0x5f9e1491	 [libglesv2.dll	 - context.cpp:198]	gl::Context::~Context() 0x5f9e182f	 [libglesv2.dll	 - context.cpp:3936]	glDestroyContext 0x717654ec	 [libegl.dll	 - display.cpp:749]	egl::Display::destroyContext(gl::Context *) 0x7176a3da	 [libegl.dll	 - libegl.cpp:907]	eglDestroyContext 0x64fbaf33	 [chrome.dll	 - gl_context_egl.cc:75]	gfx::GLContextEGL::Destroy()  This is a crash in deleteFence but the same could happen in flush. Fix for the former to follow.  The vendor ID is always 8086 (Intel). Not an XP issue - it's happening on Win 7.  Tested by stepping through a call to glFinish in the debugger and ensuring that it sleeps but eventually returns. Review URL: http://codereview.appspot.com/5503094  git-svn-id: https://angleproject.googlecode.com/svn/trunk@940 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a bug in long variable name mapping.  Originally we only match varying variables in vertex/fragment shaders.  However we should also match uniform names.  For example if a uniform variable name is used in both vertex and fragment shader and after mapping the names are different then the name mapping table is no longer 1:1.  BUG=106638 (crbug) TEST=http://seanseefried.com/chrome-bug/simple-broken.html shows a magenta square Review URL: http://codereview.appspot.com/5520051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@939 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix off-by-one error in enforcement of WebGL's maximum struct nesting.  BUG=http://code.google.com/p/angleproject/issues/detail?id=275 TEST=WebGL conformance suite TBR=nicolas Review URL: http://codereview.appspot.com/5520049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@938 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes an unneeded GetDesc call from Clear  TRAC #19330 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Authored-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@930 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure texture storage exists before retrieving serial  Trac #19330 Signed-off-by: Nicolas Capens  In some cases we were trying to retrieve a serial from a rendertarget texture which didn't have the storage allocated yet. This was resulting in a 0 serial which was indistinguishable from the case where context was just marked dirty and we assumed the target was up-to-date. This resulted in failing to apply the correct rendertarget and as a result some d3d clear calls were failing (picked up by debug runtime).  git-svn-id: https://angleproject.googlecode.com/svn/trunk@929 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only allow renderable d3dformats to be flagged as rendertarget texstorage  Trac #19356 Issue=273 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@928 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
rename TextureStorage renderable flag to reflect it's actual usage  Trac #19356 Issue=273 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@927 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor image renderability lookup  Trac #19356 Issue=273 Signed-off-by: Nicolas Capens Based on preliminary patch from Ken Russell  Images are never renderable directly so renaming the Image::isRenderable function clarifies that we are only checking on the renderability of the format. Also factor out the lookup to a static helper function (it will be used elsewhere in the next patch)  git-svn-id: https://angleproject.googlecode.com/svn/trunk@926 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed gl_FragCoord.y calculation  TRAC #19349 ANGLEBUG=272 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@925 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check device loss between GetData calls when blocking  Trac #19246 Issue=262  Some drivers don't properly return device lost  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@924 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Re-enable advertising EXT_texture_storage  Trac #19259 Issue=268  The problems on d3d9/winxp have been fixed.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@923 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
make the renerable usage consistant and const  Trac #19259 Issue=268  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@922 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add TextureStorage::getPool method  Trac #19259 Issue=268  Use it to avoid duplicate calls to getTexturePool  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@921 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Let TextureStorage track the texture pool explicitly  Trac #19259 Issue=268  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@920 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename various mTexture variables to mTexStorage to reflect what they really are  Trac #19259 Issue=268  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@919 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cache the computation of getD3DFormat  Trac #19259 Issue=268  Instead of looking this up every time we'll just compute it when the type/format changes.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@918 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move ConvertTextureFormatType  Trac #19259 Issue=268  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@917 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Track the texture pool explicitly in the Image class  Trac #19259 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@916 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix managed texturestorage textures  Trac #19259 Issue=268  managed textures need to be set on the images so they can be updated properly and to avoid the additional system memory copy of the surfaces. Also make sure track the managed state properly.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@915 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use the correct d3dformat for texstorage textures.  Trac #19259 Issue=268  The image we were trying to get the d3dformat from hadn't been initialized yet.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@914 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add a static helper function to convert a GL format/type to d3dformat and call this from Image::getD3DFormat  Trac #19259 Issue=268  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@913 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use the correct function to determine texture pool  Trac #19259 Issue=269  git-svn-id: https://angleproject.googlecode.com/svn/trunk@912 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@911 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
(Landing this on behalf of groby@chromium.org.  Review the CL at http://codereview.appspot.com/5482053/)  Fix issue-242 (failure to compile any shader using cos() with SH_EMULATE_BUILT_IN_FUNCTIONS)  ANGLEBUG=242  git-svn-id: https://angleproject.googlecode.com/svn/trunk@910 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure the device states are reinitialized after a device Reset  Trac #19246 Issue=262  After a device lost the "mSceneStarted" variable was getting out of sync and thus we were never restarting the scene before drawing. It's probably best to ensure that any default states we need are also set after a reset.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@909 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix more rendertarget leaks  Trac #19246 Issue=262  FBO rendertargets are explicitly refcounted.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@908 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Stop advertizing GL_EXT_texture_storage until issue 266 is resolved. Review URL: http://codereview.appspot.com/5484055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@907 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix error reporting for lost contexts  Trac #19246 Issue=262  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@906 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Guard against releasing NULL textures.  ANGLEBUG=265 TRAC #19196 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@905 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version to 904. Review URL: http://codereview.appspot.com/5449113  git-svn-id: https://angleproject.googlecode.com/svn/trunk@904 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed leak of render target associated with ColorBuffer.  Following r853 I am assuming that any render target returned by FrameBuffer::getRenderTarget has to be released. Updating the usage of getRenderTarget to reflect that.  This is not reproducible in Chrome at the moment but it will be once I start rendering to pbuffers.  I ran the WebGL conformance tests. No regressions or crashes. Review URL: http://codereview.appspot.com/5451110  git-svn-id: https://angleproject.googlecode.com/svn/trunk@903 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented EGL_NV_post_sub_buffer.  The change to the sample is just to demonstrate how I tested it. I won't check in the stuff under samples/.  It's not clear to me what eglPostSubBufferNV should do if EGL_POST_SUB_BUFFER_SUPPORTED_NV is false. At the moment it fails silently as though it was called on the wrong surface type:   "If <surface> is a back-buffered surface then the requested portion     of the color buffer is copied to the native window associated with     that surface. If <surface> is a single-buffered window pixmap or     pbuffer surface eglSwapBuffers and eglPostSubBufferNV have no     effect." Review URL: http://codereview.appspot.com/5345050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@902 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Creates helper function for common subimage param checking  TRAC #18802 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@901 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds missing parameter checks to texture functions  TRAC #18802 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@900 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds a level parameter to texture getWidth and getHeight  TRAC #18802 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@899 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Checks parameters of matrices for under-fullness in shader constructor check.  TRAC #18906 Issue=218 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@898 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix post-build steps when spaces appear in directory names  TRAC #18901 Issue=245 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@897 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update major version.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@895 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add another contributor  git-svn-id: https://angleproject.googlecode.com/svn/trunk@894 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update contributors  git-svn-id: https://angleproject.googlecode.com/svn/trunk@893 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix rendering for the closing line of line loops.  Trac #19035 Signed-off-by: Nicolas Capens  Line loops via DrawArrays were incorrect because the vertex buffer already has the vertex offset factored in. Line loops via DrawElements were incorrect because the vertex buffer was offset by the minIndex. We need to use the same minIndex when rendering the closing loop.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@892 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid rendering the last pixel of lines.  Trac #19035 Issue=257 Author: Yuriy O'Donnell  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@891 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix HLSL translation for mod(vec2vec2)  ANGLEBUG=258 Signed-off-by: Daniel Koch Signed-off-by: Nicolas Capens Author: Sam Hocevar  git-svn-id: https://angleproject.googlecode.com/svn/trunk@890 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add GL_ANGLE_pack_reverse_row_order. Performs vertical flip in readPixels and may write direct to client ptr.  Bug=none Test= Tested in a modified version of Chromium using canvas2D. Review URL: http://codereview.appspot.com/5373104  git-svn-id: https://angleproject.googlecode.com/svn/trunk@889 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for GL_ARB_texture_rectangle to shader validator.  Parser was regenerated with the flex/bison shipped with Ubuntu 10.04.  BUG=251 TEST=tested with new Core Animation plugin rendering path on Mac OS X Review URL: http://codereview.appspot.com/5432044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@888 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Upstream android's change for angle   BUG= TEST= Review URL: http://codereview.appspot.com/5410050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@887 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Checks level on relevant gl calls against implementation maximum.  TRAC #18905 Issue=243 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@885 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix count of elements in buffer  There can be one extra element at the end even if an entire stride doesn't fit.  BUG= TEST=  Review URL: http://codereview.appspot.com/5401046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@884 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Immutable textures are always mipmap complete.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@883 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Split completeness tests into sampler and mipmap completeness.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@882 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correct texture storage levels count validation.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@881 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed vertex sampler index retrieval.  TRAC #18865 ANGLEBUG=247 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@880 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the incorrect TQualifier on gl_FragData.  Signed-off-by: Daniel Koch Author: Mark Callow  git-svn-id: https://angleproject.googlecode.com/svn/trunk@879 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add extension specifications  git-svn-id: https://angleproject.googlecode.com/svn/trunk@878 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add new function prototypes to gl2ext.h  Trac #18608 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@877 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Resync version #876  git-svn-id: https://angleproject.googlecode.com/svn/trunk@876 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use the texture surfaces as image surfaces when managed.  TRAC #14743 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@875 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Used the MANAGED pool for non-renderable textures on XP.  TRAC #14743 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@874 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update revision info  git-svn-id: https://angleproject.googlecode.com/svn/trunk@873 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix uniform component size calculation for booleans.  Trac #18608 Boolean Uniforms are treated as either ints or floats both internally and when being loaded. A GLBoolean is effectively a char which is incorrect.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@872 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Export new entry points via GetProcAddress and def file  Trac #18608 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@871 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for glGetnUniform*vEXT  Trac #18608  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@870 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add UniformExternalSize function  Trac #18608  Will be used in upcoming patch Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@869 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename UniformTypeSize to UniformInternalSize  Trac #18608 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@868 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename UniformComponentCount to UniformExternalComponentCount  Trac #18608 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@867 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix warning from uniform conversion template.  Trac #18606 The data loss is as required by the spec.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@866 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add the ReadnPixelsEXT command  Trac #18608 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@865 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
update revision  git-svn-id: https://angleproject.googlecode.com/svn/trunk@864 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertise GL_ANGLE_texture_usage.  TRAC #18732 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@863 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertise GL_EXT_texture_storage.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@862 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create a render target texture when intended as framebuffer attachment.  TRAC #18732 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@861 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added the texture usage parameter.  TRAC #18732 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@860 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for floating-point and BGRA storage textures.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@859 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for compressed storage textures.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@858 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glTexStorage2DEXT.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@857 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added the immutable parameter.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@856 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Issue render target serials per texture storage.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@855 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move serial management to TextureStorage.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@854 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create D3D textures within Storage classes. Fixed render target reference counting.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@853 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Simplified cube face handling and render target conversion.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@852 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Encapsulate D3D textures into Storage classes.  TRAC #18730 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@851 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertise robustness extension strings.  Trac #18607 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@850 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable automatic device resets when using reset notification.  TRAC #18607 Signed-off-by: Daniel Koch Authors: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@849 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented context creation with reset notification.  TRAC #18607 Signed-off-by: Daniel Koch Authors: Shannon Woods Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@848 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented reset status.  TRAC #18607 Signed-off-by: Daniel Koch Authors: Shannon Woods Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@847 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ignore GL calls when the context is lost.  TRAC #18606 Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@846 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Notify the display of a lost device and mark all contexts lost.  TRAC #18606 Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@845 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check for all device lost errors.  TRAC #18606 Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@844 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add device error checking utility functions.  TRAC #18606 Signed-off-by: Daniel Koch Author: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@843 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
maxLevels is always 0.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@842 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Release the D3D texture on any actual redefine.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@841 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Separate Colorbuffer into storage and texture variants implementing a common interface.  TRAC #16284 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@840 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Be more explicit about floating-point format support.  TRAC #16284 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@839 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Issue a new serial for every new D3D texture.  TRAC #16284 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@838 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed unsafe casting.  TRAC #16284 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@837 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Always release pbuffer surfaces on redefine.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@836 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mIsRenderable is only valid when there is a texture.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@835 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move copyToImage to Image::copy.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@834 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
New image surfaces are not dirty (nothing to copy over). Lock marks images as dirty.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@833 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated the format parameter.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@832 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved load*Data methods to Image.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@831 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminated GetDesc calls.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@830 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Encapsulate image surface creation.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@829 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Defer image surface creation.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@828 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Abstracted image locking/unlocking.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@827 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Turned Image into a class to improve encapsulation.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@826 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved Image outside of Texture.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@825 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored texture dirtiness.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@824 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't redefine at copySubImage.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@823 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored redefine.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@822 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved createSurface() to Image.  TRAC #18714 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@821 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clear the dirty flag on copied images.  TRAC #18495 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@820 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only destroy the redefined image level.  TRAC #18495 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@819 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use commitRect within updateTexture to avoid duplicate logic.  TRAC #18495 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@818 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
CreateAdditionalSwapChain can return D3DERR_DEVICELOST.  TRAC #18386 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@817 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Call ResetEx on lost or hung Ex devices. Attempt calling Reset/ResetEx at most 3 times.  TRAC #18386 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@816 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Perform proper Reset sequence.  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@815 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Bump version  BUG= TEST=  Review URL: http://codereview.appspot.com/5320073  git-svn-id: https://angleproject.googlecode.com/svn/trunk@813 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Resend viewport on render target change.  The viewport is reset upon SetRenderTarget so make sure to do SetViewport again.  BUG= TEST=  Review URL: http://codereview.appspot.com/5334048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@812 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented new restrictions on nesting of structs in WebGL shaders. Added previously missing check for embedded structs; even though these attempts would be caught by an underlying GLSL compiler the shader validator should not let them through.  BUG=http://code.google.com/p/angleproject/issues/detail?id=235 TEST=WebGL conformance tests Review URL: http://codereview.appspot.com/5327046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@809 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix compilation due to merge issue.  Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@808 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glFinish using event queries.  ANGLEBUG=232 TRAC #18650 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@807 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid repeated getDevice() calls when applying uniforms.  TRAC #18399 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@806 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate getDisplay() and getDevice() calls within the Context.  TRAC #18399 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@805 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Limit copied uniform and vertex attribute names to the implicit size of the buffers passed in. Increase the size of the buffer the client will allocate for mapped names to be equal to the maximum token length.  BUG=http://code.google.com/p/angleproject/issues/detail?id=234 TEST=WebGL conformance test to be checked in soon Review URL: http://codereview.appspot.com/5306063  git-svn-id: https://angleproject.googlecode.com/svn/trunk@804 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Checked in change that should have been in r801. Review URL: http://codereview.appspot.com/5318051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@803 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Issue 220 - let mCurrentValueOffsets be an array of size_t's to fix a 64bit compilation error    git-svn-id: https://angleproject.googlecode.com/svn/trunk@802 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allowed translator_hlsl and glsl to be built as shared libs on windows.  The problem was gyp was out-of-date (I rolled it to 1080) and ShaderLang.cpp exports were not being exported because it was in translator_common which is a static lib.  I tested shared library and static library builds in debug and release and also the checked in ANGLE.sln build. See original attempt: http://codereview.appspot.com/5305052/. Review URL: http://codereview.appspot.com/5305053  git-svn-id: https://angleproject.googlecode.com/svn/trunk@801 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid unnecessarily copying uniforms  Transpose and expand matrices and float vectors when copied on setUniform (and getUniform) to avoid allocating an array and doing that on applyUniform. Then use straight D3D calls not D3DX to possibly avoid another copy. Gets NaCl donuts test from 19->25 fps.  BUG= TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5229056  git-svn-id: https://angleproject.googlecode.com/svn/trunk@800 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix contribution  git-svn-id: https://angleproject.googlecode.com/svn/trunk@799 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
VC11 fails to build angle because oppl_allocator::operator= does not exist  ANGLEBUG=229 Signed-off-by: Nicolas Capens Author: Ehsan Akhgari  git-svn-id: https://angleproject.googlecode.com/svn/trunk@798 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix for bogus "Bad aggregation op" error when dumping intermediate tree  Bug=228 Author: Mark Callow  git-svn-id: https://angleproject.googlecode.com/svn/trunk@797 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add token to ANGLE_software_display extension  git-svn-id: https://angleproject.googlecode.com/svn/trunk@796 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid iterating over unused samplers.  Keep track of the maximum used sampler to avoid expensive iterations in applyTextures and validateSamplers.  BUG= TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5246061  git-svn-id: https://angleproject.googlecode.com/svn/trunk@795 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cache currently-bound draw buffer.  Avoids a hash table lookup  BUG= TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5261042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@794 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't reupload DX uniforms unless necessary  Makes Donuts NaCl test go from 14->16 fps.  BUG= TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5233056  git-svn-id: https://angleproject.googlecode.com/svn/trunk@793 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Iterate directly over uniforms when applying them  Directly iterate over uniforms not over uniform locations so we don't waste time looking at locations in the middle of arrays. Gets about 1 fps on a NaCl benchmark.  BUG= TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5210042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@792 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update contributor list  git-svn-id: https://angleproject.googlecode.com/svn/trunk@791 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix compiler warnings in translator.cpp  Bug=227 Author: Mark Callow  git-svn-id: https://angleproject.googlecode.com/svn/trunk@790 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix essl_to_hlsl project configurations  Bug=226 Author: Mark Callow  git-svn-id: https://angleproject.googlecode.com/svn/trunk@789 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix link errors caused by static use of perf related functions even when ANGLE_DISABLE_PERF is defined.  Bug=225 Author: Mark Callow  git-svn-id: https://angleproject.googlecode.com/svn/trunk@788 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Improve performance of applyRenderTarget and applyTextures  Get rid of unnecessary GetSurfaceLevel/Release calls move invariants out of the applyTextures loop and fix the if in getSemanticIndex so we can avoid calling getMaximumCombinedTextureImageUnits. Gets donuts NaCl demo from 14->16 fps.  BUG= TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5248057  git-svn-id: https://angleproject.googlecode.com/svn/trunk@787 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cache the current program pointer  Hash table lookups are somewhat expensive so cache a pointer to the current program for on a context. This gains about 3 fps (from 58) on a Native Client demo.  BUG= TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5206042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@786 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Assign proper enum to GL_TRANSLATED_SHADER_SOURCE_LENGTH_ANGLE  Trac #18416 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@785 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support multiple nested ternary operators per statement  TRAC #18382 ANGLEBUG=203208 Signed-off-by: Daniel Koch Author: Nicolas Capens  - by incrementing the temporary index adding 1 for every nesting level and rewinding it after each traverse. Also fixed multiple ternary operator unfolding for loops.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@784 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use a different name for ternary operator unfolding temporaries to avoid clashes with T x = x handling.  TRAC #18382 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@783 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correct glFramebufferRenderbuffer behavior for renderbuffer = 0.  TRAC #18388 ANGLEBUG=211 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@782 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't unlink when detaching shaders.  TRAC #18385 ANGLEBUG=221 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@781 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an extension for querying translated HLSL shader source. Review URL: http://codereview.appspot.com/5149046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@780 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the version number. Review URL: http://codereview.appspot.com/5132054  git-svn-id: https://angleproject.googlecode.com/svn/trunk@774 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix memory corruption in ANGLE shader translator.  The bug is that within each compilation cycle all the memory allocated through T* types are freed to be reused.  So if certain information is meant to outlive the cycle it should use the std type instead of the T* type:  1) emulated function vector 2) mapped long names map  BUG=none TEST=webgl conformance test conformance/glsl/glsl-feature-mod-gentype.html does not crash in Win Debug. Review URL: http://codereview.appspot.com/5137047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@773 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reset mUnmodifiedDataUse after bufferSubData  Without this enough draws from a buffer modified only with bufferSubData will cause it to switch become static.  BUG= TEST=  Review URL: http://codereview.appspot.com/5123042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@769 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Sort EGL extension string  Trac #18320 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@768 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enumerate GL extensions in sorted order  Trac #18320 Sort order is OES EXT vendor  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@767 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create structure definitions for structures in a return statement.  TRAC #18319 ANGLEBUG=185 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@766 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix single statement loops.  TRAC #18301 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@765 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable FLIPEX when the formats are not 32-bit and when swap interval is 0.  TRAC #18108 ANGLEBUG=209 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@764 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate the stride of static buffer attributes.  TRAC #18268 ANGLEBUG=213 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@763 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Save stream source 0 in stateblock when doing masked color clear.  BUG=214 TEST=webgl conformance tests  Review URL: http://codereview.appspot.com/5085046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@762 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimize string comparisons by avoiding the creation of temporary substrings.  TRAC #16567 Bug=136 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@761 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Decorate arrays uniforms with "ar_" to identify arrays of size 1.  TRAC #16567 Bug=136 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@760 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimize uniform handling by storing both decorated and undecorated names. Use a consistent naming scheme to clarify decorated/undecorated name usage.  TRAC #16567 Bug=136 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@759 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Further work on the function emulation.  This is to work around driver bugs.  We added more functions and removed some unnecessary ones.  Remove the function group because we have flags for each function now.  Use more macros instead of functions.  Don't emit global precision because that will affect all later code.  ANGLEBUG=196 TEST=build and test on Mac ATI/NVIDIA fixes the failing webgl glsl conformance tests. Review URL: http://codereview.appspot.com/5011053  git-svn-id: https://angleproject.googlecode.com/svn/trunk@754 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Recognize ANDROID as a POSIX OS BUG=207 Review URL: http://codereview.appspot.com/5016050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@753 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Complete implementation for handling #define directive. Review URL: http://codereview.appspot.com/4963062  git-svn-id: https://angleproject.googlecode.com/svn/trunk@752 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove path info without GetCurrentDirectory  Bug=162 TRAC #16902 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@751 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix resetting of non-existing device  TRAC #18139 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@750 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid an unnecessary MFC header dependency.  Bug=180 TRAC #18128 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@749 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add/remove more functions to use shims.  Remove normalize and add cos instead to avoid a crash in Mac with ATI cards (angle bug 193 202).  Also add atan and mod as it's also buggy on Mac/Win with NVIDIA cards.  Also trying to minimize emulated functions by adding masks for fragment/vertex shaders.  ANGLEBUG=196 Review URL: http://codereview.appspot.com/4992047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@748 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updating ANGLE version in version.h  git-svn-id: https://angleproject.googlecode.com/svn/trunk@747 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adding code to try and reset the device if eglCreateWindowSurface and eglCreateSurface are called while the device is reported as lost.  Currently only eglCreateContext attempts to reset the device. This is a short term fix until the whole device lost issue can be revisited.  One of the issues here is that if any of these egl entry points are called while the device is lost (e.g. while the screen saver is on in XP) ANGLE will spin until the device comes back. Review URL: http://codereview.appspot.com/4961070  git-svn-id: https://angleproject.googlecode.com/svn/trunk@746 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix extension behavior in shader validation.  If an extension is not specified it is disabled by default thus a shader should fail compiling if features from that extension are used.  ANGLEBUG=204 TEST=webgl conformance/extensions/oes-standard-derivatives.html Review URL: http://codereview.appspot.com/4974071  git-svn-id: https://angleproject.googlecode.com/svn/trunk@745 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid recreating constant vertex buffers unnecessarily.  To avoid continually recreating constant vertex buffers instead use streaming buffers to hold that data.  BUG= TEST=  Review URL: http://codereview.appspot.com/4437072  git-svn-id: https://angleproject.googlecode.com/svn/trunk@744 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid resending lots of D3D state  This change uses trivial caching to determines whether to reset shaders the viewport and the currently set vertex declaration. It also caches the render target desc to avoid rereading that. Serial numbers are added to vertex and index buffers so resending those can be avoided.  These changes can give a big speedup (30% has been measured) on simple content particularly when used directly or through pepper/native client.  BUG= TEST=bunch of pages using webgl  Review URL: http://codereview.appspot.com/4964057  git-svn-id: https://angleproject.googlecode.com/svn/trunk@743 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use std::map to find correct index range  Instead of iterating through every range to find the one we're looking for instead put them all in a map and find them with that. This helps performance with index buffers that contain a bunch of different ranges.  BUG= TEST=  Review URL: http://codereview.appspot.com/4974051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@742 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Preparation for macro expansion. Review URL: http://codereview.appspot.com/4919045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@741 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a bug introduced in r738.  ANGLEBUG=201 TEST=chrome gpu bots green no complaint from Firefox/Benoit Review URL: http://codereview.appspot.com/4956050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@740 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Issue 199: invalid assertion in Surface.cpp makes debug browser crash on conformance test drawingbuffer-static-canvas-test.html  This patch fixes assertions that were wrongly asserting that only OOM errors could occur when allocating a D3D texture/surface. The drawingbuffer-static-canvas-test.html test tries a 32768x150 size and that fails because of the too large width without being OOM.    git-svn-id: https://angleproject.googlecode.com/svn/trunk@739 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Emulate certain buil-in functions to work around driver bugs.  This is implemented by adding a new compile option SH_EMULATE_BUILT_IN_FUNCTIONS.  The emulated functions are names as webgl_originalName_emu so there will never be naming conflicts.  At the moment only three functions are emulated: normalize abs sign.  Also the compile option will emulate all three.  However the mechanism to emulate only a selected subset is also imeplemented.  It can be turned on easily.  ANGLEBUG=196 TEST=with this option the failed test with abs.frag passes. Review URL: http://codereview.appspot.com/4916043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@738 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Modified Token class to store various types of data. Added debug code to dump token to an output stream. Review URL: http://codereview.appspot.com/4920041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@737 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix version.  BUG=none TEST=none Review URL: http://codereview.appspot.com/4898057  git-svn-id: https://angleproject.googlecode.com/svn/trunk@736 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the standalone translator_common.vcproj  BUG=none TEST=build fine with that .vcproj TBR=daniel@transgaming.com Review URL: http://codereview.appspot.com/4902049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@735 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an compile option to unroll for-loops with integer indices.  ANGLEBUG=193 TEST=with this option for-loops with integer indices will be unrolled. Review URL: http://codereview.appspot.com/4899047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@734 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement more detailed GetString(GL_RENDERER)  Trac #17815 Issue=161 Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@733 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Output the precision for the return type in function declarations.  Tested with GLSL ES conformance suite (which doesn't test this) and the WebGL conformance suite which now contains tests to ensure that these constructs compile correctly.  Chromium bug: http://crbug.com/86952 Review URL: http://codereview.appspot.com/4897045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@731 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
General cleanup of compiler directory and ParseHelper. Review URL: http://codereview.appspot.com/4801084  git-svn-id: https://angleproject.googlecode.com/svn/trunk@730 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the revision in version.h.  Revision r727 didn't set the number correctly so r728 got it wrong too.  BUG=none TEST=none Review URL: http://codereview.appspot.com/4879044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@729 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an option to support for GL_OES_EGL_image_external.  Comes with this extension is the new sampler type samplerExternalOES.  ANGLEBUG=175 TEST=compile the attached shader file Review URL: http://codereview.appspot.com/4809076  git-svn-id: https://angleproject.googlecode.com/svn/trunk@728 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed compiler/unistd.h reference from build_angle.gyp. Review URL: http://codereview.appspot.com/4844062  git-svn-id: https://angleproject.googlecode.com/svn/trunk@725 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
bump version.h  git-svn-id: https://angleproject.googlecode.com/svn/trunk@724 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
One more DXT bug Review URL: http://codereview.appspot.com/4844057  git-svn-id: https://angleproject.googlecode.com/svn/trunk@723 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix bugs in DXT support Review URL: http://codereview.appspot.com/4857045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@722 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for DXT3 and DXT5  TEST=none BUG=none Review URL: http://codereview.appspot.com/4809068  git-svn-id: https://angleproject.googlecode.com/svn/trunk@721 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Release cube map surfaces on successful conversion (avoiding a memory leak).  TRAC #17749 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@720 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Catch all CreateOffscreenPlainSurface errors in readPixels  Issue=194 TRAC #17748 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@719 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Beginnings of a new preprocessor. Review URL: http://codereview.appspot.com/4830050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@718 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove unnecessary Visit function overloading.  BUG=none TEST=build ok run as before Review URL: http://codereview.appspot.com/4814063  git-svn-id: https://angleproject.googlecode.com/svn/trunk@715 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
update version number  git-svn-id: https://angleproject.googlecode.com/svn/trunk@714 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed standalone visual studio projects by adding DetectRecursion files.  Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@713 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix Static buffer invalidation regression  Bug=139 Trac=#15143 Signed-off-by: Daniel Koch Author: Michael Braithwaite  git-svn-id: https://angleproject.googlecode.com/svn/trunk@712 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect function recursion and reject a shader if detected.  ANGLEBUG=191 TEST=shaders with function recursion are rejected. Review URL: http://codereview.appspot.com/4808061  git-svn-id: https://angleproject.googlecode.com/svn/trunk@711 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add Wayland typedefs to eglplatform.h  Issue=188 Author: Daniel Nicoara  git-svn-id: https://angleproject.googlecode.com/svn/trunk@709 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refresh EGL and GLES2 headers from Khronos registry  Based on SVN r15167  git-svn-id: https://angleproject.googlecode.com/svn/trunk@708 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Win64: fix return value from lookupAttribute  Issue=190 Author: Makoto Kato  git-svn-id: https://angleproject.googlecode.com/svn/trunk@707 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add extension to create software device.  Add an extension so that users can receive a device that renders in software. Currently this is done by loading a swiftshader dll.  BUG= TEST=  Review URL: http://codereview.appspot.com/4631093  git-svn-id: https://angleproject.googlecode.com/svn/trunk@705 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version information  git-svn-id: https://angleproject.googlecode.com/svn/trunk@704 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed two assertions to explicit tests and added an error code to those checked during ReadPixels. These changes are needed to avoid having ANGLE assert in debug builds when running WebGL test cases which provoke a GPU reset.  BUG=none TEST=slow-shader-example and lots-of-polys-example in WebGL test suite Review URL: http://codereview.appspot.com/4684042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@703 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix an overflow issue when a static buffer is invalidated.  Issue=104139179 TRAC #15143 Signed-off-by: Daniel Koch Author: Nicolas Capens Original-patch-by: Yore Apex  git-svn-id: https://angleproject.googlecode.com/svn/trunk@702 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix DelayLoadDLLs deps for dwmapi in release builds  Issue=177  git-svn-id: https://angleproject.googlecode.com/svn/trunk@701 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix GrowAtomTable() on out-of-memory.  Issue=173 Signed-off-by: Daniel Koch Author: Benoit Jacob  git-svn-id: https://angleproject.googlecode.com/svn/trunk@699 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add x86-64 project settings.  Bug=55 TRAC #15606 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@698 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix 64-bit support.  Bug=55 TRAC #15606 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@697 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Map long for-loop control variable names in shaders.  Look at TIntermLoop::traverse() in IntermTraverse.cpp the control init part is not handled explicitly there (unlike the other two parts).  It is expected hat visitLoop will cover the init part.  The bug in the MapLongVariableNames is that the visitLoop doesn't do anything.  This CL fixes it.  BUG=171 TEST=conformance/glsl-long-variable-names.html passing. Review URL: http://codereview.appspot.com/4644045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@696 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Always emit precision in shader variable declarations.  After the shader compile (and before code output) the precision scopes are already lost.  In order to correctly output precisions we need to emit precision in each variable declaration therefore each variable should have its precision set.  This CL fixes the bugs that the precisions are lost for variables using default precsions and struct fields.  Also this CL fixes a bug in the grammar: constructors are not type_specifier and they shouldn't have precisions.  BUG=168 TEST=webgl conformance tests gles2 conformance tests. Review URL: http://codereview.appspot.com/4617041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@695 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Emit precisions in function arguments and return type for GLES2.  BUG=none TEST=Translator with GLES2 output backend emit precisions for function arguments and return type. Review URL: http://codereview.appspot.com/4643042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@694 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Attempt to ensure pipeline flush on rendertarget change  Some ATI cards appear not to flush the pipeline correctly causing textures not to pick up newly-drawn contexts so do an extra no-op draw when necessary.  BUG=169 TEST=chromium on hulu.com  Review URL: http://codereview.appspot.com/4576051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@693 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added .rc files to gyp file so the version number appears in the resource section for gyp builds. Review URL: http://codereview.appspot.com/4568080  git-svn-id: https://angleproject.googlecode.com/svn/trunk@692 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Set max vertex correctly when drawing closing line  We were setting the max vertex way too low causing AMD cards to draw the line with an incorrect vertex.  BUG= TEST=enable "Composited render layer borders" in chromium  Review URL: http://codereview.appspot.com/4588042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@691 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
update revision  git-svn-id: https://angleproject.googlecode.com/svn/trunk@689 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correct usage of GetVersion() windows calls.  Review:  http://codereview.appspot.com/4579049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@688 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement ES2 backend for Angle translator.  With this CL we have the option to select a code output backend: GLSL GLSL ES or HLSL.  Note that we always emit the highest supported float precision for fragment shader due to anglebug 168.  Although this is a temporary solution it's not against GLSL ES spec because it's ok for implementation to upgrade precision.  Tested with WebGL conformance test suite GLES2 conformance test suite (only failed 2/1198) and a few webgl demos including worlds of webgl aquarium etc.  anglebug=81 test=translator emitting correct GLSL ES code when ES2 backend is selected. Review URL: http://codereview.appspot.com/4550129  git-svn-id: https://angleproject.googlecode.com/svn/trunk@687 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix crlf newlines in surface.cpp TBR=apatrick@chromium.org  git-svn-id: https://angleproject.googlecode.com/svn/trunk@686 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revert copyImage changes from r682 as they cause regressions on some webpages  git-svn-id: https://angleproject.googlecode.com/svn/trunk@684 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Recommit r668 which got undone accidentally by r673.  Review URL: http://codereview.appspot.com/4589043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@683 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
No need to update texture before overwriting it with CopyImage.  Issue=163 TRAC #17019 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@682 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix multi-sample state management.  Issue=160 TRAC #16817 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@681 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add missing DWM libraries to Release project.  Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@680 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Purge associated render buffer object when texture is resized.  Similar fix for cube maps to follow. Review URL: http://codereview.appspot.com/4532124  git-svn-id: https://angleproject.googlecode.com/svn/trunk@678 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Do not set a WNDPROC on a window created by another thread.  It turns out SetWindowLong succeeds for other threads in the same process but we do not want the WNDPROC to be called from threads other than the thread on which EGL is running on. This was one of the reasons --in-process-gpu was not working with ANGLE in Chrome. Review URL: http://codereview.appspot.com/4576045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@677 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use DwmAPI if available to minimize queueing of presents.  Review URL: http://codereview.appspot.com/4559065  git-svn-id: https://angleproject.googlecode.com/svn/trunk@673 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Made it possible to turn off D3D9Ex support with a command-line compiler option. The "Debug This Pixel..." feature in PIX often fails when using the D3D9Ex interfaces.  In order to get debug pixel to work on a Vista/Win 7 machine define "ANGLE_ENABLE_D3D9EX=0" in your project file.  Review URL: http://codereview.appspot.com/4526106  git-svn-id: https://angleproject.googlecode.com/svn/trunk@672 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handle additional lost device error codes that may be returned when using IDirect3DDevice9Ex.  Review URL: http://codereview.appspot.com/4529113  git-svn-id: https://angleproject.googlecode.com/svn/trunk@671 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update and alphabetize contributors list. Review URL: http://codereview.appspot.com/4574041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@670 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update version number for recent commits  git-svn-id: https://angleproject.googlecode.com/svn/trunk@669 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable use of FlipEx for problematic use cases.  It seems that DWM will when given an HWND that has an associated FlipEX swap chain stretch the contents of the HWND to fill the new window IF you don't issue draw calls to that HWND before the WM_PAINT returns. This leads to horrendous sizing artifacts.  For Chromium this is a show stopper.  But FlipEx is definitely a good thing for regular single process applications.  So is there a clean way to conditionally disable FlipEX for these problem cases? The heuristic in this patch basically says "if your hwnd is not in-process then you're probably not painting in its HWND so don't sue FlipEX."  This catches the Chromium use case. There is still the possibility of a regular single-process EGL application that tries to draw outside WM_PAINT that would experience sizing artefacts. But maybe that's OK.  Anyways I'm not married to this technique. Just throwing something out there to start the discussion. :)  Review URL: http://codereview.appspot.com/4536102  git-svn-id: https://angleproject.googlecode.com/svn/trunk@668 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Insert a new-line ('\n') before the #line directive in HLSL source. Without this sometimes the #line directive shows up at the end of the previous line of shader source.  This was causing syntax errors when trying to compile shaders during a PIX session.  Review URL: http://codereview.appspot.com/4561059  git-svn-id: https://angleproject.googlecode.com/svn/trunk@667 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Generate an error in the parser for unsized array declarations.  BUG=164 TEST=none Review URL: http://codereview.appspot.com/4539101  git-svn-id: https://angleproject.googlecode.com/svn/trunk@666 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Redid gyp changes in last commit to support debugging of samples on Linux. Fixed bug in translator sample where it was confusing arguments and filenames on POSIX platforms. Review URL: http://codereview.appspot.com/4532108  git-svn-id: https://angleproject.googlecode.com/svn/trunk@665 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added missing depth argument to GYP which causes the top-level Makefile to be generated into the correct directory on Linux. Added missing library for clients of translator (the samples in particular).  Built all ANGLE targets on Linux and Windows to test these changes.  BUG=none TEST=none Review URL: http://codereview.appspot.com/4556072  git-svn-id: https://angleproject.googlecode.com/svn/trunk@664 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove path from D3DCompiler warning messages  Issue=162 Trac #16209 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@662 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented OES_texture_npot support.  TRAC #16871 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@661 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the bug that long varying varibales are mapped into different names in fragment/vertex shaders.  ANGLEBUG=144 TEST=the same long varying variable name in fragment/vertex shaders map to the same shortened name if using the same translator. Review URL: http://codereview.appspot.com/4547063  git-svn-id: https://angleproject.googlecode.com/svn/trunk@660 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix version error from r658. Review URL: http://codereview.appspot.com/4524071  git-svn-id: https://angleproject.googlecode.com/svn/trunk@659 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add long name mapping option to the translator test. Review URL: http://codereview.appspot.com/4529091  git-svn-id: https://angleproject.googlecode.com/svn/trunk@658 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix lost context recovery for Windows XP.  Issue=138 TRAC #16271 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@657 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Revert pending surface destruction (part of revision 632). TRAC #16271 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@656 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only use D3DSWAPEFFECT_FLIPEX on D3D9Ex devices. TRAC #16271 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@655 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use D3DSWAPEFFECT_FLIPEX on Windows 7.  Reduces frame rate jitters on Windows 7 reported in crbug.com/82925 Review URL: http://codereview.appspot.com/4517096  git-svn-id: https://angleproject.googlecode.com/svn/trunk@654 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add missing newlines to source files  Issue=154  git-svn-id: https://angleproject.googlecode.com/svn/trunk@653 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Improve robustness of Context::finish and flush  Trac #16690 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@652 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the order of the error() parameters in Surface.cpp and advertise EGL_ANGLE_d3d_share_handle_client_buffer extension  Trac #16711  Also rename the extension file to match the extension name  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@651 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for eglCreatePbufferFromClientBuffer taking as input a D3D share handle corresponding to the enum EGL_D3D_TEXTURE_2D_SHARE_HANDLE_ANGLE. No spec as of yet but it does the obvious thing.  BUG=129 TEST=  Review URL: http://codereview.appspot.com/4325048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@650 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use SSE2 to swizzle RGBA to BGRA  Using SSE2 can drastically reduce the amount of time it takes to do glTexImage2D. I've also added a plain-C path that's much faster than the one that was there before.  BUG=151 TEST=  Review URL: http://codereview.appspot.com/4465052  git-svn-id: https://angleproject.googlecode.com/svn/trunk@649 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cache result of D3DPERF_GetStatus.  I profiled the WebGL acquarium with AMD CodeAnalyst and it turns out this function got a lot of hits. Top 10 before change:  CS:EIP     	Symbol + Offset                                                              	64-bit 	Timer samples 	 0x62a87260 	CBatchFilterI::ProcessBatch                                                  	       	13.41         	 0x62a171f1 	D3DPERF_GetStatus                                                            	       	6.04          	 0x629ce831 	CD3DBase::SetVertexShaderConstantF_FP                                        	       	5.12          	 0x62a88bea 	CBatchFilterI::GetBatchBufferPointer<_LH_SETPIXELSHADERCONSTIMM_TOKEN_SMALL> 	       	4.61          	 0x6298060b 	UpdateViewportCache                                                          	       	4.2           	 0x6298da3a 	CD3DBase::UpdateTextures                                                     	       	3.58          	 0x6298db6b 	CD3DDDIDX10::SetTexture                                                      	       	2.76          	 0x6298df1d 	CD3DDDIDX10::InsertStreamSource                                              	       	2.46          	 0x629d1c1a 	CD3DBase::SetPixelShaderConstantF_FP                                         	       	2.25          	 0x6297efc4 	CD3DHal::SetSamplerState_FP                                                  	       	2.05          	  10 functions 186 instructions Total: 454 samples 46.47% of shown samples 2.51% of total session samples   And after:  CS:EIP     	Symbol + Offset                                                              	64-bit 	Timer samples 	 0x69317260 	CBatchFilterI::ProcessBatch                                                  	       	13.87         	 0x69318bea 	CBatchFilterI::GetBatchBufferPointer<_LH_SETPIXELSHADERCONSTIMM_TOKEN_SMALL> 	       	5.84          	 0x6921060b 	UpdateViewportCache                                                          	       	5.29          	 0x6925e831 	CD3DBase::SetVertexShaderConstantF_FP                                        	       	4.93          	 0x6921da3a 	CD3DBase::UpdateTextures                                                     	       	4.38          	 0x6921e034 	CD3DBase::SetStreamSource_FP                                                 	       	3.65          	 0x69261c1a 	CD3DBase::SetPixelShaderConstantF_FP                                         	       	3.65          	 0x69227651 	CD3DBase::DrawIndexedPrimitive                                               	       	2.74          	 0x6920efc4 	CD3DHal::SetSamplerState_FP                                                  	       	2.37          	 0x6925e9f7 	CD3DBase::SetVertexShaderConstantIntF                                        	       	2.37          	  10 functions 152 instructions Total: 269 samples 49.09% of shown samples 0.80% of total session samples   UpdateViewportCache looks like it might be low hanging fruit as well. Review URL: http://codereview.appspot.com/4535049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@648 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix gl_FragCoord.  Landing patch from this Chromium issue:  http://code.google.com/p/chromium/issues/detail?id=82166 Review URL: http://codereview.appspot.com/4528055  git-svn-id: https://angleproject.googlecode.com/svn/trunk@647 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update contributors list  git-svn-id: https://angleproject.googlecode.com/svn/trunk@646 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix compilation warnings.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@645 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enable vertex texture fetch support.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@644 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Comment some (vertex) texture lookup functionality.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@643 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate the sampler uniform against the number of (combined) texture image units.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@642 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate shaders so they don't exceed the texture unit counts.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@641 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correct the sizes of the (combined) texture unit arrays for VTF.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@640 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Apply vertex textures and sampler states to the D3D9 device.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@639 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename SamplerType to TextureType (refactoring).  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@638 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Report the VTF texture unit limits.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@637 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect support for vertex shader texture lookups.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@636 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Translate vertex texture lookup functions.  Issue=95 TRAC #16568 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@635 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix depth test state management.  TRAC #16655 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@634 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix for issue 150 - HandleAllocator asserts on framebuffer 0 release  Issue=150 Signed-off-by: apatrick  git-svn-id: https://angleproject.googlecode.com/svn/trunk@633 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented semantics for eglDestroySurface when surface is current on thread.  The spec has this to say.  " All resources associated with surface which were allocated by EGL are marked for deletion as soon as possible. If surface is current to any thread (see section 3.7.3) resources are not actually released while the surface remains current. Future references to surface remain valid only so long as it is current; it will be destroyed and all future references to it will become invalid as soon as any otherwise valid eglMakeCurrent call is made from the thread it is bound to." Review URL: http://codereview.appspot.com/4449064  git-svn-id: https://angleproject.googlecode.com/svn/trunk@632 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate cube texsubimage based on current face  Apps can load cube faces in an arbitrary order so validating texsubimage based on the format of only the first face won't work.  BUG=149 TEST=  Review URL: http://codereview.appspot.com/4445085  git-svn-id: https://angleproject.googlecode.com/svn/trunk@629 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move attrib-list handling into Display  Move the handling of attrib-lists in eglCreatePbufferSurface and eglCreateWindowList into methods in Display so we can keep libEGL.cpp as a thin layer.  BUG= TEST=  Review URL: http://codereview.appspot.com/4453051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@628 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adding ANGLE_timer_query draft extension spec.  Issue=142 Signed-off-by: Daniel Koch   git-svn-id: https://angleproject.googlecode.com/svn/trunk@627 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix compilation errors in translator.cpp. Review URL: http://codereview.appspot.com/4445073  git-svn-id: https://angleproject.googlecode.com/svn/trunk@626 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't constantly recreate index buffers.  Recreating index buffers for closing loops can take a long time so use a streaming index buffer instead.  BUG= TEST=  Review URL: http://codereview.appspot.com/4438080  git-svn-id: https://angleproject.googlecode.com/svn/trunk@625 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Updating resource types on Context (Framebuffers and Fences) to use hash_map as done to other types in r615.  Issue=148 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@624 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Unifying resource handle allocation code with an allocator optimized for O(1) allocs/releases.  Issue=143 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@623 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handle null pointer produced by vertex buffer lock  Issue=120 TRAC #16558 Signed-off-by: Daniel Koch Author: Nicolas Capens (original patch by Jacob Benoit)  git-svn-id: https://angleproject.googlecode.com/svn/trunk@622 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add MapLongVariableNames files to standalone vcproj  git-svn-id: https://angleproject.googlecode.com/svn/trunk@620 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement shader identifier name mapping.  The name mapping happens when an identifier is longer than 32 characters.  The name mapping is behind a flag so it won't happen by default.  Also functions to query the mapped names are added.  The purpose of this CL is for the drivers that can't handle long names.  For example linux NVIDIA driver can't handle 256 character name whereas WebGL spec requires that.  This CL also fixes the issue that some of the TIntermSymbols' ids are 0s.  ANGLEBUG=144 TEST=test manually with shaders with long identifier names. Review URL: http://codereview.appspot.com/4428058  git-svn-id: https://angleproject.googlecode.com/svn/trunk@619 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use StretchRect to speed up simple blits.  Fixed copy position transformation. TRAC #16494 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@618 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertise depthbuffer-less surface configs.  TRAC #16493 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@617 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Heuristically optimize buffer usage.  TRAC #16343 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@616 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use a hash map for faster resource lookups. TRAC #14871 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@615 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimized prepareVertexData and protect against NULL pointers.  TRAC #14871 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@614 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move the vertex declaration cache to a helper class.  TRAC #14871 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@613 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate lookupAttributeMapping.  TRAC #14871 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@612 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Profiling shows that creating and destroying vertex declarations is extremely expensive so we can keep a 16-element cache around to speed that up.  BUG= TEST=JSGameBench  Review URL: http://codereview.appspot.com/4358051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@609 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add ANGLE extension specifications  git-svn-id: https://angleproject.googlecode.com/svn/trunk@608 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Unroll for-loop if sampler array uses loop index as its index.  If inside a for-loop sampler array index is the loop index Mac cg compiler will crash.  This CL unroll the loop in such situation.  The behavior is: 1) If the for-loop index is a float we reject the shader. 2) If it is an integer we unroll the for-loop.  Things that should be done in the future are: 1) Add line number macros. 2) Add a limit to unroll iteration count.  anglebug=94 Review URL: http://codereview.appspot.com/4331048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@606 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix resizing the string buffer.  Issue=117 TRAC #15793 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@605 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for eglBindTexImage and eglReleaseTexImage  With this patch we can bind pbuffers as textures. Once we add support for using a sharing handle to create a pbuffer we can use this to allow us to use it as a texture as well.  BUG=129 TEST=modified Simple_Texture2D works Review URL: http://codereview.appspot.com/4291066/  git-svn-id: https://angleproject.googlecode.com/svn/trunk@604 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use D3DX to copy between renderable texture surfaces.  TRAC #16118 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@598 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Retrieve the D3D texture format per image.  TRAC #16118 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@597 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Consistently use the virtual keyword on virtual overloaded methods. TRAC #16118 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@596 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix Visual C++ linking in stand-alone project TRAC #16118 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@595 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix angle version in version.h  BUG=none TEST=none TBR=apatrick@chromium.org Review URL: http://codereview.appspot.com/4309046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@594 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix a typo in r592.  (I developped on Windows and typed in on Mac and submit).  BUG=135 TEST=build fine  TBR=kbr@chromium.org Review URL: http://codereview.appspot.com/4285066  git-svn-id: https://angleproject.googlecode.com/svn/trunk@593 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
glGetProgramiv(GL_ACTIVE_UNIFORM_MAX_LENGTH) should count an extra 3 if uniform is an array because "[0]" is appended.  BUG=135 TEST=the attached htm in the bug runs ok Review URL: http://codereview.appspot.com/4287077  git-svn-id: https://angleproject.googlecode.com/svn/trunk@592 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Switched to D3D10 shader compiler.  I figured out how to call in to D3DCompiler_xx.dll and still get the ID3DXConstantTable metadata used by ANGLE. There are more optimization levels available with this compiler and the lowest level (0) allows MetaTunnel and MandelBox to compile their shaders quickly. MetaTunnel still does not render correctly unfortunately.  I benchmarked eight of the ShaderToy demos and did not notice any performance regression on an nVidia Quadro FX 380. Intel might be adversely affected. I built ANGLE against D3DCompiler_43.dll while Chrome still ships with 42. I'm not sure if that will make a difference but I'll rev Chrome soon.  I also checked WebGL Aquarium and ran the WebGL conformance tests.  This will also let me roll r590 into Chromium. It turns out the ForceSymbolReferences setting I added to the libGLESv2 target caused the linker to sometimes crash when making changes and the changes between r577 and r590 consistently lead to a crash. libGLESv2 now has a hard dependency on D3DCompiler_xx.dll via the call in Program.cpp and this seems to not make the linker crash. Review URL: http://codereview.appspot.com/4275063  git-svn-id: https://angleproject.googlecode.com/svn/trunk@591 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Track dirty texture parameters and images separately.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@590 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Track texture serials instead of id's.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@589 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Keep track of applied textures and dirty state to minimize D3D calls.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@588 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix checking for floating-point render target texture support.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@587 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Copy texture data of incomplete textures to the image arrays.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@586 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Retrieve current texture properties from the image array to avoid D3D call.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@585 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Retrieve texture width height and type from the top-level image.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@584 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture image refactoring.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@583 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove redundant dirtyImageData() check.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@582 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check image type in texture completeness test.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@581 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
InternalFormat and format are the same.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@580 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix dirty texture state management.  TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@579 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminate the weak base texture pointer. TRAC #15703 Issue=86 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@578 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed framebuffer-object-attachment WebGL conformance test.  We updated it with WebGL conformance test r14153 to exercise zero-size FBO attachments which failed with ANGLE. The new conformance test passes with OpenGL and Mesa.  See this Chromium bug: http://code.google.com/p/chromium/issues/detail?id=75666  D3D fails if you try to create a zero size depth buffer but OpenGL ES2 allows it. D3D / drivers seem to sometimes crash rather than fail normally though this might just be because some users have enabled the D3D debug runtime and break on error and we're getting the reports.  It was also returning unexpected results when calling GetRenderbufferParameter for parameters that do not apply to a particular buffer. For example RED_SIZE for a zero sized depth buffer should be 0.  Tested by running WebGL conformance test with retail D3D runtime (passes) and debug D3D runtime (passes and does not assert in D3D or ANGLE). Review URL: http://codereview.appspot.com/4284053  git-svn-id: https://angleproject.googlecode.com/svn/trunk@577 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update contributors and version  git-svn-id: https://angleproject.googlecode.com/svn/trunk@576 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix clang warnings in PoolAlloc.cpp  Issue=127 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Part 4 of 5: <http://webkit.org/b/56337> Enable -Werror on ANGLE  Upstream bug: <http://code.google.com/p/angleproject/issues/detail?id=127>  Fixes the following static analyzer warnings:      src/compiler/PoolAlloc.cpp:154:26:{154:24-154:25}{154:28-154:42}: warning: comparison of unsigned expression < 0 is always false [-Wtautological-compare2]          for (size_t x = 0; x < guardBlockSize; x++) {                             ~ ^ ~~~~~~~~~~~~~~     src/compiler/PoolAlloc.cpp:159:55:{159:54-159:56}{160:30-160:34}: warning: conversion specifies type 'unsigned int' but the argument has type 'size_t' (aka 'unsigned long') [-Wformat7]                  sprintf(assertMsg "PoolAlloc: Damage %s %u byte allocation at 0x%p\n"                                                           ~^                                                           %lu     fix-it:"src/compiler/PoolAlloc.cpp":{159:54-159:56}:"%lu"  * src/compiler/PoolAlloc.cpp: (TAllocation::checkGuardBlock): Changed '%u' to '%lu' for size_t variable.  Put for loop inside #ifdef GUARD_BLOCKS/#endif macros to fix tautological-compare warning. (TAllocation::checkAllocList): Added newline to end of file.  Author:    David Kilzer <ddkilzer@apple.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@575 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix clang warnings: Intermediate.cpp: warning: '&&' within '||'  Issue=126 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Part 3 of 5: <http://webkit.org/b/56337> Enable -Werror on ANGLE  Upstream bug: <http://code.google.com/p/angleproject/issues/detail?id=126>  Fixes the following static analyzer warnings:      src/compiler/Intermediate.cpp:1008:55:{1008:17-1008:54}: warning: '&&' within '||' [-Wlogical-op-parentheses2]                  if (left->isMatrix() && right->isVector() ||                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^     src/compiler/Intermediate.cpp:1008:55: note: place parentheses around the '&&' expression to silence this warning [2]                  if (left->isMatrix() && right->isVector() ||                                                            ^                      (                                    )     fix-it:"src/compiler/Intermediate.cpp":{1008:17-1008:17}:"("     fix-it:"src/compiler/Intermediate.cpp":{1008:54-1008:54}:")"     src/compiler/Intermediate.cpp:1008:55:{1009:17-1009:54}: warning: '&&' within '||' [-Wlogical-op-parentheses2]                  if (left->isMatrix() && right->isVector() ||                                                            ^     src/compiler/Intermediate.cpp:1008:55: note: place parentheses around the '&&' expression to silence this warning [2]                  if (left->isMatrix() && right->isVector() ||                                                            ^     fix-it:"src/compiler/Intermediate.cpp":{1009:17-1009:17}:"("     fix-it:"src/compiler/Intermediate.cpp":{1009:54-1009:54}:")"     src/compiler/Intermediate.cpp:1020:55:{1020:17-1020:54}: warning: '&&' within '||' [-Wlogical-op-parentheses2]                  if (left->isMatrix() && right->isVector() ||                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^     src/compiler/Intermediate.cpp:1020:55: note: place parentheses around the '&&' expression to silence this warning [2]                  if (left->isMatrix() && right->isVector() ||                                                            ^                      (                                    )     fix-it:"src/compiler/Intermediate.cpp":{1020:17-1020:17}:"("     fix-it:"src/compiler/Intermediate.cpp":{1020:54-1020:54}:")"     src/compiler/Intermediate.cpp:1020:55:{1021:17-1021:54}: warning: '&&' within '||' [-Wlogical-op-parentheses2]                  if (left->isMatrix() && right->isVector() ||                                                            ^     src/compiler/Intermediate.cpp:1020:55: note: place parentheses around the '&&' expression to silence this warning [2]                  if (left->isMatrix() && right->isVector() ||                                                            ^     fix-it:"src/compiler/Intermediate.cpp":{1021:17-1021:17}:"("     fix-it:"src/compiler/Intermediate.cpp":{1021:54-1021:54}:")"  * src/compiler/Intermediate.cpp: (TIntermBinary::promote): Added parnetheses.  Author:    David Kilzer <ddkilzer@apple.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@574 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix clang warning: ParseHelper.cpp:264:13: warning: 8 enumeration values not handled in switch  Issue=125 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Part 2 of 5: <http://webkit.org/b/56337> Enable -Werror on ANGLE  Upstream bug: <http://code.google.com/p/angleproject/issues/detail?id=125>  Fixes the following static analyzer warning:      src/compiler/ParseHelper.cpp:264:13: warning: 8 enumeration values not handled in switch: 'EbtVoid' 'EbtBool' 'EbtGuardSamplerBegin'... [-Wswitch-enum2]          switch( type ){                  ^  * src/compiler/ParseHelper.cpp: (TParseContext::precisionErrorCheck): Added a default case.  Author:    David Kilzer <ddkilzer@apple.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@573 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix clang warning: ConstantUnion.h:56:17: warning: 7 enumeration values not handled in switch  Issue=124  Part 1 of 5: <http://webkit.org/b/56337> Enable -Werror on ANGLE  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Upstream bug: <http://code.google.com/p/angleproject/issues/detail?id=124>  Fixes the following static analyzer warning:      In file included from src/compiler/debug.cpp:14:     In file included from src/compiler/ParseHelper.h:10:     In file included from src/compiler/localintermediate.h:11:     In file included from src/compiler/intermediate.h:21:     src/compiler/ConstantUnion.h:56:17: warning: 7 enumeration values not handled in switch: 'EbtVoid' 'EbtGuardSamplerBegin' 'EbtSampler2D'... [-Wswitch-enum2]              switch (type) {                      ^  * src/compiler/ConstantUnion.h: (ConstantUnion::operator==): Added a default case.  Author:    David Kilzer <ddkilzer@apple.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@572 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ANGLE depends statically on D3DCompiler_x.dll.  This prevents D3DX9 from loading and unloading the DLL whenever D3DXCompileShader is called. Apart from being slow especially when a debugger is attached it is not possible for ANGLE to load DLLs after the Chrome sandbox has been enabled.  Review URL: http://codereview.appspot.com/4282046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@571 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix NULL dereference for empty constructors. Issue=123 Patch by Jacob Benoit.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@570 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Newlines in multi-line comments don't count as a newline. TRAC #15791 Issue=114 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@569 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Improve debug log formatting. TRAC #15791 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@568 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed a floating-point parsing assert. TRAC #15790 Issue=99112 Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@567 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid division by zero in the preprocessor Trac #15792 Issue=115  Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@566 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Delete geometry folder   git-svn-id: https://angleproject.googlecode.com/svn/trunk@565 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move geometry files. TRAC #15649 Signed-off-by: Daniel Koch  Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@564 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minor refactoring. TRAC #15551 Signed-off-by: Daniel Koch  Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@563 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added new line after generated HLSL break continue and kill statements.  This is consistent with return statements. It means that when PIX is attached the #line directive lands on a new line.  Review URL: http://codereview.appspot.com/4179054  git-svn-id: https://angleproject.googlecode.com/svn/trunk@562 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix varying packing. TRAC #15550 Issue=111 Fix by Ranger Harke Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@561 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix varying relinking. TRAC #15527 Issue=100 Signed-off-by: Daniel Koch  Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@560 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix invalid compare operation asserts. TRAC #15551 Issue=116 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@559 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Issue=91 -- implement pbuffers in ANGLE; add D3D share handle support  git-svn-id: https://angleproject.googlecode.com/svn/trunk@558 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check for device lost with CheckDeviceState when using D3D9Ex.  According to the docs TestCooperativeLevel is a no-op with D3D9Ex.  http://msdn.microsoft.com/en-us/library/bb174348(VS.85).aspx  I believe it is safe to ignore the additional return values from CheckDeviceState. Some appear to be to allow optimization when a window is occluded. The new errors seem to be best treated as device lost as we were before. Although if the device is removed (!) I'm not sure what to do. It might also be useful to communicate D3DERR_DEVICEHUNG to Chromium in the future so it can use it as a hint to back off.  Tested that D3D9 and D3D9Ex take the appropriate paths through Display::isDeviceLost.  Bug: http://code.google.com/p/angleproject/issues/detail?id=113  Review URL: http://codereview.appspot.com/4154042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@557 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix anti-aliased clears. TRAC #15445 Issue=82 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@556 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix loop splitting. Trac #15446 Issue=98 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@555 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
fix pedantic compiler warnings Issue=108  git-svn-id: https://angleproject.googlecode.com/svn/trunk@554 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix FBO/Texture/renderbuffer class hierarchy issues TRAC #14744 Issue=51/52 Delegated format queries to RenderbufferStorage. Eliminated TextureColorbufferProxy by merging it into Colorbuffer. Abstracted texture colorbuffer queries. Moved some conversion functions to the right namespace. Fixed line-endings in Texture.cpp Signed-off-by: Daniel Koch  Author:    Nicolas Capens <nicolas@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@553 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow variable names with length of up to 256 characters (this is required by WebGL spec). BUG=109 TEST=the 256-character variable test in glsl-conformance.html passes  Review URL: http://codereview.appspot.com/3981050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@552 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed commitRect so it correctly flips the source rectangle and dest point on Y.  Review URL: http://codereview.appspot.com/4047050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@551 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reject non-ASCII characters in shader source at the preprocessor level.  Review URL: http://codereview.appspot.com/4094047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@545 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Map D3D calls and HLSL shaders back to GLES2 calls and GLSL ES shaders in PIX.  This makes debugging and profiling using PIX a lot more convenient. The top level of events are the GLES calls with their arguments. Those can be expanded to see the D3D calls that were issued for a particular GLES call.  When PIX is attached the shaders are saved out to temporary files and referenced from the translated HLSL shaders via #line directives. This enabled source level debugging of the original GLSL from PIX for pixel and vertex shaders. The HLSL is also saved to a temporary file so that intrinsic functions like texture2D can be stepped into.  It also avoids creating a text file in the current working directory which has continued to be an issue.  I made the dependency on d3d9.dll static again so it can be accessed by GetModuleHandle witihin DllMain.  I added an EVENT macro that issues D3DPERF_BeginEvent and D3DPERF_EndEvent around a C++ block. I replaced TRACE with EVENT for all the entry points.  I removed the tracing of shader source since the source is visible in PIX.  The means by which the filename of the temporary shader file is passed into the shader compiler is a little clunky. I did it that way to avoid changing the function signatures and breaking folks using the translator.  I plan to make the compiler respect #pragma optimize so that optimization can be disabled for debugging purposes. For now it just disables shader optimization in debug builds of ANGLE.   Review URL: http://codereview.appspot.com/3945043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@541 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix issues with preprocessor on very malformed shaders Trac #15236#15237#15238#15239  Error out instead of continued processing when we already know the preprocessor directives are bungled. Generally be more careful about the order in which cpp->elsetracker and cpp->ifdepth are checked/operated on. Validate all accesses of cpp->elsedepth to ensure no out of bounds accesses occur. Also slipped in a few indentation/spacing fixes.  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@540 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added version info resources. TRAC #15181 Signed-off-by: Daniel Koch  Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@539 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Applying patch from pkasting to svn:ignore files generated during the build process.  BUG=none TEST=none TBR=apatrick   git-svn-id: https://angleproject.googlecode.com/svn/trunk@538 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed gl_PointCoord Y coordinate.  I forgot to flip (or rather unflip) the Y coord in r536. Tested particle system sample and ran conformance tests. All conformance tests passed.  Review URL: http://codereview.appspot.com/4093043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@537 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
All surfaces follow D3D Y convention i.e. (0 0) is "top-left" rather than GL's "bottom-left". This eliminates the need to flip the default FBO to the D3D convention using additional blits when presenting and reduces VRAM usage for redundant window sized surfaces.  I took out the gl_Position.y flip from the vertex shader so FBOs are rendered according to D3D conventions.  Texture lookups are flipped on Y to compensate. Cube map +Y and -Y faces are swapped. Y is now flipped in various other places including uploading and reading back texture data from / to system memory functions that take pixel space coordinates winding order for culling the implementation of ddy the calculation of gl_Position and gl_FragCoord in fragment shaders and the flipping of compressed texture tiles. Review URL: http://codereview.appspot.com/3265041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@536 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Build fix needed on certain platforms. Explicitly cast away const.  BUG=none TEST=built within WebKit on Mac OS X in release mode TBR=daniel  Review URL: http://codereview.appspot.com/4043042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@535 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase GLSL version to 1.20 if the shader contains any matrix constructor calls taking a matrix as argument; these were reserved in GLSL 1.10. This makes http://sio29.sakura.ne.jp/tmp/webgl/index_eruru.html load correctly once https://bugs.webkit.org/show_bug.cgi?id=52390 is fixed.  BUG=103 TEST=none  Review URL: http://codereview.appspot.com/4034041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@534 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
add glRenderbufferStorageMultisampleANGLE support to glGetProcAddress Trac #15095 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@533 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
BlitFramebuf: reuse local size variables Trac #15095 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@532 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Review: http://codereview.appspot.com/3969041/  Fixed dangling pointers in Surface.  When the surface is reset either because of device lost or a window resize and any of these fail:  CreateDepthStencilSurface CreateTexture  Some subsset of mSwapChain and/or mDepthStencil would be left uninitialized. This seemed to happen frequently on WIndows XP boxes.  Example crash dumps:  Thread 0 *CRASHED* ( EXCEPTION_ACCESS_VIOLATION_READ @ 0xffffffff800f0004 )  0x014f1aac       [libegl.dll     - surface.cpp:479]        egl::Surface::getDepthStencil() 0x1001324c       [libglesv2.dll  - context.cpp:301]        gl::Context::makeCurrent(egl::Display *egl::Surface *) 0x10018c7e       [libglesv2.dll  - main.cpp:85] gl::makeCurrent(gl::Context *egl::Display *egl::Surface *) 0x10017366       [libglesv2.dll  - context.cpp:3524]    glMakeCurrent 0x014f607c       [libegl.dll     - libegl.cpp:884]      eglMakeCurrent  Thread 0 *CRASHED* ( EXCEPTION_ACCESS_VIOLATION_READ @ 0xffffffffe95b5a5d )  0x01131a14       [libegl.dll     - surface.cpp:433]     egl::Surface::swap() 0x01136310       [libegl.dll     - libegl.cpp:1043]     eglSwapBuffers 0x0214ac64       [chrome.dll     - gl_context_egl.cc:240]  gfx::NativeViewEGLContext::SwapBuffers()   git-svn-id: https://angleproject.googlecode.com/svn/trunk@531 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Re-implemented line loop support. TRAC #14870 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@530 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create dynamic buffers in the default pool. TRAC #14889 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@529 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimized non-static usage of static buffers. Validate buffer pointers. TRAC #14889 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@528 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create buffers in the managed pool on Windows XP. TRAC #14888 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@527 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
rewrite buffers implementation to support static buffers more efficiently Bug=89 Trac #13565  Signed-off-by: Daniel Koch Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@526 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile errors that show up when _UNICODE is not defined. Review URL:  http://codereview.appspot.com/3772045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@525 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a compile flag so that writing to the debug log file can be turned off. Review URL: http://codereview.appspot.com/3733043/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@524 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix for loading L/LA images into a native (8/16-bit) D3D surface. Review URL: http://codereview.appspot.com/3805044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@523 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented copying from A1R5G5B5 to L8 and A8L8. Fixed the copying range. TRAC #14885 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@515 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update .gitignore file  git-svn-id: https://angleproject.googlecode.com/svn/trunk@512 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix structure parsing regression. TRAC #14717 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@511 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix support for arrays of sampler uniforms. TRAC #14840 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@510 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix querying active attributes. TRAC #14849 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@509 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix support for arrays of samplers. TRAC #14840 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@507 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix infinite loops in preprocessor when EOF encountered while scanning for newlines. Trac #14837 Issue=42 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@506 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update contributors list  git-svn-id: https://angleproject.googlecode.com/svn/trunk@505 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix memory leak in float literal parsing Issue=93  Contributed by Benoit Jacob  git-svn-id: https://angleproject.googlecode.com/svn/trunk@504 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix infinite loop in eglCreateWindowSurface Issue=90  Contributed by vladimirv  git-svn-id: https://angleproject.googlecode.com/svn/trunk@503 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
fix comparison between signed and unsigned integer expressions in TParseContext::constructorErrorCheck Issue=78  Contributed by timeless  git-svn-id: https://angleproject.googlecode.com/svn/trunk@502 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix TType::TType constructors to initialize members in correct order Issue=77  Contributed by timeless  git-svn-id: https://angleproject.googlecode.com/svn/trunk@501 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix potential sscanf overflows in Shader.cpp Issue=76  Contributed by ddefrostt  git-svn-id: https://angleproject.googlecode.com/svn/trunk@500 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't unsubclass the surface's output window if the window has been destroyed.  Review URL: http://codereview.appspot.com/3357041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@499 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add missing files to the Visual Studio project.  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@498 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the number of fragment uniform vectors. TRAC #14504 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@497 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the number of vertex uniform vectors. TRAC #14504 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@496 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement gl_DepthRange using a single uniform vector. TRAC #14504 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@495 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the number of supported vertex attributes. TRAC #14504 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@494 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Render directly to a render target texture. TRAC #14506 This speeds up surface swapping by avoiding an unnecessary StretchRect from a render target surface to a render target texture (anti-aliased surfaces are unsupported so no resolve is needed). Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@493 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the number of varying vectors to 10 on Shader Model 3.0 devices. TRAC #14503 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@492 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented validation for loop and indexing limitations specified by GLSL ES spec 1.0 Appendix A Section 4 and 5. A couple of things to note: - This CL only validates the "form" of loop and indexing. It does not detect number-of-iterations or out-of-bound access. This will require more involved analysis/heuristics. - I haved combined SH_VALIDATE_CONTROL_FLOW and SH_VALIDATE_INDEXING into one flag - SH_VALIDATE_LOOP_INDEXING. Validating both together is much easier. BUG=48 Review URL: http://codereview.appspot.com/3225041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@491 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
glGenerateMipmap now does not force textures to become render targets.  For textures that are not already render targets use the CPU to filter them and mark them as dirty.  I tested it by modifying the "mip_map_2d" demo to call glGenerateMipmap instead of generating the mipmaps itself. I also used the debugger to force it to take the render target path and verified that it still worked.  We've been having problems with the display being reset when video memory pressure is heavy with one of our demos. This patch made a noticable improvement on Vista but I don't think it will necessarily help on XP.  Review URL: http://codereview.appspot.com/3262041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@490 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved the global-pool-allocator to TCompiler so that all memory allocated by the compiler can be de-allocated. Earlier the global-pool-allocator kept accumulating memory from all compilers (symbol-table in particular). The memory was only de-allocated when gpu-process exited or ShFinalize() was called. This was a problem for Chromium which keeps the GPU process around for the browser session. Now the memory is de-allocated as soon as the compiler is deleted which happens when a tab is closed. BUG=58808 (crbug.com) Review URL: http://codereview.appspot.com/3280041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@489 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix active texture handling. TRAC #14429 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@488 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add an array index to arrays of structures. TRAC #13625 This patch ensures that (member variables of) arrays of structures are listed separately by glGetActiveUniforms(). Their location can also be retrieved individually with glGetUniformLocation() using the array operator. Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@487 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Resize surface on receipt of WM_SIZE to avoid corruption during resize. We hook WM_SIZE using window subclassing.  This is a continuation of http://codereview.appspot.com/3038042/   Review URL: http://codereview.appspot.com/3122041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@486 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed actions for generating parser-lexer now that they have been checked in. Also removed hooks to pull cygwin - it was only required for flex and bison that are not required anymore. If a developer needs to modify grammar files he is expected to install cygwin. Review URL: http://codereview.appspot.com/3177042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@485 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error introduced in r482.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@484 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed skipping over internal uniforms in getActiveUniform. TRAC #14390 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@483 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced TIntermLoop::testFirst with TIntermLoop::loopType to clearly indicate which type of loop it is. In some cases it is not possble to differentiate between a for-loop and while-loop. BUG=48 Review URL: http://codereview.appspot.com/3123041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@482 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Made GL_RGB textures map to D3DFMT_X8R8G8B8.  I suspect there is a subtle reason why this is the wrong thing to do.  The issue I am trying to address is glBlitFramebufferANGLE generating an error when bliting from a GL_RGB8_OES renderbuffer to a GL_RGB texture bound to the read framebuffer and draw framebuffer respectively. It verifies that both surfaces have the same underlying D3DFMT but GL_RGB8_OES renderbuffers are backed by X8R8G8B8 and GL_RGB textures were previously backed by A8R8G8B8.  Since textures cannot as far as I know be created GL_RGB8_OES it would be useful to have a way to blit from a GL_RGB8_OES renderbuffer to a GL_RGB texture.     Review URL: http://codereview.appspot.com/2822041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@481 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check that IDirect3DVertexBuffer9 and IDirect3DIndexBuffer9::Lock succeed.  I've been seeing crashes like this on Windows XP:  0x013319aa 	[libglesv2.dll 	- memcpy.asm:188] 	memcpy 0x0130989a 	[libglesv2.dll 	- vertexdatamanager.cpp:164] 	gl::VertexDataManager::preRenderValidate(intintgl::TranslatedAttribute *) 0x01304f66 	[libglesv2.dll 	- context.cpp:1996] 	gl::Context::applyVertexBuffer(unsigned intintintbool *gl::TranslatedIndexData *) 0x013061a7 	[libglesv2.dll 	- context.cpp:2648] 	gl::Context::drawArrays(unsigned intintint) 0x012f7721 	[libglesv2.dll 	- libglesv2.cpp:1741] 	glDrawArrays 0x01c54f1e 	[chrome.dll 	- gles2_cmd_decoder.cc:3179] 	gpu::gles2::GLES2DecoderImpl::DoDrawArrays(unsigned intintint) 0x01c59122 	[chrome.dll 	- gles2_cmd_decoder_autogen.h:640] 	gpu::gles2::GLES2DecoderImpl::HandleDrawArrays(unsigned intgpu::gles2::DrawArrays const &)  Review URL: http://codereview.appspot.com/3043042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@480 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only initialize through a temporary variable if the same symbol name is used in the initialization expression. TRAC #13627 The previous patch can generate a lot of unnecessary temporary variables. By first checking whether the same symbol name is reused the clutter is reduced to an absolute minimum (typical shaders won't rely on this odd GLSL semantic behavior so the workaround is hardly ever needed). Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@479 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Define new variables after evaluating the initialization expression. TRAC #13627 GLSL allows to write things like "float x = x;" where a new variable x is defined and the value of an existing variable x is assigned. HLSL uses C semantics (the new variable is created before the assignment is evaluated) so we need to convert this to "float t = x x = t;". Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@478 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added API to enforce GLSL limitations mandated by WebGL. BUG=48 Review URL: http://codereview.appspot.com/3005042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@476 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored glslang grammar files to make: - lexer and parser reentrant - line number handling automatic  Caveats: - The preprocessor is still not thread-safe and full of bugs. I have another not-yet-ready patch to replace the preprocessor. - The grammar files use options that are not supported by the old versions of flex and bison checked into compiler/tools. So I need to check-in the generated lexer-parser along with a shell script to generate them.  Review URL: http://codereview.appspot.com/2992041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@475 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix ternary operator unfolding TRAC #14155 Issue=70 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@474 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed gl_FragCoord emulation for point sprites of size > 1 using VPOS semantic for x and y coordinates rather than previous per-vertex emulation when running on Shader Model 3.  Verified fix in Chromium with test case from bug.  BUG=http://code.google.com/p/angleproject/issues/detail?id=71 TEST=test case from bug TBR=nicolas (LGTM'd by dgkoch)  Review URL: http://codereview.appspot.com/2921041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@473 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Preserve the scissor and viewport rectangles on swap and blit TRAC #14054 The SetRenderTarget calls used in Blit::boxFilter() and Surface::swap() implicitly reset the scissor and viewport rectangles. So we need to ensure that the original rectangles get captured and restored afterwards (the Context only keeps track of explicitly changed state). Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@472 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed null dereference when null passed as attribute list to eglCreateContext.  I tested that the samples still work and that they fail as expected but do not crash if the attribute list argument is null.  Review URL: http://codereview.appspot.com/2725042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@471 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use C locale for atof to ensure using a dot as decimal mark. TRAC #14055 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@470 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed infinite loops and buffer overflow in byte_scan when scanning for integers and floating-point numbers. - The byte_scan and associated functions are not very well written. I tried to clean them as much as possible without re-writing the whole thing. - Replaced lBuildFloatValue function with atof. lBuildFloatValue was returning incorrect value anyway. The only reason it was working so far because we never used that value. BUG=59623(crbug.com) 603333(bugzilla.mozilla.org) Review URL: http://codereview.appspot.com/2655042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@469 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
eglCreateContext checks client version is 2.  I believe we don't support version 1 since we are missing things like the fixed function pipeline.  This is motivated by consistency with other EGL implementations which return a v1 context if the EGL_CONTEXT_CLIENT_VERSION attribute is not specified.   Review URL: http://codereview.appspot.com/2760041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@468 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add missing break statements to Context::getBooleanv  Trac #14114 Reported in Bug=69  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@467 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
We were not reporting anything in the info-log for empty shader. This CL reports "unexpected EOF". BUG=66 Review URL: http://codereview.appspot.com/2619041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@466 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored ReadFileData() function in the translator sample to fix many issues: - Memory leaks - Made compiling using multiple strings default. This was not getting exercised. - Removed redundant copies of file data - Handled empty files properly which were getting ignored BUG=66 Review URL: http://codereview.appspot.com/2579041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@465 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed stack overflow in CPPextension function. An arbitrary size buffer was being used for extension name. Changed it to use MAX_SYMBOL_NAME_LEN. - Also formalized the values for MAX_SYMBOL_NAME_LEN and MAX_STRING_LEN. They were being used as if there was a confusion whether it included the NULL terminator or not. - Fixed some minor issues with code releated to the usage of MAX_SYMBOL_NAME_LEN and MAX_STRING_LEN. BUG=59625 (crbug.com) Review URL: http://codereview.appspot.com/2585042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@464 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support copying R5G6B5 to L8. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@463 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed an unnecessary call. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@462 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glCopyTex[Sub]Image for non-renderable formats. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@461 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initialize renderbuffer variables. Make serials constant. Removed X1R5G5B5 support. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@460 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate glCopyTex[Sub]Image source and destination format combinations. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@459 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Validate framebuffer attachment formats. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@458 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disallow rendering to L/LA textures. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@457 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create and load L/LA textures. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@456 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect L8 and A8L8 texture support. TRAC #13792 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@455 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added NSPR support for thread-local storage. Patch submitted by vladimirv. I have slightly modified the patch to still define ANGLE_OS_WIN and ANGLE_OS_POSIX. BUG=54 Review URL: http://codereview.appspot.com/2497041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@454 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed redundant null-check. Patch submitted by timeless. BUG=58 Review URL: http://codereview.appspot.com/2470042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@453 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initialized TPoolAllocator::totalBytes. Patch submitted by timeless. BUG=60 Review URL: http://codereview.appspot.com/2494041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@452 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
GLSL backend was assuming that a for-loop will always have a condition. But according to GLSL ES 1.0 the condition is optional. BUG=50 Review URL: http://codereview.appspot.com/2489042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@451 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed redundant dereference. Patch submitted by timeless. BUG=64 Review URL: http://codereview.appspot.com/2495041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@450 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced delete with delete[]. Patch submitted by timeless. BUG=59 Review URL: http://codereview.appspot.com/2493041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@449 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
GLSL backend now emits "#version 120" to legally access invariant keyword and gl_PointCoord built-in variable. BUG=35 Review URL: http://codereview.appspot.com/2341043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@448 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add proper detection for maximum texture and renderbuffer size Trac #13849  Increased the maximum possible texture & renderbuffer size to 16384 (the minimum required for DX11 cards). Limit the actual maximum texture & renderbuffer size to the maximum that it reported by the underlying D3D9 device.  Note that creating textures and renderbuffers at the maximum size will quickly exhaust video memory!  Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@447 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
- Check for D3DDEVCAPS2_CAN_STRETCHRECT_FROM_TEXTURES capability during initialization to fail on DirectX8 drivers. - Fail in GetDeviceCaps loop after one second.  Review URL: http://codereview.appspot.com/2354042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@446 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Made debug log filename compile time configurable.  Define TRACE_OUTPUT_FILE macro to change filename. Default remains "debug.txt" for Visual Studio solution based build. Gyp based build uses "angle-debug.txt".  Review URL: http://codereview.appspot.com/2327043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@445 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed NULL dereference in glClear.  6 crashes on Windows XP 1 crash on Windows 7  This was Canary 7.0.530.0 using ANGLE r429.  0x011f523b 	[libGLESv2.dll 	- context.cpp:2412] 	gl::Context::clear(unsigned int) 0x011e5f41 	[libGLESv2.dll 	- libglesv2.cpp:611] 	glClear 0x020c400d 	[chrome.dll 	- gl_context.cc:33] 	gfx::GLContext::InitializeCommon() 0x020bb757 	[chrome.dll 	- gl_context_egl.cc:138] 	gfx::NativeViewEGLContext::Initialize() 0x020b8946 	[chrome.dll 	- gl_context_win.cc:502] 	gfx::GLContext::CreateViewGLContext(HWND__ *bool) 0x01c4f6f8 	[chrome.dll 	- gpu_processor_win.cc:35] 	gpu::GPUProcessor::Initialize(HWND__ *gfx::Size const &gpu::GPUProcessor *unsigned int) 0x01d6e669 	[chrome.dll 	- gpu_command_buffer_stub.cc:88] 	GpuCommandBufferStub::OnInitialize(intvoid * *)  It's crashing upon creation of the GL context possibly the first context. Device lost would possibly explain the XP crashes. The Windows 7 box might have run out of video memory.  I also checked another couple of NULL dereference crashes.   Review URL: http://codereview.appspot.com/2197046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@444 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Made the API of shader translator library consistent. - We recently started using OpenGL-type enums. This CL makes all old enums consistent with the new scheme. - Renamed TBuiltInResource to ShBuiltInResources to have a consistent prefix  BUG=46 Review URL: http://codereview.appspot.com/2328041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@443 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added version number for shader translator API. BUG=45 Review URL: http://codereview.appspot.com/2234047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@442 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handled case when variable declaration contains initialization. BUG=26 Review URL: http://codereview.appspot.com/2213049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@441 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented functionality to collect and return info for attributes and uniforms. BUG=26 Review URL: http://codereview.appspot.com/2206046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@440 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Built-in string for vertex shaders can be empty. Nicolas handled this case in r433 but r437 overwrote it. Review URL: http://codereview.appspot.com/2233046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@439 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Restore line endings  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@438 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
- Moved the implementation for ShCompile to the compiler class so that internal details about compiler can be encapsulated. Now we do not need to expose built-in symbol table. - Fixed a few const violations. - Added CollectAttribsUniforms class. BUG=26 Review URL: http://codereview.appspot.com/2263041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@437 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reset a lost device before releasing it TRAC #13622 This prevents the driver from getting stuck in an undefined state and returning errors when trying to create a new device or querying capabilities. Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@436 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Empty the surface and context sets on terminate TRAC #13623 This prevents a crash when the application calls eglTerminate multiple times without destroying the contexts or surfaces. Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@435 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure that a surface is present before writing to it TRAC #13595 This fixes a bug where glTexSubImage is called on a mipmapped texture before calling glTexImage. Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@434 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Define vertex texture sampling intrinsics only when supported TRAC #12245 This ensures that the shader will fail to compile when using VTF when it's not supported. Previously an error was generated only at link time and it was not very descriptive. Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@433 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow multisampling without enabling GL_SAMPLE_COVERAGE.  This setting is only used when an application wants to control which samples are written to.  If it is disabled multisampling should just write to all samples.  BUG=38  Review URL: http://codereview.appspot.com/2194043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@431 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow blitting to a render texture in BlitFramebuffer.  Change the type check to allow blitting between render buffers and render textures. Store the format for render textures so that resolving to a render texture Colorbuffer will pass the format check.  BUG=37  Review URL: http://codereview.appspot.com/2205043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@430 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
I hope this will fix a generateMipmaps crash when needRenderTarget fails.  This fixes this crash in 7.0.524.0 on a user's Windows XP service pack 3 box.  0x014946f3 	[libGLESv2.dll 	- texture.cpp:1382] 	gl::Texture2D::generateMipmaps() 0x0149786f 	[libGLESv2.dll 	- libglesv2.cpp:2114] 	glGenerateMipmap 0x01c53199 	[chrome.dll 	- gles2_cmd_decoder.cc:2437] 	gpu::gles2::GLES2DecoderImpl::DoGenerateMipmap(unsigned int) 0x01c52216 	[chrome.dll 	- gles2_cmd_decoder.cc:2214] 	gpu::gles2::GLES2DecoderImpl::DoCommand(unsigned intunsigned intvoid const *) 0x01c4fa78 	[chrome.dll 	- cmd_parser.cc:56] 	gpu::CommandParser::ProcessCommand() 0x01c4f8ba 	[chrome.dll 	- gpu_processor.cc:100] 	gpu::GPUProcessor::ProcessCommands() 0x01ecdcce 	[chrome.dll 	- callback.h:119] 	CallbackImpl<BrowsingDataRemovervoid ( BrowsingDataRemover::*)(void)Tuple0>::RunWithParams(Tuple0 const &) 0x01c4f2d9 	[chrome.dll 	- callback.h:79] 	CallbackRunner<Tuple0>::Run() 0x01c4edce 	[chrome.dll 	- command_buffer_service.cc:80] 	gpu::CommandBufferService::Flush(int) 0x01d6b9b1 	[chrome.dll 	- gpu_command_buffer_stub.cc:129] 	GpuCommandBufferStub::OnFlush(intgpu::CommandBuffer::State *)  This might be glGenerateMipmaps after a device lost.   Review URL: http://codereview.appspot.com/2227044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@429 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Trying to fix bug crash when eglCreateWindowSurface (or any other code that causes createDevice to be invoked) is called and CreateDevice reports DEVICELOST or NOTAVAILABLE.  This was a Windows XP service pack 3 box.  0x10002545 	[libegl.dll 	- display.cpp:340] 	egl::Display::createDevice() 0x10002912 	[libegl.dll 	- display.cpp:468] 	egl::Display::getDevice() 0x01d6a80f 	[chrome.dll 	- gpu_info_collector_win.cc:29] 	gpu_info_collector::CollectGraphicsInfo(GPUInfo *) 0x01d68eca 	[chrome.dll 	- gpu_thread.cc:104] 	GpuThread::OnEstablishChannel(int)  Previously createDevice only checked for out of memory and the ASSERT(SUCCEEDED(result)) has no effect in release builds.  I simulated the failure in a debugger and discovered a second place where a null dereference would occur in this case.  I don't think this crash is technically correct but it prevents crashes. Review URL: http://codereview.appspot.com/2217043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@428 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Texture2D::getRenderTarget does not assume that needsRenderTarget succeeded.  Specifically it checks that mTexture is not null.  This is to fix this crash that has been happening out in the wild:  0x01444822 	[libGLESv2.dll 	- texture.cpp:1417] 	gl::Texture2D::getRenderTarget(unsigned int) 0x01445615 	[libGLESv2.dll 	- texture.cpp:2048] 	gl::Texture::TextureColorbufferProxy::getRenderTarget() 0x01453bb0 	[libGLESv2.dll 	- context.cpp:1579] 	gl::Context::applyRenderTarget(bool) 0x01455395 	[libGLESv2.dll 	- context.cpp:2413] 	gl::Context::clear(unsigned int) 0x014460c4 	[libGLESv2.dll 	- libglesv2.cpp:611] 	glClear 0x01c53b75 	[chrome.dll 	- gles2_cmd_decoder.cc:3021] 	gpu::gles2::GLES2DecoderImpl::ClearUnclearedRenderbuffers(unsigned intgpu::gles2::FramebufferManager::FramebufferInfo *) 0x01c53cee 	[chrome.dll 	- gles2_cmd_decoder.cc:3078] 	gpu::gles2::GLES2DecoderImpl::DoFramebufferTexture2D(unsigned intunsigned intunsigned intunsigned intint) 0x01c57c7d 	[chrome.dll 	- gles2_cmd_decoder_autogen.h:756] 	gpu::gles2::GLES2DecoderImpl::HandleFramebufferTexture2D(unsigned intgpu::gles2::FramebufferTexture2D const &) 0x01c52197 	[chrome.dll 	- gles2_cmd_decoder.cc:2214] 	gpu::gles2::GLES2DecoderImpl::DoCommand(unsigned intunsigned intvoid const *) 0x01c4fa78 	[chrome.dll 	- cmd_parser.cc:56] 	gpu::CommandParser::ProcessCommand() 0x01c4f8ba 	[chrome.dll 	- gpu_processor.cc:100] 	gpu::GPUProcessor::ProcessCommands()  It was a Windows XP service pack 3 box with Chrome 7.0.524.0. ANGLE was at r418 in this build. I suspect it attempted to glClear after a device lost which caused needsRenderTarget to fail.  This will hopefully patch it up so it doesn't crash. We'll need to check we aren't assuming mTexture is not null elsewhere.   Review URL: http://codereview.appspot.com/2233045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@427 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed masked glClear TRAC #13577 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@426 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added API to query for active attribs and uniforms. These functions are modeled after glGetShaderiv glGetProgramiv glGetActiveAttrib and glGetActiveUniform. The main difference between this and OpenGL API is that we do not have programs - just shaders. BUG=26 Review URL: http://codereview.appspot.com/2183041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@425 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added assertion to RefCountObject destructor that mRefCount is zero.  Review URL: http://codereview.appspot.com/2180041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@424 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed raw pointers to RefCountObject to BindingPointers.  I suspect there is a bug whereby an owning reference to a RefCountObject is temporarily assigned to a BindingPointer causing it to be destroyed and making the owning raw pointer go dangling.  Making this change for mColorbufferProxy seemed to fix a crash in Chrome with canvas 2D.  This was previously landed in r417 and r418.  Review URL: http://codereview.appspot.com/2108047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@423 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Backing out r417 and r418.  I will recommit these as two separate patches: one for ID invalidation and one for reference counting issue.  I will not recommit the FBO changes and since the GLES2 spec will soon make it undefined whether FBOs are in a shared namespace.   Review URL: http://codereview.appspot.com/2154045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@422 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix glGetActiveUniform for samplers TRAC #13522 Original patch by Jim Hauxwell fixed for full test suite conformance. Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@421 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renaming Context::mDepthStencilDirty flag to mDepthStencilInitialized to avoid breaking consistency http://codereview.appspot.com/2187041/ (Having trouble checking it in with gcl so going straight to subversion)  git-svn-id: https://angleproject.googlecode.com/svn/trunk@420 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reset DepthStencilSurface after Context::markAllStateDirty() has been called.  Landing on Vangelis' behalf.  Original review: http://codereview.appspot.com/2184041/   git-svn-id: https://angleproject.googlecode.com/svn/trunk@419 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Missing file.  TBR=vangelis@chromium.org  Review URL: http://codereview.appspot.com/2147046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@418 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced raw pointers to RefCountObject to BindingPointer.  This fixes the ANGLE crashes in Chrome when using canvas 2D.  The issue was this:  Renderbuffer *mColorbufferProxy = new RenderBuffer(...); // Reference count is zero.  BindingPointer<RenderBuffer> tempRef; tempRef.set(mColorbufferProxy); // Reference count is one.  tempRef.set(NULL); // Reference count is zero and object is destroyed leaving mColorbufferProxy dangling.  I also initially suspected the problem was that FBOs are not treated as shared and the implementation of shared FBOs is still in the patch. I believe GLES2 supports shared FBOs.  My reading of the GLES2 spec is that when a shared object is deleted it loses its id but retains its state if left bound elsewhere. I added that to RefCountObject.    Review URL: http://codereview.appspot.com/2120045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@417 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ANGLE supports GL_OES_standard_derivatives now. BUG=25 Review URL: http://codereview.appspot.com/2122048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@416 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for associating functions with extensions and performing validation when those functions are used in a shader. BUG=25 Review URL: http://codereview.appspot.com/2141046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@415 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed unnecessary member variables from TIntermAggregate. Replaced operator overloading with a proper function in TFunction. Review URL: http://codereview.appspot.com/2137043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@414 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added mechanism to predefine associated macros for extensions. Also refactored the way extension behavior is initialized and updated. Please note that I still need to add validation that appropriate extensions are enabled before using an extension function. BUG=25 Review URL: http://codereview.appspot.com/2139042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@413 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed support for unused/deprecated extension - GL_3DL_array_object. TEST=conformance tests. Review URL: http://codereview.appspot.com/2043043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@412 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes unused IsFloatingPoint function from utilities.cpp  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@411 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaces Windows line endings with Unix where needed  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@410 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements support for renderable floating point textures. TRAC #12909 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@409 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaces swap chain lazily when the swap interval is changed.  It does not appear to be possible to pass a presentation interval to Present() or change it after creating the swap chain short of calling Reset(). I decided to try fixing it by replacing the swap chain under the same conditions as a window resize.  I tested it with a modified version of the simple vertex shader sample passing various values to eglSwapInterval.  My reading of the EGL spec might be wrong but I believe the interval state should be associated with the surface bound to the current context rather than the display.    Review URL: http://codereview.appspot.com/2036044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@408 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure mInfoLog is nulled out after it is deleted. Issue=27 Original-Author: Vladimir Vukicevic Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@407 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented recovering from a lost device by context recreation. TRAC #13222 Singed-off-by: Daniel Koch  Author:    Nicolas Capens <nicolas@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@406 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented GL_NV_fence extension. I believe I have implemented all features according to the spec. The application is to allow the Chrome command buffer scheduler to be smarter about deciding which command buffer to process. For example if a WebGL app issued a call to ReadPixels the scheduler will issue a fence and defer executing the ReadPixels until the status goes true. It can continue to work on other command buffers in the meantime. I tested by modifying the vertex shader demo. After issuing the SwapBuffers i made issue a fence and loop until the status went true and verified it looped several times. I also tested that by calling FinishFence before going into the loop that is did not loop at all.  Review URL: http://codereview.appspot.com/1965043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@405 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement support for floating point textures. Trac #12909  Implements GL_OES_texture_float GL_OES_texture_half_float GL_OES_texture_float_linear and GL_OES_texture_half_float_linear when supported by the hardware.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods <shannon.woods@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@404 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow derivative functions if derivative extension is enabled. I still need to add validation for "#extension GL_OES_standard_derivatives : enable". BUG=25 Review URL: http://codereview.appspot.com/1965045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@403 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adding support for OES_standard_derivatives extension. This is not the complete implementation. Sending it to get feedback on the API. Is it OK to add extension support into TBuiltInResource? I could create a new struct for extensions but that would lead to API change. BUG=25 Review URL: http://codereview.appspot.com/1953047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@402 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed glFlush to not wait until issued event is processed.  I think these reduced synchronization guarantees are still compliant with the spec. I found that this significantly improved the frame rate for some of our demos (40 fps to 50fps for one on my box). I will change the demo so that it does not call glFlush at all but I still think this is a valuable change.  The OpenGL ES2 spec says:  "The command  void Flush( void );  indicates that all commands that have previously been sent to the GL must complete in finite time."  My reading of it is that any GL calls previously issued will be processed at some point in the future but not necessarily prior to glFlush returning. I believe that issuing the D3D event and then calling GetData once with the flush flag should meet these requirements.  I also added some assertions to glFinish because I was paranoid that if issuing an event ever failed the spin loop might never terminate.   Review URL: http://codereview.appspot.com/1941049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@401 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cleanup TType and related classes: 1. Removed unused functions 2. Removed unnecessary virtuality of functions 3. Grouped related functions together  TEST=conformance tests Review URL: http://codereview.appspot.com/1984047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@400 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimizes Texture::loadImageData TRAC #13046 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@399 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements a special case for temporary surface creation for DXT low mip levels. TRAC #12908 The lowest mip levels for DXT textures will have dimensions < 4 so a D3D texture cannot be created to hold them offscreen directly. Instead we must create a larger texture one of whose mip levels would be the desired dimension and store the surface from that texture for later inclusion in the final texture. Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@398 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements compressed textures. TRAC #12714 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@397 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allocates a texture rather than an offscreen plain surface for new textures. TRAC #12908 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@396 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Advertises the GL_OES_rgb8_rgba8 extension.  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@395 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements support for rgb8 and rgba8 renderbuffer storage formats TRAC #12717 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@394 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes a bug where framebuffer_multisample was not properly being added to the extension string. TRAC #12966 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@393 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements multisample resolve capability TRAC #12716 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@392 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements multisample fragment operations TRAC #12711 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@391 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements glRenderbufferMultisampleStorage TRAC #12714 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@390 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements blitFramebuffer TRAC #12713 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@389 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initializes renderbuffer formats for attachments to the default framebuffer. TRAC #12864 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@388 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Creates separate bind points for read & write framebuffers. TRAC #12712 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@387 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added runtime checks for GetClientRect errors.  I noticed that if the window handle is invalid the resulting rect will be uninitialized. This change makes it fail immediately.  Review URL: http://codereview.appspot.com/2009042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@386 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
TIntermBinary::promote() was incorrectly marking the type of result as const in some cases. The result can only be const if both operands are const. Also cleaned up the function to remove redundant/repeated checks. BUG=24 TEST=OpenGL ES 2.0 Conformance tests Review URL: http://codereview.appspot.com/1938047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@385 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed crash on context lost.  This fixes the crash on lost context for vista and windows 7 if suitable drivers are available. It now uses D3D9Ex when available and this only reports lost contexts for hardware failures and suchlike.  Testing procedure was: - run simple_vertex_shader without this change. - ctrl+alt+del to lock machine. - return to desktop. - observe that simple_vertex_shader crashes. - repeat with this change and check that simple_vertex_shader is still animating. - simulate the code path that an XP machine would take using the debugger and check that old behavior is preserved.  I decided to load D3D9.DLL at runtime for a couple of reasons. First I didn't want to assume that older implementations of D3D9 would have the Direct3DCreate9Ex entry point. Second it might be advantageous for some applications to not have a load time dependency on D3D9. I didn't address this for D3DX9 because it's a little harder - there's no clear way to determine which D3DX9_x.DLL library to open. At least D3DX9_x.DLL does not seem to import D3D9.DLL and D3DX is separately redistributable so there is still some advantage to be had. Review URL: http://codereview.appspot.com/1951044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@384 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added comment about return values of ShInitialize() and ShFinalize(). Review URL: http://codereview.appspot.com/1980041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@383 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed Display::initialize so it does not crash for devices that do not support PS 2.0.  The crash occurs when createDevice attempts to dereference mD3d9 which is NULL.   Review URL: http://codereview.appspot.com/1956042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@382 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed warnings about deprecated conversion from string constant to char*. Submitted by timeless. BUG=18 Review URL: http://codereview.appspot.com/1936041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@381 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Some compilers do not support standard STL allocator interface. Also removed _Charalloc function only needed by VC++6.0 which we do not support. Submitted by Eagle.Lu. BUG=19 Review URL: http://codereview.appspot.com/1913048  git-svn-id: https://angleproject.googlecode.com/svn/trunk@380 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix warnings about unused variables. Submitted by timeless. BUG=15 Review URL: http://codereview.appspot.com/1916046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@379 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix warnings about comparison/assignement between signed and unsigned types. Submitted by timeless. BUG=13 Review URL: http://codereview.appspot.com/1895051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@378 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ret = yyparse(...) is dropped in PaParseStrings. Submitted by timeless. BUG=16 Review URL: http://codereview.appspot.com/1868056  git-svn-id: https://angleproject.googlecode.com/svn/trunk@377 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix warnings about initialization order in the class initialization list. Submitted by timeless. BUG=14 Review URL: http://codereview.appspot.com/1850054  git-svn-id: https://angleproject.googlecode.com/svn/trunk@376 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reject shaders that invoke functions hidden by variable or struct name. BUG=22 Review URL: http://codereview.appspot.com/1855057  git-svn-id: https://angleproject.googlecode.com/svn/trunk@375 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
We were trying to change a const_iterator which was rightly caught by SunStudio compiler. Submitted by Eagle.Lu. BUG=19 Review URL: http://codereview.appspot.com/1879049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@374 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaced __inline with inline to make it compile with SunStudio compiler. Submitted by Eagle.Lu. BUG=19 Review URL: http://codereview.appspot.com/1910047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@373 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adding separate license file for the preprocessor code and removing the ANGLE boilerplate license from those files.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@372 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add Al and Vlad to contributors file  git-svn-id: https://angleproject.googlecode.com/svn/trunk@371 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement EXT_texture_format_BGRA8888 and EXT_read_format_bgra Trac #13050 Issue=21 Original Author: Vladimir Vukicevic Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@370 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements fixes for problems discovered running San Angeles demo on Chrome TRAC #13077  - clamp scissor to rendertarget size  - ensure textures are renderable when required Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@369 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes erroneous copy in subImage calls after failure is already detected. TRAC #13074 Also adds initializations for missed Texture members. Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@368 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added missing sources to build_angle.gyp.  Review URL: http://codereview.appspot.com/1907043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@367 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes Windows-style line endings from Display.cpp TRAC #12714 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@366 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support window resizing  TRAC #12660  Automatically resize the D3D swap chain when the eglSwapBuffers is called and the presentation window has changed size. Also change D3D device init to be performed once when the Display is created using a hidden 1x1 window.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@365 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Sharing for buffer texture and renderbuffer objects.  TRAC #12496  Derive Renderbuffer Texture and Buffer from RefCountObject. This class keeps a reference count for all objects that need cross-context reference counting and also the object id. Restructure Renderbuffers to create a wrapper object and a storage object. Use BindingPointer for all binding points instead of binding by object id.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@364 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create shared contexts.  TRAC #12498  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@363 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Checks completeness of framebuffer before read operations. TRAC #12565 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@362 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes FBO completeness check  TRAC #12571 Automatically passes default framebuffer and fails framebuffers which have no color attachments. Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@361 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds resource manager class. TRAC #12493 The resource manager class is now in charge of allocation & management of objects which may be shared by multiple contexts. Signed-off-by: Andrew Lewycky Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@360 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove wrong and unnecessary check attribute check.  TRAC #12580  Wrong because it should be checking active attributes not inactive attributes. Unnecessary because when a buffer is deleted all the vertex attrib client state bindings are cleared.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@359 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement GL_OES_packed_depth_stencil TRAC #12336 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@358 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
fix spacing issue due to manual merge  git-svn-id: https://angleproject.googlecode.com/svn/trunk@357 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed dx_Window to dx_Viewport TRAC #11594 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@356 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement gl_PointCoord on SM3 hardware TRAC #11594 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@355 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use TestCooperativeLevel instead of ValidateDevice to check for device loss.  TRAC #12547  ValidateDevice checks for correct rendering state as well which we don't need.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@354 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
De-allocate memory in ShFinalize(). There still seems to be a bug here if the translator is used in a multi-threaded environment. It seems memory local to only one thread is being deallocated - the thread from which ShFinalize() is called. I will look into it closely in the next CL. Review URL: http://codereview.appspot.com/1878044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@353 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Encapsulate expressions with ternary operators with brackets. This preserves the order of precedence when ternary expressions are used in a compound expression. BUG=20 Review URL: http://codereview.appspot.com/1894041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@352 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored the way symbol tables are initialized and stored. This was done in response to the addition of EShSpec. Symbol table entries depend on three things - language spec (not now but may eventually) and built-in resources. We used to build two global symbol-tables - one for each language. During each compile one of the symbol table was copied and resource-specific stuff was added. I have moved the symbol table to TCompiler that gets initilized when compiler is created and reused for each compile. This makes it much cleaner and extensible in case a spec requires special entries to be added to the symbol table.  PS: Sorry for the long CL but all of it needed to be done in one CL. I have verified that everything still compiles and passes all conformance tests. Review URL: http://codereview.appspot.com/1864044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@351 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ReadPixels recovers from device lost error.  I found that when I switch desktops GetRenderTargetData will return D3DERR_DEVICELOST. It is unclear to me whether ReadPixels should report a GL error in this case and if so which one. I went with GL_OUT_OF_MEMORY. Let me know if that's wrong.  This change is not sufficient to make eglGetError report EGL_CONTEXT_LOST. For a program doing exclusively offscreen rendering ReadPixels might be the only place where D3DERR_DEVICELOST can be detected. The GLES code can't call egl::setCurrentError though. I'm not sure how to fix that.     Review URL: http://codereview.appspot.com/1692053  git-svn-id: https://angleproject.googlecode.com/svn/trunk@350 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Further cleanup of ShaderLang.h. Removed redundant/unused macros and enum fields. Review URL: http://codereview.appspot.com/1842046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@349 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cleaned up translator API. Deleted unsupported dead code. BUG=9 Review URL: http://codereview.appspot.com/1665050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@348 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check for reserved prefixes (gl_ webgl_ and _webgl_) in struct and field names. GLES2 and WebGL both require this for all identifiers - variable function struct and field names. ANGLE was only validating variable and function names. BUG=11 Review URL: http://codereview.appspot.com/1856046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@347 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added checks for webgl_ and _webgl_ reserved identifiers. This currently only checks variable and function names. Struct names and field names will be added in the another CL. BUG=11 Review URL: http://codereview.appspot.com/1674050  git-svn-id: https://angleproject.googlecode.com/svn/trunk@346 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added <stdio.h> include for sprintf. It broke Chrome downstream when I bumped the rev.   Review URL: http://codereview.appspot.com/1879042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@345 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added an option for specifying language specification in preparation for supporting WebGL in addition to GLES2. This CL just replaces unused debugOptions variable with EShSpec variable. BUG=11 Review URL: http://codereview.appspot.com/1692051  git-svn-id: https://angleproject.googlecode.com/svn/trunk@344 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compilation error on mingw. Used _MSC_VER for MSVC-specific code instead of WIN32. Recieved patch from cjacek. BUG=12 Review URL: http://codereview.appspot.com/1694049  git-svn-id: https://angleproject.googlecode.com/svn/trunk@343 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the precision check creating spurious error messages TRAC #12641 The precision of compiler temporaries doesn't require checking and would be hard to determine at parse time. We only require correct precisions for declarations which is checked separately. So we can safely remove the check for binary operations.  Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@342 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clear must ignore buffers that are not present.  TRAC #12643  IDirect3DDevice9::Clear will fail if asked to clear a buffer that is not present so we have to be careful what we pass to it.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@341 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix NPOT completeness rule.  TRAC #12561  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@340 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Eliminates redundant calls to GetDeviceCaps TRAC #12283 Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@339 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added some includes.  My Unbuntu 10.04 gcc configuration seems to need <stdio.h> to use some of the string printf functions like vsnprintf. The translator is building for me now.  Review URL: http://codereview.appspot.com/1717041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@337 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added parentheses around a few operators so that if they are used in a compound statement order of operations is preserved. BUG=5 TEST=OpenGL ES 2.0 conformance tests. Review URL: http://codereview.appspot.com/1691041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@336 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handled case where selection nodes that use ternary operators are part of a sequence. Usually they are part of an assignment. BUG=4 TEST=OpenGL ES 2.0 conformance tests specifically operators test. Review URL: http://codereview.appspot.com/1643043   git-svn-id: https://angleproject.googlecode.com/svn/trunk@335 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix build when a project patch contains spaces  Trac #11553  With improvements so it works in release mode and on Win7 as well.  Original-Author: Jim Hauxwell  git-svn-id: https://angleproject.googlecode.com/svn/trunk@334 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Workaround for drivers that apparently don't disable instancing when we ask.  TRAC #12479  This affects text rendering in Nexuiz. The text will be drawn as if the colour attribute is static rather than array and all text will be drawn using the shadow colour.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@333 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Increase the number of supported attribs (12) and texture units (16) TRAC #12313 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@332 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix regression due to float printing changes Trac #12501  This was caused by the change from printf to iostream printing. Sets the float formatting to "default" which is neither fixed or scientific and request 8 digits of precision. This appears to be mostly equivalent to the previous "%.8g". If the non-fractional case we set it to fixed and use 1 unit of precision after the decimal.  Signed-off-by: Andrew Lewycky Signed-off-by: Shannon Woods Signed-off-by: Ken Russell  git-svn-id: https://angleproject.googlecode.com/svn/trunk@331 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't rely on (potentially) unsupported vertex attribute types.  TRAC #11391 Checks for optional vertex declaration formats and falls back to FLOAT1-4 if more direct formats are not supporte  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@330 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes double-decoration when getUniformLocation is called from defineUniform. TRAC #12437  This fixes the WebGL Teapot Per Pixel sample rendering  Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@329 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Save D3D state before altering it for masked clears TRAC #12380 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@328 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed warnings in release build. Trace was not defined properly. Review URL: http://codereview.appspot.com/1484041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@327 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved windows-only targets into OS==win conditional. Review URL: http://codereview.appspot.com/1473043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@325 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
According to spec the stencil ref is clamped to the range [02^s-1]  The clamp to zero occurs on set since negative values will never be useful. The clamp to 2^s - 1 occurs on use since it is dependant on the currently bound stencil buffer  Original-Author: Jim Hauxwell <james@dattrax.co.uk> Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@324 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed the dependency of compiler on common. This is done to make compiler self-sufficient so that it is easier to consume by external developers. I tried to replace all instances of assert by simply redefining assert(x) to ASSERT(x) but was getting a lot of compile errors. I still need to investigate that. Review URL: http://codereview.appspot.com/1461041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@323 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored InfoSink. I have replaced most instances of sprintf with std::ostringstream to make it safer. I have made sure that everything still compiles and passes conformance tests. Review URL: http://codereview.appspot.com/1391041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@322 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for various egl Get methods Trac #12375 This patch stores the current READ/DRAW and display in the context and allows these eglGets to work.  Original-Author: Jim Hauxwell <james@dattrax.co.uk> Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@321 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correct the eglMakeCurrent return value on lost context (syntax) TRAC #11233 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@320 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Avoid using instancing on hardware where it does not work well enough.  TRAC #12392  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@319 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Used "not" instead of "!" for vectors. Review URL: http://codereview.appspot.com/1324041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@318 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Do not write extraneous semi-colons - some glsl compilers are do not like that even though it is so easy to ignore. Review URL: http://codereview.appspot.com/1301041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@317 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ShInitialize/ShFinalize is designed to be called once per process or it would crash at random locations. I changed ShFinalize() to properly cleanup and reset global variables so that they can be called multiple times. I think that the compiler setup is much more complicated than it needs to be. It unnecessarily uses global variables. A custom pool allocator is overkill too.  Review URL: http://codereview.appspot.com/1238045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@316 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
TextureColorbufferProxy must query the texture to get the latest width & height.  TRAC #12372  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@315 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use instancing for non-array vertex attributes.  TRAC #12303  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@314 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add Jim Hauxwell as a contributor  git-svn-id: https://angleproject.googlecode.com/svn/trunk@313 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes query for active texture TRAC #12374  Original-Author: Jim Hauxwell <james@dattrax.co.uk> Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@312 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Report an EGL_CONTEXT_LOST error on D3DERR_DEVICELOST Trac #11233 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@311 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement scoped structure declarations TRAC# 12110 Signed-off-by: Shannon Woods Singed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@310 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed struct name lexing TRAC #12110 Unlike built-in types structs can be redefined (in a different scope). Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@309 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect draws that would read outside the vertex buffer.  TRAC #12340  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@308 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix FORCE_REF_RAST definition TRAC #12343 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@307 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add defines to enable the reference rasterizer TRAC #12343 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@306 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error with gcc 4.4. TBR=gman@chromium.org Review URL: http://codereview.appspot.com/1199047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@305 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Patching changes from thestig@chromium.org for fixing ANGLE build with gcc 4.4 on Karmic. The original CL is here: http://codereview.appspot.com/1255042/show The only changes I have maded is moved the inclusion of stdint.h from PoolAlloc.h to PoolAlloc.cpp with #ifndef _MSC_VER guard. Review URL: http://codereview.appspot.com/1220044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@304 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removes check for framebuffer == 0 in glRenderbufferStorage TRAC #12346 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@303 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Give sorted configs a unique ID without changing the original set TRAC #12323 This fixes building on Visual C++ 2010 which has const iterators for STL sets as specified by C++0x. Signed-off-by: Shannon Woods Singed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@302 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Define GL_FRAGMENT_PRECISION_HIGH TRAC #12266 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@301 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix DepthRange location TRAC #12279 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@300 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use plain data arrays for Buffer storage TRAC #12299 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@299 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Caches the location of generic uniforms TRAC #12215 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@298 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Explicitly set optimizations to /O2 in Release build TRAC #12287 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@297 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable checked STL iterators in Release build TRAC #12287 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@296 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Inline any suitable function in Release build TRAC #12287 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@295 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correct GLboolean handling for glColorMask and glSampleCoverage TRAC #11597 Signed-off-by: Shannon Woods Signed-off-bY: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@294 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Enforce fragment precision qualifier requirement TRAC #12156 The fragment shader has no default precision qualifier for floating-point types so compilation should fail when it's not set explicitly globally or per declaration. Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@293 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Untabify compiler code TRAC #12156 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@292 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ensure mBaseTexture is initialized  Trac #12298 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@291 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reduces STL size calls. TRAC #12281 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@290 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cleaned up Common.h. Removed unnecessary includes and typedefs. Removed tabs from PoolAlloc.h and replaced UINT_PTR with uintptr_t. Review URL: http://codereview.appspot.com/1221041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@289 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error on a few linux buildbots. Included string.h for memset.  Review URL: http://codereview.appspot.com/1218041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@288 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Switches stl copy in bufferSubData for a memcpy TRAC #12215 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@287 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Caches parameters for SetStreamSource calls TRAC #12239 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@286 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Cache D3D constant handles with their associated uniforms. TRAC #12237 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@285 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implicitly define GL_ES TRAC #12257 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@284 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
When NONPOW2CONDITIONAL is set limit NPOTs to a single level.  TRAC #12250  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@283 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented varying packing TRAC #11736 The OpenGL ES Shading Language 1.00 rev. 17 appendix A section 7 page 111 details how varyings should be packed into generic varying registers. To implement this the HLSL main() function is now generated and appended to the code during link time where the packing and mapping can happen. Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@282 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only output DepthRange xor() and mod() when used TRAC #11736 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@281 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed initialization and comparison of variable Types TRAC #12262 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@280 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed reporting unlinked varyings Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@279 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add predefined macro GL_ES Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@278 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Report an error on the use of the line continuation character TRAC #12260 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@277 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make faceforward match the conformance test.  TRAC #12252  The conformance test checks the dot product for >= 0.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@276 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
eglChooseConfig must return filtered size when configs is NULL.  TRAC #12234  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@275 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a space between ']]'. Flex 2.5.33 which is used on MAC does not like this. Review URL: http://codereview.appspot.com/1119044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@274 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed compile error on MAC. Fixed TMap to use std::pair<const K V> as pool_allocator parameter. Replaced all instances of std::map with TMap. I wonder if this pool_allocator is worth all this complexity. Review URL: http://codereview.appspot.com/1182042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@273 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Getting ready to fix compile-errors on mac. This CL only contains cosmetic changes. Removed SGI_STL blocks. Removed tabs and fixed formatting. Review URL: http://codereview.appspot.com/1138043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@272 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Consider out-of-range texture units to be incomplete.  TRAC #12224  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@271 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Save render state across glFinish.  TRAC #12164  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@270 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
eglInitialize must not update major and minor if they are NULL.  TRAC #12235  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@269 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add HLSL error messages to the info log when compileToBinary fails Trac #12245 Otherwise.. it could be empty.  Signed-off-by: Andrew Lewycky Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@268 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minimizes texture state changes TRAC #12203 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@267 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add better error checking on buffer updates  TRAC #12186  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@266 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Improve TranslatedVertexBuffer::map performance  TRAC #11392  - For small draws load stride 0 streams into regular streaming buffer  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@265 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Improve TranslatedVertexBuffer::map performance  TRAC #11392  - Don't use the identity translation buffer but always copy into a streaming buffer.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@264 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Re-enable debug tracing by default TRAC #12158 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@263 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Mark configs with a format different from the display mode as conformant TRAC #12197 EGL_NON_CONFORMANT_CONFIG is not a flag and these configs do pass conformance on all tested devices. Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@262 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minimizes changes of the depth stencil buffer TRAC #12154 This patch reduces calls to SetDepthStencilSurface Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@261 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minimizes render state changes TRAC #12154 This patch reduces redundant calls to SetRenderState Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@260 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minimizes render target changes TRAC #12154 This patch reduces calls to SetRenderTarget. Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@259 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed crash on 64-bit posix platform. stdint.h was not being included and wrong size of uintptr_t was being used. Review URL: http://codereview.appspot.com/1153044  git-svn-id: https://angleproject.googlecode.com/svn/trunk@258 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Restore state after Blit operations  TRAC #12202  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@257 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Improve performance in Surface::swap  TRAC #12145  - Create the flip RT texture once. - Use state blocks for swap and restore all previous state.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@256 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Prevent redundant uniform updates TRAC #12154 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@255 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changes to compile translator_glsl on linux. Review URL: http://codereview.appspot.com/1153043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@254 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
The script for flex and bison was not being generated properly on linux. Extra quotes were being generated in the command-line around output-file path. This change gets around the problem by expanding string variables instead of list. This has another nice side effect that output file path need not be repeated twice. Review URL: http://codereview.appspot.com/1163041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@253 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Optimized getPresentInterval TRAC #12180 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@252 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Mark configs with a format different from the display mode as non-conformant TRAC #12197 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@251 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't enumerate configs for depth/stencil formats not supported by any hardware TRAC #12197 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@250 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Making glsl-translator cross-platform. Removed unnecessary inclusion of windows.h. Review URL: http://codereview.appspot.com/1136042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@249 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Prevent atan2 from generating a NaN TRAC #12184 This is necessary because a NaN generated in flattened conditional code fails to get discarded on certain devices. Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@248 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clarify config enumeration TRAC #12170 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@247 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Disable the stencil test when no stencil buffer TRAC #12181 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@246 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented inline structure construction TRAC #12109 Based on Alok Priyadarshi's approach for structure construction in OutputGLSL.cpp Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@245 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Replaces fmod with modf. Review URL: http://codereview.appspot.com/1125043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@244 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make sure that floats are written with at least one decimal point. Review URL: http://codereview.appspot.com/1144041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@243 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed all issues with variable and function argument declaration. Multiple declarations of arrays in the same line had bugs. Also sepearated out declaration of varaibles and function arguments which makes it easier to understand. Review URL: http://codereview.appspot.com/1142041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@242 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Skip drawing to a zero-area render target TRAC #12172 This also generates a GL_INVALID_FRAMEBUFFER_OPERATION error when glClear attempt to operate on an invalid or incomplete framebuffer. Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@241 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement GL_OES_element_index_uint  TRAC #11951  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@240 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
currentValueOffset can remain uninitialized  TRAC #12171  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@239 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't use a depth buffer on swap TRAC #12160 This prevents the draw call from failing when the depth buffer isn't as large as the render target. Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@238 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
fix trace for glTexParameteri Trac# 12155 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@237 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Output final .lib and .dll files to the top-level lib/ folder Trac #11499  Signed-off-by: Andrew Lewycky Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@236 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented eglSwapInterval TRAC #12137 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@235 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed retrieving a render target interface and not releasing it TRAC #12149 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@234 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Reset mSceneStarted on Reset TRAC #12139 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@233 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Skip clear when writes masked TRAC #12157 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@232 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minimize BeginScene / EndScene calls TRAC #12139 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@231 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix config depth bits and centralize device type control TRAC #12120 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@230 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Recursively write ConstantUnion to correctly construct structs. Review URL: http://codereview.appspot.com/1108041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@229 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed broken build. Somehow glslang.y got left out while renaming constUnion to ConstantUnion. TBR=dgkoch@transgaming.com Review URL: http://codereview.appspot.com/1116041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@228 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Renamed constUnion class to ConstantUnion. Review URL: http://codereview.appspot.com/1106042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@227 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Makes the State struct a member of Context rather than its parent. Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@226 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moves non-D3D-specific utility functions to the gl namespace. TRAC #12043 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@225 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements PACK_ALIGNMENT for ReadPixels TRAC #11484 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@224 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented eglGetProcAddress TRAC #12102 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@223 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Untabify libGLESv2.def TRAC #12102 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@222 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correct use of anonymous / nameless struct TRAC #12108 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@221 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed multiple issues with struct declaration and construction. Review URL: http://codereview.appspot.com/1076041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@220 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented a bunch of missing constructs. Review URL: http://codereview.appspot.com/1031045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@219 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Output propagated struct constants as literals TRAC #11809 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@218 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Declare structures before uniform definitions and support varying arrays TRAC #11809 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@217 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support anonymous structures TRAC #11809 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@216 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix parenthesis balance TRAC #11809 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@215 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix Shader compilation failures with nested #ifdefs  TRAC #12054  Don't exit from CPPelse prematurely. Clear elsedepth when entering a new #if nesting level.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@214 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Deleting program does not delete shaders that are marked  TRAC #12012  Resolve the crash on context deletion.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@213 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Check for multisample conformance  TRAC #11747  Only warn about sample coverage settings in a multisample context.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@212 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Ensure ShaderBinary is conformant  TRAC #12061  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@211 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Append [0] to active array uniform names TRAC #11796 Singed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@210 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Investigate issues with transform_viewport conformance  TRAC #12035  transform_viewport failed when rendering into an Nx1 or 1xN viewport.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@209 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements PolygonOffset TRAC #11719 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@208 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes program validation regression. TRAC #11654 The sampler validation at render time was occurring before uniforms were applied and samplers were bound to their texture units. Sampler validation now occurs after shaders and textures have been applied. Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@207 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Detect and report multiple #version directives TRAC #12072 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@206 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented support for lists of arrays TRAC #12075 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@205 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add all structure definitions to constructor map and simplify initialization TRAC #11809 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@204 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Output structure declarations and constructors in the header TRAC #11809 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@203 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactored outputTriplet to allow complex string expressions TRAC #11809 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@202 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Deleting program does not delete shaders that are marked  TRAC #12012  Also fixes failure to delete flagged program upon glUseProgram(0).  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@201 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Undecorate uniform names when computing max length TRAC #12050 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@200 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented complex vector/matrix construction TRAC #11868 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@199 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow matrix-in-matrix construction TRAC #11868 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@198 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Change ParseHelper.cpp indenting from tabs to spaces TRAC #11868 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@197 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements ValidateProgram TRAC #11654 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@196 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support matrix attributes  TRAC #11095  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@195 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Allow other attachment points for glFramebufferTexture2D TRAC #12040 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@194 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only output faceforward when needed TRAC #12042 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@193 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented querying GL_BLEND_COLOR TRAC #12039 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@192 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support BufferData with size zero.  TRAC #12027  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@191 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements GetFramebufferAttachmentParameteriv TRAC #11876 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@190 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements support for retrieving uniforms by subscripted name. TRAC #11796 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@189 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed glGetShaderPrecisionFormat output TRAC #12041 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@188 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix matrix by matrix multiplication TRAC #11751 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@187 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed unnecessary include paths. Removed the dependency on unistd.h. Moved the generated files to intermediate directory so that the source is not polluted.  These changes only affect the gyp build system because they required flex-bison options that are not supported by old binaries in compiler/tools. Another reason to switch to gyp build system. Review URL: http://codereview.appspot.com/994041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@186 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
svn property changes to ignore: - third_party/cygwin - third_party/gyp - build/Debug - build/Release   git-svn-id: https://angleproject.googlecode.com/svn/trunk@185 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for building glsl translator on posix platforms. Review URL: http://codereview.appspot.com/958043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@184 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make all globals static TRAC #12015 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@183 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix getActiveUniform array size and refactor uniform size TRAC #11929 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@182 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glGetActiveUniform TRAC #11929 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@181 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glGetActiveAttrib TRAC #11929 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@180 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Wrap mode affects NPOT texture completeness  TRAC #11861  If mipmapping is enabled then each side of a texture must be a power-of-two or using CLAMP_TO_EDGE wrapping in that direction. Correct the mipmap size calculation to match the spec.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@179 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Make it easier to disable tracing  TRAC #11979  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@178 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented aliased attributes support TRAC #11092 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@177 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement scoping TRAC #11975 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@176 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added DX SDK search paths to libGLESv2. Now it builds if these aren't in the default search path. Should it support x64 targets as well? Review URL: http://codereview.appspot.com/949041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@175 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement VertexAttrib  TRAC #11878  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@174 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement GL_LINE_LOOP primitive handling  TRAC #11823  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@173 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support FBO attachment to cubemaps  TRAC #11364  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@172 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix more relative #include paths (mostly header files)  Trac #11408 Signed-off-by: Andrew Lewycky Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@171 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't advertise 10 10 10 2 RGBA format  TRAC #11610  The color_ramp conformance test renders each colour and reads it back to verify it but it uses ReadPixels with UNSIGNED_BYTE with does not have enough precision.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@170 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement support for mipmap generation (CopyTexImage2D regression)  TRAC #11338  CopyTex(Sub)Image2D was broken by the coordinate space change. Render targets are rendered flipped in the Y axis.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@169 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements GetRenderbufferParameteriv TRAC #11877 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@168 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements color renderbuffers TRAC #11890 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@167 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove usage of relative paths for #include search path Trac #11408 Signed-off-by: Andrew Lewycky Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@166 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use directory qualified #include files  Trac #11408 Signed-off-by: Andrew Lewycky Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@165 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
removed execute permissions on smoke.tga (was causing problems on windows)  git-svn-id: https://angleproject.googlecode.com/svn/trunk@164 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Only output referenced attributes uniforms and varyings TRAC #11590 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@163 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented biased textureCube sampling TRAC #11884 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@162 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement support for mipmap generation  TRAC #11338  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@161 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements GetTexParameteriv TRAC #11721 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@160 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Accidentally moved a read of translated[i].stride before the write.  TRAC #11847  (Fixes PVR-RenderToTexture regression)  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@159 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed crashes caused by a string buffer overflow TRAC #11888 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@158 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Create unique names for unnamed parameters TRAC #11873 HLSL requires parameter names in function prototypes Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@157 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't crash on null conditional block TRAC #11871 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@156 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initialize all shader variables TRAC #11869 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@155 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the GLSL ES version TRAC #11867 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@154 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented gl_FrontFacing for lines and points TRAC #11419 Lines and points are always considered front-facing Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@153 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements GetVertexAttrib TRAC #11653 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@152 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements GetBufferParameteriv TRAC #11720  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@151 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Creating a 0x0 texture fails.  TRAC #11792  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@150 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Translate/lift vertex attributes when input stride or offset is not a multiple of 4.  TRAC #11847  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@149 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented short-circuiting behavior for the ternary operator TRAC #11444 This is achieved by turning the ternary operator into conditional code. The UnfoldSelect intermediate code traverser places this conditional code before the statement containing the ternary operator (aka. select). The computed value is assigned to a temporary variable. On outputting the actual statement the ternary operator is replaced by the temporary variable.  Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@148 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Clean up old comments TRAC #11444 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@147 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add NOMINMAX define to the compiler projects Trac #11859 To be consistent with the rest of the projects and GYP. Signed-off-by: Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@146 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fail compilation on empty source string TRAC #11814 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@145 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove name clash warnings TRAC #11314 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@144 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Decorate all GLSL user-defined names with an underscore to avoid name clashes TRAC #11314 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@143 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Corrects a green/blue channel swap in loadImageData TRAC #11630 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@142 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Corrects error handling in UseProgram TRAC #11666 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@141 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Corrects error handling in GetUniformLocation TRAC #11845 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@140 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes error handling in GetAttachedShaders TRAC #11846 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@139 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Store all matrices as column-major and transpose when needed TRAC #11825 Due to the difference in [][] matrix indexing between GLSL and HLSL all matrices are stored in transposed format (column-major from the HLSL point of view) and transposed back when performing matrix math. Previously some paths didn't follow this principle. Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@138 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixing compile error. GYP projects use NOMINMAX to suppress non-standard VC++ min/max. Review URL: http://codereview.appspot.com/892046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@137 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes error handling in LinkProgram TRAC #11821 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@136 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes error handling in ShaderSource TRAC #11664 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@135 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes improper error generation by DeleteShader TRAC #11662 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@134 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes error handling in CompileShader TRAC #11822 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@133 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement CopyTex(Sub)Image2D  TRAC #11474  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@132 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes error handling in BindAttribLocation TRAC #11661 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@131 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Checks link status of program before returning attribute locations. TRAC #11658 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@130 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Corrects error handling in AttachShader TRAC #11659 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@129 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes incorrect error handling in GetAttribLocation TRAC #11657 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@128 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented struct equality TRAC #11727 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@127 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - split header body and footer output TRAC #11798 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@126 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements correct error handling for DetachShader TRAC #11663 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@125 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements support for IsEnabled TRAC #11750 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@124 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements glGetUniform TRAC #11647 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@123 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements Uniform*i{v} TRAC #11649 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@122 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements support for boolean uniforms TRAC #11734 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@121 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented function prototyping and in/out parameters TRAC #11725 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@120 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented glReadPixels for the implementation-dependent format Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@119 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
update contributors list  git-svn-id: https://angleproject.googlecode.com/svn/trunk@118 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiling error in x64: WidenToFour template incorrect type.  TRAC #11811  Submitted-by: Aitor Moreno Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@117 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented support for user-defined structures TRAC #11730 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@116 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Can't change attribute locations after original link  TRAC #11290  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@115 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Associate the sample.sln file with visual C++ express. Trac #11802 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@114 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix compilation of glslang.l in release mode. Trac #11802 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@113 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Re-Associate ANGLE.sln with VC++ Express Signed-off-by: Andrew Lewycky Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@112 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove GLES2/glextimg.h Trac #11785 This is not an official khronos header Signed-off-by: Andrew Lewycky Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@111 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the GL entry function prototypes to match new GLES header Trac #11785 The changes were void -> GLvoid and char -> GLchar. Signed-off-by: Andrew Lewycky Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@110 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refresh KHR headers from Khronos svn@10929 Trac #11785 Signed-off-by: Andrew Lewycky Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@109 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refresh GLES2 header files from Khronos svn@10929 Trac #11785 Signed-off-by: Andrew Lewycky Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@108 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refresh EGL files from Khronos svn@10929 Trac #11785 Signed-off-by: Andrew Lewycky Signed-off-by: Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@107 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Resolve conflict between default cube map and 2D textures in texture map.  TRAC #11625  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@106 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Break up loops with over 255 iterations. TRAC# 11724 fixes acos/asin conformance Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@105 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Always build libEGL and libGLESv2 as shared libraries. They do not work as static libraries so there is no point in parametrizing the library type. Review URL: http://codereview.appspot.com/810045  git-svn-id: https://angleproject.googlecode.com/svn/trunk@104 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changed the default character set to be UNICODE the same as chromium. Changes to fix compile errors and warnings. Review URL: http://codereview.appspot.com/816046  git-svn-id: https://angleproject.googlecode.com/svn/trunk@103 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements type conversion for queries. TRAC #11593 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Also adds missing query parameters.  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@102 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - Wrong Result from Matrix Multiply TRAC #11751 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@101 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added libGLESv2 libEGL and all samples to GYP. Review URL: http://codereview.appspot.com/878042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@100 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixes an improper comparison in map TRAC #11649 Implementing this fix here because it's causing the glUniform conformance test not to pass. TranslatedBuffer would have problems during reloadCurrentValues because its required space and its current size were equal. Signed-off-by: Daniel Koch  Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@99 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added GYP build files. GYP files are needed for integration with chromium and cross-platform build for glsl translator. It would really be nice if we did not have to maintain two build systems. For now I have only moved the GLSL translator to gyp build system. Please note that the gyp files awkwardly have build_ prefix so they do not conflict with the manually-maintained sln files. Review URL: http://codereview.appspot.com/885043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@98 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement proper varying linking TRAC #11716 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@97 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - fix mat3 conformance TRAC #11723 Matrix elements are accessed as [col][row] in GLSL and [row][col] in HLSL. Fixed this by transposing all matrix uniforms so they have a row-major layout. Then transpose them in the shader every time they're used in matrix math. Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@96 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ShaderSource does not generate needed errors TRAC #11664 Generate GL_INVALID_VALUE when shader name is 0 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@95 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - match pixel and vertex shader profiles TRAC #11717 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@94 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use the latest D3DX version for D3DXCompileShader instead of forcing D3DX9_31 TRAC #11347 Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@93 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix glGetShaderSource conformance TRAC #11718 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@92 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for loops. Review URL: http://codereview.appspot.com/802047  git-svn-id: https://angleproject.googlecode.com/svn/trunk@91 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Changes to pass 'abs' conformance tests. Review URL: http://codereview.appspot.com/858041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@90 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Removed tabs. Fixed formatting. Only white-space changes. Review URL: http://codereview.appspot.com/849043  git-svn-id: https://angleproject.googlecode.com/svn/trunk@89 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added support for user-defined structs. And fixed a bug in function return type. Review URL: http://codereview.appspot.com/849042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@88 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - fix redeclaration of initialized globals TRAC #11617 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@87 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use unique intermediate directories for translator projects  TRAC #11635  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@86 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glGetAttachedShaders and glGetShaderPrecisionFormat. TRAC #11599 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@85 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support software vertex processing TRAC #11632 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@84 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Moved code to unmangle function name to a common place and used it in both OutputGLSL and OutputHLSL. Review URL: http://codereview.appspot.com/838041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@83 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added TIntermSelection::usesTernaryOperator() to distinguish between selection nodes using ternary operator and if-else. Used in both OutputGLSL and OutputHLSL. Review URL: http://codereview.appspot.com/830042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@82 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fixed the title of texture-wrap sample. Review URL: http://codereview.appspot.com/834041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@81 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support UNSIGNED_BYTE indices in DrawElements  Trac #11393 Support was added a prior patch but this wasn't activated  git-svn-id: https://angleproject.googlecode.com/svn/trunk@80 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Update .gitignore  Use better wildcards to hide files we don't commit  git-svn-id: https://angleproject.googlecode.com/svn/trunk@79 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - active uniforms and attributes  TRAC #11590 Preparation refactoring that removes UniformType since there are already GL enums for uniform types. Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@78 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement vector times matrix operation  TRAC #11611  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@77 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement shader and program queries TRAC #11599 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@76 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - only declare used HLSL functions TRAC #11315 Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@75 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
fix warning for std::copy  TRAC #11558  * VertexDataManager::internalPreRenderValidate operates directly on the output pointer.  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@74 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
fix warning from "normalized" cast  TRAC #11556  * Restore warning C4800. * Compare GLboolean normalized against GL_TRUE per the spec.  Signed-off-by: Daniel Koch Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@73 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support translating indices.  TRAC #11393  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@72 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement gl_PointCoord and point size clamping  TRAC #11592 Fixed a regression caused by bad merging. Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@71 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement gl_PointCoord and point size clamping  TRAC #11592 Author: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@70 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added GLSL backend for ESSL translator. Review URL: http://codereview.appspot.com/698041  git-svn-id: https://angleproject.googlecode.com/svn/trunk@69 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements support for setting/getting line width.  TRAC #11531 Implements glLineWidth and provides glGet results for LINE_WIDTH and ALIASED_LINE_WIDTH_RANGE.  Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch Author:    Shannon Woods  git-svn-id: https://angleproject.googlecode.com/svn/trunk@68 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
HLSL compilation shouldn't assume a 3.0 profile  TRAC #11054 Signed-off-by: Daniel Koch Author:    Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@67 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
The trace parameter is better termed 'message' instead of 'argument'  Trac #11526 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@66 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add smoke.tga for gles2\ParticleSystem sample  Trac #11596 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@65 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix warning from "normalized" cast.  TRAC #11556  Disable warning C4800 as it does not indicate defects in the code just the compiler.  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch Author: Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@64 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added a few samples from GLES 2.0 book.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@63 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Minor reshuffling of directory structure in preparation of ESSL to GLSL compiler work. 1. Added include/GLSLANG which includes compiler API 2. Deleted src/include and moved the header files to the same directory as the corresponding source files 3. Modied include path to be relative to src/. I have only fixed paths for files I moved. We should fix it for all new files at least. It is much easier to see where an included file is coming from.  I noticed that a few libGLESv2 source files include headers from libEGL project which seems wrong. I think we should address this issue. Next step: move compiler source files to compiler/frontend and create two new projects compiler/glsl_backend and compiler/hlsl_backend.  Review URL: http://codereview.appspot.com/662042  git-svn-id: https://angleproject.googlecode.com/svn/trunk@62 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
To output debug info use the TRACE macro instead of calling trace()  Trac #11526 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@61 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Refactor the parenthesis from the TRACE/FIXME/ERR macros  Trac #11526 Signed-off-by: Shannon Woods Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@60 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Don't crash on a null pointer passed to glBufferData  TRAC #11528   * Initialise buffer to 0 if BufferData is called with data = NULL    (special case: if not resizing just leave the old data in place).  * BufferSubData ignores calls with data = NULL  * Replace Buffer::data_t with GLubyte.  Author:    Andrew Lewycky Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@59 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Corrects scissor & viewport initialization.  TRAC #11134 Takes viewport/scissor dimensions from surface at first makeCurrent rather than from display at context construction.  Author:    Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@58 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements support for FRONT_AND_BACK culling.  TRAC #11331  Author:    Shannon Woods Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@57 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Adds support for hints  TRAC #11343 Author:    Shannon Woods Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@56 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement glPixelStorei for Tex(Sub)Image2D.  TRAC #11475  Author:    Andrew Lewycky Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@55 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Default textures to non-renderable.  TRAC #11309  * Lift getRenderTarget() into base class Texture. * Add pure virtual convertToRenderTarget() and getSurface().  Author:    Andrew Lewycky Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@54 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Partial TexSubImage after FBO rendering overwrites entire image.  TRAC #11439  * Store texel data in IDirect3DSurface9 rather than client memory. * TexSubImage uploads new data immediately. * Fix 5551 texture format conversion.  Author:    Andrew Lewycky Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@53 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix starting indices other than 0 for DrawArrays  TRAC #11495  Author:    Andrew Lewycky Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@52 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ANGLE | Compiler - implement the ternary operator  TRAC #11421 Doesn't take short-circuiting behavior into account yet. Author:    Nicolas Capens Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@51 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
ANGLE | Don't perform any filtering when swapping  TRAC #11513 Author:    Nicolas Capens Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@50 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Delete empty folders after reorganization Trac #11406    git-svn-id: https://angleproject.googlecode.com/svn/trunk@48 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
update .gitignore file for new file locations Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@47 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix include paths in libEGL.vcproj Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@46 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix include paths for libGLESv2.vcproj Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@45 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix the case of all directories used by compiler.vcproj Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@44 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Rename Compiler.vcproj -> compiler.proj and fix solution properties Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@43 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mv Include -> include Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@42 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mv ANGLE.sln -> src/ANGLE.sln Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@41 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mv libGLESv2 -> src/libGLESv2 Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@40 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mv libEGL -> src/libEGL Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@39 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mv Include/*.h -> /src/include/ Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@38 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mv Compiler/* -> src/compiler/* Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@37 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
mv Compiler/Preprocessor -> src/compiler/preprocessor Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@36 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move Compiler/Tools -> src/compiler/tools Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@35 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Move Common -> src/common Trac #11406 Signed-off-by: Nicolas Capens  git-svn-id: https://angleproject.googlecode.com/svn/trunk@34 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add README and license information for bison and flex  Trac #11422 Signed-off-by: Shannon Woods Signed-off-by: Gavriel State  git-svn-id: https://angleproject.googlecode.com/svn/trunk@33 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implements separate stencil support to proposed WebGL limitations  TRAC #11450 Author:    Shannon Woods Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@32 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement break/continue  TRAC #11441 Author:  Nicolas Capens Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@31 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement matrix construction and equality  TRAC #11440 Author: Nicolas Capens Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@30 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Correcting un-returned depth size in utility function.  TRAC #11333 Implemented during masking conformance testing.  Author: Shannon Woods Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@29 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Creates new depthstencils for surfaces.  Trac #11396  Creates new depthstencils for new windows when multiple windows exist repurposes original depthstencil if old windows have all been destroyed. Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@28 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Blend conformance bugfixes.  Trac #11327  Fixes a bug where color conversion swapped blue and green values. Fixes a bug where CONSTANT_COLOR/CONSTANT_ALPHA conflict guard failed to check for ONE_MINUS variants.  Author: Shannon Woods Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@27 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Handle sampling from incomplete textures  TRAC #11321  Context owns incomplete textures of each texture type. Also fix completeness determination: check minfilter to see if mipmapping is on.  Author:    Andrew Lewycky Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@26 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Select texture type based on program usage.  TRAC #11410  Add Program::getSamplerType() and internal machinery to track the reported sampler uniforms. Make State::samplerTexture into a 2D array with a dimension for sampler type. Context::applyTextures queries the sampler type and asks for the right texture.  Author:    Andrew Lewycky Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@25 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Provide default return values for unreachable code paths.  TRAC #11414  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch Author:    Andrew Lewycky  git-svn-id: https://angleproject.googlecode.com/svn/trunk@24 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Whitespace fixes (trailing whitespace CRLF).  TRAC #11414  Author:    Andrew Lewycky Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@23 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement gl_FrontFacing TRAC #11368 Signed-off-by: Andrew Lewycky Signed-off-by: Daniel Koch From:    Nicolas Capens <nicolas@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@22 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement gl_FragCoord TRAC #11381 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@21 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Factor out all operators that are invalid for ES2. TRAC #11347 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@20 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implement non-support for compressed textures.  TRAC #11339  * glCompressedTexImage2D and glCompressedTexSubImage2D verify parameters and then fail with GL_INVALID_ENUM since there are no supported formats. * glGetIntegerv recognises GL_NUM_COMPRESSED_TEXTURE_FORMATS (returns 0) and GL_COMPRESSED_TEXTURE_FORMATS (returns none).  Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Original-Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@19 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support glTexSubImage2D.  TRAC #1167  Signed-off-by: Shannon Woods Signed-off-by: Daniel Koch  Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@18 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Vertex data translation broke the text in PVR samples.  TRAC #11412  Indexed rendering was always broken because the size calculated was offset incorrectly (part of a removed optimisation). copyComponents was broken when I switched from incremental addressing to explicitly-indexed addressing.  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@17 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement gl_DepthRange TRAC #11380 Signed-off-by: Daniel Koch  Author:    Nicolas Capens <nicolas@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@16 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Add support for Vertex Buffer Data Translation  TRAC #11024 Signed-off-by: Nicolas Capens Signed-off-by: Daniel Koch  Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@15 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - access struct fields TRAC #11379 Signed-off-by: Daniel Koch  Author:    Nicolas Capens <nicolas@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@14 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - handle high loop iteration counts TRAC #11345 Signed-off-by: Daniel Koch  Author:    Nicolas Capens <nicolas@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@13 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Support redefinition of textures through glTexImage2D.  TRAC #11316. Keep a dirty data flag recreate the texture when it is set. Texture now owns getTexture() and calls a virtual createTexture method when the derived classes need to recreate.  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@12 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Remove trailing whitespace.  TRAC #11024  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@11 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Use std::min/max instead of the Windows macros.  TRAC #11024  * Define NOMINMAX so that the Windows headers don't define min or max. * Use std::min/std::max where we were using the min/max macros.  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@10 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Whitespace fixes.  TRAC #11024  Signed-off-by: Daniel Koch  Author:    Andrew Lewycky <andrew.lewycky@transgaming.com>  git-svn-id: https://angleproject.googlecode.com/svn/trunk@9 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Added codereview settings file.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@6 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Implemented support for GL_STENCIL_INDEX8 renderbuffers TRAC #11366 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@5 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Compiler - implement faceforward TRAC #11365 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@4 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Fix regression from HRESULT checking changes TRAC #11234 Signed-off-by: Daniel Koch  git-svn-id: https://angleproject.googlecode.com/svn/trunk@3 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initial import from TransGaming  git-svn-id: https://angleproject.googlecode.com/svn/trunk@2 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
Initial directory structure.  git-svn-id: https://angleproject.googlecode.com/svn/trunk@1 736b8ea6-26fd-11df-bfd4-992fa37f6226, 15312978, 382, 105, 382
update IColumnDefinition, 72574654, 12, 5, 12
Angular 4 (#15)  * upgrade to angular4  * upgraded to angular4 test application does not break, 72574654, 12, 5, 12
Merge pull request #14 from Microsoft/fix/contextMenu  contextMenu event updates, 72574654, 12, 5, 12
contextMenu event updates, 72574654, 12, 5, 12
Merge pull request #11 from Microsoft/fix/autoEditOn  Fix for column index bug, 72574654, 12, 5, 12
columnIndex bug fix, 72574654, 12, 5, 12
Merge pull request #10 from Microsoft/fix/autoEditOn  Enabling autoedit, 72574654, 12, 5, 12
fix, 72574654, 12, 5, 12
enabling autoedit, 72574654, 12, 5, 12
Reorganize add selectedRowsChanged update overrideCellFn update readme (#8)  - Add wrapper methods for onSelectedRowsChanged and getSelectedRows fixing #5 - Update overrideCellFn to pass the cell value - Organize code into sections to clearly identify where new public methods should go enabling others to more easily add public functionality in PRs - Update readme, 72574654, 12, 5, 12
Enable editing for existing rows (#7)  This enables cells in existing rows to be edited. Callbacks are exposed via @Output that will notify components that cell edits or row edits have occurred. Optionally components can provide isColumnEditable and isCellEditValid callbacks.  This assumes that the component using angular2-slickgrid will update backend data based on the rowEditTryCommit callback. I.e. after this callback angular2-slickgrid forgets that cell edits were made.  More work has to be done to enable the "add new row" feature. This will involve setting grid.options.enableAddRow = true among other things., 72574654, 12, 5, 12
Merge pull request #6 from Microsoft/feature/addCaretVersions  Add carets and tildes to package.json, 72574654, 12, 5, 12
Bump package version, 72574654, 12, 5, 12
Update package.json - add carets and tildes, 72574654, 12, 5, 12
updated depedencies, 72574654, 12, 5, 12
updated version in package json, 72574654, 12, 5, 12
fixed capitlization, 72574654, 12, 5, 12
fixing capitalization, 72574654, 12, 5, 12
removed internal lib and made it a dependency, 72574654, 12, 5, 12
added removal of unnecessary file, 72574654, 12, 5, 12
added tslint rules; merged interface files; updated readme; added publish gulp task, 72574654, 12, 5, 12
Feature/generalize (#4)  * changed selection model and plugin inputs to be strings  * update  * update  * added types to inputs  * removed backup css colors  * fixed css  * updated css  * fixed problem if no selectionModel was set  * updated compiled files  * fixed plugin init  * added propagation stop  * removed set row active, 72574654, 12, 5, 12
added example; made slickgrid more generic; added functions for setting plugins and selection models, 72574654, 12, 5, 12
Add basic doc and support VSCode build (#2), 72574654, 12, 5, 12
Support Home and End key navigation (#1)  - Added Home and End key navigation support - Refactored out some code into their own functions since we needed to duplicate the logic, 72574654, 12, 5, 12
Add license.txt file, 72574654, 12, 5, 12
updated includes, 72574654, 12, 5, 12
added name column field and made id optional, 72574654, 12, 5, 12
changed package name, 72574654, 12, 5, 12
added compiled files, 72574654, 12, 5, 12
commented out code for minification purposes, 72574654, 12, 5, 12
updated, 72574654, 12, 5, 12
replaced missing libs, 72574654, 12, 5, 12
added proper exports, 72574654, 12, 5, 12
update package.json, 72574654, 12, 5, 12
init, 72574654, 12, 5, 12
Apache 500 errors aren't detected by Linux oms agents, 47794867, 1, 2, 1
Add 'Code of Conduct' to repository as per Microsoft Guidelines, 47794867, 1, 2, 1
Add a README.md file with a basic description of classes available, 47794867, 1, 2, 1
Fix comparsion in function check_version_installable  Resolve problem where software version is not upgraded in error, 47794867, 1, 2, 1
Fix provider to return proper service name if systemctl, 47794867, 1, 2, 1
Require OMI 1.0.8-6 for directory ownership issues, 47794867, 1, 2, 1
Add sysdir to appropriate shared directories for installbuilder, 47794867, 1, 2, 1
Add old build information (from old osm-apache project), 47794867, 1, 2, 1
Fix for dpkg: Version determination fails due to space in variable, 47794867, 1, 2, 1
Don't need force_stop_omi_service function (installer handles that), 47794867, 1, 2, 1
Modify to not upgrade to same version of kit already installed, 47794867, 1, 2, 1
Fix documentation for SSLCertificateFile to be consistent w/SSL module, 47794867, 1, 2, 1
Apache's CustomLog paramater can take a third optional parameter, 47794867, 1, 2, 1
Fix default search path to also check apache-cimprov's libdir, 47794867, 1, 2, 1
Correct Debian version format to x.y.z.r (rather than x.y.z-r), 47794867, 1, 2, 1
Quiet down the build output when creating shell bundle, 47794867, 1, 2, 1
Add --source-references option to shell bundle, 47794867, 1, 2, 1
Only put shell bundle in the target directory, 47794867, 1, 2, 1
Don't need TeamBuildTypes (MSBuild) files, 47794867, 1, 2, 1
Changes to move Makefile.version to build master project, 47794867, 1, 2, 1
Eliminate .tpattributes files (from TFS system), 47794867, 1, 2, 1
First pass at compiler warnings, 47794867, 1, 2, 1
Squash repetitive build system version file updates where possible, 47794867, 1, 2, 1
Fix broken Apache build (and fix MySQL so it has proper behavior for ULINUX along the way), 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-591, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-590, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-589, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-588, 47794867, 1, 2, 1
Utilize the new OMI service control script for OMI service control, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-587, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-586, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-585, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-584, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-583, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-582, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-581, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-580, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-579, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-578, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-577, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-576, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-575, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-574, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-573, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-572, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-571, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-570, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-569, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-568, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-567, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-566, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-565, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-564, 47794867, 1, 2, 1
Replaced Sources with src to support TFS 2013 Build Service, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-563, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-562, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-561, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-560, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-559, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-558, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-557, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-556, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-555, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-554, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-553, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-552, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-551, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-550, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-549, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-548, 47794867, 1, 2, 1
Updated sources to src and tf.exe location, 47794867, 1, 2, 1
Minor fixes for both MySQL and Apache, 47794867, 1, 2, 1
Readme fixes for Apache: Specify that Apache itself and development tools must be installed, 47794867, 1, 2, 1
MySQL release code builder (shell script) and all changes necessary to support an open source distribution for MySQL, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-547, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-546, 47794867, 1, 2, 1
[CDM] Merge Apache open-source changes from mainline branch to improvement branch to keep improvement branch up to date.  This specifically brings forward changeset 448434 to the improvement branch., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-545, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-544, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-543, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-542, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-541, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-540, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-539, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-538, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-537, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-536, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-535, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-534, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-533, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-532, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-531, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-530, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-529, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-528, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-527, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-526, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-525, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-524, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-523, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-522, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-521, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-520, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-519, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-518, 47794867, 1, 2, 1
OMI kit changes (one OMI kit for all projects), 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-517, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-516, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-515, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-514, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-513, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-512, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-511, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-510, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-509, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-508, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-507, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-506, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-505, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-504, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-503, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-502, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-501, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-500, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-499, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-498, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-497, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-496, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-495, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-494, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-493, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-492, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-491, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-490, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-489, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-488, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-487, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-486, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-485, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-484, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-483, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-482, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-481, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-480, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-479, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-478, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-477, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-476, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-475, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-474, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-473, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-472, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-471, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-470, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-469, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-468, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-467, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-466, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-465, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-464, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-463, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-462, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-461, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-460, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-459, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-458, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-457, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-456, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-455, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-454, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-453, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-452, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-451, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-450, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-449, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-448, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-447, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-446, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-445, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-444, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-443, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-442, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-441, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-440, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-439, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-438, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-437, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-436, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-435, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-434, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-433, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-432, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-431, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-430, 47794867, 1, 2, 1
Apache: Add new third party license file, 47794867, 1, 2, 1
[CDM] Fix bugs related to WI 829273, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-429, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-428, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-427, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-426, 47794867, 1, 2, 1
SCX Mega-bundle support, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-425, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-424, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-423, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-422, 47794867, 1, 2, 1
Apache configuration script to configure and unconfigure Apache Server; updates to installer for latest requirements from PM  Specifically:  1. On installation do not configure or restart apache (unless --restart-deps is specified on command line)  2. On removal don't touch Apache configuration if agent is already not configured (and don't restart server either). If agent is configured then remove Apache configuration and restart Apache server.  3. Default bundle behavior should not be "extract" anymore; it's now a specific option.  This fix provides a new script in the Apache provider bin directory:  /opt/microsoft/apache-cimprov/bin/apache_config.sh  Run this with -c to configure Apache after installation or run with -u to unconfigure Apache prior to removal of the agent.  IMPORTANT NOTE TO TEST:  Due to these changes if you simply install the provider and try to enumerate enumerations will fail unless the bundle was installed with --restart-deps or you run 'apache_config.sh -c' first., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-421, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-420, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-419, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-418, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-417, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-416, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-415, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-414, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-413, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-412, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-411, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-410, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-409, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-408, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-407, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-406, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-405, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-404, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-403, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-402, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-401, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-400, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-399, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-398, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-397, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-396, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-395, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-394, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-393, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-392, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-391, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-390, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-389, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-388, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-387, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-386, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-385, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-384, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-383, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-382, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-381, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-380, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-379, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-378, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-377, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-376, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-375, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-374, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-373, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-372, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-371, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-370, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-369, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-368, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-367, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-366, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-365, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-364, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-363, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-362, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-361, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-360, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-359, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-358, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-357, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-356, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-355, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-354, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-353, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-352, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-351, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-350, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-349, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-348, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-347, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-346, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-345, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-344, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-343, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-342, 47794867, 1, 2, 1
Add varmaps on Redhat., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-341, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-340, 47794867, 1, 2, 1
1 Add new varmaps. 2 Improve script. 3 Fix some test issues., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-339, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-338, 47794867, 1, 2, 1
[CDM] Resolve wi 795516: Typo when checking for apache2 service under systemctl, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-337, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-336, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-335, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-334, 47794867, 1, 2, 1
Read Apache performance statistics from parent HTTPD stat file; scorecard.c isn't giving accurate number of ticks, 47794867, 1, 2, 1
1. Change the script  set the server name to hostname and update the varmaps. 2. Fix test issue case will pass even if the value is not match the expected value for virtualhostCertificate 3. Fix test issue after tun uninstall apache cases or upgrade apaceh cases it doesn't re-install the apache agent in cleanup., 47794867, 1, 2, 1
Add sln combined in TFS, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-333, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-332, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-331, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-330, 47794867, 1, 2, 1
1. Modify all value of "Interval" to 10 seconds. 2. Fix script issue. 3. Add all required varmaps but Sles12 which don't have om mps., 47794867, 1, 2, 1
, 47794867, 1, 2, 1
1.Remove unused statement in PerformanceHealth.cs 2.Fix breakPerMinutesServerMonitor.sh add /etc/apache2/sites-enabled/000-default, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-329, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-328, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-327, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-326, 47794867, 1, 2, 1
, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-325, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-324, 47794867, 1, 2, 1
1. Fix createPortforApache.sh when use both -p and -s  it will cause service stop now fixed. 2. Fix breakPerMinutsServerMonitor.sh add code to handle /etc/apache2/apache2.conf 3. Fix test issue for case 726528/726529 now they should be more stable than before. Please add instance tag in varmap for these two cases., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-323, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-322, 47794867, 1, 2, 1
[CDM] Fix handling of disabled service to still start/stop Apache fix Apache restart timing bug, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-321, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-320, 47794867, 1, 2, 1
Fix issues of scipts and varmaps, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-319, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-318, 47794867, 1, 2, 1
Two fixes: 1) Favor /usr/local installation of HTTP consistently (we used to favor /usr/local for start/stop of server but not for editing of Apache configuration) and 2) On Apache restart be sure [CDM] Apache shut down before starting to tolerate slower systems.  To deal with #1 reworked code such that FindConfiguration will decide what to check first and pass along either file or directory type. With that Unconfigure and Configure code was reworked to look at type and act appropriately., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-317, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-316, 47794867, 1, 2, 1
Fixed a number of Apache bugs:  1) Oddities when doing upgrades (not properly detecting upgrades on both RPM and DPKG together). There were bugs in this area (learned from MySQL) but not reported yet. 2) Fixed an installation error like: "ln : failed to create symbolic link ..." if the link already existed (upgrade noise) - WI783677 3) Restart Apache properly on newer serviced-based systems - WI779222 4) Detect service name properly on newer serviced-based systems to populate the ServiceName property - WI783669., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-315, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-314, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-313, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-312, 47794867, 1, 2, 1
1. Improve create port script. 2. Fix Task cases issue: set 'expectedOutputKeyWord' to return code 0., 47794867, 1, 2, 1
Add the two folder to put Apache MP template., 47794867, 1, 2, 1
1. Modify the Scx.test.Apache.SDK.sln path. 2. Add OM dll to the path: $/CDM_SFE/Branches/OnPrem/Imp/SCX_Dev/apache-osm/test/Automation/Dependency/bin/OMDll, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-311, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-310, 47794867, 1, 2, 1
Modify GetVirtualHostMonitor method in the file., 47794867, 1, 2, 1
Automated 4 Agent (WSMan) test cases(724656-724659), 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-309, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-308, 47794867, 1, 2, 1
Automated Test Cases: TC 725215 725214  725213 725210 725204  725203., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-307, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-306, 47794867, 1, 2, 1
Automated 3 Agent (WSMan) test cases:724656724657 and 724659., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-305, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-304, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-303, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-302, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-301, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-300, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-299, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-298, 47794867, 1, 2, 1
Automated following Agent (WSMan) test cases: TC 724644: Verify enumeration of Apache_HTTPDVirtualHost works for 1 HTTP virtual host. TC 724645: Verify enumeration of Apache_HTTPDVirtualHost works for 1 HTTPS virtual host. TC 724646: Verify enumeration of Apache_HTTPDVirtualHost works for 2 HTTP virtual hosts. TC 724647: Verify enumeration of Apache_HTTPDVirtualHost works for 2 HTTPS virtual hosts. TC 724648: Verify enumeration of Apache_HTTPDVirtualHost works for 1 HTTP virtual host and 1 HTTPS virtual host. TC 724649: Verify enumeration of Apache_HTTPDVirtualHostStatistics works for 1 HTTP virtual host. TC 724650: Verify enumeration of Apache_HTTPDVirtualHostStatistics works for 1 HTTPs virtual host. TC 724651: Verify enumeration of Apache_HTTPDVirtualHostStatistics works for 2 HTTP virtual hosts. TC 724652: Verify enumeration of Apache_HTTPDVirtualHostStatistics works for 2 HTTPs virtual hosts. TC 724653: Verify enumeration of Apache_HTTPDVirtualHostStatistics works for 1 HTTP virtual host and 1 HTTPs virtual host.  CimProv Cases: 724958-[Apache]<CimProv><Upgrade>Verify if upgrade Apache agent successfully with '--upgrade' option 724961-[Apache]<CimProv><Upgrade>Verify if upgrade Apache agent successfully with '--upgrade --force' option 724962-[Apache]<CimProv><Upgrade>Verify that it doesn't upgrade Apache agent to a lower edition only with '--upgrade' option  Improved Shell Scripts: - createPortforApache.sh  Usage: -d: httpd.conf file location default is /etc/httpd/conf/httpd.conf for package and /usr/local/apache2/conf/httpd.conf for source -ssld: ssl.conf file location default is /etc/httpd/conf.d/ssl.conf for package and /usr/local/apache2/conf/extra/httpd-ssl.conf for source -p: the http port which we want to set separate by   like 8081 -s: the ssl port which we set separate by  like 443444 -expireSSL: create a expire ssl port -nossl: Disable all ssl port -2sslc: create 2 SSL ports with different certificate example: 1. create a http port : sh createPortforApache.sh -p 80 2. create a ssl port : sh createPortforApache.sh -s 443 3. create 2 http ports : sh createPortforApache.sh -p 8081 4. create 2 http ports : sh createPortforApache.sh -s 443444 5. create a http port and a ssl port: sh createPortforApache -p 80 -s 443 6. create a expire certifaicate SSL port: sh createPortforApache -expireSSL 7. Diable all ssl port: sh createPortforApache -nossl 8. create 2 ssl ports with different certificate: sh createPortforApache -2sslc  - revereapacheconf.sh  Run the the script to recover the change of default.  - createSSLCertification.sh Create SSL certificates., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-297, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-296, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-295, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-294, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-293, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-292, 47794867, 1, 2, 1
Remove unnecessary xcopy command in project, 47794867, 1, 2, 1
Add missing file ProductAssemblyInfo.cs, 47794867, 1, 2, 1
Add missing file ProductAssemblyInfo.cs which should build pass, 47794867, 1, 2, 1
1.Copy the SDK framework to $CDM_SFE\Branches\OnPrem\Imp\SCX_Dev\apache-osm\test\Automation. 2.Change the name SDK to Apache where necessary 3.Delete some unnecessary files. 4.Add the logic to install/uninstall apche agent in GroupHelper with 2 options : "With Task" or "With command" 5.Implement first case: Test Case 724163: [Apache]<SDK><Task>Verify if install Apache CIM Module works by running task "Install/Upgrade Apache CIM Module" with valid root account., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-291, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-290, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-289, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-288, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-287, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-286, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-285, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-284, 47794867, 1, 2, 1
Return 0 for DaysUntilExpriration if the certificate is already expired, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-283, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-282, 47794867, 1, 2, 1
1. Automating CimProv Test Cases:     724953-[Apache]<CimProv><Install>Verify if install Apache agent successfully with '--install' option     724954-[Apache]<CimProv><Install>Verify if install Apache agent successfully with '--install --force' option     724955-[Apache]<CimProv><Install>Verify if install an Apache agent twice failed on the same version     724956-[Apache]<CimProv><Install>Verify if install an Apache agent failed with invalid option     724957-[Apache]<CimProv><Install>Verify if install an Apache agent failed without options     724963-[Apache]<CimProv><Uninstall>Verify if uninstall Apache agent successfully with '--remove' option     724964-[Apache]<CimProv><Uninstall>Verify if uninstalll Apache agent cleanly with '--purge' option     724965-[Apache]<CimProv><Usage>Verify if output the usage properly when type '--help' or '-?' option  2. Automating Agent Provider Test Cases:    724411-[Apache] <Agent><Apache_HTTPDServer> Verify enumeration of Apache_HTTPDServer works for 1 Apache Server.   724640-[Apache] <Agent><Apache_HTTPDServer> Verify the property OperatingStatus of Apache_HttpDServer will be rrror when apache server is not running.   724642-[Apache] <Agent><Apache_HTTPDServerStatistics> Verify enumeration of Apache_HTTPDServerStatistics works for 1 Apache Server.   724661-[Apache] <Agent> Verify the provider could still return value if restart scx agent.  3. Add 3 shell scripts:     createPortforApache.sh: Add a new http virtual host to httpd.conf file.     createSSLCertification.sh: Create a 10 days SSL certificate.     revertapacheconf.sh: Recover httpd.conf file to default., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-281, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-280, 47794867, 1, 2, 1
Fix awk command line when creating link for APR library, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-279, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-278, 47794867, 1, 2, 1
Fix Apache installation for source installs (WI 725396), 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-277, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-276, 47794867, 1, 2, 1
Script to add port for Apache: createPortforApache is used to config httpd.conf file. It could remove the default ports and add the ports we want to test. revertapacheconf.sh is used to revert the default http.conf file, 47794867, 1, 2, 1
Add a method SetApacheAgentFullPath(string apcheAgentFullPath bool needCopyFile = false), 47794867, 1, 2, 1
Refactor the ApacheHelper.cs and GroupHelper.cs, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-275, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-274, 47794867, 1, 2, 1
1. Add commen viriable. 2. Change the vid to 724411 3. Change some value of property with common regex 4. If no issue this case could make as a template, 47794867, 1, 2, 1
update method CheckApacheInstalled  We just need verify apache server status  update the Keys: InstallCmd->InstallOMCmd UninstallCmd->UninstallOMCmd CleanCmd->CleanOmCmd localagents->OMAgentLocation localApaches->ApachesLocation uselocalagents->useagentlocation useLocalapaches->useapacheLocation  apdate value for SystemID <rec key="p:SystemID">cmt-cent5x86-02.scx.com</rec> to <rec key="p:SystemID">localhost</rec>  apdate value for ModuleVersion from <rec key="p:ModuleVersion">1\.0\.0-85 \(20140711\)</rec> to <rec key="p:ModuleVersion">[0-9].[0-9].[0-9]-[0-9]{3} \([0-9]{8}\)</rec>, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-273, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-272, 47794867, 1, 2, 1
Adjust the file structure., 47794867, 1, 2, 1
Fix the Project Name and add some varmaps., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-271, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-270, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-269, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-268, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-267, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-266, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-265, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-264, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-263, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-262, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-261, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-260, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-259, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-258, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-257, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-256, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-255, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-254, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-253, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-252, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-251, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-250, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-249, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-248, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-247, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-246, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-245, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-244, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-243, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-242, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-241, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-240, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-239, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-238, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-237, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-236, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-235, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-234, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-233, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-232, 47794867, 1, 2, 1
Improve the clean up and check status methods and add a new varmap., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-231, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-230, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-229, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-228, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-227, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-226, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-225, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-224, 47794867, 1, 2, 1
Allow Apache project to be easier to use with PBUILD and ULINUX (assume ULINUX on SuSE 10 systems), 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-223, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-222, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-221, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-220, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-219, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-218, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-217, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-216, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-215, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-214, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-213, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-212, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-211, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-210, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-209, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-208, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-207, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-206, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-205, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-204, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-203, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-202, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-201, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-200, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-199, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-198, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-197, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-196, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-195, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-194, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-193, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-192, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-191, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-190, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-189, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-188, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-187, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-186, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-185, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-184, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-183, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-182, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-181, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-180, 47794867, 1, 2, 1
Add MCF dll., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-179, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-178, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-177, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-176, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-175, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-174, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-173, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-172, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-171, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-170, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-169, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-168, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-167, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-166, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-165, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-164, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-163, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-162, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-161, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-160, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-159, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-158, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-157, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-156, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-155, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-154, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-153, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-152, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-151, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-150, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-149, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-148, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-147, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-146, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-145, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-144, 47794867, 1, 2, 1
Ugh need PBUILD.  Fix Apache build break.  Changed include file ordering.  The Apache 1.3 APR will barf if <algorithm> is included before the APR itself is., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-143, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-142, 47794867, 1, 2, 1
[CDM] Add support for TotalPctCPU in Apache_HTTPDServerStatistics. Improve 'make install' capabilities for local installation & testing, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-141, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-140, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-139, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-138, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-137, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-136, 47794867, 1, 2, 1
[CDM]  On Ubuntu (and Debian) during dpkg --install (specifically when upgrading a package) scripts are called like: preinstall postrm postinstall.  We didn't expect postrm to be called causing problems (OMI is restarted without the Apache library installed then fails later to start because it's already running). Detect via the "upgrade" parameter and don't restart servers in postrm thereby eliminating the problem.  Along the way: Fix link creation to eliminate warning (and guarantee proper behavior) on SLES systems., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-135, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-134, 47794867, 1, 2, 1
Apache v2.4 support, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-133, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-132, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-131, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-130, 47794867, 1, 2, 1
Apache Unit Test fixes for sticky properties in Apache_HTTPDServer class, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-129, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-128, 47794867, 1, 2, 1
[CDM] Make specific Apache_HTTPDServer properties sticky as per WI693191, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-127, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-126, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-125, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-124, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-123, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-122, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-121, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-120, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-119, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-118, 47794867, 1, 2, 1
Apache shell bundle support.  Tested on RH and SuSE (non-Universal) SuSE (Universal) and Ubuntu (Universal obviously).   Note that non-universal builds are for DEV purposes only and would never be shipped.  In fact these aren't even built automatically (need to manually select target "kit" to make the shell bundle - this is automatic for ULINUX).  [CDM], 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-117, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-116, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-115, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-114, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-113, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-112, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-111, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-110, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-109, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-108, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-107, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-106, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-105, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-104, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-103, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-102, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-101, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-100, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-99, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-98, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-97, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-96, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-95, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-94, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-93, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-92, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-91, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-90, 47794867, 1, 2, 1
Prefer to use configuration directories rather than including directive in httpd.conf to fix SuSE issues, 47794867, 1, 2, 1
Fix Apache unit test linking to use OMI 1.0.8 PAL, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-89, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-88, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-87, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-86, 47794867, 1, 2, 1
Apache Automation, 47794867, 1, 2, 1
Upgrade Apache to use OMI 1.0.8, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-85, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-84, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-83, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-82, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-81, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-80, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-79, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-78, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-77, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-76, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-75, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-74, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-73, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-72, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-71, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-70, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-69, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-68, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-67, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-66, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-65, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-64, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-63, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-62, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-61, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-60, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-59, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-58, 47794867, 1, 2, 1
Fix PortsFormatted property. Inadvertently set this property with wrong data type (not caught by the compiler)., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-57, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-56, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-55, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-54, 47794867, 1, 2, 1
Schema changes for a variety of work items.  This implements the new fields and schema changes that were not checked in yesterday., 47794867, 1, 2, 1
Allow Apache_HTTPDServer to succeed even if server is down.  A slew of changes here:  1. Modified "make install" to only install what was changed (provider if provider changed module if module changed or both if both changed).  2. Removed process name and operating status from memory mapped region. Process name is determined in the provider now and OperatingStatus was ALWAYS "2" which is sort of pointless to put in the region.  3. MOF modifications. NOTE: These have not been regenerated yet; that is coming in the next checkin.  4. Apache_HTTPDServer was changed to ALWAYS return an enumeration even if the server is down.  5. Major infrastructure changes: 5a: We have an algorithm to catch if Apache crashed but left the shared memory region around. If invalid we will catch that (checked every 5 minutes). 5b: Once caught as invalid we'll recheck on every enumeration to avoid "sticky failures" even if Apache has come back up. 5c: Because it's "free" due to 5a we now pick up the real process name from the actual Apache process. 5d: The DataSampler thread will check for a valid memory map once every 5 runs (every 5 minutes).  6. Added unit test to verify proper behavior even if Apache server is down (verify we still enumerate but with "server down" property values).  7. With all these changes fixed the actual bug for WI 678492: We showed the server name as _Unknown if server wasn't running., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-53, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-52, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-51, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-50, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-49, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-48, 47794867, 1, 2, 1
Fix ServerAlias to be correct.  This was inadvertantly implemented as the "Path" alias (that is if you said "ServerAlias" it treated it like a path alias).  Fixed to correctly refer to the actual ServerAlias ..., 47794867, 1, 2, 1
Fix minor build problem.  Doh!  I gotta get PBUILD going with Apache ..., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-47, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-46, 47794867, 1, 2, 1
Recognize if Apache restarts and remap the memory mapped file. This actually occurs by mapping the memory map for each individual operation then closing the memory map afterwards. In this way if Apache is restarted we automatically get the new memory map.  Since the provider tends to store temporary data in the memory map a new memory map forces temporary data to be recomputed. In this way the provider "just works" in case Apache is restarted.  I also fixed a minor bug in the Apache_HTTPDVirtualHostCertficate enumeration: If we had a problem computing expiration information for a certificate we used to abort the enumeration. Now we still enumerate but don't supply expiration information. In this case we'll retry determining expiration information the next time we get the opportunity., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-45, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-44, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-43, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-42, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-41, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-40, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-39, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-38, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-37, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-36, 47794867, 1, 2, 1
Get proper configuration file from compile options if possible, 47794867, 1, 2, 1
Real dependency injection for Apache provider.  This removes test code (code only called during unit test) from production version of class ApacheBinding()., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-35, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-34, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-33, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-32, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-31, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-30, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-29, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-28, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-27, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-26, 47794867, 1, 2, 1
Unit test for Apache Provider HTTPD_Server, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-25, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-24, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-23, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-22, 47794867, 1, 2, 1
removed the call to rununitest.bsh, 47794867, 1, 2, 1
Run unit tests for Apache, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-21, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-20, 47794867, 1, 2, 1
adding unit test to apache builds, 47794867, 1, 2, 1
Add remaining key properties to all providers, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-19, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-18, 47794867, 1, 2, 1
remove docs generation not relavent to apache, 47794867, 1, 2, 1
Unit test framework for Apache Provider HTTPD_Server Part 1 (more in progress), 47794867, 1, 2, 1
Add remaining properties to Apache virtual host provider, 47794867, 1, 2, 1
Unit test framework for Apache Providers.  Note: This is just a placeholder at this time.  If you look at server_test.cpp it doesn't actually do anything.  But the unit test does build/run successfully and this gives me a framework that I can build upon.  NOTE: I'm having problems with 'tf unshelve' throwing an exception causing the unshelve to fail. For testing I needed to copy over from Windows (YUCK)! We may need to look into this if it continues to be a problem ..., 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-17, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-16, 47794867, 1, 2, 1
remove unitest call, 47794867, 1, 2, 1
Merge configuration properties from the default host into virtual hosts, 47794867, 1, 2, 1
Only display the _Unknown host record (entry [1] in vhosts) if statistics are reported to it, 47794867, 1, 2, 1
Allow default (non-virtual) host to have its own entry in vtable, 47794867, 1, 2, 1
Minor formatting eliminate unused variables, 47794867, 1, 2, 1
Add transfer log file name custom log file name and document root directory name to host provider, 47794867, 1, 2, 1
Apache Provider Exception handling, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-15, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-14, 47794867, 1, 2, 1
Add the lists of IP address and ports to the virtual port instances, 47794867, 1, 2, 1
Use a home-grown hash function instead of the CRC-32 function from apr_memcache to enable compiling on Apache environments without apr_memcache, 47794867, 1, 2, 1
Fix typo, 47794867, 1, 2, 1
Add a string table to shared memory instead of using fixed-length strings to save memory, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-13, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-12, 47794867, 1, 2, 1
Generate a unique Instance ID for the SSL Certificate file instances, 47794867, 1, 2, 1
Create string table skeleton in module and provider, 47794867, 1, 2, 1
Remove old (broken) port configuration from Apache and create new port array in MOF file, 47794867, 1, 2, 1
Fix hash to be based on server_rec address, 47794867, 1, 2, 1
Apache instanceID support (generate unique instance IDs for each vhost), 47794867, 1, 2, 1
Add more support for Apache SSL certificates, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-11, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-10, 47794867, 1, 2, 1
update command to configure script per Jeff's input, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-9, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-8, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-7, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-6, 47794867, 1, 2, 1
apache, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-5, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-4, 47794867, 1, 2, 1
fixed additional typo in the workspace name, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-3, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.0.0-2, 47794867, 1, 2, 1
changed project folder mapped in bootstrap, 47794867, 1, 2, 1
Add support for Apache versioning (but no validation yet with module), 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.5.1-562, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.5.1-561, 47794867, 1, 2, 1
fixing typo in changes for onboarding, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.5.1-560, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.5.1-559, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.5.1-558, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_DEVBUILD, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.5.1-557, 47794867, 1, 2, 1
AUTOMATIC UPDATE BY Apache Project BUILD ENVIRONMENT - Apache_SCXDEV_1.5.1-556, 47794867, 1, 2, 1
adding the versioning files required by the xplat build process, 47794867, 1, 2, 1
adding required build strucutre tools to onboard the branch for regular builds, 47794867, 1, 2, 1
Add support for up to two SSL certificates per host, 47794867, 1, 2, 1
, 47794867, 1, 2, 1
Fix directory path for global RW mutex (somehow this change was lost in the shuffle), 47794867, 1, 2, 1
Modify module to use persistent storage (rather than module globals) and create concept of storage solely for configuration purposes (cfg->configPool).  This new memory region allows us to allocate whatever we need during server configuration.  At the end of server configuration this temporary configuration block is removed.  NOTE: THIS IS VERY DIFFERENT THAN APR POOL 'pconf'.  APR pool 'pconf' (as passed to the post_config_handler) is configuration-specific data that is persisted for the lifetime of the server.  But anything stored in memory pool cfg->configPool is deleted when all configuration handlers have been called allowing for use of memory only during the configuration process., 47794867, 1, 2, 1
Strip SSL support update support files for new version property. Can implement version property until we have build system support., 47794867, 1, 2, 1
Installbuilder support for Apache, 47794867, 1, 2, 1
Merge Makefile changes to support Niel's work (for certficate validation) along with Jeff's work (for InstallBuilder support).  Note that 'make kit' won't work until InstallBuilder data files are checked in (within the short future)., 47794867, 1, 2, 1
Add module code to handle Open SSL certificate information, 47794867, 1, 2, 1
Add missing property (ReqeustsPerSecond) to HTTPDVirtualHostStatistics provider, 47794867, 1, 2, 1
Rename 'fake' virtual hosts  _TOTAL to _Total and _UNKNOWN to _Default Display _Default when enumerating HTTPDVirtualHost and HTTPDVirtualHostStatistics Remove duplicate statistics from HTTPDServerStatistics class, 47794867, 1, 2, 1
Add code to compute time-based values. Removed class Apache_HTTPProcess from CIM provider. Removed property MSPerRequest from CIM class Apache_HTTPDVirtualHostStatistics., 47794867, 1, 2, 1
Worker thread support. This checkin will create a worker thread with a framework to perform time-based computations. Verified (via testing) that thread will be shut down properly upon unload (which doesn't normally occur but still supported).  Note that time-based computations aren't being performed yet. Waiting for feedback from Kris on that which should come shortly., 47794867, 1, 2, 1
Rename SCX_DEV/oss-interfaces/apache to SCX_DEV/apache-osm, 47794867, 1, 2, 1
Move commas outside double quotes (#86)  * Reword to be better reflect RFC 2119. (#73)  Section 7.4.3 used the capitalized verb "MAY" without the semantics imposed by RFC 2119.  The offending phrase is simply describing a situation that can arise in the real world rather than a requirement of the specification.  The requirement put forth in this specification is defined in the next sentence using the “MUST” verb.  * Fix formatting of contibutor table (#81)  Probably caused by different markdown implementation in github.  * Commas moved outside the double quotes, 63188650, 6492, 592, 6492
Merge pull request #85 from arialdomartini/osx  macOS instead of MacOS, 63188650, 6492, 592, 6492
macOS instead of MacOS, 63188650, 6492, 592, 6492
Administrivia: Push accepted changes in master into vNext (#83)  * Reword to be better reflect RFC 2119. (#73)  Section 7.4.3 used the capitalized verb "MAY" without the semantics imposed by RFC 2119.  The offending phrase is simply describing a situation that can arise in the real world rather than a requirement of the specification.  The requirement put forth in this specification is defined in the next sentence using the “MUST” verb.  * Fix formatting of contibutor table (#81)  Probably caused by different markdown implementation in github., 63188650, 6492, 592, 6492
Naming guidelines (#74)  * Add naming guidelines section.  * Split accidentally merged line., 63188650, 6492, 592, 6492
Merge remote-tracking branch 'refs/remotes/origin/master' into vNext, 63188650, 6492, 592, 6492
[Contributing] Remove atom beautify (#65)  Since we're now doing one sentence per line we don't need atom beautify.  This PR also adds Visual Studio Code as some of the doc editors are now using this., 63188650, 6492, 592, 6492
Merge pull request #64 from mj1856/date-headers  Update info about Date headers, 63188650, 6492, 592, 6492
Update info about Date headers, 63188650, 6492, 592, 6492
reformatting to one-sentence-per-line (#61)  * reformatting to one-sentence-per-line  * fixing some typos and updating contribution guidelines., 63188650, 6492, 592, 6492
Merge pull request #59 from weltan/master  Fix #21, 63188650, 6492, 592, 6492
Fix #21, 63188650, 6492, 592, 6492
Merge pull request #55 from ravage84/patch-1  Move up the easy read, 63188650, 6492, 592, 6492
Fix redundant wording "method methods" (#56)  Fix redundant wording "method methods", 63188650, 6492, 592, 6492
Move up the easy read, 63188650, 6492, 592, 6492
Merge pull request #42 from darrelmiller/HttpMethod  Replace the term verb with method #7, 63188650, 6492, 592, 6492
Added comment about use of the term HTTP verb, 63188650, 6492, 592, 6492
Merge remote-tracking branch 'refs/remotes/Microsoft/master' into HttpMethod  # Conflicts: #	Guidelines.md, 63188650, 6492, 592, 6492
Merge pull request #53 from zaccharles/fixes  Fixes for Guidelines.md, 63188650, 6492, 592, 6492
Add accidentally removed paragraph, 63188650, 6492, 592, 6492
Revert change as requested, 63188650, 6492, 592, 6492
Merge pull request #46 from sharwell/error-structure  Add a data model for error responses, 63188650, 6492, 592, 6492
Fix typos in Guidelines.md, 63188650, 6492, 592, 6492
Merge pull request #48 from glennblock/patch-1  Revised usage of the term REST and additional references, 63188650, 6492, 592, 6492
Updating to latest version of the guidelines, 63188650, 6492, 592, 6492
Merge pull request #44 from glennblock/glennblock-patch-1  Replace usages of "object", 63188650, 6492, 592, 6492
Merge pull request #43 from darrelmiller/LinkHeader  Fixed link header syntax #23, 63188650, 6492, 592, 6492
Merge pull request #41 from darrelmiller/master  Replace references to RFC2616, 63188650, 6492, 592, 6492
Merge pull request #33 from Microsoft/RobDolinMS-rest-in-titles  Remove use of "REST" from section titles, 63188650, 6492, 592, 6492
Add a data model for error responses, 63188650, 6492, 592, 6492
Update Guidelines.md, 63188650, 6492, 592, 6492
Replacing "object" with "resource" where appropriate, 63188650, 6492, 592, 6492
Merge pull request #39 from aka-rider/master  fix typo, 63188650, 6492, 592, 6492
Merge pull request #37 from christianberg/patch-1  Fix typo in Guidelines.md, 63188650, 6492, 592, 6492
Merge pull request #34 from jamesjnadeau/patch-1  Change URL length to be more general, 63188650, 6492, 592, 6492
Fixed link header syntax #23, 63188650, 6492, 592, 6492
Replace the term verb with method #7, 63188650, 6492, 592, 6492
Merge remote-tracking branch 'refs/remotes/Microsoft/master'  # Conflicts: #	Guidelines.md, 63188650, 6492, 592, 6492
Replace references to RFC2616, 63188650, 6492, 592, 6492
fix typo, 63188650, 6492, 592, 6492
Fix typo in Guidelines.md, 63188650, 6492, 592, 6492
removing dated site   a lot of sources referenced this so I think people will find it on their own..., 63188650, 6492, 592, 6492
Merge pull request #36 from aqnouch/patch-2  fix typos, 63188650, 6492, 592, 6492
Merge pull request #35 from ejball/patch-1  Fix minor typo in example., 63188650, 6492, 592, 6492
fix typos, 63188650, 6492, 592, 6492
Fix minor typo in example., 63188650, 6492, 592, 6492
Add more sources for url length tech stack note, 63188650, 6492, 592, 6492
Change URL length to be more general  there are a lot of other browsers than IE that impose a URL length limit trying to make this a little less biased...., 63188650, 6492, 592, 6492
Remove use of "REST" from section titles  Removes the possibly extraneous use of "REST" for two section titles Includes edits in table of contents, 63188650, 6492, 592, 6492
Merge pull request #31 from jpsingleton/master  Fix dead link for Contributor Code of Conduct, 63188650, 6492, 592, 6492
Merge pull request #30 from olivierdagenais/improve_formatting  Minor formatting and content improvements, 63188650, 6492, 592, 6492
Merge pull request #26 from BasThomas/consistent-casing  Use consistent casing throughout the guidelines, 63188650, 6492, 592, 6492
Merge pull request #20 from manoj-agarwal/master  Correcting the Idempotency of OPTIONS method, 63188650, 6492, 592, 6492
Fix dead link for Contributor Code of Conduct, 63188650, 6492, 592, 6492
Fix typo in "200 OK", 63188650, 6492, 592, 6492
Add empty line between HTTP headers and body  Section 4.1 of RFC 2616 says there is an empty line before the "message-body"., 63188650, 6492, 592, 6492
Use consistent indentation in JSON examples, 63188650, 6492, 592, 6492
Add missing comma in JSON example, 63188650, 6492, 592, 6492
Ordered lists are preceded by a blank line, 63188650, 6492, 592, 6492
Use consistent casing throughout the guidelines, 63188650, 6492, 592, 6492
Merge pull request #24 from nevster/master  Fixing urls for 'new issue' and 'issue search' links, 63188650, 6492, 592, 6492
Fixing urls for 'new issue' and 'issue search' links, 63188650, 6492, 592, 6492
According to rfc 2616 OPTIONS is an idempotent method, 63188650, 6492, 592, 6492
Merge pull request #19 from francescorw/master  Fix microsoft/api-guidelines#18, 63188650, 6492, 592, 6492
Fix microsoft/api-guidelines#18, 63188650, 6492, 592, 6492
Merge pull request #16 from sixlettervariables/patch-1  Removes invalid json-p(dot)org link, 63188650, 6492, 592, 6492
Merge pull request #11 from dret/patch-1  fixing typos, 63188650, 6492, 592, 6492
Removes invalid json-p(dot)org link  Switched to Wikipedia as the clearinghouse for additional information on JSONP as the previously referenced site is now just a spam landing page., 63188650, 6492, 592, 6492
fixing typos, 63188650, 6492, 592, 6492
Merge pull request #5 from cicorias/fixurlieurl  fix the URL for new Blogs site., 63188650, 6492, 592, 6492
fix the URL for new Blogs site., 63188650, 6492, 592, 6492
Merge pull request #4 from Microsoft/RobDolinMS-readme-publish  [ReadMe] Publish file, 63188650, 6492, 592, 6492
[ReadMe] Publish file, 63188650, 6492, 592, 6492
[Guidelines] Publish file, 63188650, 6492, 592, 6492
Merge pull request #3 from Microsoft/RobDolinMS-guidelines  [Guidelines] Publish file, 63188650, 6492, 592, 6492
[Guidelines] Publish file, 63188650, 6492, 592, 6492
Merge pull request #2 from Microsoft/RobDolinMS-contributing  [Contributing] Publish file, 63188650, 6492, 592, 6492
[Contributing] Publish file, 63188650, 6492, 592, 6492
Merge pull request #1 from Microsoft/RobDolinMS-readme-placeholder  [ReadMe] Placeholder, 63188650, 6492, 592, 6492
[ReadMe] Placeholder  Add placeholder text to the ReadMe, 63188650, 6492, 592, 6492
Initial commit, 63188650, 6492, 592, 6492
Now targets Anniversary Edition SDK, 56016670, 14, 4, 14
Update README.md, 56016670, 14, 4, 14
Create README.md, 56016670, 14, 4, 14
Commiting Build SDK, 56016670, 14, 4, 14
Commiting Default Closed Hamburger, 56016670, 14, 4, 14
Merge branch 'master' of https://dbenne@bitbucket.org/extensibility/extensibilitysample.git, 56016670, 14, 4, 14
updated app service PFN, 56016670, 14, 4, 14
Cortana Changes, 56016670, 14, 4, 14
Fixing App Service, 56016670, 14, 4, 14
Cleaned up the Extensions tab added remove button and added extension logo, 56016670, 14, 4, 14
minor display tweaks, 56016670, 14, 4, 14
Updated image assets display name etc to not look like ass, 56016670, 14, 4, 14
Host support for service extensions :), 56016670, 14, 4, 14
Image Load Fixed and Grayscale Button Readded (This uses the App Service), 56016670, 14, 4, 14
Added update to support Grayscale as a service! :)  Note that grayscale is not yet implemented and there appears to be an issue loading the image but I believe it is unrelated to my changes. I observed it before making these., 56016670, 14, 4, 14
Merge branch 'master' of https://dbenne@bitbucket.org/extensibility/extensibilitysample.git, 56016670, 14, 4, 14
added properties and app service call backend, 56016670, 14, 4, 14
Merge branch 'master' of https://anagams@bitbucket.org/extensibility/extensibilitysample.git, 56016670, 14, 4, 14
Commiting App Service Usage, 56016670, 14, 4, 14
Update for app service, 56016670, 14, 4, 14
formatting of extension code for demo, 56016670, 14, 4, 14
Cleaned up extension code, 56016670, 14, 4, 14
Committing Color Change and Minor UI Edit. Cortana Service added on this commit (missing reference in previous commit), 56016670, 14, 4, 14
Cortana App Service Commit, 56016670, 14, 4, 14
Extensions Integrated. Test Version of Cortana App Service, 56016670, 14, 4, 14
Added extension loadng into extension tab., 56016670, 14, 4, 14
Small Name Changes/Bug Fixes, 56016670, 14, 4, 14
Initial UI+Extensions Commit, 56016670, 14, 4, 14
Merge pull request #67 from Microsoft/users/lukillgo/sendbundle  #871016 Mobile: Apple App Store asks for bundle ID TestFlight, 50599214, 23, 10, 23
Merge pull request #66 from Microsoft/users/lukillgo/bundleid  #871017 Mobile: Apple App Store push to External Testers, 50599214, 23, 10, 23
Merge branch 'users/lukillgo/bundleid' into users/lukillgo/sendbundle, 50599214, 23, 10, 23
#871017 Mobile: Apple App Store push to External Testers Localized string, 50599214, 23, 10, 23
Merge branch 'users/lukillgo/bundleid' into users/lukillgo/sendbundle  merging conflicts, 50599214, 23, 10, 23
#871017 Mobile: Apple App Store Require release notes when using distribute to external testers, 50599214, 23, 10, 23
#871016 Mobile: Apple App Store asks for bundle ID TestFlight See:  https://github.com/fastlane/fastlane/blob/eb0d3fe3979184f28cb501dc2d313b5a160bd7ef/pilot/lib/pilot/manager.rb#L53 The logic is to send the bundle ID when supplied let fastlane do its detection when not., 50599214, 23, 10, 23
#871017 Mobile: Apple App Store push to External Testers Give warning for skip submission too, 50599214, 23, 10, 23
#871017 Mobile: Apple App Store push builds to external testers Updated strings, 50599214, 23, 10, 23
#871017 Mobile: Apple App Store push to External Testers, 50599214, 23, 10, 23
Merge pull request #65 from Microsoft/users/lukillgo/twofactorauth  Users/lukillgo/twofactorauth, 50599214, 23, 10, 23
#690582: Mobile: Apple App Store support for 2FA Fixed version for app store promote, 50599214, 23, 10, 23
#690582: Mobile: Apple App Store support for 2FA Fixed strings, 50599214, 23, 10, 23
#690582: Mobile: Apple App Store 2FA UI adjustments and fixes from code review, 50599214, 23, 10, 23
#690582 Mobile: Apple App Store support for 2FA App Store Promote, 50599214, 23, 10, 23
#690582: Mobile: Apple App Store 2FA Two-factor authentication, 50599214, 23, 10, 23
#690582: Mobile: Apple App Store support for 2FA, 50599214, 23, 10, 23
Merge pull request #63 from Microsoft/users/jeyou/fastlane-uninstall-arg-fixes  Uninstall fastlane for specific version install fix deliver args, 50599214, 23, 10, 23
Add'l text regarding fastlane installation, 50599214, 23, 10, 23
Uninstall fastlane for specific version install fix deliver args, 50599214, 23, 10, 23
Merge pull request #61 from Microsoft/users/jeyou/make-fastlane-optional  Make fastlane installation optional, 50599214, 23, 10, 23
Fix fastlane casing on README add link to fastlane tools, 50599214, 23, 10, 23
Properly case 'fastlane' (not 'Fastlane'), 50599214, 23, 10, 23
Allow IPA Resign to optionally install fastlane, 50599214, 23, 10, 23
Add missing launch.json so tests can run on F5, 50599214, 23, 10, 23
Version extenstion to 114, 50599214, 23, 10, 23
Update extension README, 50599214, 23, 10, 23
Add App Store Release tests to test fastlane install, 50599214, 23, 10, 23
Update App Store Release tests for optional fastlane install, 50599214, 23, 10, 23
Add App Store Promote tests to test fastlane install, 50599214, 23, 10, 23
Update App Store Promote test for fastlane install, 50599214, 23, 10, 23
Allow App Store Release to optionally install fastlane, 50599214, 23, 10, 23
Allow App Store Promote to optionally install fastlane, 50599214, 23, 10, 23
Merge pull request #56 from jeffyoung/master  Begin using fastlane tools, 50599214, 23, 10, 23
Version up to 1.112.0 (sprint number), 50599214, 23, 10, 23
Honor GEM_CACHE env var, 50599214, 23, 10, 23
Update extension version to 1.3.0, 50599214, 23, 10, 23
version tasks and extension to 1.3.0, 50599214, 23, 10, 23
Update ipa-resign to use fastlane tools, 50599214, 23, 10, 23
Update app-store-release to use fastlane tools, 50599214, 23, 10, 23
Update app-store-promote to use fastlane tools, 50599214, 23, 10, 23
Merge pull request #53 from jeffyoung/master  Add ipa-resign task to Apple App Store extension, 50599214, 23, 10, 23
PR feedback, 50599214, 23, 10, 23
Add additional sections to README.md, 50599214, 23, 10, 23
Add initial baseline test for ipa-resign, 50599214, 23, 10, 23
Add (more) localization to ipa-resign, 50599214, 23, 10, 23
Remove commented out code, 50599214, 23, 10, 23
Version initial ipa-resign task as others, 50599214, 23, 10, 23
Fix up extension json for ipa-resign, 50599214, 23, 10, 23
Allow null keyword in ipa-resign, 50599214, 23, 10, 23
Fix initial build issues, 50599214, 23, 10, 23
Initial linting for ipa-resign, 50599214, 23, 10, 23
Fix up loc files, 50599214, 23, 10, 23
Add tslint.json, 50599214, 23, 10, 23
Add typings files, 50599214, 23, 10, 23
Add ipa-resign to list of tasks in extension, 50599214, 23, 10, 23
Merge pull request #52 from janniklind/master  Ipa resign task., 50599214, 23, 10, 23
Using findMatch to support search patterns on all needed paths and enables to specify entitlements more easily., 50599214, 23, 10, 23
Dependencies to vsts-tasks removed., 50599214, 23, 10, 23
Finds ipa using wildcards and resigns succesfully now., 50599214, 23, 10, 23
Merge pull request #50 from jeffyoung/master  Update and synchronize version numbers, 50599214, 23, 10, 23
Update and synchronize version numbers, 50599214, 23, 10, 23
Merge pull request #49 from jeffyoung/master  Fix up properties name(s) for tasks in extension, 50599214, 23, 10, 23
Fix up properties name(s) for tasks in extension  Uploading of the extension to the Marketplace failed, 50599214, 23, 10, 23
Merge pull request #46 from jeffyoung/master  Updating build process add tests fix a couple of issues, 50599214, 23, 10, 23
Fail fast(er) if no IPAs (or multiples), 50599214, 23, 10, 23
Fix up help in app-store-promote, 50599214, 23, 10, 23
Make bundle id optional require ipaPath, 50599214, 23, 10, 23
Ipa resign task implemented however it fails on the missing ios-signing-common., 50599214, 23, 10, 23
Update extension description, 50599214, 23, 10, 23
Add notes on how to test task changes, 50599214, 23, 10, 23
Delete tfxupload.js, 50599214, 23, 10, 23
Rename LICENSE to LICENSE.txt, 50599214, 23, 10, 23
Fix up resources for app-store-release, 50599214, 23, 10, 23
Set up localization properly, 50599214, 23, 10, 23
Reset casing, 50599214, 23, 10, 23
Remove debug statements, 50599214, 23, 10, 23
Fix node and npm versions, 50599214, 23, 10, 23
Add CONTRIBUTING.md, 50599214, 23, 10, 23
Add copyright header, 50599214, 23, 10, 23
Misc version and msg changes, 50599214, 23, 10, 23
Fix help wrt appIdentifier, 50599214, 23, 10, 23
Make required = false for ipaPath add help, 50599214, 23, 10, 23
Update README.md for current version, 50599214, 23, 10, 23
Add string type to gemCache, 50599214, 23, 10, 23
Version package file, 50599214, 23, 10, 23
Version task files, 50599214, 23, 10, 23
Clean up app-store-release tests, 50599214, 23, 10, 23
Update stdout for app-store-release TestFlight tests, 50599214, 23, 10, 23
Update app-store-reelase production tests, 50599214, 23, 10, 23
Update stdout for app-store-promote tests, 50599214, 23, 10, 23
Clean up app-store-release tests, 50599214, 23, 10, 23
Clean up app-store-promote tests, 50599214, 23, 10, 23
Add ability to glob on ipaPath, 50599214, 23, 10, 23
Version tasks and extension, 50599214, 23, 10, 23
Remove release notes test, 50599214, 23, 10, 23
Add additional tests for app-store-promote, 50599214, 23, 10, 23
Fix up type for serviceEndpoint, 50599214, 23, 10, 23
Remove comment, 50599214, 23, 10, 23
Add more unit tests, 50599214, 23, 10, 23
Add help, 50599214, 23, 10, 23
Fix GH #30, 50599214, 23, 10, 23
Add help, 50599214, 23, 10, 23
Fix grammar, 50599214, 23, 10, 23
Add additional app-store-release tests, 50599214, 23, 10, 23
Add EnforceDarwin test to app-store-release, 50599214, 23, 10, 23
Add app-store-release localization, 50599214, 23, 10, 23
Fix installtaskdeps casing, 50599214, 23, 10, 23
Clean _build and _results completely, 50599214, 23, 10, 23
Clean up files that we don't want in package, 50599214, 23, 10, 23
Fix up folder to package into extension, 50599214, 23, 10, 23
Back to hyphenated folder names, 50599214, 23, 10, 23
Add localization strings, 50599214, 23, 10, 23
Use del to clean, 50599214, 23, 10, 23
Add localization, 50599214, 23, 10, 23
Minor fix up, 50599214, 23, 10, 23
Remove definitions Tests folders, 50599214, 23, 10, 23
Add clean rename tasks, 50599214, 23, 10, 23
Thin out make files, 50599214, 23, 10, 23
Thin out .gitignore, 50599214, 23, 10, 23
Add ServiceEndpoint test, 50599214, 23, 10, 23
Update tests, 50599214, 23, 10, 23
Add some logging, 50599214, 23, 10, 23
Clean up, 50599214, 23, 10, 23
Add full path for report file, 50599214, 23, 10, 23
Add test reporting, 50599214, 23, 10, 23
Update tests, 50599214, 23, 10, 23
Fix spelling, 50599214, 23, 10, 23
Initial test that calls task code, 50599214, 23, 10, 23
Move makevsix into gulpfile.js, 50599214, 23, 10, 23
Rename folder update tasks, 50599214, 23, 10, 23
Add the build and test framework (from vsts-task), 50599214, 23, 10, 23
Update package.json add tsconfig.json, 50599214, 23, 10, 23
Update .gitignore, 50599214, 23, 10, 23
Merge pull request #43 from Microsoft/users/dastahel/strings  String improvements, 50599214, 23, 10, 23
String improvements, 50599214, 23, 10, 23
Add search tags to the extension manifest file, 50599214, 23, 10, 23
update version of tasks and extension (#39), 50599214, 23, 10, 23
Multi team fix (#35)  * fix teamName with spaces  * update options from last fastlane release  * removed from original code  * no need to add quotes, 50599214, 23, 10, 23
Doc firewall (#37)  * firewall issues in VSTS agent with fastlane  * update category title, 50599214, 23, 10, 23
Disable colored output (#29)  In the [video](https://www.youtube.com/watch?v=g3JwAZYVb58) I saw that the colored output is not properly rendered so I set the `FASTLANE_DISABLE_COLORS` environment variable to disabled the colored output :+1:, 50599214, 23, 10, 23
Edit title to match official extension name, 50599214, 23, 10, 23
vsts readme links (#28), 50599214, 23, 10, 23
readme links (#27), 50599214, 23, 10, 23
update readme (#26), 50599214, 23, 10, 23
Users/mg/stringsfeedback (#25)  * minor string changes, 50599214, 23, 10, 23
Fix marketplace link (#24), 50599214, 23, 10, 23
update strings readme (#23), 50599214, 23, 10, 23
Users/mg/tsc (#22)  * convert promote task to typescript + latest task-lib  * Allow submitting a specific build for review  * Delete the .js file  * convert release task to typescript + new task lib  * Update make script to compile the .ts tasks to .js, 50599214, 23, 10, 23
clean inputs and provide option to skip binary upload (#21), 50599214, 23, 10, 23
fix exception from fs.stat (#20), 50599214, 23, 10, 23
license files (#19), 50599214, 23, 10, 23
remove opton to download metadata from store listing (#18), 50599214, 23, 10, 23
Users/mg/demand (#17)  * add xcode demand  * add xcode demand, 50599214, 23, 10, 23
Merge pull request #16 from Microsoft/users/madhurig/fixes  Users/madhurig/fixes, 50599214, 23, 10, 23
add what to test support to release task for TestFlight track, 50599214, 23, 10, 23
remove ps implementations use password field for connected service, 50599214, 23, 10, 23
Merge pull request #15 from Microsoft/addMetadataInputs  Add metadata inputs, 50599214, 23, 10, 23
Bump version, 50599214, 23, 10, 23
Add metadataPath and screenshotsPath inputs, 50599214, 23, 10, 23
Merge pull request #11 from Microsoft/make-produce-optional  making produce and download screenshots optional, 50599214, 23, 10, 23
Bumps extension and tasks versions, 50599214, 23, 10, 23
Fixing conflicts with Master branch, 50599214, 23, 10, 23
Makes images folder addressable from the docs, 50599214, 23, 10, 23
fix a typo with deliverARgs. Remove screenshot download from promote, 50599214, 23, 10, 23
Merge pull request #12 from Microsoft/String-update-for-release-task  Updates help strings for release task, 50599214, 23, 10, 23
Updates docs to match new extension changes, 50599214, 23, 10, 23
Updates help strings for release task, 50599214, 23, 10, 23
version bump for vsts pickup, 50599214, 23, 10, 23
version bump for vsts, 50599214, 23, 10, 23
Merge branch 'make-produce-optional' of github.com:Microsoft/app-store-vsts-extension into make-produce-optional, 50599214, 23, 10, 23
attempting to make deliver init optional, 50599214, 23, 10, 23
bump versions for test release, 50599214, 23, 10, 23
recreating fix for error propogation to promote task, 50599214, 23, 10, 23
fixing double output of failure messages, 50599214, 23, 10, 23
wrap path in quotes to prevent special character issues, 50599214, 23, 10, 23
fix a spaces in path issue, 50599214, 23, 10, 23
use taskLibrary.getBoolInput instead of JSON parse. Move explicit args to explicit array definition, 50599214, 23, 10, 23
removing some unneeded parameters, 50599214, 23, 10, 23
removed produce altogether. REquired bundle id to be specified, 50599214, 23, 10, 23
making produce and download screenshots optional, 50599214, 23, 10, 23
Merge pull request #9 from Microsoft/string-updates  Updates strings and docs, 50599214, 23, 10, 23
Adds docs for promote task, 50599214, 23, 10, 23
Updates strings for both tasks, 50599214, 23, 10, 23
adding ability to skip waiting for processing when submitting to testflight, 50599214, 23, 10, 23
reverting certificate management as it is not needed, 50599214, 23, 10, 23
adding pulling down and installing certs using fastlane's cert, 50599214, 23, 10, 23
adding sigh to pull down provisioning profiles, 50599214, 23, 10, 23
replicating fix from c54ff2e to promote task. bumping versions for vsts to pick up for testing, 50599214, 23, 10, 23
adding a hard process.exit with a failure code to try to work around a taskLibrary.setResult not properly reporting task failure, 50599214, 23, 10, 23
rethrowing error to force reporting of task failure, 50599214, 23, 10, 23
Merge pull request #7 from Microsoft/label-updates  Updates release task labels, 50599214, 23, 10, 23
bumping versions for test release, 50599214, 23, 10, 23
Merge branch 'master' of github.com:Microsoft/app-store-vsts-extension, 50599214, 23, 10, 23
fixed an issue with wrong parameters being passed. updated some var names to be more descriptive and avoid js scoping pitfalls, 50599214, 23, 10, 23
Updates release task labels, 50599214, 23, 10, 23
Merge pull request #3 from Microsoft/primary-languages  Adds full list of primary languages, 50599214, 23, 10, 23
Merge pull request #2 from Microsoft/updates  Updates icons and docs, 50599214, 23, 10, 23
Merge pull request #4 from Microsoft/promote-id-fix, 50599214, 23, 10, 23
Updates id for promote task  This fixes #1 by updating the id for the promote task to a unique value., 50599214, 23, 10, 23
Removing spaces between identifiers, 50599214, 23, 10, 23
Adds full list of primary languages, 50599214, 23, 10, 23
Updates docs with Release task info, 50599214, 23, 10, 23
Adds VSTS readme and general extension info, 50599214, 23, 10, 23
Updates extension and tasks icons, 50599214, 23, 10, 23
bumping version number for testing, 50599214, 23, 10, 23
Merge branch 'master' of work.github.com:Microsoft/app-store-vsts-extension, 50599214, 23, 10, 23
updated manifest to reflect new task naming, 50599214, 23, 10, 23
renaming task directories to better match the pattern we used in other extensions, 50599214, 23, 10, 23
oops. Removing accidentally added screenshots, 50599214, 23, 10, 23
adding promote task, 50599214, 23, 10, 23
merged from master. Added screenshot download from itunes connect, 50599214, 23, 10, 23
fix powershell bootstrap, 50599214, 23, 10, 23
renaming extension, 50599214, 23, 10, 23
added TestFlight track. removed release notes pass until it can be fixed, 50599214, 23, 10, 23
updating input parameters for task. read more values from given IPA, 50599214, 23, 10, 23
adding prelimiary bundle id extraction, 50599214, 23, 10, 23
remove old comments. Fixed actual upload of ipa, 50599214, 23, 10, 23
update forced deliver to actually deliver the ipa, 50599214, 23, 10, 23
removing unneeded fastlane modules, 50599214, 23, 10, 23
fix errors to report actual failure back to vsts, 50599214, 23, 10, 23
add default value to shouldSkip inputs. was defaulting to true for some reason, 50599214, 23, 10, 23
adding username to sigh command when appIdentifier is specified, 50599214, 23, 10, 23
fixing some typos, 50599214, 23, 10, 23
hook in sigh to manage provision profiles, 50599214, 23, 10, 23
fixed script to actually attempt the upload instead of just prepping it, 50599214, 23, 10, 23
fixing version number from 0.1.0 -> 0.0.1 for prerelease, 50599214, 23, 10, 23
fixing some more issues in the extension.json. Fixing category for AppleAppStoreRelease task from utility->Deploy, 50599214, 23, 10, 23
fix missing files in extension.json to allow build of extension. Stubbed out required files, 50599214, 23, 10, 23
adding in files for extension creation and license/readme, 50599214, 23, 10, 23
finished adding input and processing for the rest of the arguments to produce, 50599214, 23, 10, 23
adding more parameters required by produce, 50599214, 23, 10, 23
adding produce step to provision new app, 50599214, 23, 10, 23
removing old dependencies. Removing package that does'nt work, 50599214, 23, 10, 23
rename IosStoreRelease->AppleAppStoreRelease, 50599214, 23, 10, 23
fix typo in a forEach, 50599214, 23, 10, 23
Merge branch 'master' of https://x04ty29er.visualstudio.com/DefaultCollection/CordovaBuild/_git/vsts-ios-extension, 50599214, 23, 10, 23
added service endpoint and auth methods. arguments being read in to script now, 50599214, 23, 10, 23
Deleted /Tasks/IosStoreRelease/node_modules, 50599214, 23, 10, 23
renaming ios-store to apple-app-store. added gitignore file, 50599214, 23, 10, 23
fixing merge error, 50599214, 23, 10, 23
Merge branch 'master' of https://x04ty29er.visualstudio.com/DefaultCollection/CordovaBuild/_git/vsts-ios-extension, 50599214, 23, 10, 23
generalize command executor, 50599214, 23, 10, 23
fix fastlane command to actually call fastlane, 50599214, 23, 10, 23
check for args before trying to parse them into tasklib, 50599214, 23, 10, 23
add fastlane command execution, 50599214, 23, 10, 23
added local caching path, 50599214, 23, 10, 23
renamed tl to taskLibrary, 50599214, 23, 10, 23
initial scaffolding for extension, 50599214, 23, 10, 23
Initial commit, 50599214, 23, 10, 23
Added Windows Documentation with corrected setup instructions, 64702345, 5, 0, 5
Merge pull request #6723 from Coeur/patch-1  spelling, 64702345, 5, 0, 5
spelling, 64702345, 5, 0, 5
Merge pull request #6664 from jlipps/master  add WinAppDriver beta under the Windows platform, 64702345, 5, 0, 5
Merge pull request #6716 from appium/isaac-node  Require Node 4+, 64702345, 5, 0, 5
Require Node 4+, 64702345, 5, 0, 5
Merge pull request #6715 from appium/isaac-eslint  Add eslint and pre-commit hooks, 64702345, 5, 0, 5
Add eslint and pre-commit hooks, 64702345, 5, 0, 5
Merge pull request #6713 from stepstone-tech/master  Fix handling of grid node id, 64702345, 5, 0, 5
Fix handling of grid node id, 64702345, 5, 0, 5
Merge pull request #6671 from jlipps/jlipps-colors  Update parser and logging to handle log spy, 64702345, 5, 0, 5
add option for calling library to have appium throw instead of process.exit, 64702345, 5, 0, 5
add 'dest' key to some parser options since we rely on this key and it was undefined in places, 64702345, 5, 0, 5
add ability for importing package to send in logHandler which can spy on logs this is necessary for the new appium desktop, 64702345, 5, 0, 5
ensure we don't include args in deprecated/non-default list which don't actually have values, 64702345, 5, 0, 5
Merge pull request #6649 from akhillb/androidScreenshotPath  Add support to set directory on android device to save screenshots, 64702345, 5, 0, 5
add WinAppDriver beta under the Windows platform, 64702345, 5, 0, 5
Add support to set directory on device to save screenshots for android, 64702345, 5, 0, 5
Merge pull request #6647 from appium/isaac-xcuitest  Update to new name for xcuitest driver, 64702345, 5, 0, 5
Update to new name for xcuitest driver, 64702345, 5, 0, 5
Merge pull request #6215 from simongranger/youi  Added You.i Engine support, 64702345, 5, 0, 5
Added You.i Engine support, 64702345, 5, 0, 5
Merge pull request #6629 from spearminty/adb-push-timeout  Add androidInstallTimeout cap update Android dep, 64702345, 5, 0, 5
Add androidInstallTimeout cap update Android dep  Add androidInstallTimeout capability to docs  Android driver dependency updates from 1.10.6 > 1.10.12: * Fix 'release' touch action * Unlock helper deflake * Add device udid to android session information * Improve text clear command * Allow fast reset without 'app' capability * Add 'androidInstallTimeout' capability, 64702345, 5, 0, 5
Merge pull request #6561 from truebit/master  add support to set UiAutomator Congfigurator values, 64702345, 5, 0, 5
add support to set UiAutomator Congfigurator values, 64702345, 5, 0, 5
Merge pull request #6611 from appium/isaac-xcuitest  Add ability to use automationName XCUITest, 64702345, 5, 0, 5
Add ability to use automationName XCUITest, 64702345, 5, 0, 5
Merge pull request #6599 from scottdixon/uiautomator2  Docs: UIAutomator 2, 64702345, 5, 0, 5
Docs: UIAutomator 2, 64702345, 5, 0, 5
Merge pull request #6587 from aelr/troubleshooting-tip-instruments-crash  Added solution for Instruments crashes on devices, 64702345, 5, 0, 5
Added solution for Instruments crashes on devices, 64702345, 5, 0, 5
Merge pull request #6566 from scottdixon/iframe  README: cross-domain iframes, 64702345, 5, 0, 5
README: cross-domain iframes, 64702345, 5, 0, 5
1.5.3, 64702345, 5, 0, 5
Add changelog entry for 1.5.3, 64702345, 5, 0, 5
Merge pull request #6551 from scottdixon/xcuitest  XCUI Docs, 64702345, 5, 0, 5
XCUI Docs, 64702345, 5, 0, 5
Add -persistent to OS X launch agent config  Required for using nodes plus plugin, 64702345, 5, 0, 5
Update dependencies in preparation of release, 64702345, 5, 0, 5
Merge pull request #6518 from jlipps/master  use appium-base-driver instead of mjsonwp/express/proxy, 64702345, 5, 0, 5
use appium-base-driver instead of mjsonwp/express/proxy, 64702345, 5, 0, 5
Merge pull request #6483 from SrinivasanTarget/master_new  doc tweaks, 64702345, 5, 0, 5
doc tweaks, 64702345, 5, 0, 5
Merge pull request #6471 from scottdixon/webkit-debug-fix  ios-webkit-debug-proxy-launcher fix: replace underscore with lodash, 64702345, 5, 0, 5
ios-webkit-debug-proxy-launcher fix: replace underscore with lodash, 64702345, 5, 0, 5
Merge pull request #6462 from appium/isaac-comment  Add comment on sync code, 64702345, 5, 0, 5
Add comment on sync code, 64702345, 5, 0, 5
Merge pull request #6455 from usmonster/fix-tests-incorrect-assertion-syntax  Fixes tests' incorrect use of .throw() assertion, 64702345, 5, 0, 5
Merge pull request #6451 from usmonster/feat-read-desired-caps-from-file  Allows --desired-caps to be passed a filename, 64702345, 5, 0, 5
Fixes tests' incorrect use of .throw() assertion  As pointed out in appium/appium#6451 there are many test cases that do `should[.not].throw` instead of `should[.not].throw()` which is incorrect and will never fail.  This fixes those incorrect uses of the method as well as refactors/fixes the tests that turned out to be actually failing., 64702345, 5, 0, 5
Allows --desired-caps to be passed a filename  The --desired-caps flag can now be passed the name of a JSON file as an argument. This also adds an alias for the flag `-dc` and fixes tests., 64702345, 5, 0, 5
Merge pull request #6449 from appium/isaac-is-stupid  Remove an only-restrictor from tests, 64702345, 5, 0, 5
Merge pull request #6446 from bootstraponline/jenkins  Add Jenkins instructions to running-on-osx, 64702345, 5, 0, 5
Add Jenkins instructions to running-on-osx, 64702345, 5, 0, 5
Remove an only-restrictor from tests, 64702345, 5, 0, 5
Merge pull request #6445 from appium/isaac-so  Support the sessionOverride flag, 64702345, 5, 0, 5
Support the sessionOverride flag, 64702345, 5, 0, 5
Merge pull request #6434 from appium/isaac-proxy  Add documentation for Android-only nativeWebScreenshot capability, 64702345, 5, 0, 5
Add documentation for Android-only nativeWebScreenshot capability, 64702345, 5, 0, 5
Fix authorize-ios path  $ stat node_modules/.bin/authorize-ios.js stat: node_modules/.bin/authorize-ios.js: stat: No such file or directory, 64702345, 5, 0, 5
Merge pull request #6421 from appium/isaac-1.5.2-release  Add changelog and bump to 1.5.2, 64702345, 5, 0, 5
Add changelog and bump to 1.5.2, 64702345, 5, 0, 5
Fix touch action docs, 64702345, 5, 0, 5
Merge pull request #6413 from appium/isaac-windows  Update docs for windows install, 64702345, 5, 0, 5
Update docs for windows install, 64702345, 5, 0, 5
Merge pull request #6375 from appium/isaac-dep  Deprecate --command-timeout server arg, 64702345, 5, 0, 5
Deprecate --command-timeout server arg, 64702345, 5, 0, 5
Merge pull request #6352 from appium/isaac-release  Add comment to release docs, 64702345, 5, 0, 5
Update version to 1.5.1, 64702345, 5, 0, 5
Add comment to release docs, 64702345, 5, 0, 5
Merge pull request #6344 from appium/isaac-changelog  Changelog for 1.5.1, 64702345, 5, 0, 5
Changelog for 1.5.1, 64702345, 5, 0, 5
Add continuation-local-support to deps, 64702345, 5, 0, 5
Merge pull request #6311 from SrinivasanTarget/chromedocs  Doc tweaks, 64702345, 5, 0, 5
Doc tweaks  Updated path for npm versions  Updated path for npm versions  Updated path for npm versions, 64702345, 5, 0, 5
Merge pull request #6321 from appium/isaac-logging  Add tests for logging levels, 64702345, 5, 0, 5
Add tests for logging levels, 64702345, 5, 0, 5
Merge pull request #6317 from akhillb/lodash_pairs_error  Renaming forgotten pairs to toPairs, 64702345, 5, 0, 5
Renaming forgotten pairs to toPairs in lib/main.js  Renaming forgotten pairs to toPairs  Removing unneccessary console.log in logDefaultCapabilitiesWarning, 64702345, 5, 0, 5
Merge pull request #6316 from appium/isaac-logging  Reverse log levels, 64702345, 5, 0, 5
Reverse log levels, 64702345, 5, 0, 5
Merge pull request #6295 from SrinivasanTarget/masternew  Winston updates for better logging, 64702345, 5, 0, 5
Winston updates for better logging  CI Comment fixes  Updated name  dependency update, 64702345, 5, 0, 5
Merge pull request #6296 from SrinivasanTarget/master  Lo-dash library update to improve js performance, 64702345, 5, 0, 5
Lo-dash library update to improve js performance  Removed migration library  Removed migration library  updated request-promise to support to lo-dash 4.0  Reverted request promise update till we upgrade bluebird  Dont fix caps (will be done in inner drivers)  reverted other lib updates  Removed helpers as it is moved to base driver  Update dependencies and fix node version  Resolved merge conflicts  Updated lodash after merge conflicts, 64702345, 5, 0, 5
Merge pull request #6306 from appium/isaac-deps  Update dependencies and fix node version, 64702345, 5, 0, 5
Update dependencies and fix node version, 64702345, 5, 0, 5
Merge pull request #6294 from appium/isaac-caps  Dont fix caps (will be done in inner drivers), 64702345, 5, 0, 5
Dont fix caps (will be done in inner drivers), 64702345, 5, 0, 5
Merge pull request #6291 from scottdixon/touch-docs  Clarify moveTo relative coordinates, 64702345, 5, 0, 5
Clarify moveTo relative coordinates, 64702345, 5, 0, 5
Fix string handling in grid register, 64702345, 5, 0, 5
Merge pull request #6283 from lucyking/patch-1  Update grid-register.js, 64702345, 5, 0, 5
Update grid-register.js  If register fail print the failure details friendly to we newbee., 64702345, 5, 0, 5
Merge pull request #6271 from appium/isaac-docs  Add to docs that deviceName is required on Android even if it does nothing, 64702345, 5, 0, 5
Add to docs that deviceName is required on Android even if it does nothing, 64702345, 5, 0, 5
Merge pull request #6259 from appium/isaac-shrinkwrap  Remove npm-shrinkwrap from master branch, 64702345, 5, 0, 5
Remove npm-shrinkwrap from master branch, 64702345, 5, 0, 5
Merge pull request #6253 from SrinivasanTarget/masternew  Doc Tweaks, 64702345, 5, 0, 5
Doc Tweaks, 64702345, 5, 0, 5
Merge pull request #6248 from SrinivasanTarget/masternew  Doc tweaks, 64702345, 5, 0, 5
Doc tweaks  Updated links  Updated links, 64702345, 5, 0, 5
Merge pull request #6245 from scottdixon/mobile-docs  `mobile:` docs, 64702345, 5, 0, 5
Docs: updated scrollTo examples, 64702345, 5, 0, 5
CHANGELOG: metioned removal of  gestures in 1.5, 64702345, 5, 0, 5
Merge pull request #6232 from vikramvi/vikramvi/issue-template-updates  updated issue template asking users to give optional source code as w…, 64702345, 5, 0, 5
updated issue template asking users to give optional source code as well., 64702345, 5, 0, 5
Merge pull request #6224 from appium/isaac-docs  Fix python swipe docs, 64702345, 5, 0, 5
Fix python swipe docs, 64702345, 5, 0, 5
Merge pull request #6221 from appium/isaac-iwd  Update iwd_xcode7.md, 64702345, 5, 0, 5
Update iwd_xcode7.md  Dash instead of underscore., 64702345, 5, 0, 5
Merge pull request #6212 from SrinivasanTarget/master  Updated doc's, 64702345, 5, 0, 5
Updated doc's  Minor changes, 64702345, 5, 0, 5
Merge pull request #6200 from SrinivasanTarget/master  Updated docs for authorize-ios, 64702345, 5, 0, 5
Updated docs for authorize-ios, 64702345, 5, 0, 5
Merge pull request #6199 from SrinivasanTarget/master  Removed .gitmodules, 64702345, 5, 0, 5
Removed .gitmodules, 64702345, 5, 0, 5
Merge pull request #6198 from SrinivasanTarget/master  CI Improvements, 64702345, 5, 0, 5
CI Improvements, 64702345, 5, 0, 5
update changelog bits, 64702345, 5, 0, 5
update shrinkwrap, 64702345, 5, 0, 5
update ios-driver with safari executeScript fix, 64702345, 5, 0, 5
Merge pull request #6187 from jlipps/master  bring in about:blank fix from MJSONWP and re-shrinkwrap, 64702345, 5, 0, 5
bring in about:blank fix from MJSONWP and re-shrinkwrap, 64702345, 5, 0, 5
reconfigure changelog and mention capability strict validation, 64702345, 5, 0, 5
Merge pull request #6180 from appium/isaac-authorize  Update authorize-ios docs, 64702345, 5, 0, 5
Update authorize-ios docs, 64702345, 5, 0, 5
bump to 1.5.0 in preparation for release, 64702345, 5, 0, 5
Merge pull request #6173 from jlipps/1.5  make a note about the instability of hideKeyboard on iOS (fix #3661), 64702345, 5, 0, 5
make a note about the instability of hideKeyboard on iOS (fix #3661), 64702345, 5, 0, 5
update selendroid with installer fix. shrinkwrap and bump to beta16, 64702345, 5, 0, 5
Merge pull request #6172 from scottdixon/1.5-doc-tweaks  Docs: --default-capabilities additional info + Windows note, 64702345, 5, 0, 5
Docs: --default-capabilities additional info + Windows note, 64702345, 5, 0, 5
Merge pull request #6163 from scottdixon/1.5-doc-tweaks  1.5 doc tweaks, 64702345, 5, 0, 5
update package.json and shrinkwrap for new beta publish, 64702345, 5, 0, 5
Merge pull request #6165 from appium/isaac-ios  Update ios driver, 64702345, 5, 0, 5
Update ios driver, 64702345, 5, 0, 5
Docs: fixed GUI + readme links, 64702345, 5, 0, 5
Docs: NPM install commands, 64702345, 5, 0, 5
Merge pull request #6162 from jlipps/1.5  remove deprecated ANDROID_ADB_SERVER_PORT flag and use adbPort cap, 64702345, 5, 0, 5
remove deprecated ANDROID_ADB_SERVER_PORT flag and use the adbPort cap instead, 64702345, 5, 0, 5
Merge pull request #6156 from jlipps/1.5  add a pull request template (and mention the CLA), 64702345, 5, 0, 5
add a pull request template (and mention the CLA), 64702345, 5, 0, 5
fix correct version of issue template, 64702345, 5, 0, 5
Merge pull request #6155 from jlipps/1.5  add basic issue template, 64702345, 5, 0, 5
add basic issue template, 64702345, 5, 0, 5
Merge pull request #6148 from appium/isaac-parser  Make sure int args are parsed as int, 64702345, 5, 0, 5
Make sure int args are parsed as int, 64702345, 5, 0, 5
update changelog with notice about change in closeApp behavior, 64702345, 5, 0, 5
Merge pull request #6128 from appium/isaac-beta14  Update deps and bump beta, 64702345, 5, 0, 5
Update deps and bump beta, 64702345, 5, 0, 5
Merge pull request #6100 from jlipps/1.5  if the shrinkwrap doesn't exist don't try to fix it, 64702345, 5, 0, 5
if the shrinkwrap doesn't exist don't try to fix it, 64702345, 5, 0, 5
update appium-ios-driver with iwd fix and bump to beta13, 64702345, 5, 0, 5
don't require shrinkwrap until we actually need it, 64702345, 5, 0, 5
Merge pull request #6099 from scottdixon/changelog  Changelog: iOS 9.3 support, 64702345, 5, 0, 5
Changelog: iOS 9.3 support, 64702345, 5, 0, 5
v1.5.0-beta12, 64702345, 5, 0, 5
Merge pull request #6092 from appium/isaac-updates  Update ios and android drivers, 64702345, 5, 0, 5
Update ios and android drivers, 64702345, 5, 0, 5
Merge pull request #6082 from appium/isaac-android-iw  Update android driver, 64702345, 5, 0, 5
Update android driver, 64702345, 5, 0, 5
Merge pull request #6074 from appium/isaac-deps  Update ios driver in light of windows bug, 64702345, 5, 0, 5
Update ios driver in light of windows bug, 64702345, 5, 0, 5
Merge pull request #6073 from appium/isaac-deps  Update deps, 64702345, 5, 0, 5
Update deps, 64702345, 5, 0, 5
Merge pull request #6069 from appium/isaac-deps  Update all appium dependencies, 64702345, 5, 0, 5
Update all appium dependencies, 64702345, 5, 0, 5
Merge pull request #6068 from SrinivasanTarget/1.5  updated supporting node versions for 1.5, 64702345, 5, 0, 5
updated supporting node versions for 1.5, 64702345, 5, 0, 5
Merge pull request #6061 from appium/isaac-sw  Update shrinkwrap, 64702345, 5, 0, 5
Update shrinkwrap, 64702345, 5, 0, 5
Merge pull request #6060 from jlipps/1.5  explain that we are not supporting autoLaunch=false anymore, 64702345, 5, 0, 5
explain that we are not supporting autoLaunch=false anymore, 64702345, 5, 0, 5
Merge pull request #6030 from appium/jlipps-governance  add governance doc that outlines project processes, 64702345, 5, 0, 5
Merge pull request #6046 from moizjv/1.5  Moving xcode-iwd.sh to appium-instruments and updating the docs, 64702345, 5, 0, 5
Merge pull request #6052 from Jonahss/newCommandtimeout3  fix NewCommandTimeout handling for freshly created sessions, 64702345, 5, 0, 5
fix NewCommandTimeout handling for freshly created sessions, 64702345, 5, 0, 5
Moving xcode-iwd.sh to appium-instruments and updating the docs, 64702345, 5, 0, 5
Merge pull request #6036 from jlipps/1.5  update project roadmap, 64702345, 5, 0, 5
update project roadmap, 64702345, 5, 0, 5
Merge pull request #6035 from SrinivasanTarget/1.5  Appium doctor nomore a dependency, 64702345, 5, 0, 5
Appium doctor nomore a depency, 64702345, 5, 0, 5
add governance doc that outlines project processes, 64702345, 5, 0, 5
Merge pull request #6031 from SrinivasanTarget/1.5  updated ios-webkit-debug-proxy, 64702345, 5, 0, 5
Merge pull request #6029 from appium/dev-overview  Add a developer's guide to appium, 64702345, 5, 0, 5
Add a developer's guide to appium that describes how to be a dev and our dev processes, 64702345, 5, 0, 5
updated ios-webkit-debug-proxy, 64702345, 5, 0, 5
Merge pull request #6006 from Jonahss/shrinkwrap4  add shrinkwrap. remove fsevents and move it into optionalDependencies…, 64702345, 5, 0, 5
remove 'fsevents' from shrinkwrap during prepublish add a test, 64702345, 5, 0, 5
add node requirement to changelog, 64702345, 5, 0, 5
Merge pull request #6014 from scottdixon/auto-accept-alert-docs  Clarified auto accept/dismiss alert docs, 64702345, 5, 0, 5
include gulp installation instructions for appium dev and remove outdated test running info, 64702345, 5, 0, 5
Clarified auto accept/dismiss alert docs, 64702345, 5, 0, 5
add shrinkwrap. remove fsevents and move it into optionalDependencies. see https://github.com/npm/npm/issues/2679, 64702345, 5, 0, 5
bump to beta11, 64702345, 5, 0, 5
Merge pull request #6003 from SrinivasanTarget/1.5  updated homebrew location in docs, 64702345, 5, 0, 5
updated homebrew location in docs, 64702345, 5, 0, 5
Merge pull request #5986 from scottdixon/1.5-doctweaks  1.5 doctweaks, 64702345, 5, 0, 5
Merge pull request #5988 from appium/isaac-docs  Add appName cap to docs, 64702345, 5, 0, 5
Merge pull request #5996 from scottdixon/selenium-grid  Selenium grid fix, 64702345, 5, 0, 5
Selenium grid fix: resolves 5902, 64702345, 5, 0, 5
Implemented missing getStatus method, 64702345, 5, 0, 5
bump to beta10, 64702345, 5, 0, 5
Add appName cap to docs, 64702345, 5, 0, 5
docs: updated realSafari info, 64702345, 5, 0, 5
Merge pull request #5985 from SrinivasanTarget/1.5  updated node version, 64702345, 5, 0, 5
Merge pull request #5981 from Jonahss/initialLogging  log server information before listening on port., 64702345, 5, 0, 5
updated node version, 64702345, 5, 0, 5
log server information before listening on port., 64702345, 5, 0, 5
Merge pull request #5975 from appium/isaac-logs  Fix logging of args and caps, 64702345, 5, 0, 5
Merge pull request #5979 from appium/isaac-doctor  Remove appium-doctor dependency, 64702345, 5, 0, 5
Remove appium-doctor dependency, 64702345, 5, 0, 5
docs: specific chromedriver version without reset.sh, 64702345, 5, 0, 5
Fix logging of args and caps, 64702345, 5, 0, 5
docs: generator formatting adjustments, 64702345, 5, 0, 5
docs: minimum node version 0.12, 64702345, 5, 0, 5
Merge pull request #5965 from appium/isaac-caps  Add handling of boolean caps, 64702345, 5, 0, 5
Add handling of boolean caps, 64702345, 5, 0, 5
Merge pull request #5963 from appium/isaac-bin  Add appium-doctor and update bins, 64702345, 5, 0, 5
Add appium-doctor and update bins, 64702345, 5, 0, 5
add safari driver to packweb, 64702345, 5, 0, 5
add webdriveragent to packweb, 64702345, 5, 0, 5
use a real version of fakedriver, 64702345, 5, 0, 5
remove appium-doctor as a dep and other unused deps, 64702345, 5, 0, 5
fill out more changelog and update packweb, 64702345, 5, 0, 5
get started on the 1.5 changelog, 64702345, 5, 0, 5
beta9, 64702345, 5, 0, 5
update with android url capability and bump for new beta, 64702345, 5, 0, 5
Merge pull request #5940 from scottdixon/1.5docs-middleman  Doc link tweaked so Middleman generator behaves, 64702345, 5, 0, 5
Doc link tweaked so Middleman generator behaves, 64702345, 5, 0, 5
Merge pull request #5933 from scottdixon/1.5docs  1.5 doc tweaks, 64702345, 5, 0, 5
Linking to --default-caps doc, 64702345, 5, 0, 5
Fixed doc typo, 64702345, 5, 0, 5
basic --default-capabilities doc, 64702345, 5, 0, 5
Merge pull request #5932 from appium/isaac-ios  Bump ios version, 64702345, 5, 0, 5
Bump ios version, 64702345, 5, 0, 5
Merge pull request #5900 from appium/isaac-docs  Update docs for 1.5, 64702345, 5, 0, 5
Merge pull request #5919 from scottdixon/grunt-docs  'Gulp docs' deprecated server arguments doc updates, 64702345, 5, 0, 5
Merge pull request #5922 from appium/isaac-ios  Update ios driver version, 64702345, 5, 0, 5
Update ios driver version, 64702345, 5, 0, 5
Doc updates: running on OSX platform support, 64702345, 5, 0, 5
grunt docs: handles empty objects and --keystore-path user path, 64702345, 5, 0, 5
Gulp task: docs deprecated server arguments doc updates, 64702345, 5, 0, 5
v1.5.0-beta8, 64702345, 5, 0, 5
Merge pull request #5918 from scottdixon/port-binaries  Porting binaries: xcode-iwd & ios-webkit-debug-proxy-launcher, 64702345, 5, 0, 5
Porting binaries: xcode-iwd & ios-webkit-debug-proxy-launcher, 64702345, 5, 0, 5
Merge pull request #5916 from appium/imurchie-package-image  Fix link to image, 64702345, 5, 0, 5
Fix link to image, 64702345, 5, 0, 5
Update docs for 1.5, 64702345, 5, 0, 5
Merge pull request #5897 from jlipps/1.5  --show-config should not log.info so it can be JSON parseable, 64702345, 5, 0, 5
add version to --show-config so it is easily parseable, 64702345, 5, 0, 5
--show-config should not log.info so it can be JSON parseable, 64702345, 5, 0, 5
Merge pull request #5874 from appium/isaac-deps  Update driver deps, 64702345, 5, 0, 5
Update driver deps, 64702345, 5, 0, 5
Merge pull request #5853 from appium/broman-roadmap-link  added link to roadmap in Readme, 64702345, 5, 0, 5
Merge pull request #5854 from appium/broman-docs-caps  port docs stuff from master branch, 64702345, 5, 0, 5
fixed syntax error, 64702345, 5, 0, 5
added myself to the author list, 64702345, 5, 0, 5
added changelog changes from v1.4.x, 64702345, 5, 0, 5
Add code of conduct document, 64702345, 5, 0, 5
Adding xcode_iwd.sh and documentation, 64702345, 5, 0, 5
added docs and option for webkitDebugProxyPort param, 64702345, 5, 0, 5
docs: corrected 'testapp' test path, 64702345, 5, 0, 5
Advise to enable UI Automation on a device, 64702345, 5, 0, 5
Add ability to configure remote debugger connection retries, 64702345, 5, 0, 5
added link to roadmap in Readme, 64702345, 5, 0, 5
Merge pull request #5822 from appium/isaac-cleanup  Cleanup, 64702345, 5, 0, 5
Merge pull request #5843 from appium/isaac-proxy-fix  Fix proxy handling, 64702345, 5, 0, 5
Fix proxy handling, 64702345, 5, 0, 5
Update license, 64702345, 5, 0, 5
Add coveralls to travis, 64702345, 5, 0, 5
beef up our contributing docs, 64702345, 5, 0, 5
Add grid registration, 64702345, 5, 0, 5
Clean up and fix sync, 64702345, 5, 0, 5
Merge pull request #5813 from christian-bromann/nutshell  Overview of all Appium packages, 64702345, 5, 0, 5
Fix some style stuff, 64702345, 5, 0, 5
Merge pull request #5818 from appium/isaac-proxy  Check with individual drivers for proxy status, 64702345, 5, 0, 5
added notes from on boarding, 64702345, 5, 0, 5
Check with individual drivers for proxy status, 64702345, 5, 0, 5
Merge pull request #5812 from appium/isaac-selendroid  Wire selendroid into appium, 64702345, 5, 0, 5
Wire selendroid into appium, 64702345, 5, 0, 5
Merge pull request #5782 from appium/isaac-proxy  Add helpers for checking proxy status, 64702345, 5, 0, 5
Add helpers for checking proxy status, 64702345, 5, 0, 5
Merge pull request #5776 from christian-bromann/npm-commands-fix  fixed npm commands to work with appium-gulp-plugins, 64702345, 5, 0, 5
fixed npm commands to work with appium-gulp-plugins, 64702345, 5, 0, 5
Merge pull request #5770 from jlipps/1.5  don't let getDriverForCaps blow up mysteriously on forgotten platformName, 64702345, 5, 0, 5
don't let getDriverForCaps blow up mysteriously on forgotten platformName, 64702345, 5, 0, 5
Merge pull request #5742 from scottdixon/1.5-dep-appium-doctor  Updated dependency: appium-doctor, 64702345, 5, 0, 5
Updated dependency: appium-doctor, 64702345, 5, 0, 5
Merge pull request #5734 from scottdixon/1.5-cli  CLI: appium-doctor shortcut, 64702345, 5, 0, 5
CLI: appium-doctor shortcut, 64702345, 5, 0, 5
Merge pull request #5729 from scottdixon/1.5-cli  appium-doctor CLI link, 64702345, 5, 0, 5
appium-doctor CLI link, 64702345, 5, 0, 5
v1.5.0-beta7, 64702345, 5, 0, 5
Merge pull request #5695 from appium/isaac-express  Move to latest appium-express, 64702345, 5, 0, 5
Move to latest appium-express, 64702345, 5, 0, 5
v1.5.0-beta6, 64702345, 5, 0, 5
Merge pull request #5679 from appium/isaac-session  Fix an issue with session deletion, 64702345, 5, 0, 5
Fix an issue with session deletion, 64702345, 5, 0, 5
Merge pull request #5664 from appium/isaac-driver  Add method to get a driver for a particular session, 64702345, 5, 0, 5
Add method to get a driver for a particular session, 64702345, 5, 0, 5
v1.5.0-beta5, 64702345, 5, 0, 5
Merge pull request #5596 from scottdixon/scottdixon-1.5docs  Added recreateChromeDriverSessions to caps doc, 64702345, 5, 0, 5
Merge pull request #5627 from appium/isaac-bins  Add authorize-ios binary, 64702345, 5, 0, 5
Add authorize-ios binary, 64702345, 5, 0, 5
Bump beta to 1.5.0-beta4, 64702345, 5, 0, 5
Move to latest appium logger, 64702345, 5, 0, 5
Bump beta to 3, 64702345, 5, 0, 5
bump beta version with fixes for install, 64702345, 5, 0, 5
Added recreateChromeDriverSessions to caps doc, 64702345, 5, 0, 5
Merge pull request #5580 from appium/sebv-1.5-bin-fix  Fixes appium bin, 64702345, 5, 0, 5
fixes appium bin, 64702345, 5, 0, 5
Publish 1.5.0-beta1, 64702345, 5, 0, 5
Merge pull request #5535 from appium/sebv-1_5_-session-exists  Fixes sessionExists and command timeout issues., 64702345, 5, 0, 5
added onUnexpectedShutdown logic, 64702345, 5, 0, 5
fixes session exists, 64702345, 5, 0, 5
clears rogue command timeout, 64702345, 5, 0, 5
switch to executeCommand, 64702345, 5, 0, 5
adds ios driver, 64702345, 5, 0, 5
Merge pull request #5515 from appium/sebv-1.5  package upgrade, 64702345, 5, 0, 5
package upgrade, 64702345, 5, 0, 5
adds deviceName cap to fix tests, 64702345, 5, 0, 5
prevents logsink from using null logger, 64702345, 5, 0, 5
add AndroidDriver, 64702345, 5, 0, 5
Merge pull request #5248 from appium/isaac-parser-update  Update command timeout server arg help text, 64702345, 5, 0, 5
Update command timeout server arg help text, 64702345, 5, 0, 5
Merge pull request #5217 from imurchie/isaac-deprecation  Deprecate server args that are also desired caps, 64702345, 5, 0, 5
Deprecate server args that are also desired caps, 64702345, 5, 0, 5
send set of current session data to subdrivers on new session so they can accept/reject based on available resources, 64702345, 5, 0, 5
Merge pull request #5205 from imurchie/isaac-deps  Add a few dependencies back, 64702345, 5, 0, 5
Add a few dependencies back, 64702345, 5, 0, 5
bring over roadmap from master, 64702345, 5, 0, 5
update all deps remove unused deps stub out binfiles and add valid license, 64702345, 5, 0, 5
fix up logging and make sure deleteSession isn't sent directly to inner execute, 64702345, 5, 0, 5
WIP integrating fakedriver for full e2e involving appium and a driver, 64702345, 5, 0, 5
Skip deprecated arg test that needs more deprecated args, 64702345, 5, 0, 5
upgrade mjsonwp with error handling fix, 64702345, 5, 0, 5
Merge pull request #5179 from imurchie/isaac-deprecation  Allow for non-boolean deprecated server arguments, 64702345, 5, 0, 5
Allow for non-boolean deprecated server arguments, 64702345, 5, 0, 5
Merge pull request #5168 from appium/sebv-1.5-logging  logger + logsink, 64702345, 5, 0, 5
fixes style issues, 64702345, 5, 0, 5
logger + logsink, 64702345, 5, 0, 5
Merge pull request #5163 from imurchie/isaac-config-tests  Add tests for config, 64702345, 5, 0, 5
Add tests for config, 64702345, 5, 0, 5
stub out more of appium session handling logic, 64702345, 5, 0, 5
move assets to old as well, 64702345, 5, 0, 5
port parser server startup config and express, 64702345, 5, 0, 5
delete all submodules, 64702345, 5, 0, 5
get rid of old tests as well, 64702345, 5, 0, 5
set up babel/gulp code and update deps, 64702345, 5, 0, 5
move all old code out of git, 64702345, 5, 0, 5
add appium-base-driver to packweb, 64702345, 5, 0, 5
update packweb and start working on style guide 2.0, 64702345, 5, 0, 5
fix name for jsonwp proxy in packweb, 64702345, 5, 0, 5
Merge pull request #5118 from yaphatak/master  Adding support for chrome browser rotation, 64702345, 5, 0, 5
add packweb json file for use with npm dep ownership and other tools, 64702345, 5, 0, 5
skipping flaky gps test, 64702345, 5, 0, 5
skipping failing iOS tests investigate later, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
skips failing input test, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
skipping flaky test, 64702345, 5, 0, 5
atttempting to make android lock tests less flaky, 64702345, 5, 0, 5
android test fix, 64702345, 5, 0, 5
spreading keyboard tests, 64702345, 5, 0, 5
text fix, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
splitting keyboard tests, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
Adding support for chrome browser rotation, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
moved as_current_user logic to javascript, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
Merge pull request #5112 from jlipps/master  misc cleanup, 64702345, 5, 0, 5
add a pre-push githook that prevents force-pushing to master. requires git >= 1.8.2, 64702345, 5, 0, 5
get rid of old xpath/uiauto dirs now that we have appium-uiauto, 64702345, 5, 0, 5
fixing ci, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
Merge pull request #5103 from moizjv/master  Fixing sendKeys and clear text for real samsung devices, 64702345, 5, 0, 5
fixes yosemite ci, 64702345, 5, 0, 5
Revert "using custom sample apps until fixes are pushed to npm"  This reverts commit cf1234ec3223fccae6b055d857cd6c989c597155., 64702345, 5, 0, 5
Fixing sendKeys and clear text for real samsung devices, 64702345, 5, 0, 5
Merge pull request #5101 from jlipps/master  let appium-chromedriver manage chromedriver completely, 64702345, 5, 0, 5
appium-chromedriver now manages and builds chromedriver binaries so remove all logic that has to do with building and finding them in appium itself (fix #5095), 64702345, 5, 0, 5
Merge pull request #5088 from Jonahss/#4825  fix #4825 context switching on real safari, 64702345, 5, 0, 5
fix #4825 context switching on real safari, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
using custom sample apps until fixes are pushed to npm, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
bumping appium-ci-gulper fixing ci, 64702345, 5, 0, 5
bumping appium-ci-gulper fixing ci, 64702345, 5, 0, 5
bumping appium-ci-gulper fixing ci, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
bumping appium-ci-gulper, 64702345, 5, 0, 5
Bump to 1.4.0 to publish, 64702345, 5, 0, 5
Merge pull request #5086 from moizjv/master  Fixing broken link for UiAutomation, 64702345, 5, 0, 5
Fixing broken link for UiAutomation, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
adds ios tests, 64702345, 5, 0, 5
Merge pull request #5069 from Jonahss/fixATest  fix a test fixes #5068, 64702345, 5, 0, 5
fix a test fixes #5068, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
Merge pull request #5071 from moizjv/master  Adding chromeOptions to documentation, 64702345, 5, 0, 5
Adding chromeOptions to documentation, 64702345, 5, 0, 5
final 1.4 changelog update, 64702345, 5, 0, 5
Merge pull request #5067 from imurchie/isaac-android-keys  Fix Android keys by finding focused element, 64702345, 5, 0, 5
Fix Android keys by finding focused element, 64702345, 5, 0, 5
Merge pull request #5064 from moizjv/master  Fixing extractStrings method 1.4.0 regression, 64702345, 5, 0, 5
Merge pull request #5062 from Jonahss/realDeviceSuite  Real device suite, 64702345, 5, 0, 5
Fixing extractStrings method, 64702345, 5, 0, 5
fix #5061 execute_async on Safari Real Device, 64702345, 5, 0, 5
use npm modules for sample apps, 64702345, 5, 0, 5
add real-device flag for ios test script, 64702345, 5, 0, 5
update 1.4 changelog, 64702345, 5, 0, 5
Merge pull request #5058 from moizjv/master  Adding `supress-adb-kill-server` server argument to changelog, 64702345, 5, 0, 5
Merge pull request #5057 from moizjv/location-fix  Fixing location settings for iOS, 64702345, 5, 0, 5
Adding supress-adb-kill-server to changelog, 64702345, 5, 0, 5
add troubleshooting note about accessibility status for custom controls, 64702345, 5, 0, 5
bumping io.appium.gappium.sampleapp, 64702345, 5, 0, 5
android test fix, 64702345, 5, 0, 5
Fixing location settings for iOS, 64702345, 5, 0, 5
node version deprecation warning should go after the show-config branch otherwise it'll mess up JSON, 64702345, 5, 0, 5
update 1.4 changelog, 64702345, 5, 0, 5
add an es6 Promise polyfill so node 0.10 still works (fix #5046), 64702345, 5, 0, 5
deprecate node 0.10, 64702345, 5, 0, 5
update appium-instruments/appium-xcode with another trailing slash fix, 64702345, 5, 0, 5
Merge pull request #5045 from imurchie/isaac-submodules  Update submodules for unicode and api demos., 64702345, 5, 0, 5
Update android ApiDemos app submodule, 64702345, 5, 0, 5
Update unicode ime submodule, 64702345, 5, 0, 5
Merge pull request #5040 from penguinho/tapster-at-coordinates  Wiring up complex tap method to tapster, 64702345, 5, 0, 5
Tapster will tap at coordinates, 64702345, 5, 0, 5
update appium-instruments with appium-xcode path fix (fix #5018), 64702345, 5, 0, 5
add more logging and error handling for extracting android strings to prevent a crash (fix #4759 fix #4630), 64702345, 5, 0, 5
Merge pull request #5036 from jlipps/master  fix remote debugger so it doesn't use console.log, 64702345, 5, 0, 5
fix remote debugger so it doesn't use console.log and truncate logs displayed, 64702345, 5, 0, 5
update xcode deprecation to allow Xcode6.0.1+iOS8.0 and update 1.4 beta changelog, 64702345, 5, 0, 5
Merge pull request #5022 from moizjv/release-fix  Fixing perform touch with release action #5004, 64702345, 5, 0, 5
Fixing perform touch with release action, 64702345, 5, 0, 5
Merge pull request #5010 from Jonahss/safari  Safari fixes for Real Devices, 64702345, 5, 0, 5
Safari Launcher updated to use Instruments to press a button to launch safari. Fixes Safari tests on real devices iOS 8.0 and up, 64702345, 5, 0, 5
fix a bug in finding ios real device id, 64702345, 5, 0, 5
Merge pull request #5019 from jlipps/master  fix issue with chromedriver not returning sessionId for override, 64702345, 5, 0, 5
Merge pull request #5017 from imurchie/isaac-safari  Update to allow safari on iOS 7.1 when xcode is 6+, 64702345, 5, 0, 5
Update to allow safari on a 7.1 sim above xcode 5, 64702345, 5, 0, 5
fix issue with chromedriver not returning sessionId for override (fix #5013), 64702345, 5, 0, 5
it's ok for the url to be about:blank when starting an older version of safari, 64702345, 5, 0, 5
update appium-xcode with trailing path fix (fix #5005), 64702345, 5, 0, 5
Merge pull request #5016 from moizjv/chrome-adb-fix  Fixing chrome driver to use correct ADB path, 64702345, 5, 0, 5
fix incorrect .bind() causing an undefined crash when prelaunching sim (cc @Jonahss), 64702345, 5, 0, 5
Fixing chrome driver to use correct ADB path, 64702345, 5, 0, 5
update appium-xcode with ios6.1/xcrun fix, 64702345, 5, 0, 5
deprecate iOS < 7 and xcode < 6.3 (resolve #4996), 64702345, 5, 0, 5
Merge pull request #5009 from moizjv/master  Fixing actual android capability, 64702345, 5, 0, 5
Fixing actual android capability, 64702345, 5, 0, 5
Merge pull request #5003 from moizjv/master  Fixing headings for documentation, 64702345, 5, 0, 5
Fixing headings for documentation, 64702345, 5, 0, 5
don't use the 'center' fenced code block because jekyll doesn't like it in the docs build for appium.io, 64702345, 5, 0, 5
update publish.sh so it checks for node 0.12 and removes antiquted xcode check, 64702345, 5, 0, 5
bump to 1.4.0-beta, 64702345, 5, 0, 5
Merge pull request #5001 from moizjv/master  Change log for 1.4 release, 64702345, 5, 0, 5
Change log for 1.4 release  Renamed CHANGELOG.txt to CHANGELOG.md, 64702345, 5, 0, 5
fix up stop app on reset issue; make sure the cap matches the flag, 64702345, 5, 0, 5
Merge pull request #4973 from siriwit/master  Location services fix, 64702345, 5, 0, 5
Merge pull request #4998 from Annnd/patch-1  Update running-on-windows.cn.md, 64702345, 5, 0, 5
Merge pull request #4957 from penguinho/tapster-send-keys  Sending keystrokes to tapster, 64702345, 5, 0, 5
Update running-on-windows.cn.md  安装appium章节 修改标点符号, 64702345, 5, 0, 5
Merge pull request #4994 from imurchie/isaac-android-keyevent  Add tests for sending simple key events to Android, 64702345, 5, 0, 5
Merge pull request #4991 from moizjv/scroll-doc  Adding sample code snippets for scrolling in iOS, 64702345, 5, 0, 5
Merge pull request #4899 from imurchie/isaac-android-gestures  Make android gestures use offsets, 64702345, 5, 0, 5
Add tests for sending simple key events to Android, 64702345, 5, 0, 5
Sending keystrokes to tapster, 64702345, 5, 0, 5
Adding sample code snippets for scroll, 64702345, 5, 0, 5
Merge pull request #4990 from moizjv/iwdp_doc  Adding new document for instruction to install and run ios-webkit-debug-proxy and refactoring documentation relating to it., 64702345, 5, 0, 5
Refactoring documentation for ios-webkit-debug-proxy, 64702345, 5, 0, 5
Updated docs with details on jchuong's iwdp repo, 64702345, 5, 0, 5
Make android gestures use offsets, 64702345, 5, 0, 5
Merge pull request #4980 from moizjv/cpu  Adding disableAndroidWatcher cap to reduce cpu cycles on android device/emulator #4698, 64702345, 5, 0, 5
Merge pull request #4984 from imurchie/isaac-error-fix  Fix error in test assertion, 64702345, 5, 0, 5
Adding disableAndroidWatcher cap, 64702345, 5, 0, 5
Fix error in test assertion, 64702345, 5, 0, 5
Merge pull request #4970 from moizjv/scroll  Fixing scroll_to element for android #4311, 64702345, 5, 0, 5
Merge pull request #4976 from imurchie/isaac-hybrid-docs  Add link to UIAWebView, 64702345, 5, 0, 5
update gappium with --platform option in conjunction with #4964, 64702345, 5, 0, 5
Add link to UIAWebView, 64702345, 5, 0, 5
Location services fix  - Supported allow location service for 8.x platform. - Fixed location service for 7.x platform., 64702345, 5, 0, 5
Ignoring UiObjectNotFoundException when parsing UiScrollable parser, 64702345, 5, 0, 5
Merge pull request #4964 from paymand/ignore_ios_on_linux  On linux don't reset iOS or build Gappium sample apps for iOS., 64702345, 5, 0, 5
Merge pull request #4967 from imurchie/isaac-ios84-tests  Add test support for iOS 8.4, 64702345, 5, 0, 5
Merge pull request #4945 from bootstraponline/badges  Update badges, 64702345, 5, 0, 5
Add test support for iOS 8.4, 64702345, 5, 0, 5
On linux don't reset iOS or build Gappium sample apps for iOS., 64702345, 5, 0, 5
Merge pull request #4954 from penguinho/master  Updating tapster robot URLs, 64702345, 5, 0, 5
Updating tapster robot URLs, 64702345, 5, 0, 5
Merge pull request #4948 from 0x1mason/async_logging  Added async-trace switch and longjohn and stack-trace dependencies., 64702345, 5, 0, 5
Added async-trace switch and longjohn and stack-trace dependencies., 64702345, 5, 0, 5
Update badges  Update npm version badge to svg Add monthly appium npm downloads badge Add pull requests badge Add issues closed badge Fix CloudBees build status badge, 64702345, 5, 0, 5
Merge pull request #4942 from imurchie/isaac-ios-crashlogs  Fix ios crash log retrieval, 64702345, 5, 0, 5
Merge pull request #4928 from jlipps/master  fix safariAllowPopups issue w/ ios 8+ (fix #4784), 64702345, 5, 0, 5
Merge pull request #4914 from imurchie/isaac-io83-tests  Update tests to handle iOS 8.3 foibles, 64702345, 5, 0, 5
Fix ios crash log retrieval, 64702345, 5, 0, 5
Update tests to handle iOS 8.3 foibles, 64702345, 5, 0, 5
Merge pull request #4941 from 0x1mason/memory_issue  fixed spelling, 64702345, 5, 0, 5
fixed spelling, 64702345, 5, 0, 5
Merge pull request #4940 from 0x1mason/memory_issue  Added docs with iOS NSLog issue workaround, 64702345, 5, 0, 5
Added docs with iOS NSLog issue workaround, 64702345, 5, 0, 5
Merge pull request #4929 from moizjv/master  Updating appium-uiauto to fix #4725, 64702345, 5, 0, 5
Updating appium-uiauto, 64702345, 5, 0, 5
remove safariAllowPopups specs that don't actually test the capability, 64702345, 5, 0, 5
fix safariAllowPopups issue w/ ios 8+ (fix #4784), 64702345, 5, 0, 5
remove xcode switching logic from bin/test.sh; the possible combos are too complex for test.sh to do a good job with, 64702345, 5, 0, 5
update gappium submodule with reset.sh fix (no longer require a global cordova cli), 64702345, 5, 0, 5
make sure authorize-ios doesn't fail if a dir happens to not exist (not a fatal error), 64702345, 5, 0, 5
Merge pull request #4913 from jlipps/master  upgrade chromedriver with session id overwrite fix (fix #4909), 64702345, 5, 0, 5
Merge pull request #4918 from redshirtrob/support-node-idevice-callback  Handle `node-idevice` callback parameter types for `isInstalled`., 64702345, 5, 0, 5
Handle `node-idevice` callback parameter types for `isInstalled`.  This handles #4915.  Node package `node-idevice` has a method on the `IDevice` class that checks to see if a given app is installed: `isInstalled`. This method passes a boolean value as the second argument in the callback function but `isAppInstalled` expects an array.  The array support appears to be necessary for some other opaque types so it cannot be removed.  Instead we check the type of the second parameter.  If it's `boolean` and `true` then we execute the positive portion of the if block., 64702345, 5, 0, 5
Merge pull request #4921 from paymand/node-idevice-0.1.5  Updated node-idevice to v0.1.5., 64702345, 5, 0, 5
Updated node-idevice to v0.1.5., 64702345, 5, 0, 5
upgrade chromedriver with session id overwrite fix (fix #4909), 64702345, 5, 0, 5
Merge pull request #4912 from moizjv/master  Updating sample-code submodule to fix reset.sh --dev #4875, 64702345, 5, 0, 5
updating sample-code submodule to fix reset.sh --dev, 64702345, 5, 0, 5
add a test for safari popup windows and the guinea pig addition to support it, 64702345, 5, 0, 5
ensure @sebv's new safari webview logic is active for >= 8.1 not just 8.1, 64702345, 5, 0, 5
redo the stop-app-on-reset arg with the correct polarity (obviates #4826), 64702345, 5, 0, 5
Merge pull request #4894 from Jonahss/refactor  add `--instruments` server arg, 64702345, 5, 0, 5
make sure --suppress-adb-kill-server is treated as a boolean, 64702345, 5, 0, 5
add `instruments` server arg, 64702345, 5, 0, 5
Merge pull request #4905 from jlipps/master  if we are downloading an app actually listen for the error event (add b..., 64702345, 5, 0, 5
if we are downloading an app actually listen for the error event (add better logs for #4832), 64702345, 5, 0, 5
update appium-support and appium-instruments, 64702345, 5, 0, 5
Merge pull request #4903 from imurchie/isaac-instruments  Use latest instruments, 64702345, 5, 0, 5
Use latest instruments, 64702345, 5, 0, 5
Merge pull request #4892 from Jonahss/update-xcode  update appium-xcode to babel-backed version 2, 64702345, 5, 0, 5
update appium-xcode to babel-backed version 2, 64702345, 5, 0, 5
Merge pull request #4871 from Jonahss/refactor-squashed  Refactor squashed, 64702345, 5, 0, 5
refactor of ios.js. Main launch sequence broken into separate flows for simulators and real devices. Added appium-xcode repo to replace xcode.js. Use idevice_id to get device udid fallback on udidetect. Use idevicesyslog to get device logs fallback on deviceconsole, 64702345, 5, 0, 5
update appium-chromedriver and node-simctl with babel-backed transpiler, 64702345, 5, 0, 5
Merge pull request #4388 from jlipps/new-chromedriver  use appium-chromedriver package, 64702345, 5, 0, 5
update future.js to patch Promise with .nodeify so it can interoperate with Q/Bluebird, 64702345, 5, 0, 5
update chromedriver support with callback-based functions that fit more snugly into the current paradigm, 64702345, 5, 0, 5
ensure that we send in the device we're using to chromedriver, 64702345, 5, 0, 5
use appium-chromedriver package for chrome/chromedriver, 64702345, 5, 0, 5
Merge pull request #4877 from Jonahss/updateNodeSimctl  update node-simctl. It wasn't actually able to erase sims, 64702345, 5, 0, 5
update node-simctl. It wasn't actually able to erase sims, 64702345, 5, 0, 5
Merge pull request #4851 from nwlunatic/master  Add android actual capabilities, 64702345, 5, 0, 5
update note about swiping not working on ios 7+ (fix #4868), 64702345, 5, 0, 5
add android actual capabilities, 64702345, 5, 0, 5
fix undefined crash due to calling non-existent 'navToView' function (cc @sebv), 64702345, 5, 0, 5
refactor webview test helpers and include the android 'browser' app, 64702345, 5, 0, 5
allow appium testsuite to have a UDID specified for android/ios, 64702345, 5, 0, 5
fix lint errors, 64702345, 5, 0, 5
Merge pull request #4855 from 0x1mason/springboard_fix  Return false if SpringBoard loads instead of app, 64702345, 5, 0, 5
Return false if SpringBoard loads instead of app, 64702345, 5, 0, 5
Merge pull request #4846 from tarunsujit/master  PlistBuddy fails to get Xcode version when there are spaces in path, 64702345, 5, 0, 5
PlistBuddy fails to get Xcode version when there are spaces in path, 64702345, 5, 0, 5
Merge pull request #4837 from imurchie/isaac-docs  Fix link to hybrid docs in mobile-web docs, 64702345, 5, 0, 5
Merge pull request #4840 from imurchie/isaac-real-safari  Fix handling real device object in Safari, 64702345, 5, 0, 5
Merge pull request #4843 from amake/feature/fix-home-path  For iOS get home path from environment not by guessing, 64702345, 5, 0, 5
For iOS get home path from environment not by guessing, 64702345, 5, 0, 5
Fix handling real device object in Safari, 64702345, 5, 0, 5
Fix link to hybrid docs in mobile-web docs, 64702345, 5, 0, 5
Merge pull request #4823 from jlipps/master  fix localIP discovery for real device tests; node's os.networkInterfaces..., 64702345, 5, 0, 5
Merge pull request #4814 from bayandin/patch-1  Update chromedriver to 2.15, 64702345, 5, 0, 5
fix localIP discovery for real device tests; node's os.networkInterfaces must have changed, 64702345, 5, 0, 5
Update chromedriver to 2.15  From https://chromedriver.storage.googleapis.com/index.html?path=2.15/ ``` ----------ChromeDriver v2.15 (2015-03-26)---------- Supports Chrome v40-43 ```, 64702345, 5, 0, 5
Merge pull request #4798 from SBoudrias/window-maximize  Add window/:windowhandle/maximize route as noop, 64702345, 5, 0, 5
Add window/:windowhandle/maximize route as noop  Mobile browsers are always fullscreen. Make this endpoint a noop., 64702345, 5, 0, 5
Merge pull request #4794 from aleks2a/updating_current_location  updating setting up current location for iOS 8.1 & 8.2, 64702345, 5, 0, 5
Merge pull request #4467 from bootstraponline/4416  Add default packages to uiautomator id search, 64702345, 5, 0, 5
Merge pull request #4771 from tarunsujit/master  chromedriver kill fix on windows, 64702345, 5, 0, 5
Merge pull request #4795 from 0x1mason/versioning-change  Added new doc on versioning branching and releasing, 64702345, 5, 0, 5
Merge pull request #4801 from imurchie/isaac-ios83-test  Add basic test support for iOS 8.3, 64702345, 5, 0, 5
Merge pull request #4790 from paymand/3942  Fix for #3942: Removed fruitstrap (use node-idevice everywhere)., 64702345, 5, 0, 5
fix issue with finding xcode folder if xcode-select output ends in /. (fix #4456), 64702345, 5, 0, 5
Merge pull request #4796 from jlipps/master  ensure installApp/removeApp/isAppInstalled can be run from selendroid, 64702345, 5, 0, 5
Add basic test support for iOS 8.3, 64702345, 5, 0, 5
Update version-branch-release.md, 64702345, 5, 0, 5
ensure installApp/removeApp/isAppInstalled can be run from selendroid as well (fix #4457), 64702345, 5, 0, 5
Added new doc on versioning branching and releasing, 64702345, 5, 0, 5
Merge pull request #4729 from SBoudrias/cookie-encoding  Don't url encode cookie value, 64702345, 5, 0, 5
updating setting up current location for iOS 8.1 & 8.2, 64702345, 5, 0, 5
update sample-code submodule with updated testapp, 64702345, 5, 0, 5
Merge pull request #4782 from appium/isaac-sim  Check alternate sim location, 64702345, 5, 0, 5
Merge pull request #4766 from PetroFeed/master  Fix #4763. Parse java version even when it does not come in the first line, 64702345, 5, 0, 5
update appium-uiauto submodule with correct commit, 64702345, 5, 0, 5
Fix #4763. Parse java version even when it does not come in the first line of the command output  code style improvements  bind callback to local function  code style, 64702345, 5, 0, 5
Fix for 3942: Removed fruitstrap (use node-idevice everywhere)., 64702345, 5, 0, 5
Merge pull request #4783 from jlipps/master  make sure to clean android apps when building in reset (fix #4368), 64702345, 5, 0, 5
make sure to clean android apps when building in reset (fix #4368), 64702345, 5, 0, 5
Merge pull request #4778 from 0x1mason/publish_update  add Xcode 6 iphonesim sdk location, 64702345, 5, 0, 5
add Xcode 6 iphonesim sdk location, 64702345, 5, 0, 5
chromedriver kill fix on windows, 64702345, 5, 0, 5
Merge pull request #4764 from 0x1mason/1.3.7bump  1.3.7 version bump and changelog text, 64702345, 5, 0, 5
Merge pull request #4757 from Jonahss/update-ncp  update to ncp v2, 64702345, 5, 0, 5
1.3.7, 64702345, 5, 0, 5
update to ncp v2, 64702345, 5, 0, 5
make sure we always convert proxied responses to objects so we can rewrite sessionId appropriately, 64702345, 5, 0, 5
Don't url encode cookie value  This change is to ensure we stay consistent with other selenium driver implementation., 64702345, 5, 0, 5
Merge pull request #4721 from 0x1mason/bump1.3.7  1.3.7-beta, 64702345, 5, 0, 5
Merge pull request #4696 from imurchie/isaac-android-dnd  Allow android drag and drop with absolute coordinates, 64702345, 5, 0, 5
update appium-adb to 1.7.5 with JAVA_HOME check, 64702345, 5, 0, 5
Merge pull request #4715 from lihuazhang/master  Add the latest chinese translation, 64702345, 5, 0, 5
Merge pull request #4714 from KazuCocoa/bump_up_bplist_version  update bplist-creator version to 0.0.5, 64702345, 5, 0, 5
add the latest chinese translation, 64702345, 5, 0, 5
use bplist-creator 0.0.5 to parse Non-ASKII string, 64702345, 5, 0, 5
Check alternate sim location, 64702345, 5, 0, 5
Allow android drag and drop with absolute coordinates, 64702345, 5, 0, 5
Merge pull request #4692 from paymand/appium-uiauto_1.10.7  Update appium-uiauto to 1.10.7, 64702345, 5, 0, 5
1.3.7-beta, 64702345, 5, 0, 5
increasing emulator wait timeout, 64702345, 5, 0, 5
Merge pull request #4704 from imurchie/isaac-utils  Fix link to appium-support.util, 64702345, 5, 0, 5
Fix link to appium-support.util, 64702345, 5, 0, 5
Merge pull request #4703 from jlipps/master  fix failure to remap session id in proxied responses (fix #4702), 64702345, 5, 0, 5
fix failure to remap session id in proxied responses (fix #4702), 64702345, 5, 0, 5
Merge pull request #4697 from 0x1mason/master  Skip Xcode tests on non-OSX machines, 64702345, 5, 0, 5
Fix for commit hook failure on non-OSX machines: moved Xcode path tests to functional tests, 64702345, 5, 0, 5
Update appium-uiauto to 1.10.7, 64702345, 5, 0, 5
Merge pull request #4679 from imurchie/isaac-helpers  Wrong helpers, 64702345, 5, 0, 5
Wrong helpers, 64702345, 5, 0, 5
Merge pull request #4673 from imurchie/isaac-logs  Fix reporting of url in logs, 64702345, 5, 0, 5
Merge pull request #4672 from imurchie/isaac-tap-specs  Add test for tapping an absolute position, 64702345, 5, 0, 5
Merge pull request #4671 from paymand/selendroid_0.15.0  Updated Selendroid to 0.15.0., 64702345, 5, 0, 5
Merge pull request #4677 from 0x1mason/getpathfix  Fixed fail to find xcode -- fixes #2884, 64702345, 5, 0, 5
Fixed fail to find xcode, 64702345, 5, 0, 5
Updated Selendroid to 0.15.0., 64702345, 5, 0, 5
Fix reporting of url in logs, 64702345, 5, 0, 5
Add test for tapping an absolute position, 64702345, 5, 0, 5
Merge pull request #4594 from sebv/ios81-https-fix  New MobileSafari logic bypassing Apple page, 64702345, 5, 0, 5
new MobileSafari logic  bypasses Apple page fixes timeouts adds pageLoadTimeout, 64702345, 5, 0, 5
Merge pull request #4661 from bootstraponline/uiauto  Update appium-uiauto to 1.10.6, 64702345, 5, 0, 5
Update appium-uiauto to 1.10.6, 64702345, 5, 0, 5
Merge pull request #4658 from jlipps/master  update appium-instruments to 1.5.4 with newer i-w-d, 64702345, 5, 0, 5
update appium-instruments to 1.5.4 with newer i-w-d, 64702345, 5, 0, 5
Merge pull request #4443 from jpkrause/master  Added server flag '--suppress-adb-kill-server' to the available arguments, 64702345, 5, 0, 5
fixing appium gulper submodule, 64702345, 5, 0, 5
Added server flag '--suppress-adb-kill-server' to the available arguments. This flag will prevent Appium from killing the adb server. Useful when devices are connected to adb over the network by IP address rather than usb., 64702345, 5, 0, 5
Merge pull request #4646 from 0x1mason/1.3.6-merge  1.3.6 merge into master, 64702345, 5, 0, 5
1.3.6, 64702345, 5, 0, 5
Merge pull request #4600 from paymand/selendroid_server_md5  Re-install Selendroid server only on file changes., 64702345, 5, 0, 5
Merge pull request #4519 from scf2k/feature/flickelement  iOS flick: Support for element flick in the webview, 64702345, 5, 0, 5
cleaning up old ci tools, 64702345, 5, 0, 5
skipping flaky tests check that later, 64702345, 5, 0, 5
skipping flaky tests check that later, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
typo, 64702345, 5, 0, 5
ci changes moving code to appium-ci-gulper and using gulp more, 64702345, 5, 0, 5
makes sure colors are enabled in mocha-spawn, 64702345, 5, 0, 5
Merge pull request #4577 from paymand/dep_update  Updated all deps to their latest versions., 64702345, 5, 0, 5
Updated express's response method calls., 64702345, 5, 0, 5
Use morgan(format options) function signature., 64702345, 5, 0, 5
Updated all deps to their latest versions., 64702345, 5, 0, 5
keeps processing tap results on error., 64702345, 5, 0, 5
moving argv to top to avoid warnings, 64702345, 5, 0, 5
Support flick when element is supplied, 64702345, 5, 0, 5
Re-install Selendroid server only on file changes.  Currently we look at the timestamp (mtime) of the Selendroid server file to determine if we need to re-install it. Since we are creating it every time this means that we re-install it every single time! This fix checks the MD5 hash of the server file so that we re-install only when the binary is different., 64702345, 5, 0, 5
Merge pull request #4387 from jlipps/appium-support-system  use appium-support package for system detection, 64702345, 5, 0, 5
Merge pull request #4576 from paymand/node-idevice_0.1.4  Updated to node-idevice to v0.1.4., 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
keeps symlink in archiver, 64702345, 5, 0, 5
readds node_modules to archiver, 64702345, 5, 0, 5
disabling shelljs in jshint, 64702345, 5, 0, 5
standalone tools fix, 64702345, 5, 0, 5
adds gulp standalone task to download build bz2, 64702345, 5, 0, 5
adds Android api 18 to new ci, 64702345, 5, 0, 5
Updated to node-idevice to v0.1.4., 64702345, 5, 0, 5
Merge pull request #4575 from appium/v1.3.5-branch  V1.3.5 branch, 64702345, 5, 0, 5
clarified garbled changelog text, 64702345, 5, 0, 5
fixed changelog, 64702345, 5, 0, 5
Updated changelog, 64702345, 5, 0, 5
Removed beta qualifier from version string, 64702345, 5, 0, 5
Fix for a typo that broke 'touchMove' gesture., 64702345, 5, 0, 5
Removed redundant ReflectionUtils instantiation, 64702345, 5, 0, 5
testing jenkins build trigger, 64702345, 5, 0, 5
switches to CloudBees build status, 64702345, 5, 0, 5
adds prepare-tap tool, 64702345, 5, 0, 5
upgraded spawn-mocha-parallel, 64702345, 5, 0, 5
adds uncolor package dependency, 64702345, 5, 0, 5
configurable mocha reporter, 64702345, 5, 0, 5
Merge pull request #4493 from bayandin/patch-1  Replace hardcoded selendroid version to variable, 64702345, 5, 0, 5
adding lint to default gulp task, 64702345, 5, 0, 5
Moving linting and unit tests to gulp they can still be called via grunt, 64702345, 5, 0, 5
Merge pull request #4505 from paymand/touchMove_typo  Fix for a typo that broke 'touchMove' gesture., 64702345, 5, 0, 5
Fix for a typo that broke 'touchMove' gesture., 64702345, 5, 0, 5
Replace hardcoded selendroid version to variable  Fix this issue: {code} $ ./reset.sh --selendroid-quick ---- Resetting / Initializing Appium ---- RESETTING NPM * Installing new or updated NPM modules (including devDeps) RESETTING GENERAL * Setting git revision data RESETTING SELENDROID (QUICK) * Downloading metatata * Selendroid version is 0.14.0 * Downloading selendroid server java.io.FileNotFoundException: selendroid-standalone-0.12.0-with-dependencies.jar (No such file or directory) 	at java.util.zip.ZipFile.open(Native Method) 	at java.util.zip.ZipFile.<init>(ZipFile.java:220) 	at java.util.zip.ZipFile.<init>(ZipFile.java:150) 	at java.util.zip.ZipFile.<init>(ZipFile.java:121) 	at sun.tools.jar.Main.list(Main.java:1060) 	at sun.tools.jar.Main.run(Main.java:291) 	at sun.tools.jar.Main.main(Main.java:1233) ---- FAILURE: reset.sh exited with status 1 ---- ---- Retry with --verbose to see errors ---- {code}, 64702345, 5, 0, 5
Fix clear cache for find elements, 64702345, 5, 0, 5
Updated changelog and package.json., 64702345, 5, 0, 5
Merge pull request #4453 from sebv/sebv-webview-title  Fix for the Safari Startup Crashes, 64702345, 5, 0, 5
chromedriver 2.14 requires sigint to exit sigterm doesn't kill it, 64702345, 5, 0, 5
ensure we drop into the right continuation cb when selecting hybrid context in ios (fix #4408), 64702345, 5, 0, 5
Merge pull request #4466 from bayandin/patch-1  Update chromedriver to 2.14, 64702345, 5, 0, 5
Add default packages to uiautomator id search  Given an element with resource id: com.example.android.testing.espresso.BasicSample:id/textToBeChanged  Now we can find this element using only id('textToBeChanged') In addition to checking the default package name the android package is also searched:  android:id/textToBeChanged, 64702345, 5, 0, 5
Update chromedriver to 2.14, 64702345, 5, 0, 5
lower timeout for iOS8, 64702345, 5, 0, 5
Adding ios-webkit-debug-proxy-launcher error case, 64702345, 5, 0, 5
fixing case, 64702345, 5, 0, 5
Looking up title to determine initial webview, 64702345, 5, 0, 5
Merge pull request #4431 from 0x1mason/build_break_fix  Fixed missing ref in Find.java #4425, 64702345, 5, 0, 5
Fixed missing ref in Find.java, 64702345, 5, 0, 5
jscs deprecation fix, 64702345, 5, 0, 5
Merge pull request #4252 from testobject/retry_dump_ui_hierarchy  retry dump hierarchy if dump.xml wasn't created, 64702345, 5, 0, 5
fix some tests for the 5.0 emu / new app, 64702345, 5, 0, 5
update appium-adb with android platform additions, 64702345, 5, 0, 5
add --debug-log-spacing which makes it easy to find session delimiters in logs, 64702345, 5, 0, 5
Merge pull request #4402 from imurchie/isaac-safari  Handle iOS 8.2 remote debugger, 64702345, 5, 0, 5
bump selendroid to 0.13.0 with a few concomitant fixes, 64702345, 5, 0, 5
Handle iOS 8.2 remote debugger, 64702345, 5, 0, 5
Merge pull request #4396 from imurchie/isaac-adb-location  Figure out location of adb earlier, 64702345, 5, 0, 5
Merge pull request #4392 from imurchie/isaac-android-keyboard  Move keyboard test to new view, 64702345, 5, 0, 5
use custome NodeInfoDumper and handle empty root nodes properly, 64702345, 5, 0, 5
Figure out location of adb earlier, 64702345, 5, 0, 5
use appium-support package for system detection, 64702345, 5, 0, 5
Move keyboard test to new view, 64702345, 5, 0, 5
Merge pull request #4385 from imurchie/isaac-unicode  Make sure encoding closes correctly, 64702345, 5, 0, 5
make sure android-controller knows about getUrl (and that it's not implemented). fix #4375, 64702345, 5, 0, 5
Upgrade android-apidemos, 64702345, 5, 0, 5
Make sure encoding closes correctly, 64702345, 5, 0, 5
upgraded appium-uiauto, 64702345, 5, 0, 5
Merge pull request #4365 from 0x1mason/restart_uia  Workaround for issue where UiAUtomator fails to find visible elements. Fixes #4200, 64702345, 5, 0, 5
Workaround for issue where UiAUtomator fails to find visible elements. Fixes #4200, 64702345, 5, 0, 5
fix formatting of quickstart in readme (fix #4306), 64702345, 5, 0, 5
appium-adb is part of android reset.sh not ios, 64702345, 5, 0, 5
update submodule references (cc @sebv updating package.json but not this means reset.sh --dev wont' work correctly), 64702345, 5, 0, 5
Merge pull request #4339 from imurchie/isaac-android-touch  Make sure release has options in Android touch, 64702345, 5, 0, 5
Make sure release has options in Android touch, 64702345, 5, 0, 5
appium-support package update, 64702345, 5, 0, 5
appium-adb appium-support package upgrade, 64702345, 5, 0, 5
extracted tempdir to appium-support, 64702345, 5, 0, 5
fixed reset quick-selendroid, 64702345, 5, 0, 5
appium-instruments package upgrade, 64702345, 5, 0, 5
appium-uiauto package upgrade, 64702345, 5, 0, 5
added autoDismissAlerts, 64702345, 5, 0, 5
appium-uiauto package upgrade, 64702345, 5, 0, 5
appium-instruments appium-uiauto package upgrade, 64702345, 5, 0, 5
Merge pull request #4293 from imurchie/isaac-ios-keyboard  Add delete key test, 64702345, 5, 0, 5
Add delete key test, 64702345, 5, 0, 5
Merge pull request #4278 from imurchie/isaac-ios82  Update to handle iOS 8.2, 64702345, 5, 0, 5
bump chromedriver version to newly-released 2.13 for next publish (fix #3798), 64702345, 5, 0, 5
Update to handle iOS 8.2, 64702345, 5, 0, 5
Merge pull request #4269 from appium/isaac-ios-delete  Isaac ios delete, 64702345, 5, 0, 5
Clean up ios delete key test  Clean up ios delete key test, 64702345, 5, 0, 5
Merge pull request #4253 from gempesaw/patch-1  Add waitForAppScript to ios caps handler, 64702345, 5, 0, 5
Merge pull request #4250 from jlipps/new-simctl  use external simctl library, 64702345, 5, 0, 5
Merge pull request #4247 from testobject/fix_appium_for_api_level_below_18  do not use Configurator during class initialization, 64702345, 5, 0, 5
Add waitForAppScript to ios caps handler  waitForAppScript logic was added in #4191 but the caps handler doesn't know about it so it never gets executed. Analogous to #4249 for sendKeyStrategy cap., 64702345, 5, 0, 5
use external simctl library, 64702345, 5, 0, 5
Merge pull request #4224 from sangeethasriniv/master  Add new capability stopAppOnReset for android, 64702345, 5, 0, 5
Merge pull request #4249 from imurchie/isaac-keyboard-caps  Add sendKeyStrategy to cap handler, 64702345, 5, 0, 5
Update caps.md, 64702345, 5, 0, 5
Add sendKeyStrategy to cap handler, 64702345, 5, 0, 5
do not use Configurator during class initialization, 64702345, 5, 0, 5
Merge pull request #4230 from imurchie/isaac-unicode  Fix handling of metacharacters in unicode mode, 64702345, 5, 0, 5
Fix handling of metacharacters in unicode mode, 64702345, 5, 0, 5
cleanup forgot to commit this file as part of a3a9038, 64702345, 5, 0, 5
Android only :  Add a capability to bring up an Android app without stopping the processif it is already running Added server capability stopAppOnReset Added capability to selendroid Added help for stopAppOnReset, 64702345, 5, 0, 5
Merge pull request #4212 from imurchie/isaac-parselocalizablestrings  Fix arguments to iOS parseLocalizableStrings, 64702345, 5, 0, 5
Fix arguments to iOS parseLocalizableStrings, 64702345, 5, 0, 5
Merge pull request #4181 from panozzaj/master  Use plist.parse instead of plist.parseFileSync, 64702345, 5, 0, 5
added install from npm doc, 64702345, 5, 0, 5
make sure our 'chromeOptions' overriding works for Chrome and not just Chromeviews (fix #4119), 64702345, 5, 0, 5
Issue #3957 changed undefined to null in ios-device-specs.js and corrected parameter of call of parseLocalizableStrings function in ios-contoller.js, 64702345, 5, 0, 5
Issue #3957 Refactored getStrings method for ios.js and ios-controller.js. cb is now last method parameter. Also update Android and Selendroid getStrings methods with stringFile parameter to fit getStrings method parameter called in controller.js. Added test for method parseLocalizableStrings in ios.js., 64702345, 5, 0, 5
#3957 added string file parameter to getStrings request., 64702345, 5, 0, 5
CHANGELOG update, 64702345, 5, 0, 5
bumping, 64702345, 5, 0, 5
Use file contents as input to plist function.  plist `parse()` wants XML string not a filename as the parameter. I also changed the parameter to `parseXmlPlistFile()` to more clearly indicate that it is receiving a filename not a file or file contents., 64702345, 5, 0, 5
Merge pull request #4185 from danail-branekov/master  Fix for issue 4177 - SendKeys on Android hinted TextViews switches the focus and influences neighbour controls, 64702345, 5, 0, 5
Merge pull request #4191 from sebv/waitForAppScript  Added waitForAppScript cap, 64702345, 5, 0, 5
added waitForAppScript cap, 64702345, 5, 0, 5
increasing crash test timeout, 64702345, 5, 0, 5
do not touch system.log if we are not sure where system.log is, 64702345, 5, 0, 5
Fix for issue 4177 - SendKeys on Android hinted TextViews switches the focus and influences neighbour controls, 64702345, 5, 0, 5
cleaning up callback, 64702345, 5, 0, 5
Use apktool 2.0.0-RC2 on Selendroid too if possible., 64702345, 5, 0, 5
Fix swipe test, 64702345, 5, 0, 5
unskipping crash tests, 64702345, 5, 0, 5
Use plist.parse instead of plist.parseFileSync.  When running Appium I got a warning / error stating that:      `parseFileSync()` is deprecated. Use `parseStringSync()` instead.  and my task was halted.  Appium uses `"plist": "~1.0.0"` in `package.json`.  `plist` v1.0.0 and up says that `parseFileSync()` is deprecated and that it should be replaced with `parseStringSync()`.  However `parseStringSync()` is *also* deprecated to be replaced with `parse()`. This all is based on:   - https://github.com/TooTallNate/plist.js/blob/v1.0.0/lib/node.js#L15  - https://github.com/TooTallNate/plist.js/blob/v1.0.0/lib/parse.js#L16  So I changed the related line in the iOS configuration file to point to the new method `parse()`. This appears to resolve this error and allows me to continue., 64702345, 5, 0, 5
unskipping some ios6 tests, 64702345, 5, 0, 5
Merge pull request #4165 from macmishra/master  Updating doctor for latest OS X version (10.10.1) released, 64702345, 5, 0, 5
Merge pull request #4168 from imurchie/isaac-source  Fix iOS source test, 64702345, 5, 0, 5
Fix iOS source test, 64702345, 5, 0, 5
Updating doctor for latest OS X version released, 64702345, 5, 0, 5
unskipping fixed ios6 tests, 64702345, 5, 0, 5
Fix getting sim dirs, 64702345, 5, 0, 5
fix hybrid docs (fix #4144), 64702345, 5, 0, 5
Merge pull request #4155 from apankov1/patch-1  Update troubleshooting.md, 64702345, 5, 0, 5
Updating to include issue discussed in #4096, 64702345, 5, 0, 5
added appium beta install doc, 64702345, 5, 0, 5
more verbose publish script, 64702345, 5, 0, 5
CHANGELOG update for 1.3.4, 64702345, 5, 0, 5
bumped to beta version, 64702345, 5, 0, 5
ui-auto submodule update, 64702345, 5, 0, 5
gappium test fixes, 64702345, 5, 0, 5
skipping selendroid test, 64702345, 5, 0, 5
skipping failing iOS6 tests, 64702345, 5, 0, 5
Merge pull request #4134 from paymand/appium-adb_1.6.0  Updated the appium-adb submodule to 1.6.0., 64702345, 5, 0, 5
Updated the appium-adb submodule to 1.6.0., 64702345, 5, 0, 5
bumped appium adb, 64702345, 5, 0, 5
getting gps demo via npm as intended, 64702345, 5, 0, 5
ADB.jars not a class method anymore, 64702345, 5, 0, 5
Restore smart keyboard closing (#3975) that got clobbered, 64702345, 5, 0, 5
Merge pull request #4129 from paymand/apktool_v2.0.0-RC2  Added a function to get the Java version to be used by ADB., 64702345, 5, 0, 5
Added a function to get the Java version to be used by ADB., 64702345, 5, 0, 5
bumped appium-adb freezed appium packages upgraded dev packages, 64702345, 5, 0, 5
actually cleaning session in cleanSession, 64702345, 5, 0, 5
bumped packages, 64702345, 5, 0, 5
Allow location services in zip file, 64702345, 5, 0, 5
fix gappium tests guess cordova changed naming conventions, 64702345, 5, 0, 5
Ensure a string is returned from iOS getText, 64702345, 5, 0, 5
add notice about ios 8 (fix #4105), 64702345, 5, 0, 5
Add note in style guide for error callbacks, 64702345, 5, 0, 5
Add test for clearing password, 64702345, 5, 0, 5
No redirecting after Selendroid session creation so don't expect that.  See: https://github.com/selendroid/selendroid/commit/1f4e2a64f8a5b497a04b23f48d02383e97d733c9, 64702345, 5, 0, 5
Updated Selendroid to 0.12.0., 64702345, 5, 0, 5
Add support for getting the resourceId attribute of an element, 64702345, 5, 0, 5
Fix sending of delete keys manual copy of 6e1ac493d7dbc65bb312037c5c1638cfabdf3a0a, 64702345, 5, 0, 5
Add to unicode docs, 64702345, 5, 0, 5
skipping swipedown testapp test, 64702345, 5, 0, 5
added avd settings tests, 64702345, 5, 0, 5
Ensure an already-running Android device's language and country settings are correct, 64702345, 5, 0, 5
Fixed - unknown server-side error is thrown when the XPath expression doesn't match any nodes., 64702345, 5, 0, 5
app activity/app package documentation, 64702345, 5, 0, 5
device type pr fix, 64702345, 5, 0, 5
Simplify getDeviceType() with tests rewritten, 64702345, 5, 0, 5
Added DynamicApp tests, 64702345, 5, 0, 5
Fix error handling in android clear, 64702345, 5, 0, 5
Add unit test for starting app, 64702345, 5, 0, 5
added screenshotWaitTimeout cap, 64702345, 5, 0, 5
added selendroid add keyboard + clear tests, 64702345, 5, 0, 5
Added support for hideKeyboard on selendriod., 64702345, 5, 0, 5
bumped apidemo, 64702345, 5, 0, 5
fixing spaces, 64702345, 5, 0, 5
added clear tests, 64702345, 5, 0, 5
SetText() should fail if UiObject setText() fails., 64702345, 5, 0, 5
Fix for #3900: Use correct left and right key codes in hasHintText().  Sending KEYCODE_DPAD_{RIGHT|LEFT} will cause the element to lose focus. We need to use KEYCODE_BUTTON_THUMB{R|L} instead., 64702345, 5, 0, 5
Make hideKeyboard do nothing when keyboard is present but not closable (has no UI), 64702345, 5, 0, 5
added hideKeyboard Android tests, 64702345, 5, 0, 5
Update server-args.md, 64702345, 5, 0, 5
allow tmp dir customization via env variable, 64702345, 5, 0, 5
Typo, 64702345, 5, 0, 5
added ios-webkit-debug-proxy launcher to go round libidevice 8.1 bugs, 64702345, 5, 0, 5
fix app vs browserName err message (fix #3945), 64702345, 5, 0, 5
hidding session immediatly after stop is called preventing any other command from being executed, 64702345, 5, 0, 5
bump looking-for-webview timeout on ios to 90s, 64702345, 5, 0, 5
1.3.3 release, 64702345, 5, 0, 5
1.3.2 release, 64702345, 5, 0, 5
Merge pull request #4058 from jlipps/master  make sure publish script is smart about how to tag a beta release, 64702345, 5, 0, 5
make sure publish script is smart about how to tag a beta release (fix #4057), 64702345, 5, 0, 5
Merge pull request #4059 from jlipps/fewer-files  consolidate test files, 64702345, 5, 0, 5
can't think of any reason to have 15 1-line test files; this looks a lot cleaner, 64702345, 5, 0, 5
Merge branch 'master' of https://github.com/appium/appium, 64702345, 5, 0, 5
1.3.2-beta2, 64702345, 5, 0, 5
Merge pull request #4046 from bootstraponline/master  Use linux nodes for docker, 64702345, 5, 0, 5
Use linux nodes for docker, 64702345, 5, 0, 5
Merge pull request #4018 from bootstraponline/master  Activate docker based infrastructure on Travis CI, 64702345, 5, 0, 5
Merge pull request #4041 from 0x1mason/master  1.3.2-Beta, 64702345, 5, 0, 5
1.3.2 beta 1 release, 64702345, 5, 0, 5
added changelog.txt for 1.3.2, 64702345, 5, 0, 5
Merge pull request #4017 from 0x1mason/swipe_test_fix2  removed deprecated swipe api references (fix #3989), 64702345, 5, 0, 5
Activate docker based infrastructure on Travis CI, 64702345, 5, 0, 5
removed deprecated swipe api references (fix #3989), 64702345, 5, 0, 5
Merge pull request #3995 from 0x1mason/touch_spec_fix  Fixed touch-specs failure and added detection of negative percentage offsets (fix #3992), 64702345, 5, 0, 5
Merge pull request #4004 from 0x1mason/prelaunch  Revert type detection changes 572f8fa (fix #3993), 64702345, 5, 0, 5
Revert "Merge pull request #3653 from bem/feature/named-app-priority"  This reverts commit 572f8fa74f337c9f2266ab8b8fa01bbaa840d8ea reversing changes made to 87a52cfdf77de39182a3da23eb829144a89c06d3., 64702345, 5, 0, 5
Merge pull request #3985 from sebv/android-NotFoundException  Updated Android bootstrap to returns status 7 on NotFoundException, 64702345, 5, 0, 5
Fixed touch-specs failure and added detection of negative percentage offsets, 64702345, 5, 0, 5
update appium-adb with internet permission regex fix, 64702345, 5, 0, 5
Updated Android bootstrap to returns status 7 on NotFoundException, 64702345, 5, 0, 5
Fixed submodule missing features, 64702345, 5, 0, 5
updating appium-adb with appPkg parsing fix, 64702345, 5, 0, 5
Merge pull request #3943 from 0x1mason/swipe_fix  Fix swipe action with target element: #3647, 64702345, 5, 0, 5
Fix swipe action with target element: #3647, 64702345, 5, 0, 5
Merge pull request #3939 from imurchie/isaac-chrome  Restart chromedriver when webview closes, 64702345, 5, 0, 5
Merge pull request #3909 from sebv/sebv-chromedriver-fix  chromedriver kill fix, 64702345, 5, 0, 5
Merge pull request #3970 from 0x1mason/swipe_fix_sample_code  Updated sample-code with swipe test changes, 64702345, 5, 0, 5
Updated sample-code with swipe test changes, 64702345, 5, 0, 5
Merge pull request #3963 from sebv/log-fix  log stripColors fix, 64702345, 5, 0, 5
log stripColors fix, 64702345, 5, 0, 5
Merge pull request #3929 from sebv/system-logs-retry  fix for ios8 system logs, 64702345, 5, 0, 5
create system logs file before tailing it, 64702345, 5, 0, 5
Merge pull request #3941 from sebv/location-pref-fix  Fixed location pref tests for iOS7 iOS8, 64702345, 5, 0, 5
bumping appium-uiauto, 64702345, 5, 0, 5
Merge pull request #3922 from sebv/send-key-strategy  added sendKeyStrategy cap, 64702345, 5, 0, 5
fixed location prefs tests for ios7 ios8, 64702345, 5, 0, 5
Restart chromedriver when webview closes, 64702345, 5, 0, 5
getSampleCode Windows path fix, 64702345, 5, 0, 5
added sendKeyStrategy cap, 64702345, 5, 0, 5
Merge pull request #3908 from Jonahss/gpsTest  cleaned up gps test, 64702345, 5, 0, 5
use a wait instead of sleep, 64702345, 5, 0, 5
Merge pull request #3653 from bem/feature/named-app-priority  Simplify calculation of device type, 64702345, 5, 0, 5
Simplify getDeviceType() with tests rewritten, 64702345, 5, 0, 5
Merge pull request #3915 from sebv/safari-realdevice-fix  safari realdevice fix, 64702345, 5, 0, 5
safari realdevice fix, 64702345, 5, 0, 5
chromedriver kill fix, 64702345, 5, 0, 5
Merge pull request #3898 from sebv/sebv-release-fix-2  Fixed release bug when released element is not valid, 64702345, 5, 0, 5
cleaned up gps test, 64702345, 5, 0, 5
Merge pull request #3907 from imurchie/isaac-selendroid  Add comment to docs about Selendroid appActivity, 64702345, 5, 0, 5
Add comment to docs about Selendroid appActivity, 64702345, 5, 0, 5
clean up old session when --session-override is used (fix #3891), 64702345, 5, 0, 5
have safeRimRafSync handle ENOENT messages as well and fix potential async issues (fix #3875), 64702345, 5, 0, 5
update appium-adb with logcat fix, 64702345, 5, 0, 5
Merge pull request #3895 from appium/sebv-clean-safari-fix  cleanSafari fix, 64702345, 5, 0, 5
fixed release bug when released element is not valid, 64702345, 5, 0, 5
cleanSafari fix, 64702345, 5, 0, 5
add 10.10 to doctor options (fix #3870), 64702345, 5, 0, 5
fix publish.sh to use local underscore-cli, 64702345, 5, 0, 5
v1.3.1, 64702345, 5, 0, 5
Merge pull request #3890 from rgonalo/master  Fix EPERM error in Windows when using a remote apk already signed, 64702345, 5, 0, 5
Fix EPERM error in Windows when using a remote apk already signed, 64702345, 5, 0, 5
Merge pull request #3888 from Jonahss/simctlFix  fix simctl erase async error, 64702345, 5, 0, 5
fix simctl erase async error, 64702345, 5, 0, 5
fixing gappium test and disabling ios6 + Android 16 in test.sh, 64702345, 5, 0, 5
bumped appium-adb, 64702345, 5, 0, 5
Merge pull request #3874 from sebv/android-is-locked  Fixed is Locked in android., 64702345, 5, 0, 5
changed default ios context to NATIVE_APP, 64702345, 5, 0, 5
fixed jscs config, 64702345, 5, 0, 5
fixed android lock tests, 64702345, 5, 0, 5
travis fix, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium into changelog, 64702345, 5, 0, 5
v1.3.0, 64702345, 5, 0, 5
update submodule commits, 64702345, 5, 0, 5
another async bug fix, 64702345, 5, 0, 5
Merge pull request #3866 from Jonahss/asyncfix  async bug fix, 64702345, 5, 0, 5
async bug fix, 64702345, 5, 0, 5
changelog update, 64702345, 5, 0, 5
actually fix pullFile(). works on ios71 and ios8 xcode version independent, 64702345, 5, 0, 5
Merge pull request #3859 from imurchie/isaac-ios-pullfile  Fix pull file for iOS, 64702345, 5, 0, 5
Fix pull file for iOS, 64702345, 5, 0, 5
Merge pull request #3853 from imurchie/isaac-ios81  Fix tests for iOS 8.1, 64702345, 5, 0, 5
Fix tests for iOS 8.1, 64702345, 5, 0, 5
Merge pull request #3847 from sebv/realdev-path  fixed app path for real devices, 64702345, 5, 0, 5
Merge pull request #3845 from Jonahss/pullFile  fix app-relative pullFile on iOS 8. fixes #3844, 64702345, 5, 0, 5
fix test, 64702345, 5, 0, 5
fix app-relative pullFile on iOS 8. fixes #3844, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
fixed app path for real devices, 64702345, 5, 0, 5
Merge pull request #3841 from Jonahss/cleanSim  cleanSim now uses 'simctl erase' and still keeps keychains. fixes #3772, 64702345, 5, 0, 5
cleanSim now uses 'simctl erase' and still keeps keychains. fixes #3772, 64702345, 5, 0, 5
forcing device string when device name starts with =, 64702345, 5, 0, 5
Merge pull request #3829 from sebv/doccookies  ios cookie rewrite, 64702345, 5, 0, 5
switch to jQuery style cookie manager, 64702345, 5, 0, 5
get rid of unused assignment (fix #3594), 64702345, 5, 0, 5
update appium-adb with waitDuration update, 64702345, 5, 0, 5
bring back i-w-d for xcode 6, 64702345, 5, 0, 5
Merge pull request #3827 from Jonahss/languageFullReset2  allow use of 'full-reset' capability along with 'language/locale' capabi..., 64702345, 5, 0, 5
update appium-adb with appium_apk_tools.jar fix (fix #3644), 64702345, 5, 0, 5
allow use of 'full-reset' capability along with 'language/locale' capability if iOS version greater than 6.1. Fixes #3763, 64702345, 5, 0, 5
Merge pull request #3826 from Jonahss/simctlFix  fix race-condition on "simctl erase" command, 64702345, 5, 0, 5
fix race-condition on "simctl erase" command, 64702345, 5, 0, 5
Merge pull request #3821 from Jonahss/master  when --full-reset is enabled run 'xcrun simctl erase' on ios8 instead o..., 64702345, 5, 0, 5
when --full-reset is enabled run 'xcrun simctl erase' on ios8 instead of deleting the sim directory. fixes #3762, 64702345, 5, 0, 5
Merge pull request #3642 from imurchie/isaac-ios-xpath  Update uiauto to fix xpath error, 64702345, 5, 0, 5
Merge pull request #3517 from jlipps/ios8  iOS8 Support, 64702345, 5, 0, 5
fix appFile to array in getAppDirs, 64702345, 5, 0, 5
add a retry to xcrun and make sure it fails session if it doesn't complete successfully, 64702345, 5, 0, 5
attempt to refresh safari if there aren't any webviews, 64702345, 5, 0, 5
ios 8.1 support, 64702345, 5, 0, 5
belated changelog update, 64702345, 5, 0, 5
Fix capturing of web views using remote debugger, 64702345, 5, 0, 5
Delete appBundleId.plist for iOS8, 64702345, 5, 0, 5
Reset Push Notification privacy setting  When performing a clean of the simulator the push notification privacy setting is now reset as well, 64702345, 5, 0, 5
rimraf.sync fixup, 64702345, 5, 0, 5
Increase interval to capture webview from 6 to 10 sec, 64702345, 5, 0, 5
fix issue with starting real device in ios8 (fix #3665), 64702345, 5, 0, 5
Move builtin Safari app to a new name containing SDK version, 64702345, 5, 0, 5
add --isolate-sim-device which enables appium to delete all other sims as a workaround to xcode 6's crazy bugs, 64702345, 5, 0, 5
selectively clean out sim preferences on each run so it doesn't launch with the wrong sim, 64702345, 5, 0, 5
bump for beta version, 64702345, 5, 0, 5
add some xcode-6 specific docs, 64702345, 5, 0, 5
handle locale-setting responsibilities in-house instead of using deprecated ios-sim-locale (fix #3595), 64702345, 5, 0, 5
ios8-related testsuite updates + fixes, 64702345, 5, 0, 5
refactor jumbled methods into new simulator.js and xcode.js and add support for cleaning safari files on ios8, 64702345, 5, 0, 5
add ability for testsuite to determine ios8 sim udid and add support for pull/pushFile in ios8, 64702345, 5, 0, 5
refactor ios setLocale() and quarantine localization specs for ios8 due to #3595, 64702345, 5, 0, 5
update ios syslog capture for ios8, 64702345, 5, 0, 5
update ios settings module to handle ios8 paths, 64702345, 5, 0, 5
refactor setDevice logic and capture ios8 device udid, 64702345, 5, 0, 5
ios8 safari / new remote debugger protocol support, 64702345, 5, 0, 5
fix screenshot logic to use --tmp dir, 64702345, 5, 0, 5
add support for starting an app via bundleId on the ios sim, 64702345, 5, 0, 5
basic ios8 support, 64702345, 5, 0, 5
document when to use launch_app, 64702345, 5, 0, 5
update appium-uiauto with findElements exclusivity fix, 64702345, 5, 0, 5
Merge pull request #3797 from DylanLacey/master  Add warning about localhost in Selenium Node config., 64702345, 5, 0, 5
Merge pull request #3786 from emakiej/selendroid_sendkeys  Fix for sendkeys with Selendroid in CHROMIUM context, 64702345, 5, 0, 5
add a retry to getting available devices from instruments (fix #3796), 64702345, 5, 0, 5
Merge pull request #3761 from testobject/master  Fix for Chromedriver not connecting to adb running on non-default port. Take 2, 64702345, 5, 0, 5
Add warning about localhost in Selenium Node config.  Using `127.0.0.1` for Appium's Selenium Grid node config makes the grid server unable to contact Appium when located on a different host. Clarified that in the docs., 64702345, 5, 0, 5
Fix for getContexts() on Selendroid., 64702345, 5, 0, 5
Merge pull request #3622 from Jonahss/userAgent  add userAgent reporting, 64702345, 5, 0, 5
Merge pull request #3785 from paymand/hint_text_detection  Made clearing text faster on Android when there is hint text., 64702345, 5, 0, 5
update appium-adb with getAdbServerPort method, 64702345, 5, 0, 5
Merge pull request #3735 from 0x1mason/swipe_test  Swipe test, 64702345, 5, 0, 5
Pass '--adb-port=' parameter and fix adb being 'undefined' for rebooting, 64702345, 5, 0, 5
Fix for sendkeys with Selendroid in CHROMIUM context, 64702345, 5, 0, 5
Made clearing text faster on Android when there is hint text.  We try several approaches to clear text on Android and only check for hint text at the end. This can be made faster if we check for hint text after each clear attempt. Also modified hasHintText() a bit to make it more reliable., 64702345, 5, 0, 5
Merge pull request #3779 from 0x1mason/chromeshell_fix  fixed chromedriver support for Chromium/ChromeShell, 64702345, 5, 0, 5
fixed chromedriver support for Chromium/ChromeShell, 64702345, 5, 0, 5
Merge pull request #3771 from paymand/install_ipa_on_device  Fix for installing IPA packages on iOS devices., 64702345, 5, 0, 5
changelog and bump to 1.2.4 for publish, 64702345, 5, 0, 5
Fix for installing IPA packages on iOS devices.  If this.args.app is an IPA this.args.ipa should get the same value so that installIpa() is called from installToRealDevice()., 64702345, 5, 0, 5
update appium-instruments with device-getting stall fix, 64702345, 5, 0, 5
make sure to publish tags to the branch we're working on, 64702345, 5, 0, 5
Merge pull request #3733 from imurchie/isaac-android-release  Use last coordinates for touch release, 64702345, 5, 0, 5
Merge pull request #3730 from bootstraponline/fix_uiselector_instance  Fix UiSelector instance in find_elements, 64702345, 5, 0, 5
Fix UiSelector instance in find_elements  If a UiSelector already uses instance then invoking instance again will replace the original instance number. The UiSelector will then point to a completely different element.  To fix this problem these selectors ending with instance are detected via a regex and the extra .instance call is avoided., 64702345, 5, 0, 5
update appium-instruments with logging fixes, 64702345, 5, 0, 5
Added swipe test for 'swipeDown' strategy, 64702345, 5, 0, 5
Use last coordinates for touch release, 64702345, 5, 0, 5
make sure to clear npm cache when publishing, 64702345, 5, 0, 5
Adding Link to Obj-C Bindings, 64702345, 5, 0, 5
reconfiguring ci, 64702345, 5, 0, 5
travis fix, 64702345, 5, 0, 5
Merge pull request #3727 from appium/jenkins-ci  Porting ci to jenkins, 64702345, 5, 0, 5
porting ci to jenkins, 64702345, 5, 0, 5
Merge pull request #3725 from penguinho/master  Adding Objective C samples, 64702345, 5, 0, 5
Adding Objective C samples, 64702345, 5, 0, 5
Adding Link to Obj-C Bindings, 64702345, 5, 0, 5
Merge pull request #3724 from appium/jenkins-ci  Porting ci to jenkins, 64702345, 5, 0, 5
porting ci to jenkins, 64702345, 5, 0, 5
Merge pull request #3721 from Jonahss/master  better error message for java UiScrollable parsing exception, 64702345, 5, 0, 5
better error message for java UiScrollable parsing exception, 64702345, 5, 0, 5
Merge pull request #3711 from imurchie/isaac-location  Fix Android location test, 64702345, 5, 0, 5
Fix Android location test, 64702345, 5, 0, 5
changelog and bump to 1.2.3 for publish, 64702345, 5, 0, 5
Merge pull request #3703 from imurchie/isaac-ios6-find  Fix test for iOS 6 findByUiAutomation, 64702345, 5, 0, 5
Fix test for iOS 6 findByUiAutomation, 64702345, 5, 0, 5
Merge pull request #3701 from imurchie/isaac-crash  Remove ios during crash test, 64702345, 5, 0, 5
Merge pull request #3702 from Jonahss/settingDocs  docs for settings, 64702345, 5, 0, 5
docs for settings, 64702345, 5, 0, 5
Remove ios during crash test, 64702345, 5, 0, 5
Merge pull request #3700 from imurchie/isaac-ios6  Make sure we skip UICatalog tests in iOS 6, 64702345, 5, 0, 5
Make sure we skip UICatalog tests in iOS 6, 64702345, 5, 0, 5
update appium-uiauto with keyboard stability updates, 64702345, 5, 0, 5
Merge pull request #3695 from 0x1mason/lock_specs_fix  Fixed incorrect arguments in lock-specs.js that were causing tests to fail, 64702345, 5, 0, 5
Fixed incorrect arguments in lock-specs.js that were causing tests to fail, 64702345, 5, 0, 5
update docs for settings, 64702345, 5, 0, 5
Fix ios xpath tests, 64702345, 5, 0, 5
update appium-uiauto with hideKeyboard regression fix, 64702345, 5, 0, 5
temporalily disabling functional tests, 64702345, 5, 0, 5
fixing error messages in unit tests, 64702345, 5, 0, 5
update sample-code repo with newer uicatalog, 64702345, 5, 0, 5
android testsuite fixes, 64702345, 5, 0, 5
fix chrome unlock infinite loop issue, 64702345, 5, 0, 5
Merge pull request #3658 from bem/feature/reset-fix  Fix reset.sh by using UICatalog.zip from appium/sample-code, 64702345, 5, 0, 5
Use UICatalog.zip from appium/sample-code, 64702345, 5, 0, 5
Merge pull request #3638 from 0x1mason/unlockDevice  Added Android lock/unlock feature: #3342 Fix, 64702345, 5, 0, 5
Added Android lock/unlock feature, 64702345, 5, 0, 5
upgrade appium-uiauto with hideKeyboard fixes (fix #2930), 64702345, 5, 0, 5
fix lint, 64702345, 5, 0, 5
Merge pull request #3651 from imurchie/isaac-ios-alerts  Move autoAcceptAlerts to bootstrap env, 64702345, 5, 0, 5
Merge pull request #3655 from bem/feature/sudo-fix  Allow to run Appium using sudo if it is still run be user who owns Appium files, 64702345, 5, 0, 5
Allow to run Appium using sudo if it is still run be user who owns Appium files, 64702345, 5, 0, 5
Move autoAcceptAlerts to bootstrap env, 64702345, 5, 0, 5
update uiauto with autoAcceptAlert fix and element crash fix, 64702345, 5, 0, 5
upgrade appium-instruments with xcode6 fix, 64702345, 5, 0, 5
fix selendroid/android spaces-in-app-path bugs by upgrading adb fix #3461, 64702345, 5, 0, 5
fix deviceconsole missing issue (fix #3520) cc @imurchie. the problem was when copying the whole deviceconsole directory there was a .gitignore file which ignored the binary. and npm obeys .gitignore unless there's an .npmignore., 64702345, 5, 0, 5
Merge pull request #3625 from imurchie/isaac-hint  Handle hint text when setting text in Android, 64702345, 5, 0, 5
Merge pull request #3542 from imurchie/isaac-touch  Don't crash when touch actions sent to webviews, 64702345, 5, 0, 5
Merge pull request #3628 from 0x1mason/startapp_qfe  URGENT QFE: Fix for app breaking regression in android.js, 64702345, 5, 0, 5
Don't crash when sending touch actions to webviews, 64702345, 5, 0, 5
Handle hint text when setting text in Android, 64702345, 5, 0, 5
Fix Android breaking regression android.js, 64702345, 5, 0, 5
Merge pull request #3462 from 0x1mason/2969   Fix for #2969. Added ability to arbitrarily launch activities., 64702345, 5, 0, 5
Fix for #2969. Added ability to arbitrarily launch activities., 64702345, 5, 0, 5
update appium-instruments with ios8-oriented flake fix, 64702345, 5, 0, 5
update appium-uiauto with predicate search fix, 64702345, 5, 0, 5
fix env scoping bug, 64702345, 5, 0, 5
add userAgent reporting, 64702345, 5, 0, 5
Merge pull request #3544 from 0x1mason/2954  Change for #2954: add configurable log levels for different transports, 64702345, 5, 0, 5
Change for #2954: add configurable log levels for different transports, 64702345, 5, 0, 5
fix grunt docs so it writes to correct file, 64702345, 5, 0, 5
update appium-uiauto with predicate search fixes, 64702345, 5, 0, 5
update appium-instruments with logging fix, 64702345, 5, 0, 5
update uiauto with ios8 alert fixes, 64702345, 5, 0, 5
Merge pull request #3606 from paymand/selendroid_contexts  Use correct port for getting window_handles on Selendroid., 64702345, 5, 0, 5
Use correct port for getting window_handles on Selendroid.  Fix for a bug on Selendroid backend  where driver.contexts fails after switching to CHROMIUM context., 64702345, 5, 0, 5
Merge pull request #3590 from jlipps/fix-3575  bring back @jonahss's settings api changes, 64702345, 5, 0, 5
update uiauto with loopInfinitely feature, 64702345, 5, 0, 5
bring back @jonahss's settings api changes, 64702345, 5, 0, 5
revert premature settings API merge, 64702345, 5, 0, 5
truncate atom in log for webkit-rdp, 64702345, 5, 0, 5
allow native safari automation on real devices > 7.1 turns out maybe it was only 6.x that didn't allow us to do this - fix #3331  also create a mode where if we expect instruments to exit we don't try to connect the bootstrap to the command proxy avoiding error crashes - fix #3539 fix #3397, 64702345, 5, 0, 5
Merge pull request #3575 from Jonahss/settings2  Add Settings api and xpathCompression setting for Android, 64702345, 5, 0, 5
Add Settings api and xpathCompression setting for Android, 64702345, 5, 0, 5
Merge pull request #3578 from imurchie/isaac-unicode  Fix unicode in Selendroid, 64702345, 5, 0, 5
Merge pull request #3530 from axemclion/perf  Enabled Performance Logs for iOS, 64702345, 5, 0, 5
update appium-adb with isAppInstalled regex fix (fix #3362), 64702345, 5, 0, 5
update list of non-tested scenarios [ci skip], 64702345, 5, 0, 5
remove logline which is duplicated in command proxy, 64702345, 5, 0, 5
Fix unicode in Selendroid, 64702345, 5, 0, 5
Enabled Performance Logs for iOS, 64702345, 5, 0, 5
Merge pull request #3549 from DylanLacey/no_killing_null  Don't try to call 'kill' on null procs., 64702345, 5, 0, 5
Don't try to call 'kill' on null procs.  When iOS log capture has been unsuccessful `this.proc` never becomes not null.  In `stopCapture` we then attempt to kill null which crashes Appium.  This isn't nice., 64702345, 5, 0, 5
update appium-adb with lock() method, 64702345, 5, 0, 5
fix regex for selendroid quick reset (fix #3516), 64702345, 5, 0, 5
Merge pull request #3548 from shzero5/work  Fixed link rot in document, 64702345, 5, 0, 5
fix linkrot, 64702345, 5, 0, 5
update appium-uiauto with smartwrap fix (fix #3481), 64702345, 5, 0, 5
Merge pull request #3466 from bardh/master  Update ios-controller to execute a 'click' JS atom when a click event is sent, 64702345, 5, 0, 5
update appium-instruments with new killAllSim for ios8, 64702345, 5, 0, 5
document showIOSLog in caps (fix #3528), 64702345, 5, 0, 5
add a test for getting picker wheel values, 64702345, 5, 0, 5
fix async bug in ios crash waterfall previously we'd respond to the client's current callback and then start the shutdown sequence. this opened up a situation where the client could then call another command (say driver.quit) during shutdown enabling the possibility of two simultaneous shutdown flows causing undefined behavior. this fix makes sure we don't respond to the client for a command that caused a crash until we're done shutting down., 64702345, 5, 0, 5
add test to prove we can close and re-launch an app mid-session, 64702345, 5, 0, 5
Merge pull request #3525 from Jonahss/master  switch appium-discuss links from google-groups to discourse, 64702345, 5, 0, 5
switch appium-discuss links from google-groups to discourse, 64702345, 5, 0, 5
update appium-uiauto with collectionView scroll fix (fix #3497), 64702345, 5, 0, 5
update appium-uiauto with collated dynamic bootstrap for ios8 [ci skip], 64702345, 5, 0, 5
Merge pull request #3501 from 0x1mason/3383  Fix #3383: Added ability to launch ios app via bundleId, 64702345, 5, 0, 5
update tests to deal with new testapp crash button [ci skip], 64702345, 5, 0, 5
Fix #3383: Added ability to launch ios app via bundleId, 64702345, 5, 0, 5
Merge pull request #3494 from jlipps/master  fix issue where server can crash while recovering from an instruments failure, 64702345, 5, 0, 5
fix issue where server can crash while recovering from an instruments failure (fix #3480), 64702345, 5, 0, 5
upgrade appium-adb with startApp upgrades, 64702345, 5, 0, 5
add missing item to changelog, 64702345, 5, 0, 5
Merge pull request #3476 from sbonebrake/zipfix  Fix app unzip issue #3387, 64702345, 5, 0, 5
Fix app unzip issue #3387, 64702345, 5, 0, 5
changelog and bump to 1.2.2 for publish, 64702345, 5, 0, 5
fix up some more tests so they pass with the new sendkeys behavior, 64702345, 5, 0, 5
update appium-uiauto with textfield label/value fix, 64702345, 5, 0, 5
make sure executeAsync callback address/port aren't lost between sessions cc @sebv this is what was going wrong before, 64702345, 5, 0, 5
get rid of test which we moved elsewhere, 64702345, 5, 0, 5
click event should execute a 'click' JS atom 'tap' sends two click events on iOS devices, 64702345, 5, 0, 5
fix android tests as a result of apidemos change and removal of complexFind cc @0x1mason and @Jonahss, 64702345, 5, 0, 5
Merge pull request #3463 from varzan/patch-2  Show output if error on parsing Xcode version, 64702345, 5, 0, 5
Show output if error on parsing Xcode version, 64702345, 5, 0, 5
update appium-instruments with real device hang-on-start fixes fix #3376, 64702345, 5, 0, 5
Merge pull request #3454 from varzan/patch-1  Error messages in logs, 64702345, 5, 0, 5
Merge pull request #3426 from 0x1mason/3194  Added hack force debug messages to stdout. Fix for #3194, 64702345, 5, 0, 5
Merge pull request #3442 from jlipps/native-chrome  allow automation of native chrome elements (fix #3434), 64702345, 5, 0, 5
upgrade adb with adb retry fix, 64702345, 5, 0, 5
make safari real devices work with new commandProxy model (fix #3376) cc @sebv, 64702345, 5, 0, 5
Added hack force debug messages to stdout. Fix for #3194, 64702345, 5, 0, 5
Merge pull request #3451 from austenke/master  Added isLocked method for Android, 64702345, 5, 0, 5
Error messages in logs  When we could not detect xcode version / folder / sdk version also log the error., 64702345, 5, 0, 5
Added isLocked method for Android, 64702345, 5, 0, 5
Merge pull request #3450 from imurchie/isaac-unicode  Properly bracket unicode encoding, 64702345, 5, 0, 5
Merge pull request #3428 from Jonahss/xpathInside  Moved xpath into boostrap java, 64702345, 5, 0, 5
Properly bracket unicode encoding, 64702345, 5, 0, 5
clean xml tags of invalid characters. Fixes #3305, 64702345, 5, 0, 5
getPageSource now uses the same code as the java Xpath code. Happens on the java side not in node., 64702345, 5, 0, 5
Code refactoring. And 'complex find' locator strategy removed. Fixes #3092, 64702345, 5, 0, 5
Xpath implementation moved into bootstrap java project. XPath now less buggy and adheres to the full xpath spec. Finding by XPath now operates on the uncompressed xml hierarchy. Fixes #3307, 64702345, 5, 0, 5
Merge pull request #3445 from austenke/master  Updated NotYetImplementedError for replaceValue, 64702345, 5, 0, 5
Updated NotYetImplementedError for replaceValue, 64702345, 5, 0, 5
Merge pull request #3443 from imurchie/isaac-serverargs  Fix deprecated server args, 64702345, 5, 0, 5
Fix deprecated server args, 64702345, 5, 0, 5
Merge pull request #3441 from imurchie/isaac-serverargs  Add deprecation warnings for server args, 64702345, 5, 0, 5
allow automation of native chrome elements (fix #3434), 64702345, 5, 0, 5
Add deprecation warnings for server args, 64702345, 5, 0, 5
add comments for #3402 [ci skip], 64702345, 5, 0, 5
Merge pull request #3402 from austenke/master  Added replace parameter for setText, 64702345, 5, 0, 5
Merge pull request #3430 from imurchie/isaac-ios-log  Use deviceconsole instead of idevicesyslog to capture iOS real device logs, 64702345, 5, 0, 5
Use deviceconsole instead of idevicesyslog to capture iOS real device logs, 64702345, 5, 0, 5
Merge pull request #3419 from moizjv/fix-2353  Adding noSign capability, 64702345, 5, 0, 5
Adding noSign capability, 64702345, 5, 0, 5
Merge pull request #3417 from imurchie/isaac-context-fix  Reset proxy status when suspending ChromeDriver, 64702345, 5, 0, 5
Reset proxy status when suspending ChromeDriver, 64702345, 5, 0, 5
Merge pull request #3416 from 0x1mason/3185  Adding apostrophe in id regression test for #3185, 64702345, 5, 0, 5
Adding apostrophe in id regression test for #3185, 64702345, 5, 0, 5
Merge pull request #3415 from moizjv/samplecode-update  Changing helper method in test to get application path dynamically, 64702345, 5, 0, 5
Changing helper method to get application path dynamically, 64702345, 5, 0, 5
document where to find ios device names (fix #3411), 64702345, 5, 0, 5
Merge pull request #3403 from moizjv/samplecode-update  Updating sample-code and adding test for selendroid contactmanager test, 64702345, 5, 0, 5
Updating sample-code and adding test for selendroid contactmanager with internet permission, 64702345, 5, 0, 5
Merge pull request #3410 from 0x1mason/3209  Removed request size limit., 64702345, 5, 0, 5
Removed request size limit., 64702345, 5, 0, 5
Added replace parameter for setText  Styling Fix  Switching Boolean to boolean  Add error for ios-controller  Fixes, 64702345, 5, 0, 5
add note about 'verify apps' on android real devices, 64702345, 5, 0, 5
Merge pull request #3398 from paymand/chrome_options_fix  Fix for 'chromeOptions'., 64702345, 5, 0, 5
Fixes for andriod-hybrid.js and chromedriver.js.  Fix for bugs introduced by the following commits: https://github.com/appium/appium/commit/570d6beb85cea48c4dd78b6b0089e88437ea0822 https://github.com/appium/appium/commit/f8d8e5513e706712eeda349e7d50cf03f3eb7573, 64702345, 5, 0, 5
Cleaner way of calling stoplogcat for chromeDriverExit, 64702345, 5, 0, 5
Adding adb stop to chrome to prevent leaking of adb issue, 64702345, 5, 0, 5
Merge pull request #3395 from Jonahss/docs  added open_notifications to docs, 64702345, 5, 0, 5
added open_notifications to docs, 64702345, 5, 0, 5
update appium-uiauto with label() fallback search and apostraphe escaping fixes, 64702345, 5, 0, 5
Merge pull request #3389 from Jonahss/gitignore  all sample-code in gitignore, 64702345, 5, 0, 5
all sample-code in gitignore, 64702345, 5, 0, 5
Merge pull request #3386 from austenke/master  Changed error handling for clearText, 64702345, 5, 0, 5
Changed error handling for clearText, 64702345, 5, 0, 5
Merge pull request #3380 from jlipps/chromedriver-arch  download all linux chromedriver architectures, 64702345, 5, 0, 5
download all linux chromedriver architectures using the --chromedriver-install-all flag now downloads 32 and 64 bit archs without the flag the machine will download the one appropriate to its arch fix #3368, 64702345, 5, 0, 5
Merge pull request #3379 from jlipps/master  remove 'iwebview' functionality, 64702345, 5, 0, 5
remove 'iwebview' functionality - turn WebViewApp into a dev dependency only - remove iwebview tests etc, 64702345, 5, 0, 5
Merge pull request #3370 from jlipps/sample-code  remove sample code from main repo, 64702345, 5, 0, 5
remove actual sample app code this is in a different commit so previous commit can be examined separately, 64702345, 5, 0, 5
move sample code and apps out of main repo and add a grunt task that brings them in for use in dev, 64702345, 5, 0, 5
Merge pull request #3361 from austenke/master  Allow chromeOptions method, 64702345, 5, 0, 5
Allow chromeOptions method, 64702345, 5, 0, 5
update uiauto to 1.6.7 with new sendKeys behavior (without clear) (fix #3284), 64702345, 5, 0, 5
Merge pull request #3360 from austenke/master  Added method to append existing text, 64702345, 5, 0, 5
Added method to append existing text, 64702345, 5, 0, 5
Merge pull request #3359 from bootstraponline/restore_sample_apps  Restore sample-code apps, 64702345, 5, 0, 5
Restore sample-code apps, 64702345, 5, 0, 5
Merge pull request #3330 from austenke/austen-docs  Added doc for multiple Android tests, 64702345, 5, 0, 5
Merge pull request #3355 from paramadeep/master  Fixed the broken links to sample page, 64702345, 5, 0, 5
Fixed the broken links to sample page, 64702345, 5, 0, 5
Merge pull request #3353 from bootstraponline/move_sample_code  Move sample code to https://github.com/appium/sample-code, 64702345, 5, 0, 5
Move sample code to https://github.com/appium/sample-code, 64702345, 5, 0, 5
Added doc for multiple tests  Small fix  Moved to new doc  Doc Fix  Small Fix  Fix  Fix, 64702345, 5, 0, 5
Merge pull request #3351 from imurchie/isaac-chromedriver  Android Chromedriver caching, 64702345, 5, 0, 5
Android Chromedriver caching, 64702345, 5, 0, 5
Merge pull request #3350 from 0x1mason/1708_2  Fixed issue #1708: delete cookie inconsitency in Safari, 64702345, 5, 0, 5
Fixed issue #1708: delete cookie inconsitency in Safari, 64702345, 5, 0, 5
fix bad indentation, 64702345, 5, 0, 5
Merge pull request #3349 from jlipps/master  get the running from source docs in our docs not in CONTRIBUTING, 64702345, 5, 0, 5
Merge pull request #3348 from imurchie/isaac-ios-keyboard  Add interKeyDelay cap for iOS, 64702345, 5, 0, 5
get the running from source docs in our docs not in CONTRIBUTING, 64702345, 5, 0, 5
Add interKeyDelay cap for iOS, 64702345, 5, 0, 5
upgrade appium-uiauto to 1.6.6 with element nil checks and configurable keyboard delay, 64702345, 5, 0, 5
add logging to prove we're not waiting for apple.com to load before starting a session (fix #3183), 64702345, 5, 0, 5
Merge pull request #3344 from edgy360/master  Fix documentation for --trace-dir argument, 64702345, 5, 0, 5
Fixed documentation for --trace-dir argument. [ci skip], 64702345, 5, 0, 5
update changelog with info about bumping chromedriver version, 64702345, 5, 0, 5
changelog and bump to 1.2.1 for publish, 64702345, 5, 0, 5
Merge pull request #3333 from jdeff/fix_localizable_strings_issue  Fix for #3325. localizableStrings is no longer an array, 64702345, 5, 0, 5
Fix for #3325. localizableStrings is no longer an array, 64702345, 5, 0, 5
Merge pull request #3332 from moizjv/fix-1228  Bootstrap clear fallback strategy by sending bunch of deletes, 64702345, 5, 0, 5
Bootstrap clear fallback strategy by sending bunch of deletes, 64702345, 5, 0, 5
make sure iosReset only targets instruments processes not appium itself (fix #3188), 64702345, 5, 0, 5
fix whitespace issue, 64702345, 5, 0, 5
Merge pull request #3318 from imurchie/isaac-ios-keyboard  Add stability test for iOS keyboard, 64702345, 5, 0, 5
Add stability test for iOS keyboard, 64702345, 5, 0, 5
Merge pull request #3329 from imurchie/isaac-caps  Handle boolean caps sent as strings, 64702345, 5, 0, 5
Handle boolean caps sent as strings, 64702345, 5, 0, 5
update appium-adb to fix ime tests, 64702345, 5, 0, 5
Merge pull request #3321 from moizjv/documentation  Adding documentation for running appium as admin on windows, 64702345, 5, 0, 5
Merge pull request #3322 from imurchie/isaac-selendroid-reset  Fix selendroid full reset, 64702345, 5, 0, 5
Fix selendroid full reset, 64702345, 5, 0, 5
update appium-adb to a version that works with npm, 64702345, 5, 0, 5
bump appium-uiauto to 1.6.5 to get around npm issue, 64702345, 5, 0, 5
Adding documentation for running appium as admin in windows, 64702345, 5, 0, 5
update appium-adb with changes including adb retry (fix #2995), 64702345, 5, 0, 5
update appium-uiauto to 1.6.3 with sendkeys changes (fix #1567), 64702345, 5, 0, 5
prevent keystore tests from running in ci, 64702345, 5, 0, 5
Merge pull request #3319 from moizjv/documentation  Fixing reset.bat and adding additional documentation running tests on windows, 64702345, 5, 0, 5
Fixing grunt-helper for windows, 64702345, 5, 0, 5
Adding instructions to run tests on windows, 64702345, 5, 0, 5
Merge pull request #3295 from Jonahss/javasamples  fixed up java sample code in docs, 64702345, 5, 0, 5
fixed up java sample code in docs, 64702345, 5, 0, 5
Merge pull request #3308 from imurchie/isaac-fix-location  Fix errant ref to this, 64702345, 5, 0, 5
Fix errant ref to this, 64702345, 5, 0, 5
Merge pull request #3302 from imurchie/isaac-keystore  Skip keystore tests in ci, 64702345, 5, 0, 5
add dev device setup instructions to ios real devices docs (fix #3273), 64702345, 5, 0, 5
Skip keystore tests in ci, 64702345, 5, 0, 5
Merge pull request #3276 from austenke/master  Moved location logic to location_in_view, 64702345, 5, 0, 5
Merge pull request #3290 from imurchie/isaac-tests  Fix Android tests for real device, 64702345, 5, 0, 5
Merge pull request #3292 from Jonahss/allxpath  Selecting all elements via XPath no longer mistakenly includes the root ..., 64702345, 5, 0, 5
Selecting all elements via XPath no longer mistakenly includes the root <hierarchy> node which was causing appium to error. Fixes #2548, 64702345, 5, 0, 5
Changed location functions to location_in_view  Changed deprecation message method  Routing fix  Deprecation message fixes  Small fixes  setLocation fixes  Fixed setLocation and renamed getLocationInView  Corrected getLocation call, 64702345, 5, 0, 5
Fix tests for real device, 64702345, 5, 0, 5
Merge pull request #3289 from jlipps/master  update selendroid to 0.11.0, 64702345, 5, 0, 5
update selendroid to 0.11.0, 64702345, 5, 0, 5
Merge pull request #3288 from imurchie/isaac-keystore  Fix handling of keystore creation, 64702345, 5, 0, 5
Fix handling of keystore creation, 64702345, 5, 0, 5
Merge pull request #3287 from moizjv/fix-2650  Adding retry for iOS screenshot, 64702345, 5, 0, 5
Adding retry for iOS screenshot, 64702345, 5, 0, 5
Merge pull request #3254 from Jonahss/master  added grunt-newer to only lint changed files, 64702345, 5, 0, 5
Merge pull request #3271 from Jonahss/instance  fix for xpath uses ClassName and Instance instead of Index, 64702345, 5, 0, 5
fix for xpath uses ClassName and Instance instead of Index, 64702345, 5, 0, 5
Merge pull request #3270 from moizjv/fix-2792  Adding fallback for finding app activity from AndroidManifest.xml, 64702345, 5, 0, 5
Adding fallback for finding app activity from AndroidManifest.xml and renaming strings_from_apk to appium_apk_tools, 64702345, 5, 0, 5
Merge pull request #3267 from erlendfh/resolve-ios-simulator-directory  Resolve iOS Simulator directory, 64702345, 5, 0, 5
add .ipa to list of downloadable app options (fix #3268), 64702345, 5, 0, 5
If we have more than one iOS simulator directory then try filtering out any that doesn't have an Applications folder, 64702345, 5, 0, 5
Merge pull request #3220 from erlendfh/ios-pushFile  Implemented pushFile for iOS controller, 64702345, 5, 0, 5
update appium-adb, 64702345, 5, 0, 5
fix error message (fix #3257), 64702345, 5, 0, 5
Merge pull request #3260 from jlipps/master  make appium device.stop use node-style callback, 64702345, 5, 0, 5
make appium device.stop use node-style callback this will add some logging for #3258, 64702345, 5, 0, 5
Implemented pushFile for iOS controller, 64702345, 5, 0, 5
added grunt-newer to only lint changed files, 64702345, 5, 0, 5
Merge pull request #3253 from jlipps/master  have safariIgnoreFraudWarning test actually test something (fix #3205), 64702345, 5, 0, 5
have safariIgnoreFraudWarning test actually test something (fix #3205), 64702345, 5, 0, 5
Merge pull request #3252 from jlipps/master  write some burn-in tests for android and ios, 64702345, 5, 0, 5
write some burn-in tests for android and ios fix #2801, 64702345, 5, 0, 5
Merge pull request #3243 from moizjv/fix-1228  Updating android version to android-19 and removing version 18 dependency, 64702345, 5, 0, 5
Updating android version to 19 and removing android-18 dependency, 64702345, 5, 0, 5
use correct shutdown call signature to fix real safari hanging on DELETE session fix #3244, 64702345, 5, 0, 5
remove duplicate line (fix #3245), 64702345, 5, 0, 5
Merge pull request #3249 from sebv/sim-log  sim log cleanup, 64702345, 5, 0, 5
sim log cleanup, 64702345, 5, 0, 5
Fix cucumber 404, 64702345, 5, 0, 5
Merge pull request #3240 from jlipps/master  add validation for port values to server (fix #3227), 64702345, 5, 0, 5
add validation for port values to server (fix #3227), 64702345, 5, 0, 5
Merge pull request #3239 from imurchie/isaac-touch  Fix handling of multiple taps, 64702345, 5, 0, 5
Merge pull request #3170 from sebv/localization  Fixed localization caps + added tests, 64702345, 5, 0, 5
Fix handling of multiple taps, 64702345, 5, 0, 5
fixing localization caps, 64702345, 5, 0, 5
Merge pull request #3216 from jsgithub1/defect/3215  fix issue #3215, 64702345, 5, 0, 5
Merge pull request #3228 from erlendfh/fix-xml-plist-parsing  XML plist parser returns a different structure than the binary plist parser, 64702345, 5, 0, 5
fix issue #3215, 64702345, 5, 0, 5
XML plist parser returns a different structure than the binary plist parser, 64702345, 5, 0, 5
announce that we know about the networkConnection api (fix #3233), 64702345, 5, 0, 5
update appium-adb and appium-uiauto with decent npm published versions, 64702345, 5, 0, 5
update setLocation method to use the correct spec params (fix #3229), 64702345, 5, 0, 5
Merge pull request #3200 from rgonalo/master  Add a unit test to check focused activity in API10, 64702345, 5, 0, 5
update appium-adb, 64702345, 5, 0, 5
Merge pull request #3219 from moizjv/fix-1228  Overriding UiAutomator method clear with custom implementation using correctLongTap and longer time intervals, 64702345, 5, 0, 5
Overriding UiAutomator method clear to replace it with custom implementation falling back if custom implementation fails, 64702345, 5, 0, 5
update appium-uiauto with fixes for #3217, 64702345, 5, 0, 5
Merge pull request #3190 from moizjv/fix-3146  Adding check for seledroid for internet permission present in apk, 64702345, 5, 0, 5
Merge pull request #3213 from imurchie/isaac-reset-caps  Add noReset and fullReset to capabilities, 64702345, 5, 0, 5
Merge pull request #3211 from imurchie/isaac-cert  Add tests for custom keystore and fix Selendroid handling, 64702345, 5, 0, 5
Add tests for custom keystore and fix Selendroid handling, 64702345, 5, 0, 5
Add noReset and fullReset to capabilities, 64702345, 5, 0, 5
Add a test to check focused activity in API10, 64702345, 5, 0, 5
Merge pull request #3199 from sebv/sauce-connect  ci: configured sauce connect, 64702345, 5, 0, 5
ci: configured sauce connect, 64702345, 5, 0, 5
Adding check for seledroid to see if apk has internet permission adding test for the same and updating appium-adb, 64702345, 5, 0, 5
Removing safari options by default so that it starts faster, 64702345, 5, 0, 5
make sure Appium() clones args rather than overwriting them otherwise default arg value checks will be messed up, 64702345, 5, 0, 5
for these tests to pass one after the other need to use a beforeEach, 64702345, 5, 0, 5
Merge pull request #3187 from imurchie/isaac-uiautomator-test  Fix uiautomator test, 64702345, 5, 0, 5
Fix uiautomator test, 64702345, 5, 0, 5
Merge pull request #3181 from paymand/localizable_strings_fix  Quick fix for Localizable.strings, 64702345, 5, 0, 5
Quick fix for Localizable.strings, 64702345, 5, 0, 5
Merge pull request #3151 from paymand/3150  Fix for #3150: Parse plist files as binary and XML., 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
Fix for #3150: Parse plist files as binary and XML., 64702345, 5, 0, 5
adding slack travis notification, 64702345, 5, 0, 5
Merge pull request #3147 from moizjv/documentation  Adding selendroid requires internet permission to documentation, 64702345, 5, 0, 5
Adding selendroid requires internet permission to documentation, 64702345, 5, 0, 5
Merge pull request #3127 from Erolstt/master  added robot framework contact example, 64702345, 5, 0, 5
Merge pull request #3135 from moizjv/documentation  Center aligning code blocks for appium.io and added instructions, 64702345, 5, 0, 5
Center aligning code blocks for appium.io and added instructions in how-to-write-docs.md, 64702345, 5, 0, 5
moving several picker wheels in ios unit tests, 64702345, 5, 0, 5
Merge pull request #3129 from sebv/http-callback  configurable callback address and port, 64702345, 5, 0, 5
configurable callback address and port, 64702345, 5, 0, 5
added robot framework contact example  robot framework contact example for android added, 64702345, 5, 0, 5
Merge pull request #3123 from jlipps/master  make sure setValue and getContexts respect custom selendroid port (fix #..., 64702345, 5, 0, 5
make sure setValue and getContexts respect custom selendroid port (fix #3050), 64702345, 5, 0, 5
Merge pull request #3060 from paymand/local_timestamps  Use local time for timestamps., 64702345, 5, 0, 5
Merge pull request #3116 from jlipps/master  there are more ways of not being a web context now, 64702345, 5, 0, 5
there are more ways of not being a web context now I don't think this is the fix but it could help with #3115, 64702345, 5, 0, 5
Added --local-timezone that uses local timezone for timestamps., 64702345, 5, 0, 5
add grid setup doc link (fix #3061), 64702345, 5, 0, 5
fix typo, 64702345, 5, 0, 5
Merge pull request #3110 from Jonahss/routefix  a couple random routes didn't have :sessionId as optional, 64702345, 5, 0, 5
a couple random routes didn't have :sessionId as optional, 64702345, 5, 0, 5
Merge pull request #3107 from imurchie/isaac-contexts  Fix handling of default context, 64702345, 5, 0, 5
don't use backtick-bash so code shows up in main slate window, 64702345, 5, 0, 5
fix doc links to use 'absolute' style path, 64702345, 5, 0, 5
Fix handling of default context, 64702345, 5, 0, 5
Merge pull request #3106 from jlipps/master  no need to care about window_handles anymore (fix #3105), 64702345, 5, 0, 5
no need to care about window_handles anymore (fix #3105), 64702345, 5, 0, 5
Merge pull request #3094 from sebv/deprecate-cn-doc  deprecated cn doc, 64702345, 5, 0, 5
deprecated cn doc, 64702345, 5, 0, 5
Merge pull request #3090 from imurchie/isaac-docsmisc  Fix misc. doc issues, 64702345, 5, 0, 5
Fix misc. doc issues, 64702345, 5, 0, 5
Merge pull request #3089 from jlipps/master  consolidate android setup instructions into one new file, 64702345, 5, 0, 5
consolidate android setup instructions into one new file, 64702345, 5, 0, 5
Merge pull request #3088 from Jonahss/documentation  appium-setup docs, 64702345, 5, 0, 5
appium-setup docs, 64702345, 5, 0, 5
some doc updates, 64702345, 5, 0, 5
indentation lint fix, 64702345, 5, 0, 5
Merge pull request #3070 from paymand/ios_app_setup  Proper install/uninstall when running on iOS device., 64702345, 5, 0, 5
Merge pull request #3086 from Jonahss/documentation  doc cleanup, 64702345, 5, 0, 5
doc cleanup, 64702345, 5, 0, 5
Merge pull request #3085 from imurchie/isaac-migration  Add languages for contexts, 64702345, 5, 0, 5
Merge pull request #3084 from sebv/conf-tracedir  Configurable traceDir + got rid of keepArtefacts/removeTraceDir arg, 64702345, 5, 0, 5
Merge pull request #3078 from moizjv/documentation  Fixing broken links and refactoring  for proper doc generation, 64702345, 5, 0, 5
Add languages for contexts, 64702345, 5, 0, 5
configurable traceDir + got rid of keepArtefacts/removeTraceDir arg, 64702345, 5, 0, 5
fixup! Proper install/uninstall when running on iOS device., 64702345, 5, 0, 5
Merge pull request #3079 from sebv/tmp-dir  appium-instruments and appium-uiauto know about tmpDir, 64702345, 5, 0, 5
appium-instruments and appium-uiauto know about tmpDir, 64702345, 5, 0, 5
Fixing broken links and refactoring  for proper doc generation, 64702345, 5, 0, 5
Merge pull request #3077 from Jonahss/documentation  hybrid app doc update, 64702345, 5, 0, 5
hybrid app doc update, 64702345, 5, 0, 5
Merge pull request #3076 from Jonahss/documentation  intro doc update, 64702345, 5, 0, 5
intro doc update, 64702345, 5, 0, 5
Merge pull request #3074 from edgy360/master  Update the documentation for real devices, 64702345, 5, 0, 5
Merge pull request #3075 from Jonahss/documentation  client library docs, 64702345, 5, 0, 5
client library docs, 64702345, 5, 0, 5
Updated the documentation to make the app requirements for using a real device clearer. [ci skip], 64702345, 5, 0, 5
Merge pull request #3073 from imurchie/isaac-miscdocs  Miscellaneous doc fixes, 64702345, 5, 0, 5
add noReset and fullReset caps to docs, 64702345, 5, 0, 5
Miscellaneous doc fixes, 64702345, 5, 0, 5
Merge pull request #3068 from sebv/implicit-timeout  resetting commandTimeout at each step of the implicitTimeout cycle, 64702345, 5, 0, 5
Merge pull request #3058 from moizjv/documentation  Adding support for hierarchical documentation for appium.io, 64702345, 5, 0, 5
Proper install/uninstall when running on iOS device.  - Install the app only if it is not installed or fullReset is requested. - Uninstall the app only if fullReset is requested., 64702345, 5, 0, 5
resetting commandTimeout at each step of the implicitTimeout cycle, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
appium-uiauto + package update, 64702345, 5, 0, 5
Merge pull request #3065 from sebv/working  Transparent response builder in uiauto., 64702345, 5, 0, 5
disabling doc lint ci, 64702345, 5, 0, 5
upgraded to appium-uiauto v1.5.0, 64702345, 5, 0, 5
Merge pull request #3063 from sebv/device-string  deviceString improvements, 64702345, 5, 0, 5
deviceString improvements, 64702345, 5, 0, 5
Refactoring of documentation, 64702345, 5, 0, 5
Merge pull request #3056 from jlipps/master  bring back autoLaunch: false (fix #2629 fix #3045), 64702345, 5, 0, 5
bring back autoLaunch: false (fix #2629 fix #3045), 64702345, 5, 0, 5
Merge pull request #3054 from jlipps/master  make sure we only check for safari7 dirs in ios7.x (fix #3053), 64702345, 5, 0, 5
added element conversion examples, 64702345, 5, 0, 5
make sure we only check for safari7 dirs in ios7.x (fix #3053), 64702345, 5, 0, 5
Merge pull request #3052 from imurchie/isaac-nodesample  Fix webview name in node Android sample, 64702345, 5, 0, 5
Fix webview name in node Android sample, 64702345, 5, 0, 5
added protractor bridge example, 64702345, 5, 0, 5
node sample fix, 64702345, 5, 0, 5
Merge pull request #3051 from sebv/working  added selenium-webdriver bridge sample, 64702345, 5, 0, 5
added selenium-webdriver bridge sample, 64702345, 5, 0, 5
Merge pull request #3046 from imurchie/isaac-docs2  Add labels to embedded sample code, 64702345, 5, 0, 5
Add labels to embedded sample code, 64702345, 5, 0, 5
Merge pull request #3044 from tonetheman/chromedriverKill  ps in kill chromedriver added -f switch and moved awk to  since pid will..., 64702345, 5, 0, 5
ps in kill chromedriver added -f switch and moved awk to  since pid will be second for linux and mac, 64702345, 5, 0, 5
update selendroid-simple test so it passes, 64702345, 5, 0, 5
make a troubleshooting note about preparing safari directory [ci skip], 64702345, 5, 0, 5
make a note about custom controls [ci skip], 64702345, 5, 0, 5
add info to troubleshooting [ci skip], 64702345, 5, 0, 5
Merge pull request #3041 from imurchie/isaac-ime  Fix handling of ime activation, 64702345, 5, 0, 5
Fix handling of ime activation, 64702345, 5, 0, 5
changelog and bump to 1.2.0 for publish, 64702345, 5, 0, 5
Merge pull request #3031 from jlipps/master  fix installApp name conflict and add tests (fix #3030), 64702345, 5, 0, 5
fix installApp name conflict and add tests (fix #3030), 64702345, 5, 0, 5
ugprade wd, 64702345, 5, 0, 5
Merge pull request #3013 from knorrium/patch-1  Address the Task "setGitRev" not found error, 64702345, 5, 0, 5
Merge pull request #3025 from sebv/style-guide  added jscs to style guide, 64702345, 5, 0, 5
added jscs to style guide, 64702345, 5, 0, 5
Merge pull request #3007 from bootstraponline/fix_scroll_into_view  Fix scroll into view, 64702345, 5, 0, 5
added doc js scrollTo code, 64702345, 5, 0, 5
Merge pull request #3014 from sebv/doc-readme  added README files in docs dir pointing to the doc site., 64702345, 5, 0, 5
added README files in docs dir pointing to the doc site., 64702345, 5, 0, 5
Merge pull request #3019 from appium/doc-fixes  doc fixes, 64702345, 5, 0, 5
Merge pull request #3018 from sebv/doc-js  Added/fixed doc js sample code., 64702345, 5, 0, 5
doc fixes, 64702345, 5, 0, 5
added/fixed doc js sample code., 64702345, 5, 0, 5
Merge pull request #3017 from sebv/sample-code  sample code update, 64702345, 5, 0, 5
sample code update, 64702345, 5, 0, 5
Merge pull request #3012 from imurchie/isaac-docs  Add documentation of unicode support, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
Address the Task "setGitRev" not found error  Documenting the fix for the `Task "setGitRev" not found" error as discussed on this thread https://groups.google.com/d/msg/appium-discuss/sVpuR8uaEXQ/LJUW4HII9OQJ, 64702345, 5, 0, 5
Add documentation of unicode support, 64702345, 5, 0, 5
Merge pull request #3010 from imurchie/isaac-apidemos  Update ApiDemos submodule; update reset to use io.appium.android.api package, 64702345, 5, 0, 5
Update ApiDemos submodule; update reset to use io.appium.android.api package, 64702345, 5, 0, 5
Fix scroll into view  If the desired object already exists on screen then avoid scrolling to it. Without this check the server will error because there may not be a scrollable.  Scrollable existance depends on screen size. For testing it's better to have code that works regardless if scrolling is required or not. This matches the complex_find behavior., 64702345, 5, 0, 5
Merge pull request #2944 from Jonahss/documentation  Documentation, 64702345, 5, 0, 5
Merge pull request #3001 from sebv/duplicate-field  Duplicate fix which doesn't break XPath, 64702345, 5, 0, 5
duplicate fix which doesn't break XPath, 64702345, 5, 0, 5
Merge pull request #2994 from bootstraponline/update_uiauto  Update uiauto with dupe fix, 64702345, 5, 0, 5
Update uiauto with dupe fix, 64702345, 5, 0, 5
touch-actions.md doc now explains the new TouchAction api, 64702345, 5, 0, 5
Merge pull request #2993 from moizjv/documentation  Refactoring documentation ios_predicate.md, 64702345, 5, 0, 5
Refactoring documentation ios_predicate.md, 64702345, 5, 0, 5
Merge pull request #2992 from moizjv/master  Updating io.appium.android.ime submodule to latest commits, 64702345, 5, 0, 5
Updating io.appium.android.ime submodule to latest commits, 64702345, 5, 0, 5
Merge pull request #2991 from bootstraponline/update_adb  Update adb, 64702345, 5, 0, 5
Update adb, 64702345, 5, 0, 5
Merge pull request #2988 from sebv/duplicate-field  Duplicate field fix, 64702345, 5, 0, 5
duplicate field fix, 64702345, 5, 0, 5
Merge pull request #2987 from sebv/grace-delay  Disabled ios grace delay simplified bootstrap, 64702345, 5, 0, 5
disabled ios grace delay simplified bootstrap, 64702345, 5, 0, 5
Merge pull request #2972 from imurchie/isaac-docs2  Add network connection doc, 64702345, 5, 0, 5
Merge pull request #2976 from moizjv/documentation  Updating java code snippet and refactoring for hybrid.md, 64702345, 5, 0, 5
Updating java code snippet and refactoring, 64702345, 5, 0, 5
Merge pull request #2965 from imurchie/isaac-unicodefix  Fix exit from unicode mode, 64702345, 5, 0, 5
Add network connection doc, 64702345, 5, 0, 5
uiauto-update, 64702345, 5, 0, 5
Fix exit from unicode mode, 64702345, 5, 0, 5
Merge pull request #2968 from sebv/server-crash  Generic method to avoid server crash., 64702345, 5, 0, 5
Generic method to avoid server crash., 64702345, 5, 0, 5
Merge pull request #2937 from paymand/selendroid_default_context  Init the current context as NATIVE_APP for Selendroid., 64702345, 5, 0, 5
Merge pull request #2945 from imurchie/isaac-networkconnection  Add network connection endpoint, 64702345, 5, 0, 5
Merge pull request #2960 from moizjv/fix-2959  Adding additional check to if shutdown is already in process, 64702345, 5, 0, 5
making sure all pageload timeout are cleared., 64702345, 5, 0, 5
preventing pageLoad cbs being called twice, 64702345, 5, 0, 5
Adding additional check to if shutdown is already in process, 64702345, 5, 0, 5
Merge pull request #2958 from moizjv/java-samples  Documentation update for android hide keyboard, 64702345, 5, 0, 5
Documentation update for android hide keyboard, 64702345, 5, 0, 5
Merge pull request #2957 from moizjv/java-samples  Adding Java snippets to documentation, 64702345, 5, 0, 5
Adding Java snippets to documentation, 64702345, 5, 0, 5
Add network connection endpoint, 64702345, 5, 0, 5
Merge pull request #2939 from bootstraponline/scroll_into_view  Add scrollIntoView, 64702345, 5, 0, 5
Merge pull request #2955 from imurchie/isaac-docs  Add PHP code snippets to docs, 64702345, 5, 0, 5
Add scrollIntoView  Example:   a =  find_element(:uiautomator 'new UiScrollable(new UiSelector().scrollable(true).instance(0)).scrollIntoView(new UiSelector().text("WebView").instance(0));')   a.text # WebView, 64702345, 5, 0, 5
Add PHP code snippets to docs, 64702345, 5, 0, 5
Moved default loglevel to debug added loglevel info message at startup, 64702345, 5, 0, 5
Merge pull request #2953 from sebv/better-logging  Logging improvements, 64702345, 5, 0, 5
Logging improvements, 64702345, 5, 0, 5
Remove touch up/down/move from routeNotYetImplemented., 64702345, 5, 0, 5
package update, 64702345, 5, 0, 5
Merge pull request #2943 from Jonahss/tidyup  add test for find by UiAutomator from context, 64702345, 5, 0, 5
add test for UiAutomator from context, 64702345, 5, 0, 5
Merge pull request #2941 from bootstraponline/fix_contributing  Fix contributing, 64702345, 5, 0, 5
Fix contributing, 64702345, 5, 0, 5
Init the current context as NATIVE_APP for Selendroid., 64702345, 5, 0, 5
README update [ci skip], 64702345, 5, 0, 5
use an appium-adb that works, 64702345, 5, 0, 5
prime ios screenshot command with correct orientation (fix #722) cc @edgy360, 64702345, 5, 0, 5
make sure we wait for location services ios files too, 64702345, 5, 0, 5
Merge pull request #2931 from Jonahss/tidyup  added accessibility id to element in webview sample app, 64702345, 5, 0, 5
added accessibility id to element in webview sample app, 64702345, 5, 0, 5
fix launchAndQuit to actually wait for safari dirs if we need them, 64702345, 5, 0, 5
update appium-adb, 64702345, 5, 0, 5
Merge pull request #2920 from imurchie/isaac-unicode  Add Android/Selendroid IME methods, 64702345, 5, 0, 5
Add Android/Selendroid IME methods, 64702345, 5, 0, 5
Merge pull request #2922 from Mikrovolnovka/mikrovolnovka  Extending avoidProxy to make it possible make requests to all mobile-spe..., 64702345, 5, 0, 5
Merge pull request #2917 from edgy360/IntentParser  Add server arguments for intent options, 64702345, 5, 0, 5
fix typo, 64702345, 5, 0, 5
Merge pull request #2929 from jlipps/master  allow users to bypass appium's sudo checks, 64702345, 5, 0, 5
allow users to bypass appium's sudo checks so people who know what they're doing can do crazy things partially works around #1902, 64702345, 5, 0, 5
fixed bodyParser.urlencoded deprecation warning, 64702345, 5, 0, 5
Extending avoidProxy to make it possible make requests to all mobile-specific appium requests from e2e tests code., 64702345, 5, 0, 5
package update, 64702345, 5, 0, 5
test fixes, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
Added arguments for intent options., 64702345, 5, 0, 5
test fixes, 64702345, 5, 0, 5
make sure we do a value check, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
fixing comma, 64702345, 5, 0, 5
Merge pull request #2913 from sebv/hide-keyboard  hideKeyboard update, 64702345, 5, 0, 5
hideKeyboard update, 64702345, 5, 0, 5
Merge pull request #2905 from sebv/test-fix  test fix, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
q is not a devDependency, 64702345, 5, 0, 5
Merge pull request #2902 from jlipps/master  get rid of forceQuitInstruments (fix #2901), 64702345, 5, 0, 5
get rid of forceQuitInstruments (fix #2901), 64702345, 5, 0, 5
Merge pull request #2875 from moizjv/fix-2026  Adding new capabilities to startApp in android adb updating adb.startApp in appium adding a test and updating package.jsoncaps.md and appium-adb submodule., 64702345, 5, 0, 5
Adding new intent parameters with default values added object as parameter to startApp added test to start app with intent category updated capabilities.md updated sub-module appium-adb to point to v1.1.0 and updated package.json, 64702345, 5, 0, 5
Merge pull request #2889 from Jonahss/launchAndKill  launchAndKill checks for simulator directories to be present before fina..., 64702345, 5, 0, 5
launchAndKill checks for simulator directories to be present before finally killing. Fixes 2612, 64702345, 5, 0, 5
use node-style callbacks and fix undefined logic, 64702345, 5, 0, 5
Merge pull request #2892 from sebv/new-commands  update for new uiauto command processing, 64702345, 5, 0, 5
update for new uiauto command processing, 64702345, 5, 0, 5
moving appium-instruments appium-uiauto commit reference, 64702345, 5, 0, 5
Merge pull request #2887 from edgy360/master  Add 'Scroll To' to code examples, 64702345, 5, 0, 5
Added 'Scroll To' to code examples for Ruby Python and Java for appium/appium.io#32. [ci skip], 64702345, 5, 0, 5
Merge pull request #2880 from rickihastings/patch-1  Detect architecture type on linux, 64702345, 5, 0, 5
equalsWebElement is not supported on android, 64702345, 5, 0, 5
Merge pull request #2888 from Jonahss/smallFix  removed old comment, 64702345, 5, 0, 5
removed old comment, 64702345, 5, 0, 5
Detect architecture type on linux  We should detecting architecture type because chromedriver can have problems running 32bit if the required libraries aren't available on a 64bit OS., 64702345, 5, 0, 5
Merge pull request #2876 from sebv/refactoring  big code refactoring disentangling packages, 64702345, 5, 0, 5
big code refactoring disentangling packages, 64702345, 5, 0, 5
remove vestigial -real xpath strategy, 64702345, 5, 0, 5
Merge pull request #2854 from Jonahss/pullFolder  added Pull folder fixes #1807, 64702345, 5, 0, 5
Implemented pullFolder for iOS and android, 64702345, 5, 0, 5
Merge pull request #2870 from moizjv/fix-2026-intermediate  Fixing the breaking tests due to adb-1.0.3 auto-update. Now pointing to exact 1.0.2 instead of approximate version, 64702345, 5, 0, 5
Fixing the breaking tests due to adb-1.0.3 update, 64702345, 5, 0, 5
package upgrade, 64702345, 5, 0, 5
Merge pull request #2862 from sebv/uiauto-refactoring  Upgrading appium-uiauto, 64702345, 5, 0, 5
upgrading appium-uiauto, 64702345, 5, 0, 5
code cleanup, 64702345, 5, 0, 5
Merge pull request #2860 from sebv/fixes  Fixes, 64702345, 5, 0, 5
reducing safari flakiness/ fixing safari tests, 64702345, 5, 0, 5
execute test fix, 64702345, 5, 0, 5
Merge pull request #2859 from sebv/prelaunch-fix  Prelaunch fix, 64702345, 5, 0, 5
prelaunch fix, 64702345, 5, 0, 5
Merge pull request #2857 from edgy360/master  Update Windows and OS X documentation, 64702345, 5, 0, 5
Updated Windows and OS X documentation. [ci skip], 64702345, 5, 0, 5
Merge pull request #2820 from edgy360/master  Update documentation for running tests on real devices, 64702345, 5, 0, 5
Updated documentation for running tests on real devices. [ci skip], 64702345, 5, 0, 5
Update hybrid.md, 64702345, 5, 0, 5
bring back gestures md this needs to be reorganized but at least the content is here, 64702345, 5, 0, 5
Merge pull request #2852 from paymand/chromium_context  Don't call getProcessNameFromWebview for non WEBVIEW_* contexts., 64702345, 5, 0, 5
Don't call getProcessNameFromWebview for non WEBVIEW_* contexts., 64702345, 5, 0, 5
skipping ci test, 64702345, 5, 0, 5
Merge pull request #2848 from sebv/ci-fix  Bugfix: reset, 64702345, 5, 0, 5
bugfix: reset, 64702345, 5, 0, 5
Merge pull request #2846 from sebv/mechanic-upgrade  Mechanic + uiauto upgrade, 64702345, 5, 0, 5
mechanic + uiauto upgrade, 64702345, 5, 0, 5
Merge pull request #2845 from sebv/package-upgrade  upgrade to uiauto v1.1.0, 64702345, 5, 0, 5
upgrade to uiauto v1.1.0, 64702345, 5, 0, 5
Merge pull request #2842 from Jonahss/browserNameRequired  deviceName is required unrecognized caps get logged to console. fixes #..., 64702345, 5, 0, 5
deviceName is required unrecognized caps get logged to console. fixes #2765, 64702345, 5, 0, 5
Merge pull request #2832 from imurchie/isaac-autowebview  Add autoWebview capability, 64702345, 5, 0, 5
Add autoWebview capability, 64702345, 5, 0, 5
fix android webview tests, 64702345, 5, 0, 5
Merge pull request #2834 from bootstraponline/fix_id  Improve find by id on Android, 64702345, 5, 0, 5
Improve find by id on Android  The old code used exists() which is expensive because we're finding the element more than once., 64702345, 5, 0, 5
Merge pull request #2836 from sebv/alert-fix  alert test fix, 64702345, 5, 0, 5
alert test fix, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
Merge pull request #2807 from Jonahss/uiautomatorSelectorUpdate  Uiautomator selector update fixes #2264, 64702345, 5, 0, 5
deprecated 'dynamic' locator strategy. fixed strategy deprecation code., 64702345, 5, 0, 5
added UiScrollable support to -android uiautomator locator strategy, 64702345, 5, 0, 5
socket.io socket objects don't have log level settings anymore (cc @sebv), 64702345, 5, 0, 5
updated android_uiautomator selector tests to use ByAndroidUiAutomator method, 64702345, 5, 0, 5
README update [ci skip], 64702345, 5, 0, 5
Merge pull request #2830 from sebv/working  Better dotnet samples, 64702345, 5, 0, 5
better dotnet samples, 64702345, 5, 0, 5
Merge pull request #2827 from sebv/zipped-app-fix  Fixing iOS zip upload, 64702345, 5, 0, 5
Fixing iOS zip upload, 64702345, 5, 0, 5
make sure people know dev dependencies are different (fix #1197), 64702345, 5, 0, 5
Merge pull request #2819 from jlipps/master  make sure UNZIP env var doesn't confuse code, 64702345, 5, 0, 5
exclude more files so JSCS passes, 64702345, 5, 0, 5
make sure UNZIP env var doesn't confuse our code fix #1173, 64702345, 5, 0, 5
Merge pull request #2817 from bootstraponline/add_package_to_webview_context  Add package to Android webview context, 64702345, 5, 0, 5
Merge pull request #2802 from imurchie/isaac-pythonsamples  Update Python samples, 64702345, 5, 0, 5
Add package to Android webview context, 64702345, 5, 0, 5
fixing sample [ci skip], 64702345, 5, 0, 5
Merge pull request #2813 from sebv/ci-fix  Enabling travis email notification, 64702345, 5, 0, 5
enabling travis email notification, 64702345, 5, 0, 5
Merge pull request #2810 from sebv/ci-fix  fixing ci, 64702345, 5, 0, 5
fixing ci, 64702345, 5, 0, 5
Merge pull request #2808 from sebv/dev-with-ci  wd upgrade updated node touch action api, 64702345, 5, 0, 5
wd upgrade updated node touch action api, 64702345, 5, 0, 5
Update Python samples, 64702345, 5, 0, 5
Merge pull request #2806 from moizjv/fix-2021  Adding hideSoftKeyboard functionality  for android updating package.json and updating ..., 64702345, 5, 0, 5
Adding hideSoftKeyboard for android updating package.json and updating appium-adb submodule, 64702345, 5, 0, 5
Merge pull request #2803 from bootstraponline/debug_default_log_level  Set most verbose log level as default, 64702345, 5, 0, 5
Set most verbose log level as default, 64702345, 5, 0, 5
document processArgument cap fix #2779, 64702345, 5, 0, 5
Merge pull request #2799 from bootstraponline/java_clean_up  Clean up Java server code, 64702345, 5, 0, 5
Clean up Java server code, 64702345, 5, 0, 5
Update README [ci skip], 64702345, 5, 0, 5
Merge pull request #2796 from sebv/sample-rewrite  Node.js sample rewrite, 64702345, 5, 0, 5
node.js sample rewrite, 64702345, 5, 0, 5
adding UICatalog7.1.app.zip to assets [ci skip], 64702345, 5, 0, 5
adding/renaming assets [ci skip], 64702345, 5, 0, 5
renaming TestApp zipped asset [ci skip], 64702345, 5, 0, 5
Add cucumber example for cross platform env.rb, 64702345, 5, 0, 5
Merge pull request #2789 from bootstraponline/simple_api_check  Simplify API checks, 64702345, 5, 0, 5
fail if we need to parse package/activity but can't also add some more logging so we know what's going on, 64702345, 5, 0, 5
Simplify API checks, 64702345, 5, 0, 5
Merge pull request #2788 from bootstraponline/fix_android_id  Fix id search on Android, 64702345, 5, 0, 5
Fix id search on Android, 64702345, 5, 0, 5
add test for sessionOverride, 64702345, 5, 0, 5
Merge pull request #2785 from fbai/patch-1  Remove setting sessionOverride to false, 64702345, 5, 0, 5
Merge pull request #2782 from moizjv/fix-2752  Adding additional checks in doctor/dev.js and updating contributing.md, 64702345, 5, 0, 5
Remove setting sessionOverride to false  Remove setting sessionOverride to false when cleaning up the session. This parameter should left as it is. Users may specify this value to true in the args when starting Appium server. However once a session is cleared this parameter would be as it was instead of setting it to false., 64702345, 5, 0, 5
Adding additional checks in doctor/dev.js and updating contributing.md, 64702345, 5, 0, 5
Merge pull request #2783 from jlipps/master  allow pushStrings to work with 'app' as package not just file, 64702345, 5, 0, 5
allow pushStrings to work with 'app' as package not just file fix #2749 and add tests also fix tryNTimes I think it was vacuously succeeding all the time (cc @sebv), 64702345, 5, 0, 5
Merge pull request #2435 from emakiej/support_chromium_context  Support for CHROMIUM context for embedded Chromium., 64702345, 5, 0, 5
upgrade wd and add test for getAppStrings, 64702345, 5, 0, 5
Merge pull request #2781 from curtissiemens/master  Fix parsing of device log lines, 64702345, 5, 0, 5
Parsing date from device log lines using regex to handle splitting on 1 or more spaces because date strings for days 1->9 look like "June  9 14:30:43" and splitting on single space was incorrect., 64702345, 5, 0, 5
Support for CHROMIUM context for embedded Chromium.  Enables switching between NATIVE_APP and CHROMIUM contexts. Works for both backends: UIAutomator and Selendroid. It's intended to work for any Chromium embedding app under the following conditions: - user has to make sure the devtools socket is open - user may need to provide a webdriver working with his app (probably deriving from chromedriver) - user needs to use some additional capabilities: 'android-device-socket' 'chromedriver-executable' (optional) 'special-chromedriver-session-args' (optional), 64702345, 5, 0, 5
Merge pull request #2777 from paymand/appium_adb  Fixed the url for appium-adb submodule., 64702345, 5, 0, 5
Merge pull request #2776 from sebv/app-url  Better app url handling, 64702345, 5, 0, 5
Fixed the url for appium-adb submodule., 64702345, 5, 0, 5
Added TestApp.zip asset, 64702345, 5, 0, 5
better app url handling, 64702345, 5, 0, 5
Merge pull request #2748 from imurchie/isaac-notifications  Add support for opening notifications in Android, 64702345, 5, 0, 5
Add support for opening notifications in Android, 64702345, 5, 0, 5
adding tag when greening jobs, 64702345, 5, 0, 5
Merge pull request #2762 from sebv/improved-ci  Making all ci tools executable, 64702345, 5, 0, 5
making all ci tools executable, 64702345, 5, 0, 5
Merge pull request #2760 from sebv/improved-ci  Improving ci tools., 64702345, 5, 0, 5
improving ci tools., 64702345, 5, 0, 5
Merge pull request #2758 from sebv/better-logging  Better logging, 64702345, 5, 0, 5
Merge pull request #2759 from sebv/package-update  Upgrading subpackages, 64702345, 5, 0, 5
upgrading subpackages, 64702345, 5, 0, 5
Improving logging, 64702345, 5, 0, 5
Merge pull request #2737 from bootstraponline/remove_old_doc  Remove emma/ant coverage doc, 64702345, 5, 0, 5
Merge pull request #2731 from sebv/dynamic-bootstrap  Dynamic bootstrap + minor changes, 64702345, 5, 0, 5
Merge pull request #2754 from bootstraponline/app_strings  Fix app_strings, 64702345, 5, 0, 5
Fix app_strings, 64702345, 5, 0, 5
Merge pull request #2736 from imurchie/isaac-multiaction-fix  Add error handling for invalid multi pointer gestures, 64702345, 5, 0, 5
dynamic bootstrap + minor changes, 64702345, 5, 0, 5
Merge pull request #2745 from sebv/green-tool  Added tool to manually green the build in case of flakes or retries, 64702345, 5, 0, 5
Added tool to manually green the build in case of flakes or retries [ci skip], 64702345, 5, 0, 5
Merge pull request #2742 from sebv/ci-update  CI: improving build upload, 64702345, 5, 0, 5
ci: improving build upload, 64702345, 5, 0, 5
Merge pull request #2741 from sebv/package-update  Package update, 64702345, 5, 0, 5
package update, 64702345, 5, 0, 5
Merge pull request #2739 from sebv/appium-adb-package  Extracted appium-adb npm package, 64702345, 5, 0, 5
extracted appium-adb npm package, 64702345, 5, 0, 5
Remove emma/ant coverage doc  jacoco/gradle is the official way to get coverage from Android. https://code.google.com/p/android/issues/detail?id=60964, 64702345, 5, 0, 5
Add error handling for invalid multi pointer gestures, 64702345, 5, 0, 5
Merge pull request #2729 from imurchie/isaac-installapp  Fix error handling in installApp, 64702345, 5, 0, 5
Merge pull request #2727 from bootstraponline/ruby_sample  Fix Ruby sample code so it works on Sauce Labs, 64702345, 5, 0, 5
Merge pull request #2724 from testerhome/master  translate the new added docs and modify ios_simple.py, 64702345, 5, 0, 5
Fix error handling in installApp, 64702345, 5, 0, 5
Remove badges from docs readme, 64702345, 5, 0, 5
translate the new added docs, 64702345, 5, 0, 5
Fix Ruby sample code so it works on Sauce Labs  Add Android cucumber example  Fix #1458, 64702345, 5, 0, 5
Merge pull request #2726 from edgy360/master  Update version numbers and newlines in docs, 64702345, 5, 0, 5
Updated references from iOS 6.1 to iOS 7.1 and references from Android 4.2 to Android 4.4. [ci skip], 64702345, 5, 0, 5
Updated required node.js version to 0.10 (based upon information in README). [ci skip], 64702345, 5, 0, 5
Added missing newlines to end of docs files. [ci skip], 64702345, 5, 0, 5
Add links to Appium.app and Appium.exe in intro document. [ci skip], 64702345, 5, 0, 5
Merge pull request #2722 from imurchie/isaac-python  Update python samples for --strict-caps, 64702345, 5, 0, 5
Merge pull request #2723 from sebv/test-fixes  Bugfixes / test fixes (fixing ci), 64702345, 5, 0, 5
bugfixes / test fixes (fixing ci), 64702345, 5, 0, 5
Update python samples for --strict-caps, 64702345, 5, 0, 5
Merge pull request #2717 from jlipps/master  ensure we don't get extraneous bits when finding activity, 64702345, 5, 0, 5
Merge pull request #2718 from jlipps/strict-caps  add --strict-caps mode, 64702345, 5, 0, 5
ensure we don't get extraneous bits when finding activity fix #2507, 64702345, 5, 0, 5
add --strict-caps mode the server will error sessions which provide invalid caps or don't provid valid ones fix #2500, 64702345, 5, 0, 5
Merge pull request #2390 from himukin/master  new cmd line option for specifying the relative path of the dir where Localizable.strings file resides, 64702345, 5, 0, 5
Merge pull request #2712 from bootstraponline/dedupe_complex_find  Dedupe complex find, 64702345, 5, 0, 5
Merge pull request #2714 from imurchie/isaac-pythonsamples  Add python sample accessing webview, 64702345, 5, 0, 5
update apidemos, 64702345, 5, 0, 5
Add python sample accessing webview, 64702345, 5, 0, 5
Add dedupe for complex_find, 64702345, 5, 0, 5
Merge pull request #2710 from sebv/test-fixes  Test fixes, 64702345, 5, 0, 5
test fixes, 64702345, 5, 0, 5
Merge pull request #2709 from sebv/package-upgrade  wd and yiewd upgrade, 64702345, 5, 0, 5
wd and yiewd upgrade, 64702345, 5, 0, 5
Merge pull request #2708 from sebv/fix-ci  Fixing ci, 64702345, 5, 0, 5
fixing ci, 64702345, 5, 0, 5
note that language/locale work for android too, 64702345, 5, 0, 5
Merge pull request #2707 from jdeff/bug/2593  Check accessibility identifier first for the id strategy, 64702345, 5, 0, 5
Check for accessibility id matching selector first and then fall back to string match., 64702345, 5, 0, 5
Merge pull request #2703 from imurchie/isaac-md5  Handle error in md5 calculation, 64702345, 5, 0, 5
Handle error in md5 calculation, 64702345, 5, 0, 5
Merge pull request #2700 from sebv/package-update  package update downgraded q upgraded socket.io, 64702345, 5, 0, 5
Merge pull request #2706 from jlipps/master  allow setting of tmp dir appium uses via --tmp flag, 64702345, 5, 0, 5
allow setting of tmp dir appium uses via --tmp flag, 64702345, 5, 0, 5
update appium-uiauto to 0.0.20, 64702345, 5, 0, 5
New dependency badge., 64702345, 5, 0, 5
package update downgraded q upgraded socket.io, 64702345, 5, 0, 5
Removing gemnasium badge [ci skip], 64702345, 5, 0, 5
Merge pull request #2633 from jfk-urbandaddy/jfk-location-keepAppToRetainPrefs  Also protect deleting location plists with keepAppToRetainPrefs., 64702345, 5, 0, 5
update appium-uiauto package and submodule, 64702345, 5, 0, 5
Merge pull request #2673 from paymand/long_press_keycode  Renamed keyevent to press_keycode and added long_press_keycode., 64702345, 5, 0, 5
Renamed keyevent to press_keycode and added long_press_keycode., 64702345, 5, 0, 5
Merge pull request #2687 from sebv/express-4  Migrated to express 4, 64702345, 5, 0, 5
Merge pull request #2695 from sebv/quick-selendroid  Faster selendroid installer + faster ci., 64702345, 5, 0, 5
Merge pull request #2696 from curtissiemens/master  Do not filter out system.log lines that do not have dates, 64702345, 5, 0, 5
Adding state flag so device/simulator system.log lines that do not have dates do not always get filtered out even if they are new log lines., 64702345, 5, 0, 5
Faster selendroid installer + faster ci., 64702345, 5, 0, 5
allow automation of chrome beta, 64702345, 5, 0, 5
changelog and bump to 1.1.0 for publish, 64702345, 5, 0, 5
Merge pull request #2666 from edgy360/master  Update capability names in sample code, 64702345, 5, 0, 5
Merge pull request #2689 from bootstraponline/complex_find  Update complex find with new uiautomator constants, 64702345, 5, 0, 5
Update complex find with new uiautomator constants, 64702345, 5, 0, 5
migrated to express 4, 64702345, 5, 0, 5
Merge pull request #2686 from sebv/node-example-fixes  Node.js example fixes, 64702345, 5, 0, 5
node.js examples fixes, 64702345, 5, 0, 5
Merge pull request #2675 from sah/patch-1  add instruments-without-delay to credits, 64702345, 5, 0, 5
add instruments-without-delay to credits, 64702345, 5, 0, 5
Merge pull request #2671 from sebv/master  Upgraded all packages but express, 64702345, 5, 0, 5
upgraded all packages but express, 64702345, 5, 0, 5
Adding sauce badges [ci skip], 64702345, 5, 0, 5
Merge pull request #2670 from sebv/master  CI: build id + expected fails + grouped selendroid and gappium, 64702345, 5, 0, 5
ci: build id + expected fails + grouped selendroid and gappium, 64702345, 5, 0, 5
Merge pull request #2667 from sebv/master  Boosting ci, 64702345, 5, 0, 5
boosting ci, 64702345, 5, 0, 5
Updated capability names in sample code., 64702345, 5, 0, 5
Merge pull request #2664 from sebv/master  Various test fixes and improvements, 64702345, 5, 0, 5
Merge pull request #2663 from gempesaw/perl-examples  Interested in adding perl code samples ?, 64702345, 5, 0, 5
various test fixes and improvements, 64702345, 5, 0, 5
Add perl code sample of a simple iOS test, 64702345, 5, 0, 5
Merge pull request #2661 from Jonahss/master  revert changelog and package updates for 1.1.0. Wasn't able to release (..., 64702345, 5, 0, 5
revert changelog and package updates for 1.1.0. Wasn't able to release (missing provisioning profile for SafariLauncher), 64702345, 5, 0, 5
Merge pull request #2659 from Jonahss/master  changelog for 1.1.0, 64702345, 5, 0, 5
changelog for 1.1.0, 64702345, 5, 0, 5
Merge pull request #2657 from bootstraponline/npe_fix  Fix DumpWindowHierarchy NullPointerException, 64702345, 5, 0, 5
Fix DumpWindowHierarchy NullPointerException, 64702345, 5, 0, 5
Merge pull request #2654 from bootstraponline/uninstall_fix  uninstall before install, 64702345, 5, 0, 5
Merge pull request #2651 from bootstraponline/prattpratt_doc  Add doc written by @prattpratt, 64702345, 5, 0, 5
Merge pull request #2656 from Jonahss/master  update to 1.1.0, 64702345, 5, 0, 5
update to 1.1.0, 64702345, 5, 0, 5
uninstall before install remote apk, 64702345, 5, 0, 5
Add doc written by @prattpratt  Tweaked syntax. Added section on appium predicate helpers, 64702345, 5, 0, 5
Merge pull request #2643 from Jonahss/master  stabilized android webview tests, 64702345, 5, 0, 5
stabilized android webview tests, 64702345, 5, 0, 5
Merge pull request #2642 from sebv/master  Greening CI, 64702345, 5, 0, 5
splitting apidemo touch gestures and find tests, 64702345, 5, 0, 5
disabling various ci tests, 64702345, 5, 0, 5
Merge pull request #2640 from sebv/master  Gappium + Selendroid test fixes, 64702345, 5, 0, 5
gappium and selendroid test fixes, 64702345, 5, 0, 5
added --gappium option, 64702345, 5, 0, 5
Merge pull request #2638 from sebv/master  Android test fixes, 64702345, 5, 0, 5
android test fixes, 64702345, 5, 0, 5
replaced --android-arm-only by --android-chrome in test script, 64702345, 5, 0, 5
fixed chrome sessionId bug, 64702345, 5, 0, 5
Also protect deleting location plists with keepAppToRetainPrefs.  Helps with #2612., 64702345, 5, 0, 5
Merge pull request #2587 from callmewa/master  ported over the java contact app test to node since the test is outdated.  Tested exampled on nexus5 and emulator, 64702345, 5, 0, 5
Merge pull request #2632 from Jonahss/master  update java example code, 64702345, 5, 0, 5
update java example code, 64702345, 5, 0, 5
Merge pull request #2631 from sebv/master  Fixing remaining ios tests, 64702345, 5, 0, 5
fixing ios tests, 64702345, 5, 0, 5
Merge pull request #2628 from sebv/master  ios6 testapp and uicatalog test fixes, 64702345, 5, 0, 5
ios6 testapp and uicatalog test fixes, 64702345, 5, 0, 5
Merge pull request #2624 from sebv/master  Fixing remaining ios71 tests, 64702345, 5, 0, 5
mitigating against redundant/late session closing, 64702345, 5, 0, 5
fixing tests, 64702345, 5, 0, 5
Merge pull request #2622 from sebv/master  Refactored/fixed uicatalog/gestures tests, 64702345, 5, 0, 5
refactored/fixed uicatalog/gestures tests, 64702345, 5, 0, 5
Merge pull request #2619 from bootstraponline/read_file_fix  Check exists before read file, 64702345, 5, 0, 5
Check exists before read file, 64702345, 5, 0, 5
Merge pull request #2617 from sebv/master  Fixed more ios tests, 64702345, 5, 0, 5
fixed more ios tests, 64702345, 5, 0, 5
Merge pull request #2599 from bootstraponline/ruby_sample  Update Ruby sample code, 64702345, 5, 0, 5
Merge pull request #2615 from sebv/master  Started to fix ios tests, 64702345, 5, 0, 5
fixed tests, 64702345, 5, 0, 5
Merge pull request #2614 from sebv/master  Fixed testapp/basics tests + upgraded uiauto, 64702345, 5, 0, 5
upgraded appium-uiauto, 64702345, 5, 0, 5
fixed basics tests, 64702345, 5, 0, 5
Merge pull request #2613 from sebv/master  Enabling gappium ci tests, 64702345, 5, 0, 5
enabling gappium tests, 64702345, 5, 0, 5
Merge pull request #2603 from sebv/master  Enabling selendroid ci test, 64702345, 5, 0, 5
android ci tests reconfiguration, 64702345, 5, 0, 5
enabling selendroid ci tests, 64702345, 5, 0, 5
Update Ruby sample code, 64702345, 5, 0, 5
Merge pull request #2590 from paymand/contexts_fix  Don't send the JSON response as Error in getJSONFromUrl()., 64702345, 5, 0, 5
Merge pull request #2592 from appium/isaac-keycode  Allow String keycode, 64702345, 5, 0, 5
Allow String keycode, 64702345, 5, 0, 5
Don't send the JSON response as Error in getJSONFromUrl()., 64702345, 5, 0, 5
Merge pull request #2589 from sebv/master  Adding remaining android test moved android-webview to common, 64702345, 5, 0, 5
Adding remaining android test moved android-webview to common, 64702345, 5, 0, 5
Merge pull request #2583 from paymand/packages  Fixed the version range for 'glob' and 'grunt-jscs-checker'., 64702345, 5, 0, 5
ported over the java contact app test to node since the test is outdated, 64702345, 5, 0, 5
ensure we check for err as well as status, 64702345, 5, 0, 5
Merge pull request #2584 from sebv/master  First android ci tests + fixes, 64702345, 5, 0, 5
first android ci tests + fixes, 64702345, 5, 0, 5
Fixed the version range for 'glob' and 'grunt-jscs-checker'., 64702345, 5, 0, 5
fix selendroid location, 64702345, 5, 0, 5
Merge pull request #2579 from lukeis/master  updating selendroid using 0.10.0 release, 64702345, 5, 0, 5
Merge pull request #2581 from sebv/master  Tweaking test names and tags, 64702345, 5, 0, 5
tweaking test names and tags, 64702345, 5, 0, 5
updating selendroid using 0.10.0 release, 64702345, 5, 0, 5
Merge pull request #2578 from bootstraponline/fix_xunit_android  Fix xunit_android sample code, 64702345, 5, 0, 5
Fix xunit_android sample code, 64702345, 5, 0, 5
Merge pull request #2575 from appium/isaac-touch  Fix touch actions below API 18, 64702345, 5, 0, 5
Fix touch actions below API 18, 64702345, 5, 0, 5
fix #2567, 64702345, 5, 0, 5
Merge pull request #2562 from Jonahss/javaSamples1  updated caps in java sample code. fixes #2524, 64702345, 5, 0, 5
no need for yiewd tests anymore, 64702345, 5, 0, 5
Merge pull request #2569 from sebv/master  Refactored webview tests, 64702345, 5, 0, 5
refactored webview tests, 64702345, 5, 0, 5
Merge pull request #2568 from sebv/master  Enabling first safari tests, 64702345, 5, 0, 5
enabling first safari tests, 64702345, 5, 0, 5
updated caps in java sample code. fixes #2524, 64702345, 5, 0, 5
Merge pull request #2561 from bootstraponline/toggle  Try toggle discard again, 64702345, 5, 0, 5
Discard NotImportantViews only for XPath & DumpWindow  When setCompressedLayoutHeirarchy is enabled views not marked as important to accessibility are discarded. This must be enabled for XPath and page source to work. If it's left enabled then it's not possible to find unimportant elements via other locator strategies.  If discard is toggled back to false at the end of an XPath request it will break XPath. To safely set discard to false the code waits for the next find request that doesn't use XPath.  Thanks @paymand for figuring out how to make this work!, 64702345, 5, 0, 5
Merge pull request #2559 from jlipps/master  update getElementById so it handles multiple elements, 64702345, 5, 0, 5
fix spacing, 64702345, 5, 0, 5
use appium-uiauto getElementById instead of sending a bunch of brittle javascript over the wire fix #2542, 64702345, 5, 0, 5
update appium-uiauto submodule, 64702345, 5, 0, 5
mention ios-webkit-debug-proxy port, 64702345, 5, 0, 5
Merge pull request #2557 from rgonalo/adbOption  Allow to start adb with --adb option in chrome tests, 64702345, 5, 0, 5
Use --adb option with chrome tests, 64702345, 5, 0, 5
Fix error launching avd, 64702345, 5, 0, 5
Merge pull request #2545 from rgonalo/getStrings  Get localized strings in Android Selendroid and iOS, 64702345, 5, 0, 5
Merge pull request #2555 from sebv/master  ci cap lock list, 64702345, 5, 0, 5
jscs style fix, 64702345, 5, 0, 5
ci cap lock list, 64702345, 5, 0, 5
Merge pull request #2556 from sebv/jscs  Added node-jscs check, 64702345, 5, 0, 5
fixing jscs styling error, 64702345, 5, 0, 5
better jscs config, 64702345, 5, 0, 5
Merge pull request #2544 from vgrigoruk/master  Fix the bug with corrupted search context value "ctx" while during xpath..., 64702345, 5, 0, 5
fixing jscs styling error, 64702345, 5, 0, 5
configuring jscs, 64702345, 5, 0, 5
Fix the bug with corrupted search context value "ctx" while during xpath search  avoiding bad syntax in case of context is empty string, 64702345, 5, 0, 5
Check updateStrings errors and improve parseLocalizableStrings in iOS, 64702345, 5, 0, 5
Add optional argument 'language' to getStrings in iOS, 64702345, 5, 0, 5
Add optional argument 'language' to getStrings in Android and Selendroid, 64702345, 5, 0, 5
Fix error removing old strings file from windows, 64702345, 5, 0, 5
Extract strings from apk and add getStrings method on selendroid, 64702345, 5, 0, 5
Extract strings from apk corresponding to device language instead of default to be used with ID location strategy in Android, 64702345, 5, 0, 5
Merge pull request #2553 from DylanLacey/update_docs  Update docs, 64702345, 5, 0, 5
Update TouchActions in u_i_catalog demo, 64702345, 5, 0, 5
Merge pull request #2552 from sebv/master  Added functional/common dir to ci., 64702345, 5, 0, 5
adding functionnal/common to ci, 64702345, 5, 0, 5
isolated gappium tests, 64702345, 5, 0, 5
Merge pull request #2551 from sebv/master  Enabling more ios tests, 64702345, 5, 0, 5
enabling more ios tests, 64702345, 5, 0, 5
Merge pull request #2550 from sebv/master  Adding prefs tests to ci, 64702345, 5, 0, 5
adding prefs tests to ci, 64702345, 5, 0, 5
Merge pull request #2549 from sebv/master  Fix ci for pull request, 64702345, 5, 0, 5
Fixing ci for pull request, 64702345, 5, 0, 5
Merge pull request #2526 from bootstraponline/always_setCompressedLayoutHeirarchy  Always setCompressedLayoutHeirarchy, 64702345, 5, 0, 5
Always setCompressedLayoutHeirarchy, 64702345, 5, 0, 5
Merge pull request #2529 from penguinho/android-language  Adding language and country support to Android, 64702345, 5, 0, 5
Adding language and country support to Android, 64702345, 5, 0, 5
add test to prove we get an array even when there's just one id, 64702345, 5, 0, 5
Update alerts, 64702345, 5, 0, 5
clearer activity error message, 64702345, 5, 0, 5
Merge pull request #2522 from rgonalo/ios-wrongid  Fix iOS callback problem after finding an element by a wrong id, 64702345, 5, 0, 5
Merge pull request #2512 from jlipps/master  don't allow webkitremotedebugger connection errors to crash appium, 64702345, 5, 0, 5
skipping a few uicatalog find-element test on ci, 64702345, 5, 0, 5
adding uicatalog tests to ci, 64702345, 5, 0, 5
Adding remaining testapp tests, 64702345, 5, 0, 5
Merge pull request #2534 from sebv/ci-first-sauce-tests  First ci tests on sauce, 64702345, 5, 0, 5
first ci sauce tests, 64702345, 5, 0, 5
Merge pull request #2532 from bootstraponline/master_tables  Update docs for Slate, 64702345, 5, 0, 5
Update docs for Slate  Appium's slate preprocessing will detect <expand_table> and expand the table when it's rendered in Slate. By default tables will not expand., 64702345, 5, 0, 5
Fix iOS callback problem after finding an element by a wrong id, 64702345, 5, 0, 5
Merge pull request #2514 from bootstraponline/master  Restore API check for setCompressedLayoutHeirarchy, 64702345, 5, 0, 5
Restore API check for setCompressedLayoutHeirarchy, 64702345, 5, 0, 5
don't allow webkitremotedebugger connection errors to crash appium and use regular node-style error handling, 64702345, 5, 0, 5
Merge pull request #2491 from imurchie/isaac-gesture-issues  Fix defaults for swipe duration, 64702345, 5, 0, 5
Merge pull request #2509 from bootstraponline/enable_compress_xml_by_default  Enable compress xml by default for Android XPath, 64702345, 5, 0, 5
Enable compress xml by default for Android XPath, 64702345, 5, 0, 5
Merge pull request #2503 from imurchie/isaac-unicode  Allow for encoding of non-ASCII text in Android, 64702345, 5, 0, 5
Merge pull request #2501 from bootstraponline/fix_compress_xml  Fix compress xml, 64702345, 5, 0, 5
use browserName instead of app, 64702345, 5, 0, 5
update mobile web docs for 1.0, 64702345, 5, 0, 5
Allow for encoding of non-ASCII text in Android, 64702345, 5, 0, 5
Output useful information in logger.info, 64702345, 5, 0, 5
Fix double space in log message when not is falsey, 64702345, 5, 0, 5
Fix compressXml  The old compressXml did not presist across uiautomator sessions. By requesting 'DumpWindowHierarchyCompressed' it ensures the result is always compressed even if the server had been restarted.  For some reason if compressXml is disabled then the xpath index on Android will return the wrong result., 64702345, 5, 0, 5
Fix defaults for swipe duration, 64702345, 5, 0, 5
Merge pull request #2490 from Jonahss/update  update java sample code to use latest java-client, 64702345, 5, 0, 5
update java sample code to use latest java-client, 64702345, 5, 0, 5
Merge pull request #2487 from bootstraponline/master  Fix cucumber example so multiple features run without error, 64702345, 5, 0, 5
Fix cucumber example so multiple features run without error, 64702345, 5, 0, 5
merge 1.0 branch into master since 1.0 is now the main dev branch, 64702345, 5, 0, 5
Merge pull request #2483 from bootstraponline/clean_up  Clean up, 64702345, 5, 0, 5
Merge pull request #2470 from imurchie/isaac-python-samples  Fix Sauce Python samples, 64702345, 5, 0, 5
Fix issue - failed to pass multi params in avdArgs  when passing multiple params in avdArgs for instance --avd-args="-port 5564" transfer the value string into array to avoid failures when spawning a new process, 64702345, 5, 0, 5
Merge pull request #2484 from fbai/patch-1  Fix issue - failed to pass multi params in avdArgs, 64702345, 5, 0, 5
fix lint errors, 64702345, 5, 0, 5
fix lint errors, 64702345, 5, 0, 5
Fix issue - failed to pass multi params in avdArgs  when passing multiple params in avdArgs for instance --avd-args="-port 5564" transfer the value string into array to avoid failures when spawning a new process, 64702345, 5, 0, 5
Remove dead code, 64702345, 5, 0, 5
Merge pull request #2476 from imurchie/isaac-docs  Add context switching to migration docs, 64702345, 5, 0, 5
Add context switching to migration docs, 64702345, 5, 0, 5
Fix Python Sauce samples, 64702345, 5, 0, 5
Merge pull request #2467 from DylanLacey/update_docs  Update README to 1.0 for Ruby, 64702345, 5, 0, 5
Update README to 1.0 for Ruby, 64702345, 5, 0, 5
Merge pull request #2466 from DylanLacey/update_docs  Update sauce example, 64702345, 5, 0, 5
Update sauce example, 64702345, 5, 0, 5
changelog and bump to 1.0.0 for publish, 64702345, 5, 0, 5
fix up selendroid tests, 64702345, 5, 0, 5
fix selendroid webview tests, 64702345, 5, 0, 5
Merge pull request #2465 from imurchie/isaac-gestures  In swipe translate milliseconds to seconds, 64702345, 5, 0, 5
Merge pull request #2463 from DylanLacey/update_docs  Update docs, 64702345, 5, 0, 5
Shift milliseconds to seconds in swipe, 64702345, 5, 0, 5
Merge pull request #2464 from Jonahss/javaSamples  Java samples, 64702345, 5, 0, 5
updating java-client sample code, 64702345, 5, 0, 5
updating dotnet caps, 64702345, 5, 0, 5
Fixing node sample caps., 64702345, 5, 0, 5
Updating Cucumber example doc, 64702345, 5, 0, 5
upgrading appium-instruments, 64702345, 5, 0, 5
enable launchTimeout cap to be an obj as well, 64702345, 5, 0, 5
add a migrating to 1.0 doc, 64702345, 5, 0, 5
update intro docs and  add list of appium clients, 64702345, 5, 0, 5
make sure commit hooks use local versions of grunt/mocha, 64702345, 5, 0, 5
Merge pull request #2461 from imurchie/isaac-fix-context  Fix iOS context change, 64702345, 5, 0, 5
Merge pull request #2460 from imurchie/isaac-contexts-fix  Fix iOS context switching, 64702345, 5, 0, 5
Fix context change, 64702345, 5, 0, 5
Fix context change, 64702345, 5, 0, 5
Merge pull request #2438 from DylanLacey/update_docs  Updated simple_test to use appium_lib, 64702345, 5, 0, 5
Merge pull request #2459 from jlipps/1.0-beta  make sure ios native swipe commands aren't run on webview elements, 64702345, 5, 0, 5
Updated simple_test to use appium_lib, 64702345, 5, 0, 5
make sure commit hooks use local versions of grunt/mocha, 64702345, 5, 0, 5
lint context-specs, 64702345, 5, 0, 5
make sure ios native swipe commands aren't run on webview elements (fix #2383), 64702345, 5, 0, 5
let's make sure, 64702345, 5, 0, 5
make sure we don't convert proxy cap into a string, 64702345, 5, 0, 5
make sure we don't convert proxy cap into a string, 64702345, 5, 0, 5
Merge pull request #2456 from imurchie/isaac-docs  Add Python examples, 64702345, 5, 0, 5
Merge pull request #2454 from imurchie/isaac-contexts  Allow multiple calls to get contexts in iOS, 64702345, 5, 0, 5
Add Python examples, 64702345, 5, 0, 5
fix function whitespace issues cc @Jonahss, 64702345, 5, 0, 5
fix function whitespace issues cc @Jonahss, 64702345, 5, 0, 5
bring grunt lint into parity with jshintrc and fix lint issues, 64702345, 5, 0, 5
bring grunt lint into parity with jshintrc and fix lint issues, 64702345, 5, 0, 5
Added comments, 64702345, 5, 0, 5
Allow multiple calls to get contexts in iOS, 64702345, 5, 0, 5
Merge pull request #2445 from imurchie/isaac-contexts-beta  Allow multiple calls to get contexts in iOS, 64702345, 5, 0, 5
fixed #2400 - autoAcceptAlerts. Added tests, 64702345, 5, 0, 5
Merge pull request #2441 from Jonahss/autoAcceptAlert  Auto accept alert, 64702345, 5, 0, 5
fixed #2400 - autoAcceptAlerts. Added tests, 64702345, 5, 0, 5
Merge pull request #2449 from bootstraponline/1.0-beta  Document appium bindings & remove incorrect docs, 64702345, 5, 0, 5
Document appium bindings. Remove old docs, 64702345, 5, 0, 5
UICatalog was fixed at root, 64702345, 5, 0, 5
UICatalog was fixed at root, 64702345, 5, 0, 5
Update real-devices.md, 64702345, 5, 0, 5
Allow multiple calls to get contexts in iOS, 64702345, 5, 0, 5
Merge pull request #2444 from imurchie/isaac-contexts-beta  Fix iOS context switch, 64702345, 5, 0, 5
have safari native tap position 40px lower on the screen  fix for https://github.com/appium/appium/issues/2273 / https://github.com/appium/appium/pull/2403 /  Conflicts: 	lib/devices/ios/ios.js, 64702345, 5, 0, 5
Merge pull request #2433 from pkastner/master  have safari native tap position 40px lower on the screen, 64702345, 5, 0, 5
Fix iOS context switch, 64702345, 5, 0, 5
have safari native tap position 40px lower on the screen  fix for https://github.com/appium/appium/issues/2273 / https://github.com/appium/appium/pull/2403 /, 64702345, 5, 0, 5
Merge pull request #2437 from imurchie/isaac-python-samples  Update python samples to 1.0, 64702345, 5, 0, 5
Merge pull request #2436 from imurchie/isaac-contexts  Fix iOS context switch, 64702345, 5, 0, 5
Fix typo in intro, 64702345, 5, 0, 5
Merge pull request #2439 from imurchie/isaac-docs  Fix typo in intro, 64702345, 5, 0, 5
Fix typo in intro, 64702345, 5, 0, 5
Fix iOS context switch, 64702345, 5, 0, 5
Update python samples to 1.0, 64702345, 5, 0, 5
changelog and bump to 1.0.0-beta.2 for publish, 64702345, 5, 0, 5
Improve DumpWindowHierarchy.java, 64702345, 5, 0, 5
Merge pull request #2432 from bootstraponline/1.0-beta  Improve DumpWindowHierarchy.java, 64702345, 5, 0, 5
Improve DumpWindowHierarchy.java, 64702345, 5, 0, 5
Using Async.queue to queue commands, 64702345, 5, 0, 5
fix safari phishing test, 64702345, 5, 0, 5
fix safari phishing test, 64702345, 5, 0, 5
Merge pull request #2411 from sebv/1.0-android-queue  Using Async.queue to queue android commands, 64702345, 5, 0, 5
Using Async.queue to queue commands, 64702345, 5, 0, 5
Fix issue when iterating the entries  Every time you call entries.pop() the entries.length minus 1. We should check entries.length>0 as the end of loop.  This request is same as pull request #2426. fix a typo error., 64702345, 5, 0, 5
Merge pull request #2429 from fbai/patch-3  Fix issue when iterating the entries, 64702345, 5, 0, 5
Fix issue when iterating the entries  Every time you call entries.pop() the entries.length minus 1. We should check entries.length>0 as the end of loop.  This request is same as pull request #2426. fix a typo error., 64702345, 5, 0, 5
Merge pull request #2424 from bootstraponline/master  Add how to write docs from 1.0-beta branch, 64702345, 5, 0, 5
Merge pull request #2425 from bootstraponline/1.0-beta  Update how to write docs, 64702345, 5, 0, 5
Update how to write docs, 64702345, 5, 0, 5
Add how to write docs from 1.0-beta branch, 64702345, 5, 0, 5
Merge pull request #2422 from bootstraponline/master  Prefer linking direct to doc, 64702345, 5, 0, 5
Merge pull request #2423 from bootstraponline/1.0-beta  Fix broken links, 64702345, 5, 0, 5
Fix more broken links, 64702345, 5, 0, 5
Fix more broken links, 64702345, 5, 0, 5
Fix readme for Slate  Quotes go in the code section, 64702345, 5, 0, 5
Quotes have a special meaning in Slate  They appear in the code section, 64702345, 5, 0, 5
Merge pull request #2421 from bootstraponline/master  Fix code links, 64702345, 5, 0, 5
Merge pull request #2420 from bootstraponline/1.0-beta  Fix code links, 64702345, 5, 0, 5
Fix code links, 64702345, 5, 0, 5
Fix code links, 64702345, 5, 0, 5
Merge pull request #2419 from bootstraponline/master  Fix doc links, 64702345, 5, 0, 5
Merge pull request #2418 from bootstraponline/1.0-beta  Fix doc links, 64702345, 5, 0, 5
Fix docs/cn/ links, 64702345, 5, 0, 5
Fix docs/cn/ links, 64702345, 5, 0, 5
Fix real devices link, 64702345, 5, 0, 5
Fix real devices link, 64702345, 5, 0, 5
Merge pull request #2417 from bootstraponline/1.0-beta  Fix getting started link, 64702345, 5, 0, 5
Merge pull request #2416 from bootstraponline/master  Fix getting started link, 64702345, 5, 0, 5
Fix getting started link, 64702345, 5, 0, 5
Fix getting started link, 64702345, 5, 0, 5
Merge pull request #2414 from bootstraponline/master  Fix links, 64702345, 5, 0, 5
Merge pull request #2415 from bootstraponline/1.0-beta  Fix links, 64702345, 5, 0, 5
Fix links, 64702345, 5, 0, 5
Fix links, 64702345, 5, 0, 5
Merge pull request #2410 from bootstraponline/1.0-beta  Run appium_doc_lint on Travis CI, 64702345, 5, 0, 5
Merge pull request #2409 from bootstraponline/master  Run appium_doc_lint on Travis CI, 64702345, 5, 0, 5
typo, 64702345, 5, 0, 5
Fixing dotnet example, 64702345, 5, 0, 5
Use relative links in the readme, 64702345, 5, 0, 5
Use relative links in the readme, 64702345, 5, 0, 5
Update links to work with Slack, 64702345, 5, 0, 5
Run appium_doc_lint on Travis CI, 64702345, 5, 0, 5
Run appium_doc_lint on Travis CI, 64702345, 5, 0, 5
Merge pull request #2408 from bootstraponline/master  Update links to pass lint, 64702345, 5, 0, 5
Update links to pass lint, 64702345, 5, 0, 5
Merge pull request #2407 from bootstraponline/1.0-beta  All internal links require a file name, 64702345, 5, 0, 5
All internal links require a file name, 64702345, 5, 0, 5
Merge pull request #2405 from bootstraponline/1.0-beta  Remove jekyll header from readme, 64702345, 5, 0, 5
Merge pull request #2406 from bootstraponline/master  Remove jekyll header from readme, 64702345, 5, 0, 5
Remove jekyll header from readme  It confuses Slate, 64702345, 5, 0, 5
Remove jekyll header from readme  It confuses Slate, 64702345, 5, 0, 5
changelog and bump to 0.18.2 for publish, 64702345, 5, 0, 5
fix latent javascript replace-with-'' bug, 64702345, 5, 0, 5
fix latent javascript replace-with-'' bug, 64702345, 5, 0, 5
fix async bug (fix #2382), 64702345, 5, 0, 5
fix async bug (fix #2382), 64702345, 5, 0, 5
Merge pull request #2385 from rgonalo/spaces  Allow spaces in Appium folder, 64702345, 5, 0, 5
Merge pull request #2395 from rgonalo/fixdump  Fix Appium crash when fails getting source page in Android, 64702345, 5, 0, 5
Merge pull request #2386 from rgonalo/1.0-beta  Allow spaces in Appium folder, 64702345, 5, 0, 5
Fix link  See https://github.com/appium/appium/blob/1.0-beta/docs/en/how-to-write-docs.md, 64702345, 5, 0, 5
Merge pull request #2394 from deadmoto/issue-2393  issue-2393, 64702345, 5, 0, 5
Fix Appium crash when fails getting source page, 64702345, 5, 0, 5
Updated swipe gesture arguments., 64702345, 5, 0, 5
Fixed #2393 Wrong link in finding-elements.md., 64702345, 5, 0, 5
new command line option for specifying the relative path of the dir where Localizable.string resides, 64702345, 5, 0, 5
Allow spaces in Appium folder, 64702345, 5, 0, 5
Allow spaces in Appium folder, 64702345, 5, 0, 5
Merge pull request #2379 from bootstraponline/master  Update docs for Slate, 64702345, 5, 0, 5
Merge pull request #2378 from bootstraponline/1.0-beta  Update docs to work with slate, 64702345, 5, 0, 5
Update docs for Slate, 64702345, 5, 0, 5
Update docs to work with slate, 64702345, 5, 0, 5
Merge pull request #2370 from jlipps/1.0-beta  get rid of native tag name in favor of class name, 64702345, 5, 0, 5
get rid of native tag name in favor of class name, 64702345, 5, 0, 5
Fixing dotnet example caps, 64702345, 5, 0, 5
Merge pull request #2371 from bootstraponline/1.0-beta  Update 1.0-beta branch docs for Slate, 64702345, 5, 0, 5
Fixing the caps in node.js 1.0 examples, 64702345, 5, 0, 5
New dotnet code sample, 64702345, 5, 0, 5
Update 1.0-beta branch docs for Slate, 64702345, 5, 0, 5
make sure grunt command is quoted in reset.sh in case cwd has spaces, 64702345, 5, 0, 5
make sure grunt command is quoted in reset.sh in case cwd has spaces, 64702345, 5, 0, 5
fix hideKeyboard specs to actually test something and quarantine the default strategy test. it's not working, 64702345, 5, 0, 5
Allow for whitespace in app path., 64702345, 5, 0, 5
Merge pull request #2366 from paymand/whitespace_in_app  Allow for whitespace in app path., 64702345, 5, 0, 5
Allow for whitespace in app path., 64702345, 5, 0, 5
add intro and platform-support docs, 64702345, 5, 0, 5
Merge pull request #2362 from bootstraponline/master  Remove YAML front matter from docs, 64702345, 5, 0, 5
Merge pull request #2361 from bootstraponline/1.0-beta  Remove YAML front matter from docs, 64702345, 5, 0, 5
Merge pull request #2363 from jlipps/master  add intro and platform-support docs, 64702345, 5, 0, 5
add intro and platform-support docs, 64702345, 5, 0, 5
Remove YAML front matter from docs, 64702345, 5, 0, 5
Remove YAML front matter from docs, 64702345, 5, 0, 5
Allow for different inputs to find, 64702345, 5, 0, 5
Merge pull request #2359 from imurchie/isaac-find  Allow for different inputs to find method, 64702345, 5, 0, 5
Allow for different inputs to find, 64702345, 5, 0, 5
Improve Logging  * say what command failed during setupAndroidProj, 64702345, 5, 0, 5
Null checks for proxy.js when extracting Session ID default to blank, 64702345, 5, 0, 5
Merge pull request #2354 from dandoveralba/will  Improve Logging, 64702345, 5, 0, 5
Merge pull request #2356 from midopa/master  Null checks for proxy.js when extracting Session ID default to blank, 64702345, 5, 0, 5
Null checks for proxy.js when extracting Session ID default to blank, 64702345, 5, 0, 5
make sure we can publish different branches, 64702345, 5, 0, 5
changelog and bump to 1.0.0-beta.1 for publish, 64702345, 5, 0, 5
fix up geolocation tests to use new driver method, 64702345, 5, 0, 5
window handles tests are not required anymore, 64702345, 5, 0, 5
the appium element/value command needs to use setValueImmediate, 64702345, 5, 0, 5
window tests need nativeWebTap, 64702345, 5, 0, 5
Improve Logging  * say what command failed during setupAndroidProj, 64702345, 5, 0, 5
fix up use of correct method in toggle tests, 64702345, 5, 0, 5
separate out chrome tests since they require a different emu, 64702345, 5, 0, 5
separate out chrome tests since they require a different emu, 64702345, 5, 0, 5
update wd dep  Conflicts: 	package.json, 64702345, 5, 0, 5
update wd dep, 64702345, 5, 0, 5
Merge pull request #2347 from jlipps/jlipps-1.0-beta  get rid of deprecated methods of access for old mobile: methods, 64702345, 5, 0, 5
update our testsuite to use new native methods instead of deprecated mobile methods. Also add a few server methods that were accidentally left out before, 64702345, 5, 0, 5
Merge pull request #2345 from jlipps/jlipps-1.0-beta  rename the confusing 'nonSyntheticWebClick' and turn it off by default, 64702345, 5, 0, 5
remove 'mobile: ' interface for appium commands leave the gesture commands for now incase we need the clients to fall back to them pending full working through the touchaction/multiaction api, 64702345, 5, 0, 5
rename the confusing 'nonSyntheticWebClick' and turn it off by default (fix #2306), 64702345, 5, 0, 5
Merge pull request #2344 from jlipps/jlipps-1.0-beta  update npm deps and fix some tests (fix #2287), 64702345, 5, 0, 5
update npm deps and fix some tests (fix #2287), 64702345, 5, 0, 5
Set log level to 'debug' for logging to file., 64702345, 5, 0, 5
Misleading error message for a Valid Platform, 64702345, 5, 0, 5
Merge pull request #2338 from paymand/logger  Set log level to 'debug' for logging to file., 64702345, 5, 0, 5
Merge pull request #2336 from shyamvala/patch-2  Misleading error message for a Valid Platform, 64702345, 5, 0, 5
Merge pull request #2335 from imurchie/isaac-actions-fix  Allow android multi touch actions without an element, 64702345, 5, 0, 5
Decode swipe action to native method, 64702345, 5, 0, 5
Allow android multi touch actions without an element, 64702345, 5, 0, 5
Merge pull request #2335 from imurchie/isaac-actions-fix  Allow android multi touch actions without an element, 64702345, 5, 0, 5
Set log level to 'debug' for logging to file., 64702345, 5, 0, 5
Misleading error message for a Valid Platform, 64702345, 5, 0, 5
Decode swipe action to native method, 64702345, 5, 0, 5
Allow android multi touch actions without an element, 64702345, 5, 0, 5
Merge pull request #2332 from bootstraponline/master_docs  Move index content into the include, 64702345, 5, 0, 5
Merge pull request #2333 from bootstraponline/1.0-beta_docs  Move index content into the include, 64702345, 5, 0, 5
Move index content into the include, 64702345, 5, 0, 5
Move index content into the include, 64702345, 5, 0, 5
ApkSigning when using custome keystore fails  ApkSigning fails when using a custom keystore. Looking into the logs I realized that the options to the jarsigner command are not in the right order. Once I made this change the signing went ahead as expected., 64702345, 5, 0, 5
Merge pull request #2331 from shyamvala/patch-1  ApkSigning when using custome keystore fails, 64702345, 5, 0, 5
ApkSigning when using custome keystore fails  ApkSigning fails when using a custom keystore. Looking into the logs I realized that the options to the jarsigner command are not in the right order. Once I made this change the signing went ahead as expected., 64702345, 5, 0, 5
Merge pull request #2330 from jlipps/jlipps-1.0-beta  remove deprecated server args, 64702345, 5, 0, 5
remove deprecated --merciful and --device-port flags add --force-quit-instruments flag instead and fix grunt docs to add the jekyll preamble and write to the correct path, 64702345, 5, 0, 5
use forthcoming wd geolocation methods, 64702345, 5, 0, 5
use a version that semver likes, 64702345, 5, 0, 5
start changelog for the beta branch pulling in changelog from 0.18.1 release, 64702345, 5, 0, 5
changelog and bump to 0.18.1 for publish, 64702345, 5, 0, 5
ensure that the logger is initialized with correct args before using it (fix #2308), 64702345, 5, 0, 5
ensure that the logger is initialized with correct args before using it (fix #2308), 64702345, 5, 0, 5
Merge pull request #2325 from bootstraponline/fix_docs_1.0  Fix docs 1.0, 64702345, 5, 0, 5
Update en docs, 64702345, 5, 0, 5
Update cn docs, 64702345, 5, 0, 5
Merge pull request #2324 from bootstraponline/fix_doc_links  Fix internal links for docs/, 64702345, 5, 0, 5
Fix internal links for docs/, 64702345, 5, 0, 5
Merge pull request #2321 from jlipps/jlipps-1.0-beta  remove deprecated caps, 64702345, 5, 0, 5
loosen up sudo check so it allows various forms of authorize, 64702345, 5, 0, 5
loosen up sudo check so it allows various forms of authorize, 64702345, 5, 0, 5
camel-case device-ready-timeout (fix #2268), 64702345, 5, 0, 5
camel-case app-(wait-)activity, 64702345, 5, 0, 5
change app-package and app-wait-package to appPackage and appWaitPackage, 64702345, 5, 0, 5
write up new mjsonwp caps in caps.md, 64702345, 5, 0, 5
get rid of old device and version caps, 64702345, 5, 0, 5
Merge pull request #2320 from jlipps/jlipps-1.0-beta  remove 'mobile: findAndAct', 64702345, 5, 0, 5
Fix links to point to english docs, 64702345, 5, 0, 5
Fix links to point to english docs, 64702345, 5, 0, 5
remove 'mobile: findAndAct', 64702345, 5, 0, 5
don't try to validate device string if we're not >= ios 7.1, 64702345, 5, 0, 5
don't try to validate device string if we're not >= ios 7.1, 64702345, 5, 0, 5
Merge pull request #2315 from imurchie/isaac-action-fixes  Fix bugs in action handling, 64702345, 5, 0, 5
Fix bugs in action handling, 64702345, 5, 0, 5
Merge pull request #2315 from imurchie/isaac-action-fixes  Fix bugs in action handling, 64702345, 5, 0, 5
Fix bugs in action handling, 64702345, 5, 0, 5
Merge pull request #2293 from snevesbarros/fix_for_install_launch_remove_requests  Added 2 fixes for when using the installApp launchApp removeApp requests seperately, 64702345, 5, 0, 5
Updated the app argument for the installApp launchApp and closeApp to point to the device rather than appium. Also added a check for the "installToRealDevice" function to check if "launch" desired capability has not been set to false (as in that instance we want to manage installation and launching ourselves).  Changed the launch parameter to autoLaunch (including a check for launch desired capability and deprecation warning)., 64702345, 5, 0, 5
Merge pull request #2293 from snevesbarros/fix_for_install_launch_remove_requests  Added 2 fixes for when using the installApp launchApp removeApp requests seperately, 64702345, 5, 0, 5
Updated the app argument for the installApp launchApp and closeApp to point to the device rather than appium. Also added a check for the "installToRealDevice" function to check if "launch" desired capability has not been set to false (as in that instance we want to manage installation and launching ourselves).  Changed the launch parameter to autoLaunch (including a check for launch desired capability and deprecation warning)., 64702345, 5, 0, 5
Merge pull request #2313 from jlipps/jlipps-1.0-beta  remove a number of deprecated mobile: methods, 64702345, 5, 0, 5
Merge pull request #2312 from bootstraponline/doc_fix_master  Fix index pages for docs, 64702345, 5, 0, 5
Merge pull request #2311 from bootstraponline/doc_fix_1.0  Fix index pages for docs, 64702345, 5, 0, 5
remove 'mobile: getCommandTimeout', 64702345, 5, 0, 5
remove 'mobile: localScreenshot', 64702345, 5, 0, 5
remove 'mobile: findElementNameContains', 64702345, 5, 0, 5
remove 'mobile: waitForPageLoad', 64702345, 5, 0, 5
remove 'mobile: fireEvent', 64702345, 5, 0, 5
get rid of 'mobile: location', 64702345, 5, 0, 5
Fix index pages for docs, 64702345, 5, 0, 5
Fix index pages for docs, 64702345, 5, 0, 5
Merge pull request #2310 from jlipps/jlipps-1.0-beta  remove json page source in favor of xml, 64702345, 5, 0, 5
remove json page source in favor of xml and fix a bug in android bootstrap's xpath that snuck in last time, 64702345, 5, 0, 5
Merge pull request #2309 from jlipps/jlipps-1.0-beta  remove old xpath support and promote -real xpath to xpath, 64702345, 5, 0, 5
Update readme to work with jekyll  1.0-beta has already been updated, 64702345, 5, 0, 5
remove old xpath support and promote -real xpath to xpath, 64702345, 5, 0, 5
use dumpWindowHierarchy for xml page source as well since it's more reliable, 64702345, 5, 0, 5
use dumpWindowHierarchy for xml page source as well since it's more reliable, 64702345, 5, 0, 5
Merge pull request #2307 from bootstraponline/docs-master  Fix docs to work with jekyll (master branch), 64702345, 5, 0, 5
Merge pull request #2305 from bootstraponline/docs  Fix docs to work with jekyll, 64702345, 5, 0, 5
Fix docs to work with jekyll, 64702345, 5, 0, 5
Fix docs to work with jekyll, 64702345, 5, 0, 5
fix selendroid command timeout bug and fix test that proves it work, 64702345, 5, 0, 5
fix selendroid command timeout bug and fix test that proves it work, 64702345, 5, 0, 5
make sure weird responses don't crash appium, 64702345, 5, 0, 5
make sure weird responses don't crash appium, 64702345, 5, 0, 5
Bring 0.18.x changes into 1.0 branch, 64702345, 5, 0, 5
Merge pull request #2299 from jlipps/1.0-beta  don't use windowHandles for switching to/from webview, 64702345, 5, 0, 5
Merge pull request #2295 from paymand/log_and_colors  Fix the broken -g/--log and --log-no-colors., 64702345, 5, 0, 5
don't use windowHandles for switching to/from webview, 64702345, 5, 0, 5
Merge pull request #2298 from casschin/gesture-doc-update  Include line to specify element for scroll gesture documentation, 64702345, 5, 0, 5
Include line to specify element for scroll gesture documentation, 64702345, 5, 0, 5
Fix the broken -g/--log and --log-no-colors., 64702345, 5, 0, 5
changelog and bump to 0.18.0 for publish, 64702345, 5, 0, 5
fix android multiaction tests by using new wd api, 64702345, 5, 0, 5
Merge pull request #2291 from NozomiIto/work  Segmentation fault occurs at fruitstrap when system language setting is Japanese, 64702345, 5, 0, 5
Segmentation fault occurs at fruitstrap when system language setting is Japanese, 64702345, 5, 0, 5
make sure safari/chrome tests work correctly, 64702345, 5, 0, 5
Merge pull request #2290 from imurchie/isaac-touch-fix  Fix iOS multitouch tests, 64702345, 5, 0, 5
Fix iOS multitouch tests, 64702345, 5, 0, 5
Merge pull request #2288 from dandoveralba/fix-reset  Fix cleanupAppState, 64702345, 5, 0, 5
Fix cleanupAppState  * wrap the path to sim in quotes for find, 64702345, 5, 0, 5
Merge pull request #2286 from jlipps/master  fix up some version handling issues, 64702345, 5, 0, 5
fix up some version handling so we can use ios 7.0 with xcode 5.1 for example, 64702345, 5, 0, 5
Merge pull request #2270 from imurchie/isaac-touch  Add touch and multitouch actions for Android, 64702345, 5, 0, 5
fixing gesture tests and quarantining broken multiaction tests, 64702345, 5, 0, 5
Add touch and multitouch actions for Android, 64702345, 5, 0, 5
fix uiautomator loc strat tests and quarantine flakey wifi test, 64702345, 5, 0, 5
don't reset sim during location test because it removes necessary files, 64702345, 5, 0, 5
creating instruments needs to come before setting prefs because in setting prefs we might ephemerally launch instruments which will check available devices, 64702345, 5, 0, 5
inner cbs need proper scope (cc @sebv), 64702345, 5, 0, 5
these methods take complex body parameters so make them posts, 64702345, 5, 0, 5
Merge pull request #2279 from sebv/touch-test  improved touch test + wd upgrade, 64702345, 5, 0, 5
Merge pull request #2278 from paymand/chai  Fixed the version range for sinon-chai., 64702345, 5, 0, 5
Merge pull request #2280 from joe-harter/master  Update gestures.md per Issue #2254, 64702345, 5, 0, 5
improved touch test + wd upgrade, 64702345, 5, 0, 5
Update gestures.md  Documented how to interact with slider on Android, 64702345, 5, 0, 5
Fixed the version range for sinon-chai., 64702345, 5, 0, 5
Merge pull request #2269 from jlipps/master  if installing a remote apk fails uninstall/rm and retry (fix #2188), 64702345, 5, 0, 5
if installing a remote apk fails uninstall/rm and retry (fix #2188), 64702345, 5, 0, 5
Merge pull request #2267 from jlipps/master  add avdLaunchTimeout/avdReadyTimeout (fix #2247), 64702345, 5, 0, 5
add avdLaunchTimeout/avdReadyTimeout (fix #2247) and retry launching emulator once if it doesn't connect (fix #1820), 64702345, 5, 0, 5
Merge pull request #2266 from jlipps/master  update uiauto to take advantage of new hideKeyboard strategy (fix #1153), 64702345, 5, 0, 5
update uiauto to take advantage of new hideKeyboard strategy (fix #1153), 64702345, 5, 0, 5
Merge pull request #2263 from jlipps/master  ensure we can use appium 1.0 style launch information from the command line, 64702345, 5, 0, 5
ensure we can use appium 1.0 style launch information from the command line (fix #2231), 64702345, 5, 0, 5
Merge pull request #2262 from jlipps/master  make sure binaries found using which/where get added to adb.binaries, 64702345, 5, 0, 5
make sure binaries found using which/where get added to adb.inaries (fix #2237), 64702345, 5, 0, 5
finish off routing for #2226, 64702345, 5, 0, 5
Merge pull request #2260 from sebv/relative-apppath  Relative apppath, 64702345, 5, 0, 5
avoiding crashes, 64702345, 5, 0, 5
test fix, 64702345, 5, 0, 5
allowing app paths relative to appium root, 64702345, 5, 0, 5
Merge pull request #2255 from jlipps/master  misc fixes, 64702345, 5, 0, 5
update testsuite to use 1.0-style caps - and fix various issues with specific tests, 64702345, 5, 0, 5
make sure we check available devices when --default-device is used as well, 64702345, 5, 0, 5
fix async bug, 64702345, 5, 0, 5
Merge pull request #2253 from jlipps/master  update ios pullFile to account for the fact that the sim root might not ..., 64702345, 5, 0, 5
update ios pullFile to account for the fact that the sim root might not have the exact version in it @DylanLacey have a look at this it's a gotcha of working with sim paths. My iOS SDK version might be '7.0' but the directory might be '7.0.3' or '7.0.3-64' so I changed this to use the directory finder from settings.js and to throw a warning if there are multiple dirs. Unfortunately this change makes the unit tests rather impractical since it really depends on getting the status of the filesystem so I added a new functional test and removed the unit tests. Also verified tests pass now on 6.1 7.0 and 7.1 with these changes, 64702345, 5, 0, 5
Merge pull request #2227 from DylanLacey/get_docs  Added pullFile support for iOS simulator., 64702345, 5, 0, 5
Added pullFile support for iOS simulator.  `mobile: pullFile {:path => '/Some/Path'}` fetches a file relative to the root of the device's filesystem.  `mobile: pullFile {:path => '/Applications/Some.app'}` fetches a file relative to the root of that Application's .app directory adding in the GUID.  Fixes #2010 #1807, 64702345, 5, 0, 5
Merge pull request #2249 from dandoveralba/non-retina  Support Launching Non-Retina iPhone, 64702345, 5, 0, 5
Merge pull request #2248 from jlipps/master  raise an error if someone sends in a bad platformName (fix #2179), 64702345, 5, 0, 5
Support Launching Non-Retina iPhone  * fix the bug in getDeviceString where we always assume 3.5" retina, 64702345, 5, 0, 5
raise an error if someone sends in a bad platformName (fix #2179), 64702345, 5, 0, 5
Merge pull request #2228 from Jonahss/androidLocStrat  Android loc strat, 64702345, 5, 0, 5
-android uiautomator locator strategy, 64702345, 5, 0, 5
Merge pull request #2246 from jlipps/new-endpoints  deprecate soon-to-be-removed mobile: methods, 64702345, 5, 0, 5
deprecate soon-to-be-removed mobile: methods, 64702345, 5, 0, 5
Merge pull request #2245 from jlipps/new-endpoints  add rest endpoints to handle mobile: methods, 64702345, 5, 0, 5
add rest endpoints to handle mobile: methods in addition to executeScript, 64702345, 5, 0, 5
Merge pull request #2224 from imurchie/isaac-touch  First pass at iOS touch for Appium 1.0, 64702345, 5, 0, 5
Merge pull request #2169 from DylanLacey/fix_ios_platform  Convert `device` to `platformName` when turning caps into arguments., 64702345, 5, 0, 5
Use the new capabilities throughout the codebase.  Every entry in `Capabilities.capabilityConversions` is now used to convert capabilities into the args array.  Change version to versionVersion. Change device to platformName Stop aliasing platformVersion to version in Capabilities.js, 64702345, 5, 0, 5
Retool loop through actions, 64702345, 5, 0, 5
Merge pull request #2212 from landryraccoon/master  Allow changing of ports with an environment variable, 64702345, 5, 0, 5
Merge pull request #2230 from DylanLacey/examples_71  Update Ruby sample code., 64702345, 5, 0, 5
Merge pull request #2229 from vgrigoruk/vgrigoruk-master  Fixes #2131., 64702345, 5, 0, 5
Update Ruby sample code.  Change from tag_name to class_name for u\_i\_catalog simple\_test cucumber tests.  Changed to iOS 7.1 in u\_i\_catalog simple\_test cucumber tests.  Changed `capabilities` to `desired_caps` to avoid some weirdo collisions.  Remove Debugging output from Cucumber.  Add example of send\_keys as an action chain for u\_i\_catalog., 64702345, 5, 0, 5
Mised toLowerCase for iOS.js (+2 squashed commits) Squashed commits: [fba9410] Making sure toLowerCase() is still used for chrome.js [0cbfa68] We don't need toLowerCas() for app argument as it is used for passing CFBundleIdentifier fixes #2131, 64702345, 5, 0, 5
Merge pull request #2223 from jlipps/master  check that iOS deviceName matches instruments's list before launching, 64702345, 5, 0, 5
Fix handling of touch gestures in iOS, 64702345, 5, 0, 5
First pass at iOS touch for Appium 1.0, 64702345, 5, 0, 5
Merge pull request #2222 from imurchie/isaac-contexts  Fix setWindow for Android, 64702345, 5, 0, 5
check we can launch a device based on user's caps and throw a nice error if not (fix #2114), 64702345, 5, 0, 5
add test that we don't reuse element ids (related to #2096), 64702345, 5, 0, 5
Fix setWindow for Android, 64702345, 5, 0, 5
Merge pull request #2221 from sebv/build-upload  ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
Merge pull request #2220 from sebv/build-upload  ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
Merge pull request #2219 from sebv/build-upload  ci fix, 64702345, 5, 0, 5
ci fix, 64702345, 5, 0, 5
Merge pull request #2218 from sebv/build-upload  build upload to sauce, 64702345, 5, 0, 5
build upload to sauce, 64702345, 5, 0, 5
Merge pull request #2211 from jlipps/real-xpath-android  Real XML-based XPath for Android, 64702345, 5, 0, 5
Merge pull request #2213 from bootstraponline/2194_squashed  Modify scroll to take element argument., 64702345, 5, 0, 5
Modify scroll to take element argument.  Originally scroll scrolls insider the first ScrollView. However most of our ScrollViews is CollectionView or TableView. So we got error that the ScrollView could not found although there are multiple "ScrollViews".  We also need to able to scroll insider different scrollviews., 64702345, 5, 0, 5
Fix omitted var keyword, 64702345, 5, 0, 5
Allow changing of ports with an environment variable, 64702345, 5, 0, 5
Merge pull request #2209 from sebv/async-queue  Ios command queue using Async.queue, 64702345, 5, 0, 5
add real xpath support for android - relies on xpath support for ios pull request - adds support under the '-real xpath' locator strategy - deprecates the original xpath strategy which will be replaced in 1.0 - because we have no way to get a dom fragment starting from an element   this strategy will only work for root-level queries, 64702345, 5, 0, 5
deprecate use of json page source, 64702345, 5, 0, 5
update android xml source to have class names as node names rather than just 'node', 64702345, 5, 0, 5
add test for existing xml source behavior, 64702345, 5, 0, 5
Merge pull request #2204 from jlipps/real-xpath  Real XML-based XPath for iOS, 64702345, 5, 0, 5
fixed test script, 64702345, 5, 0, 5
rewrote screenshot logic, 64702345, 5, 0, 5
use indexpath find retry even when trying to find a single element that becomes stale, 64702345, 5, 0, 5
making isDisplayed helper run in parallel, 64702345, 5, 0, 5
use our own fork of node-js2xmlparser, 64702345, 5, 0, 5
reimplemented queue with async.js, 64702345, 5, 0, 5
update real device info, 64702345, 5, 0, 5
update uiauto submodule, 64702345, 5, 0, 5
add deprecation warnings for old page source and xpath methods, 64702345, 5, 0, 5
add tests for new '-real xpath' temporary loc strat and test for new real xml page source, 64702345, 5, 0, 5
add real xpath support making use of getElementByIndexPath this depends on https://github.com/appium/appium-uiauto/pull/11 also depends on https://github.com/michaelkourlas/node-js2xmlparser/pull/10 partially addresses issue 2155, 64702345, 5, 0, 5
update appium-instruments, 64702345, 5, 0, 5
Merge pull request #2203 from Jonahss/LocStratUnderscores  Loc strat underscores, 64702345, 5, 0, 5
accessibility_id -> accessibility id, 64702345, 5, 0, 5
-ios_uiautomation -> -ios uiautomation, 64702345, 5, 0, 5
fix find-element test, 64702345, 5, 0, 5
Merge pull request #2198 from d0lfin/master  Move reset timeout from "global before" to "session before", 64702345, 5, 0, 5
Move reset timeout from global before to session before, 64702345, 5, 0, 5
Merge pull request #2193 from sebv/working  better test defaults for ios71, 64702345, 5, 0, 5
better test defaults for ios71, 64702345, 5, 0, 5
Merge pull request #2192 from sebv/pkg-upgrade  upgraded appium-intruments, 64702345, 5, 0, 5
upgraded appium-intruments, 64702345, 5, 0, 5
Merge pull request #2184 from sebv/more-test-fixes  More test fixes, 64702345, 5, 0, 5
Only counting displayed elements, 64702345, 5, 0, 5
fixing strategy name mismatch, 64702345, 5, 0, 5
improving ios uiauto tests, 64702345, 5, 0, 5
more test improvements, 64702345, 5, 0, 5
Merge pull request #2182 from sebv/test-prelaunch  rewrote waitForLaunch, 64702345, 5, 0, 5
rewrote waitForLaunch, 64702345, 5, 0, 5
Merge pull request #2180 from sebv/test-prelaunch  fixing prelaunch tests, 64702345, 5, 0, 5
fixing prelaunch tests, 64702345, 5, 0, 5
Merge pull request #2153 from DylanLacey/class_name_strat  Add class name locator strategy comply with MJSONWP, 64702345, 5, 0, 5
Added deprecation warning for tag name Add deprecation warnings for class name tag name locator strategies.  Deprecations warnings will now be thrown for: * 'tag name' in the native context * 'class name' in the native context * 'class name' in the web context  'class_name' is now a valid locator strategy for checkValidLocStrat  Add test for new class name locator rename createCommand createGetElementCommand Adding unit tests for new exception throwing Add test for incorrect UIA class names, 64702345, 5, 0, 5
fix ios ui type shortcuts link (fix #1699), 64702345, 5, 0, 5
Merge pull request #2177 from jlipps/master  ensure that app is always force-stopped before uninstalling apk (fix #17..., 64702345, 5, 0, 5
ensure that app is always force-stopped before uninstalling apk (fix #1757), 64702345, 5, 0, 5
Merge pull request #2162 from bootstraponline/reset_from_cap  Enable fullReset and noReset from caps, 64702345, 5, 0, 5
Set fullReset and noReset from caps, 64702345, 5, 0, 5
update appium-instruments, 64702345, 5, 0, 5
Merge pull request #2164 from sebv/log-colors  Avoiding passing LogNoColors/LogColors everywhere., 64702345, 5, 0, 5
fix typeof syntax, 64702345, 5, 0, 5
Merge pull request #2166 from DylanLacey/no_json_please  No JSON please, 64702345, 5, 0, 5
Merge pull request #2167 from sebv/safer-rimraf  safer rimraf, 64702345, 5, 0, 5
Merge pull request #2168 from sebv/test-session  Test suite improvement., 64702345, 5, 0, 5
Merge pull request #2170 from paymand/fast_reset_remote_apk  Make sure the app is always signed *before* getting the MD5 hash., 64702345, 5, 0, 5
Merge pull request #2175 from sebv/test-prelaunch  prelaunch test improvements, 64702345, 5, 0, 5
prelaunch test improvements, 64702345, 5, 0, 5
update appium-uiauto submodule, 64702345, 5, 0, 5
Merge pull request #2173 from mobiware/ios-full-reset-prefs5  Fix #2133, 64702345, 5, 0, 5
Merge pull request #2159 from Jonahss/accessibility_idLocStrat  accessibility_id location strategy, 64702345, 5, 0, 5
Fix #2133, 64702345, 5, 0, 5
Make sure the app is always signed *before* getting the MD5 hash., 64702345, 5, 0, 5
Avoiding quit hanging + better verbose logging, 64702345, 5, 0, 5
Log a deprecation message when mobileSource is called with the JSON type asking users to use XML type instead., 64702345, 5, 0, 5
safer rimraf, 64702345, 5, 0, 5
Avoiding passing LogNoColors/LogColors everywhere., 64702345, 5, 0, 5
rejigger this test, 64702345, 5, 0, 5
Merge pull request #2150 from DylanLacey/patch-1  Update android-hax-emulator.md, 64702345, 5, 0, 5
Update android-hax-emulator.md  Ask people to use Intel's package as the Android SDK manager package successfully installs then misbehaves., 64702345, 5, 0, 5
Merge pull request #2146 from sebv/quick-test-fixes  Quick and dirty test fixes, 64702345, 5, 0, 5
get rid of unused grunt commands (fix #2022), 64702345, 5, 0, 5
remove bitdeli because it's broken (fix #2035), 64702345, 5, 0, 5
updated appium-uiauto commit, 64702345, 5, 0, 5
readded some tests since they pass now, 64702345, 5, 0, 5
add accessibility_id loc strat, 64702345, 5, 0, 5
putting force-iphone after force-ipad so that further tests run., 64702345, 5, 0, 5
Making the builtin app backup path configurable, 64702345, 5, 0, 5
Merge pull request #2144 from jlipps/master  fix sudo behavior for windows (fix #2137), 64702345, 5, 0, 5
Merge pull request #2128 from midopa/master  fix if appium url set in nodeconfig dont autopopulate, 64702345, 5, 0, 5
fix sudo behavior for windows (fix #2137), 64702345, 5, 0, 5
Merge pull request #2142 from jlipps/master  if we're not in a git repo. don't link commit hooks (fix #2141), 64702345, 5, 0, 5
Merge pull request #2140 from bootstraponline/exdev  Fix EXDEV error when using renameSync to move, 64702345, 5, 0, 5
if we're not in a git repo. don't link commit hooks (fix #2141), 64702345, 5, 0, 5
Fix EXDEV error when using renameSync to move, 64702345, 5, 0, 5
Merge pull request #2130 from sebv/sudo  fixing sudo grunt authorize, 64702345, 5, 0, 5
better build fix, 64702345, 5, 0, 5
fixing sudo grunt authorize, 64702345, 5, 0, 5
Merge pull request #2126 from jlipps/master  more sudo fixes, 64702345, 5, 0, 5
fixing the build sorry push wrong branch earlier, 64702345, 5, 0, 5
Revert "Avoiding passing LogNoColors/LogColors everywhere."  This reverts commit bdb63583debbbb562baf4024c49ca26f9726c0f2., 64702345, 5, 0, 5
Revert "safer rimraf"  This reverts commit 862ca490e5868c16bd224d5a5db94fe45769e477., 64702345, 5, 0, 5
fix if appium url set in nodeconfig dont autopopulate  otherwise the autopopulation will set the host to localhost/127.0.0.1 which wont' work if the node and grid are not on the same machine, 64702345, 5, 0, 5
safer rimraf, 64702345, 5, 0, 5
Avoiding passing LogNoColors/LogColors everywhere., 64702345, 5, 0, 5
Merge pull request #2104 from Jonahss/ios_uiautomationLocStrat  Ios uiautomation loc strat, 64702345, 5, 0, 5
also disallow use of appium if it was even installed with sudo, 64702345, 5, 0, 5
Fixed a bug where requesting an invalid locator strategy on android caused uiautomator to die unexpectedly. Added a test, 64702345, 5, 0, 5
add -ios_uiautomation locator strategy, 64702345, 5, 0, 5
changelog and bump to 0.17.6 for publish, 64702345, 5, 0, 5
make sure we run node 0.10.x to publish; 0.11.x doesn't work anymore, 64702345, 5, 0, 5
Merge pull request #2125 from jlipps/master  disallow sudo entirely, 64702345, 5, 0, 5
make sure appium won't run under sudo. Too many people run into problems with that, 64702345, 5, 0, 5
changelog and bump to 0.17.5 for publish, 64702345, 5, 0, 5
update selendroid to 0.9.0, 64702345, 5, 0, 5
changelog and bump to 0.17.4 for publish, 64702345, 5, 0, 5
update server args doc, 64702345, 5, 0, 5
make chrome tests skip context check, 64702345, 5, 0, 5
update wd dep, 64702345, 5, 0, 5
Merge pull request #2117 from paymand/remove_fast_clear  Removed 'fastClear' capability., 64702345, 5, 0, 5
Merge pull request #2118 from bootstraponline/leak  Prevent leaking state across executions, 64702345, 5, 0, 5
Format java according to bootstrap/.settings, 64702345, 5, 0, 5
Merge pull request #2115 from jlipps/master  misc fixes, 64702345, 5, 0, 5
Prevent leaking state across executions, 64702345, 5, 0, 5
Merge pull request #2116 from paymand/2085  Fixup for #2085. set isElement to false if getElement() throws., 64702345, 5, 0, 5
Removed 'fastClear' capability.  No need for 'fastClear' anymore. Current modes are: 1. fullReset: Reinstall the app. 2. noReset: Don't reinstall keep app data. 3. fastReset (!fullReset && !noReset): Don't reinstall the app but clear the app data (pm clear)., 64702345, 5, 0, 5
Fixup for #2085. set isElement to false if getElement() throws., 64702345, 5, 0, 5
more flexible LAUNCH_TIMEOUT in tests, 64702345, 5, 0, 5
if we can't find multiple webviews for clickWebCoords just use whichever one is there (fix #1940), 64702345, 5, 0, 5
fix window handling in safari needed to use new context logic cc @imurchie, 64702345, 5, 0, 5
unquarantine toggle tests. they're not too flakey.. maybe, 64702345, 5, 0, 5
make sure caps are sanitized (fix #2103), 64702345, 5, 0, 5
make sure we don't error out of pref setting too soon (HT @sebv), 64702345, 5, 0, 5
allow testing of ios71 in test.sh and pass specific versions, 64702345, 5, 0, 5
Merge pull request #2099 from rgonalo/master  Allow to have more than one emulator started, 64702345, 5, 0, 5
update appium submodules, 64702345, 5, 0, 5
Merge pull request #2112 from sebv/uiauto-cleanup  package update + test fixes, 64702345, 5, 0, 5
package update + test fixes, 64702345, 5, 0, 5
Merge pull request #2049 from imurchie/isaac-contexts  Add contexts for switching to webviews, 64702345, 5, 0, 5
Wait for emulator is ready after launching it, 64702345, 5, 0, 5
Allow to have more than one emulator started, 64702345, 5, 0, 5
Merge pull request #2109 from paymand/2085  Fix for issue #2085. Use "mobile: reset" in beforeEach()., 64702345, 5, 0, 5
Fix for issue #2085. Use "mobile: reset" in beforeEach()., 64702345, 5, 0, 5
Merge pull request #2106 from jlipps/master  reset fixes, 64702345, 5, 0, 5
fix fastReset going undefined between sessions (fix #2087), 64702345, 5, 0, 5
bring back mobile reset, 64702345, 5, 0, 5
Use contexts for switching native/web, 64702345, 5, 0, 5
Merge pull request #2100 from bootstraponline/fix_push_file  temp.path doesn't create the file, 64702345, 5, 0, 5
temp.path doesn't create the file, 64702345, 5, 0, 5
changelog and bump to 0.17.3 for publish, 64702345, 5, 0, 5
make sure the tempdir exists before trying to write aligned apk to it, 64702345, 5, 0, 5
Print all errors while starting emulator, 64702345, 5, 0, 5
Add --avd-args option to launch avd with additional args, 64702345, 5, 0, 5
mention reason for releasing 0.17.2, 64702345, 5, 0, 5
Merge pull request #2034 from DylanLacey/master  Prepare for mjsonwp capabilities (platformName in particular), 64702345, 5, 0, 5
Merge pull request #2097 from bootstraponline/android_process  Android process, 64702345, 5, 0, 5
Fix android process detection, 64702345, 5, 0, 5
Add new device and automation capabilities deprecate old caps  Added deprecation warning for older style caps.  Warnings are output once only for a given function or capability.  A final trailing log message is released saying there were deprecations.  Busted unit tests into smaller tests  Capabilities are now an object created by passing the capabilities to Capabilities.  Properties on that object are copied into the Capabilities object so the API is identical.  Store the value of platformVersion as version., 64702345, 5, 0, 5
bump version to republish, 64702345, 5, 0, 5
changelog and bump to 0.17.1 for publish, 64702345, 5, 0, 5
Merge pull request #2089 from sebv/ci-step1  migrating to osx9 travis VM and adding reset.sh to ci, 64702345, 5, 0, 5
update i-w-d with retry fix and newly built i-w-d, 64702345, 5, 0, 5
clean up changelog, 64702345, 5, 0, 5
Merge pull request #2093 from egoldblum/master  Pass quiet flag to fruitstrap when appium in quiet mode., 64702345, 5, 0, 5
Pass quiet flag to fruitstrap when appium in quiet mode.  If appium is started with the quiet flag this will now be propagated to the fruitstrap install command.  Fruitstap can be very noisy when installing app with a large number of resources in the bundle., 64702345, 5, 0, 5
Merge pull request #2092 from bootstraponline/fix_android_uninstall  Fix Android uninstall detection, 64702345, 5, 0, 5
Fix Android uninstall detection  API 19 uses the following stdout message:  WARNING: linker: libdvm.so has text relocations. This is wasting memory and is a security risk. Please fix. Success  That broke the simple stdout === 'Success' check., 64702345, 5, 0, 5
migrating to osx9 travis VM and adding build to ci, 64702345, 5, 0, 5
publishing is for ios7.1 now, 64702345, 5, 0, 5
changelog and bump to 0.17.0 for publish, 64702345, 5, 0, 5
fix tests which rely on the desired caps which no longer exist, 64702345, 5, 0, 5
Merge pull request #2086 from jlipps/master  android fixes, 64702345, 5, 0, 5
add packageAndLaunchActivity support for selendroid also convert our tests to use this by default so that it's tested also move it to after prepareDevice so we make sure to run adb commands with the appropriate device id etc fix #2083 cc @bootstraponline, 64702345, 5, 0, 5
use adb's built-in isAppInstalled rather than one that doesn't work, 64702345, 5, 0, 5
fix getting logcat logs on selendroid, 64702345, 5, 0, 5
new buttons in test app mean tests need updating, 64702345, 5, 0, 5
If we can't find the apple webview button in safari just try and use the webview anyway, 64702345, 5, 0, 5
ios7.1 thinks there are more buttons in testapp so update the test, 64702345, 5, 0, 5
realize what @dandoveralba was going for, 64702345, 5, 0, 5
allow zipfiles to give us app path even when it's not explicitly mentioned as an archive member, 64702345, 5, 0, 5
Merge pull request #2082 from jlipps/master  fix jwpError (fix #2080), 64702345, 5, 0, 5
Merge pull request #2081 from appium/new-device-launching  new device launching strategy needs to use correct version, 64702345, 5, 0, 5
fix jwpError (fix #2080), 64702345, 5, 0, 5
new device launching strategy needs to use correct version also don't override retina/tall/64bit opts when user doesn't actually pass in deviceName cap. cc @dandoveralba, 64702345, 5, 0, 5
Merge pull request #2028 from bootstraponline/android_default  Parse Android package and launch activity from apk, 64702345, 5, 0, 5
Merge pull request #2075 from sebv/track-published  npm submodules track published branch + package update., 64702345, 5, 0, 5
Merge pull request #2076 from dandoveralba/fix703  Fix for Instruments Before 7.1SDK, 64702345, 5, 0, 5
Parse Android package and launch activity from apk  Update logging  Add null guard  Prevent null waitPkg, 64702345, 5, 0, 5
Fix for Instruments Before 7.1SDK  * don't pass the device string to instruments if we're less than 7.1 SDK * clean up some logging, 64702345, 5, 0, 5
Merge pull request #2074 from bootstraponline/zipalign  Ensure apks are run through zipalign, 64702345, 5, 0, 5
Ensure apks are run through zipalign, 64702345, 5, 0, 5
package update (regenerated using publish scripts), 64702345, 5, 0, 5
npm packages track published branches, 64702345, 5, 0, 5
Merge pull request #2073 from dandoveralba/fix-reset  Correct Reset, 64702345, 5, 0, 5
Correct Reset  * sent an outdated pull last time, 64702345, 5, 0, 5
Merge pull request #2072 from dandoveralba/alerts  Add Location & Contacts Alerts, 64702345, 5, 0, 5
Add Location & Contacts Alerts  * reqest access to location and contacts in our sample app, 64702345, 5, 0, 5
Merge pull request #2070 from dandoveralba/fix-locale  Fix reset & setPreferences & setLocServicesPrefs interop, 64702345, 5, 0, 5
Fix reset & setLocServicesPrefs interop  * same approach as with Safari prefs, 64702345, 5, 0, 5
Merge pull request #2069 from dandoveralba/fix-locale  Update reset & setPreferences interop, 64702345, 5, 0, 5
Fix reset & setPreferences interop  *  restore reset to it's previous state for mobile/hybrid apps and preserve new approach for safari so it's app plist can be set, 64702345, 5, 0, 5
Merge pull request #2060 from dandoveralba/51support  Select Simulator Device & SDK, 64702345, 5, 0, 5
Merge pull request #2068 from jlipps/master  change safari webview xpath so it works on 7.1 ipad as well, 64702345, 5, 0, 5
change safari webview xpath so it works on 7.1 ipad as well, 64702345, 5, 0, 5
make sure we can do forceiPad and safari heads up @DylanLacey this will likely cause a conflict with your work, 64702345, 5, 0, 5
Merge pull request #2066 from bootstraponline/android_push  Android mobile push & pull, 64702345, 5, 0, 5
Select Simulator Device & SDK  * use deviceName + version caps to launch a particular simulator device and SDK version (6.1 7.0.3 7.1) * update appium-instruments submodule with corresponding change * fail if the user tries to set preferences or language/locale and full-reset is requested since they don't work together  Fix #2032 #1642 #304, 64702345, 5, 0, 5
using npmlink -m in reset.sh sometimes puts submodules at an earlier commit than the one we want, 64702345, 5, 0, 5
update appium-uiauto submodule so we can get fix (cc @sebv), 64702345, 5, 0, 5
Android mobile push & pull  Ruby examples:  mobile :pushFile data: Base64.encode64('test ruby') path: '/data/local/tmp/test.txt'  pull_result = mobile :pullFile path: '/data/local/tmp/test.txt' Base64.decode64 pull_result, 64702345, 5, 0, 5
Merge pull request #2065 from sebv/dup-textfield  Package upgrade + duplicate test., 64702345, 5, 0, 5
appium-uiauto + appium-instruments upgrade, 64702345, 5, 0, 5
added duplicate textfield test, 64702345, 5, 0, 5
Merge pull request #2061 from sebv/uicatalog-fix  UICatalog fix for 7.1, 64702345, 5, 0, 5
UICatalog fix for 7.1, 64702345, 5, 0, 5
Merge pull request #2059 from Jonahss/fixFindTest  Fix find-element tests for ios7, 64702345, 5, 0, 5
added better error reporting to test helper, 64702345, 5, 0, 5
fixed find-element tests for ios7, 64702345, 5, 0, 5
Merge pull request #2054 from dandoveralba/fixcb  Remove Extra CB, 64702345, 5, 0, 5
Remove Extra CB  * remove extra callback...  Fix #2044, 64702345, 5, 0, 5
add some logging to make it easier to follow ios startup flow, 64702345, 5, 0, 5
actually clear out commandTimeout in between sessions so we don't start the timer while a new session is loading the app, 64702345, 5, 0, 5
Merge pull request #2052 from jlipps/master  add locationServicesAuthorized errors/warnings when there's no bundleId, 64702345, 5, 0, 5
ensure we get a decent error message if someone uses locationServicesAuthorized with no bundleId, 64702345, 5, 0, 5
point out that locationServicesEnabled cap requires bundleId, 64702345, 5, 0, 5
Merge pull request #2048 from bootstraponline/ios_mercy  Default to mercy on iOS, 64702345, 5, 0, 5
Default to mercy on iOS, 64702345, 5, 0, 5
Merge pull request #2046 from Javier84/patch-1  Update troubleshooting.md, 64702345, 5, 0, 5
Merge pull request #2043 from sebv/cwd  Making sure cwd is consistent, 64702345, 5, 0, 5
Update troubleshooting.md, 64702345, 5, 0, 5
Making sure cwd is appium install dir, 64702345, 5, 0, 5
Merge pull request #2039 from deivanai/master  add process arguments before spawning instruments, 64702345, 5, 0, 5
Merge pull request #2040 from jlipps/master  don't ever use sudo to reinstall npm modules, 64702345, 5, 0, 5
add process arguments for ios specific e.g usage         capability[:processArguments] = "forceLogout", 64702345, 5, 0, 5
don't ever use sudo to reinstall npm modules, 64702345, 5, 0, 5
Merge pull request #2033 from sebv/various-fixes  Various fixes, 64702345, 5, 0, 5
Merge pull request #2029 from jlipps/master  more location services plist settings fixes, 64702345, 5, 0, 5
test fixes, 64702345, 5, 0, 5
Added timeout to uninstallApk, 64702345, 5, 0, 5
bugfix context was wrong, 64702345, 5, 0, 5
if plist base dirs don't exist create them (fix loc services issues), 64702345, 5, 0, 5
don't quarantine working tests, 64702345, 5, 0, 5
use actual ios sdk for reset.sh instead of hard-coding it, 64702345, 5, 0, 5
Merge pull request #2024 from sebv/npm-submodules  Adding npm submodules and scripts + test fixes, 64702345, 5, 0, 5
Merge pull request #2025 from bootstraponline/master  Add dependency status badge, 64702345, 5, 0, 5
Add dependency status badge, 64702345, 5, 0, 5
adding npm submodules and scripts, 64702345, 5, 0, 5
store --command-timeout as int, 64702345, 5, 0, 5
Merge pull request #2020 from jlipps/master  add --command-timeout server arg, 64702345, 5, 0, 5
add --command-timeout server arg so the server can set its own default timeout. also clean up some of the command timeout logic, 64702345, 5, 0, 5
Merge pull request #2019 from imurchie/isaac-iosconfig  Use new version of Device.configureLocalApp, 64702345, 5, 0, 5
Merge pull request #2018 from jlipps/master  add enablePerformanceLogging cap for chrome/android hybrid, 64702345, 5, 0, 5
Use new version of Device.configureLocalApp, 64702345, 5, 0, 5
add enablePerformanceLogging cap for chrome/android hybrid so we can get performance logs, 64702345, 5, 0, 5
Merge pull request #2017 from jlipps/master  show extra server params in logs for easier debugging, 64702345, 5, 0, 5
show extra server params in logs for easier debugging, 64702345, 5, 0, 5
Merge pull request #2016 from bootstraponline/master  Add license to package.json, 64702345, 5, 0, 5
Add license to package.json, 64702345, 5, 0, 5
Merge pull request #2007 from paymand/down_up_move  Added support for touch{Down|Up|Move} on Android., 64702345, 5, 0, 5
Clean up debug logging, 64702345, 5, 0, 5
Added support for touch{Down|Up|Move} on Android., 64702345, 5, 0, 5
Merge pull request #2000 from paymand/reset_udid  Added support for --udid to the reset scripts., 64702345, 5, 0, 5
Merge pull request #2012 from jlipps/master  don't delete /Applications unless we're doing fullReset, 64702345, 5, 0, 5
don't delete /Applications unless we're doing fullRest and add tests of safariIgnoreFraudWarning in safari itself, 64702345, 5, 0, 5
Merge pull request #2009 from Jonahss/windowsTestFix  fixed custom mocha args, 64702345, 5, 0, 5
fixed custom mocha args, 64702345, 5, 0, 5
Merge pull request #2008 from imurchie/isaac-gitignore  Ignore maven/surefire byproducts, 64702345, 5, 0, 5
Ignore maven/surefire byproducts, 64702345, 5, 0, 5
Windows support is no longer beta, 64702345, 5, 0, 5
Spelling alterations, 64702345, 5, 0, 5
Merge pull request #2006 from testerhome/master  finish all docs translation work except style guide doc, 64702345, 5, 0, 5
commit docs only, 64702345, 5, 0, 5
Added support for --udid to the reset scripts., 64702345, 5, 0, 5
Merge pull request #1998 from danubiusdan/patch-1  added java example code for scrollTo action., 64702345, 5, 0, 5
added java example code for scrollTo action., 64702345, 5, 0, 5
Merge pull request #1995 from jlipps/master  fix bad conflict resolution include uiauto bootstrap when launching ins..., 64702345, 5, 0, 5
fix bad conflict resolution include uiauto bootstrap when launching instruments, 64702345, 5, 0, 5
Merge pull request #1967 from dandoveralba/locservices  Update setLocale and reset, 64702345, 5, 0, 5
Update setLocale and Reset  * launch and quit the sim if the sim dir doesn't exist * remove only the locationd folder in caches since that was the original intent or removing Caches to begin with  Fix #1943, 64702345, 5, 0, 5
add some negative tests for device extraction, 64702345, 5, 0, 5
Merge pull request #1987 from Jonahss/windowsTest  added windows equivalent of test.sh, 64702345, 5, 0, 5
Merge pull request #1985 from Jonahss/reset.bat  Fix installation on Windows, 64702345, 5, 0, 5
windows equivalent of test.sh, 64702345, 5, 0, 5
fix extraneous parens, 64702345, 5, 0, 5
Merge pull request #1986 from jlipps/appium-js-refactor  Refactor appium.js, 64702345, 5, 0, 5
ensure device detection works in a case-insensitive manner, 64702345, 5, 0, 5
fix websocket bug and make sure named apps clobber device in caps, 64702345, 5, 0, 5
fix a few ios bugs and add list of things that our testsuite doesn't cover yet, 64702345, 5, 0, 5
handle starting server with only --force-iphone or --force-ipad for device too, 64702345, 5, 0, 5
add unit tests for device extraction logic, 64702345, 5, 0, 5
fix unit tests to mock IOS instead of using weird mock_ios device, 64702345, 5, 0, 5
continue to clean up appium.js to handle new architecture, 64702345, 5, 0, 5
remove need for things other than safari.js to know about SafariLauncher, 64702345, 5, 0, 5
migrate firefoxos config, 64702345, 5, 0, 5
migrate ios args in remaining files, 64702345, 5, 0, 5
port chrome config, 64702345, 5, 0, 5
port android basic config, 64702345, 5, 0, 5
finish porting ios args, 64702345, 5, 0, 5
rearchitect configuration methods, 64702345, 5, 0, 5
create Device class and abstract configuration logic into each type of device to clean up appium.js, 64702345, 5, 0, 5
Merge pull request #1976 from sebv/uiauto-npm  Extracted appium-uiauto package, 64702345, 5, 0, 5
edited windows installation instructions, 64702345, 5, 0, 5
don't wait on connecting an android device, 64702345, 5, 0, 5
reset.bat fixed to run on windows, 64702345, 5, 0, 5
Merge pull request #1973 from pavelsmolensky/keepKeyChains  Add option --keep-keychains to save Library/Keychains between appium session restarts, 64702345, 5, 0, 5
Merge pull request #1983 from egoldblum/master  Increase maxBuffer for installApp command, 64702345, 5, 0, 5
Increase maxBuffer for installApp command, 64702345, 5, 0, 5
Merge pull request #1982 from bootstraponline/master  Fix Cannot call method 'getAllLogs' of undefined, 64702345, 5, 0, 5
Fix Cannot call method 'getAllLogs' of undefined, 64702345, 5, 0, 5
iOS. Add --keep-keychains option and desired capability keepKeyChains, 64702345, 5, 0, 5
Extracted appium-uiauto package, 64702345, 5, 0, 5
allow device to come in through some command-line args this should fix the appium.app 'valid device' error, 64702345, 5, 0, 5
Merge pull request #1972 from sebv/instruments-npm  Converted code to use npm appium-instruments package, 64702345, 5, 0, 5
package update, 64702345, 5, 0, 5
Converted code to use npm appium-instruments package, 64702345, 5, 0, 5
Merge pull request #1970 from bootstraponline/source_fix  Fix Android page source, 64702345, 5, 0, 5
Merge pull request #1945 from bootstraponline/master  Android longClick x y and duration support, 64702345, 5, 0, 5
Android longClick x y and duration support  Ruby examples:  mobile :longClick element: el.ref  mobile :longClick element: el.ref duration: 3000  mobile :longClick x: 400 y: 297 duration: 3000  mobile :longClick x: 0.5 y: 0.244, 64702345, 5, 0, 5
Fix Android page source, 64702345, 5, 0, 5
Merge pull request #1965 from jlipps/master  handle both binary and xml plists in ios settings, 64702345, 5, 0, 5
handle both binary and xml plists in ios settings, 64702345, 5, 0, 5
use nonSyntheticWebClick for our tests, 64702345, 5, 0, 5
update caps doc with new caps and examples, 64702345, 5, 0, 5
Merge pull request #1956 from Jonahss/master  bugfix: watchForUnresponsiveInstruments process run on systems without ios configured, 64702345, 5, 0, 5
Merge pull request #1961 from paymand/scrollTo  Android: Added support for 'direction' to scrollTo., 64702345, 5, 0, 5
Android: Added support for 'direction' to scrollTo.  This fix adds a new option (direction) to 'mobile: scrollTo'. If 'horizontal' is provided (or if the view is a HorizontalScrollView) we will call setAsHorizontalList() before commencing the scroll., 64702345, 5, 0, 5
use better git grep for git 1.9 in publish, 64702345, 5, 0, 5
use better git grep for git 1.9 in publish, 64702345, 5, 0, 5
bump chromedriver version, 64702345, 5, 0, 5
changelog and bump to 0.16.0 for publish, 64702345, 5, 0, 5
use back() instead of finding Back element, 64702345, 5, 0, 5
update use of au.mainApp to make it a function, 64702345, 5, 0, 5
robustify test (y location can have multiple values), 64702345, 5, 0, 5
retrieve target/app/window each time we need it, 64702345, 5, 0, 5
change way test app launches location status, 64702345, 5, 0, 5
robustify crash log test, 64702345, 5, 0, 5
run test commands in serial rather than parallel to avoid race conditions, 64702345, 5, 0, 5
Merge pull request #1957 from Jonahss/fix1798  fix issue #1798: commands fail after stopping and relaunching app., 64702345, 5, 0, 5
fix issue #1798: commands fail after stopping and relaunching app., 64702345, 5, 0, 5
bugfix: watchForUnresponsiveIntruments process was being run even on systems which did not have ios configured causing a fatal error., 64702345, 5, 0, 5
changed .appiumconfig to .apapiumconfig.json so we can load it with require() and have it cached, 64702345, 5, 0, 5
Merge pull request #1948 from paymand/logcat_udid  Fixed logcat capture for multiple devices., 64702345, 5, 0, 5
Merge pull request #1954 from jlipps/master  reset fixes, 64702345, 5, 0, 5
add pre-commit hook in reset.sh, 64702345, 5, 0, 5
update gappium, 64702345, 5, 0, 5
Fixed logcat capture for multiple devices., 64702345, 5, 0, 5
Merge pull request #1952 from jlipps/android-hybrid  Android UiAutomator-based hybrid support, 64702345, 5, 0, 5
fix regular chrome startup, 64702345, 5, 0, 5
fix some failing android tests, 64702345, 5, 0, 5
update hybrid docs, 64702345, 5, 0, 5
finish android hybrid support and refactor android webview tests to work for android as well as selendroid, 64702345, 5, 0, 5
work on getting chromedriver accessing webviews, 64702345, 5, 0, 5
break out chromedriver into its own object and make sure the chrome tests pass on chromium too, 64702345, 5, 0, 5
start abstracting chromedriver stuff out of chrome.js so we can reuse it for webviews, 64702345, 5, 0, 5
start setting up concept of webviews for android, 64702345, 5, 0, 5
stub out some functions used to get webviews going on android, 64702345, 5, 0, 5
Merge pull request #1951 from Jonahss/patch-2  Update running-tests.md, 64702345, 5, 0, 5
Update running-tests.md  `-V` option doesn't exist., 64702345, 5, 0, 5
Merge pull request #1944 from Jonahss/master  corrected doctor error reporting, 64702345, 5, 0, 5
corrected doctor error reporting, 64702345, 5, 0, 5
fix bad space in test.sh preventing tests from running and up launch timeout a bit, 64702345, 5, 0, 5
update gappium and fix gappium app paths, 64702345, 5, 0, 5
update appium.io, 64702345, 5, 0, 5
add forgotten bind, 64702345, 5, 0, 5
Merge pull request #1904 from jlipps/loc-services  Location services and safari capabilities, 64702345, 5, 0, 5
only delete caches dir on full reset so we can set plist prefs for next test, 64702345, 5, 0, 5
fix a few small bugs preventing loc services from getting written correctly, 64702345, 5, 0, 5
update description of loc services caps, 64702345, 5, 0, 5
restart sim if safari dirs don't exist too and add tests for safari caps on ios7, 64702345, 5, 0, 5
briefly pre-launch sim if sim dirs don't exist and we need to set prefs also unquarantine some ios6 prefs tests and fix up some other issues, 64702345, 5, 0, 5
add safariAllowPopups tests, 64702345, 5, 0, 5
add safarIgnoreFraudWarning cap tests, 64702345, 5, 0, 5
for iOS6 copy built in app don't delete, 64702345, 5, 0, 5
show stacktrace when we can't start a session, 64702345, 5, 0, 5
update safari plist setting logic / opts, 64702345, 5, 0, 5
add locationServicesAuthorized cap to pre-auth loc services for a given app, 64702345, 5, 0, 5
update TestApp to show location enabled status, 64702345, 5, 0, 5
Merge pull request #1933 from sebv/synth-click-cap  added non synthetic web click cap, 64702345, 5, 0, 5
added non synthetic web click cap, 64702345, 5, 0, 5
Merge pull request #1937 from paymand/error_handling_ios  Display error message correctly when install/removeApp fails on iOS., 64702345, 5, 0, 5
Display error message correctly when appInstall/Remove fails on iOS., 64702345, 5, 0, 5
Merge pull request #1936 from imurchie/isaac-chromedriver-windows  Fix local variables in Windows, 64702345, 5, 0, 5
Fix local variables in Windows, 64702345, 5, 0, 5
Merge pull request #1913 from sebv/new-atoms  using atoms from appium-atoms submodule, 64702345, 5, 0, 5
fix java scroll example, 64702345, 5, 0, 5
moved hardcoded atoms to appium-atoms, 64702345, 5, 0, 5
using atoms from appium-atoms npm package, 64702345, 5, 0, 5
remove old chromedriver binaries (cc @imurchie), 64702345, 5, 0, 5
Merge pull request #1919 from imurchie/isaac-accents  Fix test for accents, 64702345, 5, 0, 5
Fix test for accents, 64702345, 5, 0, 5
Merge pull request #1918 from bootstraponline/master  Document androidCoverage, 64702345, 5, 0, 5
say uiautomator exited in logs, 64702345, 5, 0, 5
Document androidCoverage, 64702345, 5, 0, 5
Merge pull request #1916 from jlipps/master  don't fail test if we can't find strings.xml (fix #1905), 64702345, 5, 0, 5
don't fail test if we can't find strings.xml (fix #1905) also make sure apidemos tests run as android even if DEVICE isn't set, 64702345, 5, 0, 5
Merge pull request #1890 from bootstraponline/android_coverage  Add androidCoverage cap, 64702345, 5, 0, 5
Add androidCoverage, 64702345, 5, 0, 5
Merge pull request #1914 from imurchie/isaac-reset  Bundle all ChromeDrivers when publishing, 64702345, 5, 0, 5
Bundle all ChromeDrivers when publishing, 64702345, 5, 0, 5
provide defaults for bootstrapConfig, 64702345, 5, 0, 5
Merge pull request #1910 from jlipps/master  add ability to scroll ios views, 64702345, 5, 0, 5
add ability to scroll ios views this works on ios7!, 64702345, 5, 0, 5
Merge pull request #1888 from bootstraponline/update_selendroid  Update selendroid (maven 3.1.1 required), 64702345, 5, 0, 5
Update selendroid (maven 3.1.1 required), 64702345, 5, 0, 5
make ruby sauce android example send a name, 64702345, 5, 0, 5
Merge pull request #1909 from jlipps/master  ensure selendroid test app doesn't need to have its version updated, 64702345, 5, 0, 5
Merge pull request #1876 from midopa/master  Auto config node host and port for Selenium Grid, 64702345, 5, 0, 5
ensure selendroid test app doesn't need to have its version updated when we update selendroid, 64702345, 5, 0, 5
Merge pull request #1908 from imurchie/isaac-reset-batch  Bundle chromedriver into build for Windows, 64702345, 5, 0, 5
Bundle chromedriver into build, 64702345, 5, 0, 5
Merge pull request #1897 from imurchie/isaac-reset  Bundle ChromeDriver into build for Mac and Linux, 64702345, 5, 0, 5
Bundle ChromeDriver into build for Mac and Linux, 64702345, 5, 0, 5
Merge pull request #1894 from rgonalo/master  Fix issues in Windows and Linux paths, 64702345, 5, 0, 5
Fix error installing unlock app if there are spaces in Appium folder, 64702345, 5, 0, 5
Allow to use reset.sh from git-bash in Windows, 64702345, 5, 0, 5
Fix temp folder in windows and linux, 64702345, 5, 0, 5
Merge pull request #1895 from bigfei/fix-navToView  The latest webview should be the last element of getWindowHandles() returns, 64702345, 5, 0, 5
The latest Window should be the last one of getWindowHandles() returns, 64702345, 5, 0, 5
Merge pull request #1884 from imurchie/isaac-accents  Add exceptions to accent check, 64702345, 5, 0, 5
Add exceptions to accent check, 64702345, 5, 0, 5
Auto config node host and port for Selenium Grid, 64702345, 5, 0, 5
Merge pull request #1871 from sebv/test-step3  Test reformatting 3 moving tests around., 64702345, 5, 0, 5
reshuffling tests, 64702345, 5, 0, 5
Merge pull request #1879 from jlipps/master  we need to wait a bit sometimes for apple button to become present in mo..., 64702345, 5, 0, 5
we need to wait a bit sometimes for apple button to become present in mobile safari, 64702345, 5, 0, 5
changelog and bump to 0.15.0 for publish, 64702345, 5, 0, 5
change selendroid proxy test to use a method that actually errors, 64702345, 5, 0, 5
actually use our custom launch timeout in tests, 64702345, 5, 0, 5
simply override device for selendroid rather than including in caps, 64702345, 5, 0, 5
bring back git rev into appium output, 64702345, 5, 0, 5
fix gappium test app path, 64702345, 5, 0, 5
clear out selendroid build cruft so it doesn't accidentally get committed into our codebase, 64702345, 5, 0, 5
jshint es5 is now on by default, 64702345, 5, 0, 5
Merge pull request #1875 from jlipps/master  update selendroid, 64702345, 5, 0, 5
make sure selendroid tests use selendroid (Fix #1874), 64702345, 5, 0, 5
update selendroid to 0.8.0, 64702345, 5, 0, 5
Merge pull request #1869 from imurchie/isaac-packageselect  Add app wait package, 64702345, 5, 0, 5
Add app wait package, 64702345, 5, 0, 5
Merge pull request #1861 from midopa/master  Clear the sessionOverride when cleaning up session, 64702345, 5, 0, 5
Clear the sessionOverride when cleaning up session, 64702345, 5, 0, 5
Merge pull request #1865 from bootstraponline/master  Fix async fullReset on Android, 64702345, 5, 0, 5
Fix async fullReset on Android  Update docs, 64702345, 5, 0, 5
Merge pull request #1864 from midopa/fullReset  Make fullReset clear app on session stop as well, 64702345, 5, 0, 5
Make fullReset clear app on session stop as well, 64702345, 5, 0, 5
Merge pull request #1856 from imurchie/isaac-chromedriver  Allow multiple ChromeDrivers to be running, 64702345, 5, 0, 5
Allow multiple ChromeDrivers to be running, 64702345, 5, 0, 5
Merge pull request #1852 from stephensjlee/patch-1  Update grid.md, 64702345, 5, 0, 5
Update grid.md, 64702345, 5, 0, 5
Merge pull request #1848 from bootstraponline/mobile_find_java  Add mobile find example for Java, 64702345, 5, 0, 5
Merge pull request #1851 from paymand/android_tag_name  el.tag_name on Android should return element's className., 64702345, 5, 0, 5
el.tag_name on Android should return element's className., 64702345, 5, 0, 5
Add mobile find example for Java, 64702345, 5, 0, 5
Merge pull request #1847 from midopa/master  Add better error message on missing build-tools include other versions., 64702345, 5, 0, 5
Add better error message on missing build-tools include other versions., 64702345, 5, 0, 5
Merge pull request #1842 from bootstraponline/fix_ios_reset  Fix iOS reset, 64702345, 5, 0, 5
Merge pull request #1844 from snevesbarros/master  fix for #1835, 64702345, 5, 0, 5
Added two minor fixes related to safari launcher, 64702345, 5, 0, 5
Fix iOS reset  iOS reset deletes the following:  /iPhone Simulator/7.0.3/Library/TCC /iPhone Simulator/7.0.3/Library/Caches /iPhone Simulator/7.0.3/Media /iPhone Simulator/7.0.3/Library/Keychains /iPhone Simulator/7.0.3/Applications  iOS full reset deletes the entire 'iPhone Simulator' folder., 64702345, 5, 0, 5
Merge pull request #1840 from bootstraponline/fix_long_click  Fix long click on Android, 64702345, 5, 0, 5
Fix long click on Android  Android's uiautomator has a broken long click implementation. uiautomator will not pause long enough on long click which causes Android to detect the long click as a normal click.  This fix uses reflection to access uiautomator's private touchDown/touchUp methods to reimplement longClick correctly.  In theory I should be able to obtain a reference to android.app.UiAutomation without using reflection. However this doesn't seem possible when using uiautomator. getInstrumentation().getUiAutomation(); doesn't work because we're not using instrumentation., 64702345, 5, 0, 5
Merge pull request #1836 from jlipps/master  make sure we don't send status objects back to appium#start (fix #1706), 64702345, 5, 0, 5
make sure we don't send status objects back to appium#start (fix #1706), 64702345, 5, 0, 5
Merge pull request #1829 from imurchie/isaac-accents  Handle accented characters sent to text fields in iOS, 64702345, 5, 0, 5
Allow for accented characters in text fields, 64702345, 5, 0, 5
Merge pull request #1810 from imurchie/isaac-spawn  Handle errors during spawn, 64702345, 5, 0, 5
Handle errors in spawn, 64702345, 5, 0, 5
Handle non-String input to errorStreamHandler, 64702345, 5, 0, 5
Merge pull request #1832 from sebv/jshint-ui-auto  Jshinted uiauto added check in grunt target, 64702345, 5, 0, 5
linted uiauto, 64702345, 5, 0, 5
Merge pull request #1831 from sebv/ios-hybrid-bugfix  ios-hybrid bugfix, 64702345, 5, 0, 5
Merge pull request #1816 from jasonchutko/url-alertview  Fixed a crash when there is a URL in an alert's title., 64702345, 5, 0, 5
Merge pull request #1814 from paymand/getIDeviceObj  getIDeviceObj() should return the device object., 64702345, 5, 0, 5
Merge pull request #1796 from sebv/sebv-working  Test reformatting step2., 64702345, 5, 0, 5
Merge pull request #1817 from davebassan/real-safari-ios7  Real safari ios7, 64702345, 5, 0, 5
Merge pull request #1830 from lbunschoten/patch-1  Update running-on-linux.md, 64702345, 5, 0, 5
bugfix simplifying loop avoiding win=undefined, 64702345, 5, 0, 5
Update running-on-linux.md  Fixed a typo (missing closing quote), 64702345, 5, 0, 5
corrected failures against styling rules., 64702345, 5, 0, 5
Merge branch 'real-safari-ios7' of https://github.com/davebassan/appium into real-safari-ios7, 64702345, 5, 0, 5
nonSyntheticWebClick does not work for real safari., 64702345, 5, 0, 5
do not click apple button for real safari., 64702345, 5, 0, 5
jshinting with white=true, 64702345, 5, 0, 5
Test reformatting step2., 64702345, 5, 0, 5
Merge pull request #1824 from bootstraponline/master  Escape single quotes for iOS id search, 64702345, 5, 0, 5
Merge pull request #1826 from jlipps/master  update style guide with new spacing guide, 64702345, 5, 0, 5
update style guide with new spacing guide, 64702345, 5, 0, 5
Merge pull request #1823 from sebv/jshint-white  Stricter jshint rules enforcable from editor, 64702345, 5, 0, 5
Escape single quotes for iOS id search  Fixes: Selenium::WebDriver::Error::JavascriptError: Unable to parse the format string, 64702345, 5, 0, 5
stricter jshint rules enforcable from editor, 64702345, 5, 0, 5
nonSyntheticWebClick does not work for real safari., 64702345, 5, 0, 5
do not click apple button for real safari., 64702345, 5, 0, 5
No need to remove the app if bundleId is null., 64702345, 5, 0, 5
getIDeviceObj() should return the device object., 64702345, 5, 0, 5
Merge pull request #1809 from jlipps/master  fix some ios real device launch issues, 64702345, 5, 0, 5
make sure we don't crash if IDevice init fails, 64702345, 5, 0, 5
finish locale udid fix (fix #1773), 64702345, 5, 0, 5
Merge pull request #1808 from jlipps/master  better support for settings/preferences app, 64702345, 5, 0, 5
enable basic prefs tests to pass on ios7 sim @sebv this will probably cause merge conflicts I tried to make it easy to see what's going on here, 64702345, 5, 0, 5
make settings app a first-class appium-supported ios app, 64702345, 5, 0, 5
add some logging around real device methods, 64702345, 5, 0, 5
Merge pull request #1806 from jlipps/master  if we can't find ios logs just log error don't crash appium, 64702345, 5, 0, 5
if we can't find ios logs just log error don't crash appium, 64702345, 5, 0, 5
Fixed a crash when there is a URL in an alert's title., 64702345, 5, 0, 5
Merge pull request #1767 from dandoveralba/instruments  Instruments Launch Failures, 64702345, 5, 0, 5
Instruments Launch Failures  * kill any Instruments processes in a bad state before retrying, 64702345, 5, 0, 5
Merge pull request #1797 from imurchie/isaac-docs  Fix Android system setup link, 64702345, 5, 0, 5
Fix Android system setup link, 64702345, 5, 0, 5
add tests for --force-iphone and --force-ipad, 64702345, 5, 0, 5
Merge pull request #1788 from jlipps/master  make toggle test ready for appium test, 64702345, 5, 0, 5
make toggle test ready for appium test - build it in reset.sh - move test files to an appropriate dir - add to test.sh cc @mobiware, 64702345, 5, 0, 5
Merge pull request #1769 from mobiware/mobile-toggle  Add mobile: methods on Android: toggleData toggleFlightMode toggleWiFi..., 64702345, 5, 0, 5
Add mobile: methods on Android: toggleData toggleFlightMode toggleWiFi toggleLocationServices  Original commit message: didLaunch flag is set at the end of launch sequence  "Ping" ADB to check whether we're still connected  On Android Emulator ADB is disconnected when we toggle Airplane Mode or mobile Data. However the problem does not manifest itself when querying the list of devices via adb devices: the emulator is still listed. After attempting to ping the emulator via a shell command the emulator is no longer listed and a kill-server is necessary to get ADB back up and running  Partial recovery from a loss of ADB connection caused by turning off the data connection in the emulator  Conditionnally restart UI Automator in case of unexpected exit mainly to address the use case of disconnecting the netwok on Android Emulator which triggers a loss of ADB connection and subsequently UI Automator connection  New method mobile: toggleData on Android  toggleData method on iOS  toggleFlightMode method  Make toggleData and toggleFlightMode mobile methods available for Selendroid  Fix indentation  Make sure we recover from ADB connection loss on Selendroid when disabling data on emulator  On Android emulator the ADB connection is lost when we disable the data connection. On Android the ADB connection loss is handled by the UI Automator exit handler on Selendroid it must be handled in the toggle method  Fixed indentation  Fixed ping method  Do not look for exact match in stdout  Reset uiautomatorRestartOnExit flag after we've disabled data connection  Refactor UI Automator exit handler and add a flag to completely ignore UI Automator exit  When we disconnect the network (via either disabling 3G or enabling Flight Mode) the official Android emulator loses the ADB connection. However sometimes the UI Automator exit handler is not called until the next attempt to send an ADB command. So we introduce a flag to tell the UI automator exit handler to do nothing i.e. neither restart UI Automator nor uninstall the app we take care of ADB and UI automator reconnection before sending the next ADB command  Refactor toggleSetting code and handle ADB reconnection  Refactored the toggleSetting code in order to separate the code common to both Android subplatforms and code specific to either platforms (UIAutomator and Selendroid) Made sure UI Automator restart is handled in the toggleSetting code and not in the UI Automator exit handler  Selendroid method for handling ADB disconnection in Emulator when turning network connection off  Right keyevent combination to position the focus on Airplane Mode checkbox for API <= 15  On Android 4.1+ (API 16+) there's a "Parent" button in the AIRPLANE_MODE_SETTINGS Activity's ActionBar whereas on earlier versions there's no "Parent" button so we need to take this into account when performing the key sequence to position the focus on the Airplane Mode checkbox  Generic mechanism to let each "toggle" method provide the sequence of key to position the focus  Each "toggle" mobile method may require a different sequence of keys in order to position the focus within the corresponding Settings Activity. Now this sequence is dynamically provided by each "toggle" method  mobile: toggleWiFi implementation  Remove blank line  mobile: toggleLocationServices implementation  When toggling LocationServices ON there's a dialog asking for user confirmation so we introduce a mechanism that lokks for this dialog and acknowledge it but if the dialog doesn't show up we proceed to exit the settings activity  Adapt key sequence for toggleLocationServices on Android API 16  Fix bug on Kitkat when re-enabling Location Services  On Kitkat when re-entering the Location Services Activity after disabling it no UI element has the focus and no key press can let the target switch grab the focus. The workaround is to make sure an element has the focus by issuing a key press prior to opening the Location Services activity.  Fix lint error (mixed tabs and spaces)  Fix lint error (mixed tabs and spaces)  Add comments  Spaces after if  Move variable definition  Shorten variable names  Remove dead code  Move restartAdb method to ADB (and rename to restart)  Rename rr variable to err  Android Test app for "mobile: toggle…" methods  Test script for "mobile: toggle…" methods  Refactoring of toggle test script to avoid code duplication  Adding other toggle methods  Fix lint warning  Handle an unexpected exit of logcat (for instance if ADB itself exits unexpectedly)  Make sure we can restart logcat after stoping it  Stop and restart logcat when restarting ADB  Fix UiAutomator state variable to prevent blocking when restarting UiAutomator  Refactored toggle test to allow testing on both Android and Selendroid  Get rid of the arbitrary timeout to account for ADB disconnection on emulator  When disconnecting the network connection through the "mobile: toggle" methods we no longer wait for an arbitrary period of time for the ADB connection to go down. Instead we forcibly shut down ADB and restart it, 64702345, 5, 0, 5
fix bug where --safari wouldn't pre-launch and add tests, 64702345, 5, 0, 5
fix node logic error preventing unlock errors from propagating in chrome, 64702345, 5, 0, 5
Merge pull request #1787 from jlipps/master  misc fixes, 64702345, 5, 0, 5
Merge pull request #1784 from thu2004/master  Support mobile method 'launchApp' for selendroid, 64702345, 5, 0, 5
not sure why we were waiting 30 seconds for instruments to terminate 3 seconds should be more than enough, 64702345, 5, 0, 5
actually log no colors when we say not to, 64702345, 5, 0, 5
changelog and bump to 0.14.2 for publish, 64702345, 5, 0, 5
fix logic mistake guess i should run some tests before releasing, 64702345, 5, 0, 5
Merge pull request #1777 from paymand/ios_drag  Implemented drag for iOS., 64702345, 5, 0, 5
Support mobile method 'launchApp' for selendroid, 64702345, 5, 0, 5
changelog and bump to 0.14.1 for publish, 64702345, 5, 0, 5
Merge pull request #1782 from jlipps/ios-prefs  Ios prefs, 64702345, 5, 0, 5
ensure we don't set prefs when running a real device, 64702345, 5, 0, 5
Implemented drag for iOS.  - Use same drag API on iOS and Android. - Fixed some indentations., 64702345, 5, 0, 5
allow enabling/disabling locationservices via caps, 64702345, 5, 0, 5
round out settings methods and options, 64702345, 5, 0, 5
set down basic plist key/value options and logic, 64702345, 5, 0, 5
Merge pull request #1781 from bootstraponline/master  android fails to install apk when using old fashion reset, 64702345, 5, 0, 5
fast reset without fast clear requires remote apk to exist, 64702345, 5, 0, 5
Merge pull request #1779 from jlipps/master  fix pre-launch bug (fix #1772), 64702345, 5, 0, 5
fix pre-launch bug (fix #1772) and add tests, 64702345, 5, 0, 5
Merge pull request #1776 from rgonalo/master  Fix issue #1775: Selendroid doesn't wait for app-wait-activity, 64702345, 5, 0, 5
Fix issue #1775: Selendroid doesn't wait for app-wait-activity, 64702345, 5, 0, 5
Merge pull request #1771 from jasonchutko/alertview-notitle  Alerts with no title will return the text as null instead of the alert's message content., 64702345, 5, 0, 5
Fixed an issue where alerts with no title will return the text as null instead of the alert's message content. Similarly fixed in the converse., 64702345, 5, 0, 5
changelog and bump to 0.14.0 for publish, 64702345, 5, 0, 5
reverse test assumption (cc @sebv), 64702345, 5, 0, 5
fix test this is what i get for using another editor, 64702345, 5, 0, 5
make ios tests a bit more robust, 64702345, 5, 0, 5
add test for app backgrounding to android/selendroid, 64702345, 5, 0, 5
Merge pull request #1765 from jlipps/fix-max-stack  fix max call stack in keytool zip issue, 64702345, 5, 0, 5
use a messy loop instead of a deeply nested async fn chain (fix #1523), 64702345, 5, 0, 5
Merge pull request #1764 from sebv/extra-caps  Added doc for nativeInstrumentsLib cap, 64702345, 5, 0, 5
Added doc for nativeInstrumentsLib cap, 64702345, 5, 0, 5
Merge pull request #1762 from mobiware/background-android3  Implementing mobile:background command for Android and Selendroid, 64702345, 5, 0, 5
Implementing mobile:background command for Android and Selendroid  Replay commit 1c6b495cd2f3fbbb8622a9fb43f3e50aa79ab82e  Remove debug log  Tidy up spaces according to pull request review  Fixed indentation according to Appium project style guide (2 spaces indent)  Fixed error management in background method  Add an argument to ADB.startApp in order to choose whether to stop the app prior to starting it  Conflicts: 	lib/devices/android/adb.js  Refactored mobile:background method for Android: using ADB.startApp rather than directly issuing am start command to ADB shell do not return to callback until app is back to foreground  Mimick the launcher start intent for the app when starting it  The Android launcher uses the following settings to start apps: - MAIN action - LAUNCHER category - FLAG_ACTIVITY_NEW_TASK - FLAG_ACTIVITY_RESET_TASK_IF_NEEDED Without those settings there were discrepancies between Selendroid and Android when trying to bring the app back to foreground: it would not bring back the existing Activity stack but create new activities  Adapt background code to new startApp signature  Added "retry" argument  Missing space  Spaces after if  Fixed spacing issue  Split long line, 64702345, 5, 0, 5
Merge pull request #1760 from jlipps/master  windows compat fix in android binary finding logic, 64702345, 5, 0, 5
Merge pull request #1761 from thu2004/master  Return accessibilityHint as element's attribute 'hint', 64702345, 5, 0, 5
windows compat fix in android binary finding logic (attempt to fix #1759), 64702345, 5, 0, 5
Return accessibilityHint as element's attribute 'hint', 64702345, 5, 0, 5
Merge pull request #1755 from mobiware/full-reset2  Support full-reset for selendroid (2nd take), 64702345, 5, 0, 5
Merge pull request #1754 from sebv/extra-caps  Native instruments configurable as capabilities, 64702345, 5, 0, 5
Merge pull request #1753 from patotskiy/fix_android  Fix android multiple devices: android/android-common.js, 64702345, 5, 0, 5
Support full-reset for selendroid  Replay commit ad9c73a3c45cfa8352dac2e5b7943a19b615b14b, 64702345, 5, 0, 5
native instruments configurable as capabilities, 64702345, 5, 0, 5
Fix android multiple devices: android/android-common.js, 64702345, 5, 0, 5
Merge pull request #1747 from c0nscience/develop  switch values at assertEquals statements, 64702345, 5, 0, 5
Merge pull request #1750 from jlipps/master  add bitdeli tracking, 64702345, 5, 0, 5
add bitdeli tracking, 64702345, 5, 0, 5
Merge pull request #1749 from jlipps/master  kill chromedriver before starting new chromedriver, 64702345, 5, 0, 5
kill chromedriver before starting new chromedriver, 64702345, 5, 0, 5
Merge pull request #1745 from zijie0/master  Fix issue #1713: Change killProc signal from SIGKILL to SIGTERM., 64702345, 5, 0, 5
switch values at assertEquals statements to reflect the correct meaning, 64702345, 5, 0, 5
Fix issue #1713: Change killProc signal from SIGKILL to SIGTERM., 64702345, 5, 0, 5
Merge pull request #1734 from jlipps/master  fix some selendroid issues, 64702345, 5, 0, 5
fix selendroid app launch issues require a dot for a relative activity otherwise we consider it a full one, 64702345, 5, 0, 5
support selendroid 4.4/19 better, 64702345, 5, 0, 5
Merge pull request #1732 from sebv/wd_promise_chain  Converted test to wd promise chain api., 64702345, 5, 0, 5
Refactored tests to use wd promise-chain api, 64702345, 5, 0, 5
Merge pull request #1729 from Markm21/patch-1  Support Latest SDK, 64702345, 5, 0, 5
Support Latest SDK  android-4.4 created by default on latest SDK installation, 64702345, 5, 0, 5
Merge pull request #1727 from rectalogic/master  Use correct suffix (.zip or .apk) when downloading app from a url., 64702345, 5, 0, 5
Use correct suffix (.zip or .apk) when downloading app from a url.  md5calculator (used in lib/devices/android/android-common.js) can only handle files that end in .ipa or .apk not .zip. Currently urls that end in .apk are downloaded as appium-app.zip, 64702345, 5, 0, 5
fix autoAcceptAlerts undefined issue (cc @dandoveralba), 64702345, 5, 0, 5
Merge pull request #1726 from jlipps/master  cleanup app state before a test too (rewrite of #1732), 64702345, 5, 0, 5
Merge pull request #1725 from paymand/install_remove_app_ios  Fix for installing/removing app on device when a .app path is used., 64702345, 5, 0, 5
Fix for installing/removing app on device when a .app path is used., 64702345, 5, 0, 5
cleanup app state before a test too (rewrite of #1732) cc @dandoveralba @bootstraponline, 64702345, 5, 0, 5
actually allow removeApp to work with selendroid (fix #1686 for real), 64702345, 5, 0, 5
Merge pull request #1724 from dandoveralba/alerts  Update Alert Logic, 64702345, 5, 0, 5
Update Alert Logic  * by default appium doesn't interact with alerts * set autoAcceptAlerts to true to have appium accept alerts, 64702345, 5, 0, 5
fix forgotten bind issue, 64702345, 5, 0, 5
Update caps.md, 64702345, 5, 0, 5
Merge pull request #1715 from jlipps/master  show selendroid logs in output, 64702345, 5, 0, 5
show selendroid logs in appium output by making logcat an eventemitter. also update selendroid test app version, 64702345, 5, 0, 5
upgrade selendroid to 0.7.0, 64702345, 5, 0, 5
if we have trouble proxying best to actually error to the client, 64702345, 5, 0, 5
Merge pull request #1714 from jlipps/master  fix selendroid ECONNRESET crashes, 64702345, 5, 0, 5
fix selendroid ECONNRESET crashes by making sure that activities come prepended with a dot. and add a test, 64702345, 5, 0, 5
Merge pull request #1674 from rockbot/ios-crash  Checks for crash log information - first attempt (fix #1590), 64702345, 5, 0, 5
Merge pull request #1711 from jlipps/master  automatically accept photo permission alerts (fix #1700), 64702345, 5, 0, 5
make sure we catch photo alert names, 64702345, 5, 0, 5
completes iOS crash logging (fixes #1590), 64702345, 5, 0, 5
update appium doctor to respect new auth db value, 64702345, 5, 0, 5
automatically accept photo permission alerts (fix #1700) and add manualPermissionAlerts desired cap if you want to handle things manually, 64702345, 5, 0, 5
Merge pull request #1710 from penguinho/sim_logs  Adding flag to show simulator logs on the appium console, 64702345, 5, 0, 5
Adding flag to show simulator logs, 64702345, 5, 0, 5
Merge pull request #1709 from jlipps/master  bring back closeApp for selendroid (fix #1686), 64702345, 5, 0, 5
bring back closeApp for selendroid (fix #1686), 64702345, 5, 0, 5
Merge pull request #1705 from jlipps/master  add support for testing stock browser in 4.4, 64702345, 5, 0, 5
add support for doing web testing against android stock browser, 64702345, 5, 0, 5
update apidemos, 64702345, 5, 0, 5
Merge pull request #1701 from sebv/xcode46_reset  Avoiding reset.sh crash when using Xcode 4.6, 64702345, 5, 0, 5
making reset.sh xcode 4.6 friendly, 64702345, 5, 0, 5
fix mechanic link (fix #1699), 64702345, 5, 0, 5
update jshint with more style guidelines, 64702345, 5, 0, 5
Merge pull request #1697 from testerhome/master  add two doc in Chinese and update to the latest, 64702345, 5, 0, 5
add troubleshooting.cn.md add real-devices.cn.md update the cn doc to the latest add saucelabs-repository in pom.xml in testng example, 64702345, 5, 0, 5
Merge pull request #1695 from rockbot/bootstrap-error-handling  Improves error handling in bootstrap's find.java (fixes #1549), 64702345, 5, 0, 5
Improves error handling in bootstrap's find.java (fixes #1549), 64702345, 5, 0, 5
Merge pull request #1687 from sebv/chrome_fix  Modified session creation to cope with non redirect case, 64702345, 5, 0, 5
Merge pull request #1681 from boxiong/master  Fixed a sporadic DOM corruption issue, 64702345, 5, 0, 5
Merge pull request #1679 from bootstraponline/shell  Fix appium shell, 64702345, 5, 0, 5
Merge pull request #1694 from bootstraponline/fix_app_not_responding  Fix app not responding, 64702345, 5, 0, 5
Merge pull request #1688 from vkmtse/patch-1  Update troubleshooting.md, 64702345, 5, 0, 5
Merge pull request #1689 from sebv/node_examples  Node example refresh., 64702345, 5, 0, 5
fixing one liner if, 64702345, 5, 0, 5
fixing spaces, 64702345, 5, 0, 5
fixing spaces, 64702345, 5, 0, 5
adding dev packages, 64702345, 5, 0, 5
Update troubleshooting.md, 64702345, 5, 0, 5
Modified session creation to cope with non redirect case, 64702345, 5, 0, 5
dev package update, 64702345, 5, 0, 5
new node examples, 64702345, 5, 0, 5
Fixed sporadic DOM corruption issue, 64702345, 5, 0, 5
Merge pull request #1680 from bootstraponline/keystore  Fix checkApkKeystoreMatch argument order, 64702345, 5, 0, 5
Fix checkApkKeystoreMatch argument order, 64702345, 5, 0, 5
Fix appium shell  node appium.js --shell, 64702345, 5, 0, 5
Fix app not responding, 64702345, 5, 0, 5
Merge pull request #1670 from rockbot/master  first attempt at fixing appium avd startup bug, 64702345, 5, 0, 5
first attempt at fixing appium avd startup bug, 64702345, 5, 0, 5
Merge pull request #1664 from rockbot/master  requires users to specify their device in their desired capabilities (fix #1656), 64702345, 5, 0, 5
requires users to specify their device in their desired capabilities, 64702345, 5, 0, 5
Merge pull request #1663 from Jonahss/patch-1  Readme typo, 64702345, 5, 0, 5
Readme typo, 64702345, 5, 0, 5
Merge pull request #1662 from jlipps/master  add ability to set launch timeout from the command line so it can be use..., 64702345, 5, 0, 5
add ability to set launch timeout from the command line so it can be used in conjunction with pre-launch, 64702345, 5, 0, 5
getiOSSDKVersion only returns major version but we need minor versions for clearing out safari. use glob instead, 64702345, 5, 0, 5
changelog and bump to 0.13.0 for publish, 64702345, 5, 0, 5
make sure that if we delete a built-in app we look in /tmp to try and launch it if it ends up being not put back yet, 64702345, 5, 0, 5
adb shell doesn't return exit codes so we need to specifically look for this failure, 64702345, 5, 0, 5
actually selendroid does need to support a few mobile methods as it turns out! cc @rockbot, 64702345, 5, 0, 5
update selendroid, 64702345, 5, 0, 5
make sure origAppPath doesn't hang around between sessions, 64702345, 5, 0, 5
show a warning in reset.sh if you're not on ios7, 64702345, 5, 0, 5
update i-w-d (fix #1640), 64702345, 5, 0, 5
Merge pull request #1657 from jlipps/safari7  Safari on iOS 7, 64702345, 5, 0, 5
make sure that gappium tests are run for both ios and android, 64702345, 5, 0, 5
have safari tests automatically use current sdk, 64702345, 5, 0, 5
wait a bit after a non-synthetic click since it takes longer than javascript, 64702345, 5, 0, 5
if instruments chooses not to die leave it in its grave and find another one, 64702345, 5, 0, 5
update mobile safari behavior to work better with ios7, 64702345, 5, 0, 5
Merge pull request #1653 from elgalu/patch-2  Markdown-related improvements to README.md ruby examples, 64702345, 5, 0, 5
Markdown-related improvements to README.md ruby examples, 64702345, 5, 0, 5
Fix spacing, 64702345, 5, 0, 5
Merge pull request #1651 from rockbot/master  changes md5 module for more efficient md5hashing, 64702345, 5, 0, 5
Merge pull request #1652 from elgalu/patch-1  Small typo 'sessoin' for 'session', 64702345, 5, 0, 5
Small typo 'sessoin' for 'session', 64702345, 5, 0, 5
changes md5 module for more efficient md5hashing, 64702345, 5, 0, 5
allow safari on ipad to launch correctly as well, 64702345, 5, 0, 5
support automation of safari on ios7, 64702345, 5, 0, 5
allow setting ios sdk version in tests with IOS_VERSION env var, 64702345, 5, 0, 5
allow built-in apps to be automated by temporarily moving them, 64702345, 5, 0, 5
Merge pull request #1634 from grz0/master  Catch SyntaxError exception and log nice error message, 64702345, 5, 0, 5
Merge pull request #1645 from rockbot/master  politely informs user that mobile commands don't work in selenium, 64702345, 5, 0, 5
Merge pull request #1650 from jlipps/instruments-rearch  Instruments rearch, 64702345, 5, 0, 5
Catch SyntaxError exception and log nice error message, 64702345, 5, 0, 5
remove safari launcher as strategy for safari + sim, 64702345, 5, 0, 5
clean up instruments pathfinding, 64702345, 5, 0, 5
remove retry support from appium test code since it is now handled in appium itself, 64702345, 5, 0, 5
refactor instruments and add appium-internal flake support This commit constitutes a pretty big refactor of the instruments process handler. It also introduces a server flag '--backend-retries' with a default of '3' which specifies how many times Appium will retry launching instruments before giving up and saying that it crashed or timed out. This works in concert with launchTimeout of course.  I think this refactor also fixes some longstanding callback reasoning errors and maybe some other bugs.  It might also introduce some bugs of its own though :-), 64702345, 5, 0, 5
politely informs user that mobile commands don't work in selenium  adds extra test to ensure it's the mobile: error message that's getting sent, 64702345, 5, 0, 5
Merge pull request #1643 from bootstraponline/master  Fix cleanupAppState logging messages, 64702345, 5, 0, 5
Merge pull request #1626 from rockbot/master  adds check for API level; stops test if device is 'android' but API < 17, 64702345, 5, 0, 5
adds check for API level; stops test if device is 'android' but API < 17  separates checkApiLevel functionality and cleans up little bits  cleans up the last bits, 64702345, 5, 0, 5
Update iOS mobile reset, 64702345, 5, 0, 5
Merge pull request #1636 from jlipps/master  fix #1631, 64702345, 5, 0, 5
add tests for apk downloading delete old tests (fix #1631), 64702345, 5, 0, 5
remove unused testfiles, 64702345, 5, 0, 5
Merge pull request #1632 from jlipps/master  misc fixes, 64702345, 5, 0, 5
make sure show-config works with npm (fix #1630), 64702345, 5, 0, 5
don't reset build/ if we're not using --hardcore and some other fixes, 64702345, 5, 0, 5
Merge pull request #1625 from filmaj/new-build-tools  add 19.0.0 build tools search path for figuring out where aapt is, 64702345, 5, 0, 5
add 19.0.0 build tools search path for figuring out where aapt is. helps w/ support for new android sdks., 64702345, 5, 0, 5
Merge pull request #1619 from penguinho/sim-wait  Adding wait for simulator to launch by waiting for log to populate, 64702345, 5, 0, 5
Fix #1442, 64702345, 5, 0, 5
Adding automatic detection of the last used simulator version, 64702345, 5, 0, 5
Adding code to kill zombie deamon launchers, 64702345, 5, 0, 5
Merge pull request #1620 from penguinho/doctor  Doctor Improvements, 64702345, 5, 0, 5
start-up sequence will now wait for at least one line in the simulator log before proceeding  had to fix the log capture code to make this work, 64702345, 5, 0, 5
Fixing Issue Where Linux tried to run iOS Checks and where sometimes checks did not run, 64702345, 5, 0, 5
Fixing the authorization db check to work for Mountain Lion, 64702345, 5, 0, 5
Merge pull request #1617 from DylanLacey/master  Update Sauce examples with reporting cleaner layout, 64702345, 5, 0, 5
Make ruby sauce examples follow the same structure.  Make Android and Ruby examples have helper code at the bottom similar method names, 64702345, 5, 0, 5
Make Ruby Sauce example report success and actually work, 64702345, 5, 0, 5
Add result reporting to Ruby Android Sauce example, 64702345, 5, 0, 5
Merge pull request #1615 from jlipps/master  wait a bit for webviews to show up and fix safari callback issue, 64702345, 5, 0, 5
wait a bit for webviews to show up and fix safari callback issue, 64702345, 5, 0, 5
Merge pull request #1614 from dandoveralba/set-locale  setLocale should not run for real devices, 64702345, 5, 0, 5
setLocale should not run for real devices  * add a check if the udid is null to determine if setLocale should run * log message if we do/don't setLocale  ISSUE: 1611, 64702345, 5, 0, 5
fix authorize-ios (fix #1499), 64702345, 5, 0, 5
Merge pull request #1607 from jlipps/master  remove dependency on grep for android device (fix #1540), 64702345, 5, 0, 5
remove dependency on grep for android device (fix #1540), 64702345, 5, 0, 5
Merge pull request #1606 from Nefry/patch-1  Update ios-webkit-debug-proxy instalation first step command, 64702345, 5, 0, 5
Update ios-webkit-debug-proxy instalation first step command, 64702345, 5, 0, 5
changelog and bump to 0.12.3 for publish, 64702345, 5, 0, 5
update selendroid to 0.7.0, 64702345, 5, 0, 5
Merge pull request #1603 from jlipps/master  refactor server/main and fix force-kill instruments issues, 64702345, 5, 0, 5
make sure we don't start FQInstruments on non-mac or mac < 10.9 (fix #1585), 64702345, 5, 0, 5
refactor server/main and add --merciful flag to avoid the force quit instruments watcher, 64702345, 5, 0, 5
Merge pull request #1602 from bootstraponline/master  Pipe force quit logs to console, 64702345, 5, 0, 5
Merge pull request #1601 from jlipps/master  add lots more tests for command timeout, 64702345, 5, 0, 5
Pipe force quit logs to console  info: [ForceQuitUnresponsiveApps] 2013-12-10 15:11:16.424 ForceQuitUnresponsiveApps[56799:507] Force quit unresponsive instruments v0.0.1 info: [ForceQuitUnresponsiveApps] 2013-12-10 15:11:42.708 ForceQuitUnresponsiveApps[56799:507] Force quitting: 'freeze2' at 'file:///Users/user/ForceQuitUnresponsiveApps/freeze2/./bin/freeze2.app/Contents/MacOS/instruments', 64702345, 5, 0, 5
add lots more tests for command timeout testing setting via desired caps as well also make it so passing in 'false' also disables timeout, 64702345, 5, 0, 5
Merge pull request #1598 from haveahennessy/disable-timeout  Setting newCommandTimeout capability to 0 disables timeout., 64702345, 5, 0, 5
Setting newCommandTimeout capability to 0 disables timeout., 64702345, 5, 0, 5
Merge pull request #1596 from mobiware/master  Fix for #1595, 64702345, 5, 0, 5
Add class name as a valid strategy for non-Web platforms, 64702345, 5, 0, 5
Merge pull request #1594 from jlipps/master  we don't write to authfile anymore so get rid of that code, 64702345, 5, 0, 5
we don't write to authfile anymore so get rid of that code and give users the ability to give total and insecure access to taskport, 64702345, 5, 0, 5
Merge pull request #1593 from jlipps/master  update sauce android example to not be dependent on driverblock, 64702345, 5, 0, 5
update sauce android example to not be dependent on driverblock, 64702345, 5, 0, 5
Merge pull request #1592 from jlipps/master  allow user to let instruments launch device with --default-device, 64702345, 5, 0, 5
allow user to let instruments launch device with --default-device, 64702345, 5, 0, 5
make sure --show-config doesn't crash main server :-), 64702345, 5, 0, 5
Merge pull request #1591 from jlipps/master  add --show-config flag to show appium config and include server build t..., 64702345, 5, 0, 5
add --show-config flag to show appium config and include server build time, 64702345, 5, 0, 5
xcode 5.0.2 is out, 64702345, 5, 0, 5
Merge pull request #1584 from bootstraponline/master  Fix #1583, 64702345, 5, 0, 5
Fix #1583, 64702345, 5, 0, 5
Merge pull request #1582 from jlipps/master  retina shouldn't be default for ios 6, 64702345, 5, 0, 5
retina shouldn't be default for ios 6, 64702345, 5, 0, 5
Merge pull request #1581 from jlipps/master  make sure to reset command timeout during mobile: reset (fix #1579), 64702345, 5, 0, 5
make sure to reset command timeout during mobile: reset (fix #1579), 64702345, 5, 0, 5
don't try to outsmart npm I guess. 0.12.2, 64702345, 5, 0, 5
try to republish for npm, 64702345, 5, 0, 5
changelog and bump to 0.12.1 for publish, 64702345, 5, 0, 5
make spinTitle a bit more lenient webview tests, 64702345, 5, 0, 5
Merge pull request #1576 from jlipps/master  fix loc strat failure cases, 64702345, 5, 0, 5
make sure we don't discount web locators in webviews, 64702345, 5, 0, 5
remove duplicate test and fix isScreenLocked test, 64702345, 5, 0, 5
Merge pull request #1575 from bootstraponline/master  Fix scheme error by updating ForceQuitUnresponsiveApps, 64702345, 5, 0, 5
Fix scheme error by updating ForceQuitUnresponsiveApps, 64702345, 5, 0, 5
Merge pull request #1573 from jlipps/master  misc fixes, 64702345, 5, 0, 5
make sure we extract the right file from the zip (fix #1557), 64702345, 5, 0, 5
fail sooner if user passes in a bad locator strategy (fix #1539), 64702345, 5, 0, 5
Merge pull request #1565 from bootstraponline/fix_unresponsive_instruments  Recover from unresponsive instruments process, 64702345, 5, 0, 5
Recover from unresponsive instruments process  Register for kCGSNotificationAppUnresponsive and if the process is Instruments then terminate it. This enables Appium to continue even when instruments is unresponsive. The current behavior is to wait forever.  To test this feature works properly run ./instruments.sh from https://github.com/appium/ForceQuitUnresponsiveApps  instruments.sh will launch a process that's unresponsive and appium will force quit the process. The unresponsive process can be visually confirmed by using OS X Activity Monitor., 64702345, 5, 0, 5
Merge pull request #1562 from penguinho/doctor  Adding More Doctor Checks for Android and Dev, 64702345, 5, 0, 5
Adding Dev Checks, 64702345, 5, 0, 5
Adding more android checks adding optional cb to log.pass and log.fail, 64702345, 5, 0, 5
Adding doctor check for node binary path, 64702345, 5, 0, 5
Merge pull request #1560 from penguinho/doctor  Adding checks to see if authorize iOS needs to be run, 64702345, 5, 0, 5
Adding checks to see if authorize iOS needs to be run, 64702345, 5, 0, 5
Merge pull request #1559 from penguinho/doctor-gui  Adding the ability to run appium-doctor via the app using socket.io, 64702345, 5, 0, 5
Adding the ability to run appium-doctor via the app using socket.io, 64702345, 5, 0, 5
Merge pull request #1550 from Astro03/master  Update appium doctor for OS 10.8, 64702345, 5, 0, 5
Update appium doctor for OS 10.8, 64702345, 5, 0, 5
Merge pull request #1547 from fbai/patch-1  Update adb.js: fix typo error, 64702345, 5, 0, 5
Merge pull request #1546 from jlipps/master  go ahead and kill sims before launching a new one, 64702345, 5, 0, 5
Update adb.js: fix typo error  line 511  this.getDeviceWithRetry(120000 cb); changed to this.getDevicesWithRetry(120000 cb);, 64702345, 5, 0, 5
go ahead and kill sims before launching a new one, 64702345, 5, 0, 5
Merge pull request #1545 from jlipps/iwebview-https  allow iwebview to access https sites with self-signed certs, 64702345, 5, 0, 5
Merge pull request #1530 from penguinho/doctor  Appium Doctor Start, 64702345, 5, 0, 5
allow iwebview to access https sites with self-signed certs, 64702345, 5, 0, 5
Appium Doctor Start  This is a basic vesion of Appium Doctor that checks for Xcode Xcode Command Line Tools JAVA_HOME and ANDROID_HOME, 64702345, 5, 0, 5
Merge pull request #1544 from curtissiemens/master  Fixing iosDeviceString for iPad 64-bit case (missing parentheses)., 64702345, 5, 0, 5
Fixing iosDeviceString for iPad 64-bit case (missing parentheses)., 64702345, 5, 0, 5
Merge pull request #1543 from penguinho/locale_fix  Fixing get iOS SDK version for Xcode 4, 64702345, 5, 0, 5
Fixing get iOS SDK version for Xcode 4, 64702345, 5, 0, 5
Merge pull request #1542 from jlipps/master  misc fixes, 64702345, 5, 0, 5
fix at least one case of ios sims not being killed cc @penguinho, 64702345, 5, 0, 5
fail with a nice error message if xcrun can't find instruments (fix #1538), 64702345, 5, 0, 5
Merge pull request #1537 from curtissiemens/master  Fix 4-inch 64-bit device string building (was missing dash in 64 inch)., 64702345, 5, 0, 5
Fix 4-inch 64-bit device string building (was missing dash in 64 inch)., 64702345, 5, 0, 5
Making default iOS version a string in the capabilities object, 64702345, 5, 0, 5
Merge pull request #1527 from penguinho/ios_version  Returning iOS Version number in capabilities, 64702345, 5, 0, 5
fix changelog, 64702345, 5, 0, 5
Returning iOS Version number in capabilities  Fixes #1332, 64702345, 5, 0, 5
Merge pull request #1504 from penguinho/locale_fix  Fix Locale Settings for iOS > 7.0.0, 64702345, 5, 0, 5
Fix Locale Settings for iOS > 7.0.0, 64702345, 5, 0, 5
changelog and bump to 0.12.0 for publish, 64702345, 5, 0, 5
fix screen unlocking test, 64702345, 5, 0, 5
fix orientation test, 64702345, 5, 0, 5
Merge pull request #1524 from bootstraponline/master  Fix onAlert, 64702345, 5, 0, 5
Fix onAlert, 64702345, 5, 0, 5
Merge pull request #1522 from jlipps/master  ensure ios flicks don't return control too soon (fix#742), 64702345, 5, 0, 5
ensure ios flicks don't return control too soon (fix#742), 64702345, 5, 0, 5
Merge pull request #1521 from jlipps/master  keep track of 'dumpsys window' logs for research (fix #1401), 64702345, 5, 0, 5
keep track of 'dumpsys window' logs for research (fix #1401), 64702345, 5, 0, 5
Merge pull request #1520 from jlipps/master  allow alternative type of clear through fastClear: false cap, 64702345, 5, 0, 5
allow alternative type of clear through fastClear: false cap fix #1514, 64702345, 5, 0, 5
Merge pull request #1519 from jlipps/master  kill uiautomator before running test (fix #1517), 64702345, 5, 0, 5
kill uiautomator before running test (fix #1517), 64702345, 5, 0, 5
Merge pull request #1518 from jlipps/master  enable setLocation on selendroid (fix #1511), 64702345, 5, 0, 5
enable setLocation on selendroid (fix #1511), 64702345, 5, 0, 5
Merge pull request #1515 from prolificcoder/master  fixing 1483, 64702345, 5, 0, 5
fixing 1483, 64702345, 5, 0, 5
Merge pull request #1513 from jlipps/master  ideviceinstaller tweaks, 64702345, 5, 0, 5
try built-in ideviceinstaller if we don't have one, 64702345, 5, 0, 5
fail better when ideviceinstaller is not present, 64702345, 5, 0, 5
Merge pull request #1509 from jlipps/master  misc updates, 64702345, 5, 0, 5
make sure we have some time to get logs, 64702345, 5, 0, 5
accept pop-up windows by default, 64702345, 5, 0, 5
update dependencies, 64702345, 5, 0, 5
Merge pull request #1508 from bootstraponline/master  Update style guide with undefined note, 64702345, 5, 0, 5
Update style guide with undefined note, 64702345, 5, 0, 5
Merge pull request #1507 from jlipps/master  add pass/fail status reporting to sauce node examples, 64702345, 5, 0, 5
fix weird javascript error, 64702345, 5, 0, 5
add pass/fail status reporting to sauce node examples, 64702345, 5, 0, 5
Merge pull request #1486 from penguinho/device  Select your iOS Simulator Device, 64702345, 5, 0, 5
Merge pull request #1495 from bootstraponline/fix_null_crash  Avoid crashing when device is null, 64702345, 5, 0, 5
Check for start err, 64702345, 5, 0, 5
Merge pull request #1497 from jlipps/master  misc fixes, 64702345, 5, 0, 5
select your iOS Simulator Device, 64702345, 5, 0, 5
Merge pull request #1498 from rossrowe/master  Updated Sauce Java samples to use Sauce Java helper libraries which sets the pass/fail status after the test has been run, 64702345, 5, 0, 5
Updated Sauce Java samples to use Sauce Java helper libraries which sets the pass/fail status after the test has been run, 64702345, 5, 0, 5
allow periods in xpath nodes (fix #881), 64702345, 5, 0, 5
actually have this test prove that the session ended, 64702345, 5, 0, 5
Merge pull request #1494 from testerhome/master  add chinese docs and a ruby xunit testcase sample for android, 64702345, 5, 0, 5
Merge pull request #1496 from jlipps/master  force-stop app before starting it (fix #1142), 64702345, 5, 0, 5
force-stop app before starting it (fix #1142), 64702345, 5, 0, 5
Merge pull request #1482 from jlipps/webviewapp  Promote WebViewApp to first-class mobile web testing platform, 64702345, 5, 0, 5
add chinese docs and a ruby xunit testcase sample for android, 64702345, 5, 0, 5
Merge pull request #1493 from penguinho/fix_udidetect  Fixing automatic udid detection, 64702345, 5, 0, 5
Fixing automatic udid detection  Fix #1399, 64702345, 5, 0, 5
Merge pull request #1477 from curtissiemens/master  Adding the ability to get node path out of .appiumconfig (for users who ..., 64702345, 5, 0, 5
Code style tweak to .appiumconfig file load/parse., 64702345, 5, 0, 5
Improved getting .appiumconfig path location & now use JSON to parse .appiumconfig data., 64702345, 5, 0, 5
make sure to run iwebview tests in ios7 testsuite, 64702345, 5, 0, 5
new webviewapp works for both ios6.1 and ios7.0, 64702345, 5, 0, 5
relax size/width requirements for testing purposes, 64702345, 5, 0, 5
add iwebview test right now just a clone of safari tests, 64702345, 5, 0, 5
allow 'iwebview' desired cap for running web tests in webviewapp instead of safari, 64702345, 5, 0, 5
promote WebViewApp to build/ since it will be used for web tests in ios7, 64702345, 5, 0, 5
update webviewapp in assets since it will only build for 7.0 from now on, 64702345, 5, 0, 5
update webviewapp for ios7 all orientations and loading notification, 64702345, 5, 0, 5
move autwebview-related methods to safari.js, 64702345, 5, 0, 5
make safari its own device module, 64702345, 5, 0, 5
update unit test to reflect new mock ios, 64702345, 5, 0, 5
object orientify these methods, 64702345, 5, 0, 5
run webview tests on webviewapp now, 64702345, 5, 0, 5
Adding the ability to get node path out of .appiumconfig (for users who modify .appiumconfig), 64702345, 5, 0, 5
Merge pull request #1472 from snevesbarros/close_tab_solution  Added ability to close tabs in safari when using safariLauncher, 64702345, 5, 0, 5
Updated close window to work on physical devices as well and when using safari launcher we connect to latest window as this is the one that safari launcher opened., 64702345, 5, 0, 5
Merge pull request #1467 from paymand/log_no_colors  Make sure there's no color in the console output when --log-no-colors is used., 64702345, 5, 0, 5
Merge pull request #1476 from jlipps/master  make sure chrome tests don't require package/activity, 64702345, 5, 0, 5
make sure chrome tests don't require package/activity, 64702345, 5, 0, 5
Merge pull request #1468 from jlipps/master  fix developer access popup issue (fix #1385), 64702345, 5, 0, 5
fix developer access popup issue (fix #1385), 64702345, 5, 0, 5
Make sure there's no color in the console output when --log-no-colors is used., 64702345, 5, 0, 5
Merge pull request #1466 from snevesbarros/patch-1  Update mobile-web.md, 64702345, 5, 0, 5
Update mobile-web.md  Minor update to the bug note. The proxy works against iOS7 as long as you click trust this machine first., 64702345, 5, 0, 5
changelog and bump to 0.11.4 for publish, 64702345, 5, 0, 5
Merge pull request #1464 from jlipps/master  add more error handling in instruments_client, 64702345, 5, 0, 5
add more error handling in instruments_client, 64702345, 5, 0, 5
Merge pull request #1463 from jlipps/master  cache desired caps for use in mobile: reset, 64702345, 5, 0, 5
cache desired caps for use in mobile: reset, 64702345, 5, 0, 5
Add Ruby scrollTo example, 64702345, 5, 0, 5
add more command timeout tests, 64702345, 5, 0, 5
Merge pull request #1460 from jlipps/master  fail earlier with no activity/package (fix #1450), 64702345, 5, 0, 5
Merge pull request #1443 from thu2004/selendroid_fixes  Selendroid fixes, 64702345, 5, 0, 5
Merge pull request #1457 from misttar/master  Adding UIAMapView as mapView to tag_name selector style on ios;, 64702345, 5, 0, 5
fail earlier with no activity/package (fix #1450), 64702345, 5, 0, 5
Merge pull request #1459 from jlipps/master  make sure selendroid stops logcat too (fix #1330), 64702345, 5, 0, 5
make sure selendroid stops logcat too (fix #1330), 64702345, 5, 0, 5
Merge pull request #1449 from penguinho/locale  Set iOS Simulator Language, 64702345, 5, 0, 5
Set iOS Simulator Language using ios-sim-locale from https://code.google.com/p/ios-sim-locale/, 64702345, 5, 0, 5
add test for setting slider value in ios, 64702345, 5, 0, 5
Merge pull request #1455 from jlipps/master  use relative paths in ios-log.js, 64702345, 5, 0, 5
Undo opts.systemPort change, 64702345, 5, 0, 5
Adding UIAMapView as mapView to tag_name selector style on ios;, 64702345, 5, 0, 5
use relative paths in ios-log.js, 64702345, 5, 0, 5
Merge pull request #1448 from snevesbarros/call_method_of_null_fix  fix for issue 1445., 64702345, 5, 0, 5
added check to see if instruments is not null, 64702345, 5, 0, 5
Merge pull request #1446 from boxiong/master  Made a change so that we can patch isVerbose to the mechanic project, 64702345, 5, 0, 5
Updated so shat we can patch isVerbose to the mechanic project, 64702345, 5, 0, 5
Moved getCurrentActivity to android-common.js, 64702345, 5, 0, 5
remove unnecessary debug log, 64702345, 5, 0, 5
Merge pull request #1436 from boxiong/master  Added an option to suppress excessive logging from UIALogger., 64702345, 5, 0, 5
Added an option to suppress excessive logging from UIALogger (non-verbose by default)., 64702345, 5, 0, 5
Provide default system port for selendroid. Fixed selendroid keyevent crash and added getCurrentActivity for selendroid, 64702345, 5, 0, 5
Merge pull request #1440 from jlipps/master  replace quotes with replace() not weird string truncation, 64702345, 5, 0, 5
replace quotes with replace() not weird string truncation, 64702345, 5, 0, 5
Merge pull request #1439 from bootstraponline/ios7_alert_accept_fix  Fix acceptAlert for UICatalog on iOS 7, 64702345, 5, 0, 5
Fix acceptAlert for UICatalog on iOS 7, 64702345, 5, 0, 5
Merge pull request #1438 from bootstraponline/ios7_alert_dismiss_fix  Fix dismissAlert for UICatalog on iOS 7, 64702345, 5, 0, 5
Fix dismissAlert for UICatalog on iOS 7, 64702345, 5, 0, 5
changelog and bump to 0.11.3 for publish, 64702345, 5, 0, 5
Merge pull request #1431 from jlipps/master  move logcat code so it doesn't break selendroid, 64702345, 5, 0, 5
move logcat code into android-common so that selendroic an use it as well, 64702345, 5, 0, 5
update selendroid, 64702345, 5, 0, 5
Merge pull request #1430 from snevesbarros/update_launcher  updated safari launcher to latest, 64702345, 5, 0, 5
updated safari launcher with .gitignore changes, 64702345, 5, 0, 5
Merge pull request #1426 from jlipps/master  add more logging and error handling to authorize, 64702345, 5, 0, 5
add more logging and error handling to authorize fix #1409?, 64702345, 5, 0, 5
Merge pull request #1425 from jlipps/master  add tests for #1413 also fix jsonwp misinterpretation, 64702345, 5, 0, 5
add tests for #1413 also fix jsonwp misinterpretation logTypes should return array of types not array of objects cc @ecomrobotics, 64702345, 5, 0, 5
increase launch timeout for slow android emus, 64702345, 5, 0, 5
Merge pull request #1424 from ecomrobotics/fix-updating-desired-capabilities  Bugfixes for desired_capabilities updating and for ios_logging, 64702345, 5, 0, 5
Bugfixes for desired_capabilities updating and for ios_logging, 64702345, 5, 0, 5
Merge pull request #1413 from ecomrobotics/ios-logs  Support for iOS logs for devices and simulators, 64702345, 5, 0, 5
Support for iOS logs for devices and simulators  Fix after comments by @jlipps  Fix require section, 64702345, 5, 0, 5
Merge pull request #1417 from feelobot/patch-3  Update hybrid.md, 64702345, 5, 0, 5
Update hybrid.md, 64702345, 5, 0, 5
Merge pull request #1414 from snevesbarros/fix_1411_null_session  fix for 1411: added bundleId to sim build and did safariLauncher flag cleanup, 64702345, 5, 0, 5
Merge pull request #1365 from testerhome/master  Translate Appium Docs to Chinese, 64702345, 5, 0, 5
Added bundleId for simulator build and did a cleanup for isSafariLauncherApp flag, 64702345, 5, 0, 5
add chinese docs, 64702345, 5, 0, 5
Merge pull request #1410 from jlipps/master  make sure command timeout is reset for proxied devices too (fix #1404), 64702345, 5, 0, 5
make sure command timeout is reset for proxied devices too (fix #1404), 64702345, 5, 0, 5
Merge pull request #1408 from snevesbarros/master  Updated with description on how to use SafariLauncher for real device., 64702345, 5, 0, 5
Merge pull request #1407 from jlipps/master  android 4.4 needs new activity matching regex, 64702345, 5, 0, 5
Updated with description on how to use SafariLauncher for real device.  Added some description on how to run tests against Safari on a real device., 64702345, 5, 0, 5
Merge pull request #1406 from snevesbarros/fix_dependencies_samplecode  Fix for 1047, 64702345, 5, 0, 5
update activity matching regex for android 4.4, 64702345, 5, 0, 5
Merge pull request #1405 from paymand/no_reset  (Android) Don't uninstall the app when --no-reset is used., 64702345, 5, 0, 5
Fix for 1047 as dependencies have moved for latest version of selenium into interactions package, 64702345, 5, 0, 5
(Android) Don't uninstall the app when --no-reset is used., 64702345, 5, 0, 5
Merge pull request #1403 from jlipps/master  make sure we don't shut uiautomator down if it's already gone, 64702345, 5, 0, 5
make sure we don't shut uiautomator down if it's already gone (fix #1402), 64702345, 5, 0, 5
fix check in reset.sh cc @snevesbarros, 64702345, 5, 0, 5
Merge pull request #1400 from jlipps/master  refactor ios authorize logic and use security db for 10.9, 64702345, 5, 0, 5
refactor ios authorize logic and use security db for 10.9, 64702345, 5, 0, 5
Merge pull request #1398 from jlipps/master  use adb api correctly, 64702345, 5, 0, 5
use adb api correctly, 64702345, 5, 0, 5
Merge pull request #1396 from twilly86/patch-1  Update running-on-osx.md, 64702345, 5, 0, 5
Update running-on-osx.md  switching path for xcode-select to include Contents/Developer/, 64702345, 5, 0, 5
Merge pull request #1394 from snevesbarros/safari_launcher_build  Added ability to select code signing identity (and if required profile)., 64702345, 5, 0, 5
Shifting twice when the second argument doesn't start with --, 64702345, 5, 0, 5
update selendroid, 64702345, 5, 0, 5
Added ability to select code signing identity (and if required profile)., 64702345, 5, 0, 5
Merge pull request #1392 from jlipps/master  don't call start callback in onDie (fix #1391), 64702345, 5, 0, 5
don't call start callback in onDie (fix #1391), 64702345, 5, 0, 5
Merge pull request #1390 from jlipps/master  fix appium device end callback logic (fix #1389), 64702345, 5, 0, 5
fix appium device end callback logic (fix #1389), 64702345, 5, 0, 5
Merge pull request #1387 from jlipps/master  fix tracetemplate detection logic and logging (fix #1386), 64702345, 5, 0, 5
fix tracetemplate detection logic and logging (fix #1386), 64702345, 5, 0, 5
use javascript rendering for json, 64702345, 5, 0, 5
update caps and formatting, 64702345, 5, 0, 5
add selendroid test writing docs and link to running-tests doc from README, 64702345, 5, 0, 5
remove references to appium wiki, 64702345, 5, 0, 5
make sure examples link doesn't point to node examples but to all, 64702345, 5, 0, 5
log if we can't delete a tracedir, 64702345, 5, 0, 5
refactor ios startup cascade, 64702345, 5, 0, 5
Merge pull request #1339 from snevesbarros/safari_launcher_simulator  Safari launcher integration with simulator and physical devices, 64702345, 5, 0, 5
Added support for both simulator and physical devices when using safari launcher. It now automatically connects to first web view and leave's web view at the end of the test., 64702345, 5, 0, 5
changelog and update reset.sh to fix --real-safari bug, 64702345, 5, 0, 5
changelog and bump to 0.11.2 for publish, 64702345, 5, 0, 5
add logging initialization in bin/appium so npm will work (fix #1381), 64702345, 5, 0, 5
changelog and bump to 0.11.1 for publish, 64702345, 5, 0, 5
Merge pull request #1379 from jlipps/master  fail with an error message if user is on xcode 5.0.1 (address #1377), 64702345, 5, 0, 5
fail with an error message if user is on xcode 5.0.1 (address #1377), 64702345, 5, 0, 5
Merge pull request #1378 from drpy/master  Fix for #1364 (unable to build unlock_apk on Windows), 64702345, 5, 0, 5
Fix for #1364, 64702345, 5, 0, 5
fiddle with some timeouts to account for older/slower emulators and time testruns, 64702345, 5, 0, 5
Merge pull request #1375 from jlipps/master  add back launch and some logging options, 64702345, 5, 0, 5
add --log-timestamp and --log-no-colors options also clean up and consolidate logging code, 64702345, 5, 0, 5
add back desiredCaps.launch flag, 64702345, 5, 0, 5
Merge pull request #1374 from jlipps/master  update ios auth logic (fix #1373), 64702345, 5, 0, 5
update ios auth logic (fix #1373), 64702345, 5, 0, 5
Merge pull request #1372 from jlipps/master  Cleanup/refactor of appium/android startup/shutdown, 64702345, 5, 0, 5
Merge pull request #1371 from drpy/master  fix for #1040, 64702345, 5, 0, 5
when we get an error starting up an android test make sure we kill uiautomator so it doesn't complain next time we run a test, 64702345, 5, 0, 5
command timeouts should be handled centrally by appium not by each device, 64702345, 5, 0, 5
finish making shutdown() callback-based, 64702345, 5, 0, 5
check in midway through android startup/shutdown refactor, 64702345, 5, 0, 5
remove confusing multiple session handling code it doesn't actually do anything and was cruft also make session overriding non-default based on the mobile JSONWP discussions, 64702345, 5, 0, 5
fix for #1040, 64702345, 5, 0, 5
Merge pull request #1370 from bicycleio/master  Missing callback parameter causing Appium to crash, 64702345, 5, 0, 5
Fixed missing callback parameter, 64702345, 5, 0, 5
Merge pull request #1360 from filmaj/android-docs  Expanded Android docs, 64702345, 5, 0, 5
Small typo fixes in docs and expanded on android setup for mac osx, 64702345, 5, 0, 5
add some more caps to docs, 64702345, 5, 0, 5
Merge pull request #1357 from paymand/element_methods  Element methods, 64702345, 5, 0, 5
Merge pull request #1358 from jlipps/master  copy status/xpath instead of linking, 64702345, 5, 0, 5
(Android) Correct handling of 'element{Displayed|Enabled|Selected}'., 64702345, 5, 0, 5
Don't set Content-Length header for http POSTs with empty body., 64702345, 5, 0, 5
copy status and xpath to uiauto instead of linking so they get picked up appropriately by npm, 64702345, 5, 0, 5
Merge pull request #1354 from DylanLacey/master  Don't monkey-patch "capabilities" as this is now apparently a defined method, 64702345, 5, 0, 5
Change name of capabilities method for sauce_example.rb to prevent us trampling a protected method, 64702345, 5, 0, 5
Merge pull request #1353 from filmaj/sh-compat  Shell compatibility w/ test.sh, 64702345, 5, 0, 5
Made test.sh sh compatible (removed bashisms). Made test.sh not rely on mac-only tooling. Small documentation tweaks in readme and contributing doc., 64702345, 5, 0, 5
Merge pull request #1351 from jlipps/master  couple misc fixes, 64702345, 5, 0, 5
update all examples to use correct desired caps we don't want people getting confused!, 64702345, 5, 0, 5
replicate @snevesbarros reset fix for building safari, 64702345, 5, 0, 5
change order of unlock regexes, 64702345, 5, 0, 5
Merge pull request #1348 from jlipps/master  misc fixes, 64702345, 5, 0, 5
upgrade express so we don't get warning messages, 64702345, 5, 0, 5
remove .appiumconfig on reset so we don't run into situations like reset.sh --[device] and then appium won't start because other devices were configured at a previous version, 64702345, 5, 0, 5
Merge pull request #1347 from jlipps/master  fix unlock retry logic so we actually unlock, 64702345, 5, 0, 5
fix unlock retry logic so we actually unlock (fix #1295), 64702345, 5, 0, 5
switch around auth strategies (fix #1346), 64702345, 5, 0, 5
update travis to use newer node, 64702345, 5, 0, 5
fix launch timeout bug (fix #1340), 64702345, 5, 0, 5
Merge pull request #1345 from paymand/fast_reset  (Android) Don't uninstall the app on fast reset., 64702345, 5, 0, 5
(Android) Fix for crash when there's no connected devices., 64702345, 5, 0, 5
(Android) Don't uninstall the app on fast reset., 64702345, 5, 0, 5
changelog and bump for publish 0.11.0, 64702345, 5, 0, 5
Merge pull request #1343 from jlipps/master  fix flakiness in getting session in appium testsuite, 64702345, 5, 0, 5
retry getting a session in appium tests (fix #1326), 64702345, 5, 0, 5
allow desired cap launchTimeout to tell appium how long to wait before declaring instruments unresponsive, 64702345, 5, 0, 5
refactor ios.js option passing, 64702345, 5, 0, 5
Merge pull request #1341 from bootstraponline/master  Fix null args.app, 64702345, 5, 0, 5
Fix null args.app, 64702345, 5, 0, 5
update appium.io again, 64702345, 5, 0, 5
update appium.io, 64702345, 5, 0, 5
missed some 'node server.js' updates, 64702345, 5, 0, 5
Merge pull request #1338 from jlipps/master  Massive refactor of ADB/Android code, 64702345, 5, 0, 5
more cleanup including selendroid update, 64702345, 5, 0, 5
update selendroid, 64702345, 5, 0, 5
fix a bunch of refactoring issues, 64702345, 5, 0, 5
convert selendroid, 64702345, 5, 0, 5
finish main rewrite of adb.js, 64702345, 5, 0, 5
split up instrumentation responsibilities, 64702345, 5, 0, 5
just use javascript's new operator rather than adding levels of abstraction, 64702345, 5, 0, 5
fix logcat issue where it returns too many logs, 64702345, 5, 0, 5
run commands from uiautomator.js and migrate activity waiting methods, 64702345, 5, 0, 5
extract uiautomator behavior into its own object/library, 64702345, 5, 0, 5
migrate push unlock and push appium, 64702345, 5, 0, 5
migrate port forward logic, 64702345, 5, 0, 5
finish migrating install logic, 64702345, 5, 0, 5
initial work on refactoring adb, 64702345, 5, 0, 5
we don't use webatoms for android now that we use chrome, 64702345, 5, 0, 5
move android controller methods into their own file, 64702345, 5, 0, 5
Merge pull request #1336 from ecomrobotics/ios-allow-use-ipa-in-app-param  Allow .ipa extension for desired capabilities param 'app', 64702345, 5, 0, 5
Allow .ipa extension for desired capabilities param 'app', 64702345, 5, 0, 5
Merge pull request #1334 from paymand/android_getClassName  Support for getClassName() from Android API level 18., 64702345, 5, 0, 5
Support for getClassName() from Android API level 18., 64702345, 5, 0, 5
Merge pull request #1328 from jlipps/master  break ios.js up into logically related files, 64702345, 5, 0, 5
pull out remote debugger related ios functionality into its own file, 64702345, 5, 0, 5
break apart ios into core and controller parts, 64702345, 5, 0, 5
no need for this to be a property, 64702345, 5, 0, 5
Merge pull request #1323 from bootstraponline/master  Ensure APK is signed, 64702345, 5, 0, 5
Ensure APK is signed, 64702345, 5, 0, 5
Merge pull request #1321 from samaitra/master  Fixed bootstrap build error to download dependencies, 64702345, 5, 0, 5
Fixed bootstrap build error to download dependencies  Below is error message.   [ERROR] Failed to execute goal on project bootstrap: Could not resolve dependencies for project io.appium.android:bootstrap:jar:1.0.0-SNAPSHOT: The following artifacts could not be resolved: android:android:jar:4.3_r1 android.test.uiautomator:uiautomator:jar:4.3_r1: Could not find artifact android:android:jar:4.3_r1 in central (http://repo1.maven.org/maven2) -> [Help 1], 64702345, 5, 0, 5
Merge pull request #1320 from jlipps/master  Complete the project reorganization, 64702345, 5, 0, 5
move all android-related files together into devices/android, 64702345, 5, 0, 5
move all firefoxos-related functionality together and add firefox os resetting to reset.sh so it's functional, 64702345, 5, 0, 5
move instruments in with the other ios stuff, 64702345, 5, 0, 5
move uiauto stuff into ios/ and extract status and xpath libs, 64702345, 5, 0, 5
merge ios-related files in devices, 64702345, 5, 0, 5
Merge pull request #1319 from jlipps/master  Major code reorganization, 64702345, 5, 0, 5
upgrade npm packages, 64702345, 5, 0, 5
instruments no longer needs its own directory, 64702345, 5, 0, 5
move instruments-client into bin/ and rename helpfully, 64702345, 5, 0, 5
move appium bin into bin/, 64702345, 5, 0, 5
move authorize-ios into bin, 64702345, 5, 0, 5
move some helper scripts into bin/, 64702345, 5, 0, 5
device-state not device_state, 64702345, 5, 0, 5
grid register belongs with server, 64702345, 5, 0, 5
move logic common to devices into devices dir, 64702345, 5, 0, 5
put devices in their own place, 64702345, 5, 0, 5
move more functionality into server/, 64702345, 5, 0, 5
move server-related stuff into lib/server, 64702345, 5, 0, 5
update gitignore and npmignore with new directory structure, 64702345, 5, 0, 5
move helper jars to a more reasonable place, 64702345, 5, 0, 5
get rid of unused and confusing instruments example, 64702345, 5, 0, 5
move code into lib/ like a normal node project, 64702345, 5, 0, 5
update safarilauncher steps in reset.sh cc @snevesbarros, 64702345, 5, 0, 5
make some files pass the linter, 64702345, 5, 0, 5
upgrade linter and ignore un-linted files rather than specifying linted files, 64702345, 5, 0, 5
fix typo in mobile web docs, 64702345, 5, 0, 5
move unit tests into the test/ directory where tests belong, 64702345, 5, 0, 5
Merge pull request #1316 from paymand/adb_clear  Clean the app using 'adb shell pm clear <package-name>'., 64702345, 5, 0, 5
Clean the app using 'adb shell pm clear <package-name>'.  For a faster reset use 'adb clear' command instead of uninstall/install every time., 64702345, 5, 0, 5
Merge pull request #1244 from snevesbarros/safari_solution  Running tests against Safari using the SafariLauncher app, 64702345, 5, 0, 5
Added SafariLauncher as a submodule and as part of the build. App is then zipped and copied to the build folder., 64702345, 5, 0, 5
Merge pull request #1187 from swapna-chennadi/master  Fix to create unique temporary directory to place downloaded and unzipped files, 64702345, 5, 0, 5
Renamed file_helper.js to tempdir.js, 64702345, 5, 0, 5
removed undefined check, 64702345, 5, 0, 5
Merge branch 'safari_solution' of https://github.com/snevesbarros/appium into safari_solution, 64702345, 5, 0, 5
fix for running safari launcher tests on simulator, 64702345, 5, 0, 5
Added solution which allows you to run tests against safari without 20-30 seconds time out using appium., 64702345, 5, 0, 5
Merge pull request #1298 from dandover/alert-title+text  change alert.text to return both title + text, 64702345, 5, 0, 5
 Alert Updates  * change alert.text to return both title + text * update tests, 64702345, 5, 0, 5
changelog and bump version for publish 0.10.4, 64702345, 5, 0, 5
Merge pull request #1314 from snevesbarros/multi-webview-1279  Fix for 1279 by adding call back on socket disconnect., 64702345, 5, 0, 5
Add a call back for socket disconnect so that we wait for socket to fully disconnect before trying to reconnect., 64702345, 5, 0, 5
Merge pull request #1313 from paymand/orientation_busy_wait  Added a timeout (2s) for orientation change on Android., 64702345, 5, 0, 5
Added a timeout (2s) for orientation change on Android.  When changing orientation on Android return error only if the orientation change has not taken effect after timeout (2s)., 64702345, 5, 0, 5
Merge pull request #1312 from bootstraponline/fix_regex  Allow _ in package name, 64702345, 5, 0, 5
Allow _ in package name  Fix #1311, 64702345, 5, 0, 5
changelog and bump for publish 0.10.3, 64702345, 5, 0, 5
make sure we publish compiling with xcode5, 64702345, 5, 0, 5
authorization already having happened is not a fatal error, 64702345, 5, 0, 5
Merge pull request #1299 from dandover/autoAcceptAlerts  Remove Alert Handling in iOS, 64702345, 5, 0, 5
Remove Alert Handling in Appium  This patchset removes support for Appium auto-accepting or dismissing of alerts specifically the useLocationServices alert., 64702345, 5, 0, 5
typo fix, 64702345, 5, 0, 5
changelog and bump to 0.10.2 for publish, 64702345, 5, 0, 5
fix pinchopen/close regression on ios from android changes, 64702345, 5, 0, 5
Fixed links in README.md & CONTRIBUTING.md, 64702345, 5, 0, 5
Merge pull request #1287 from filmaj/docs-rehash  README review, 64702345, 5, 0, 5
README rehash. put platform requirements together in readme. split out contribution / hacking documentation into its own CONTRIBUTING.md. Used absolute URLs for links (as they may be linked from npmjs.org). changed contribution section regarding running tests to highlight use of `test.sh` instead of grunt., 64702345, 5, 0, 5
Merge pull request #1297 from bootstraponline/new_android_reset  Android mobile :reset now uses adb uninstall/pm install, 64702345, 5, 0, 5
Merge pull request #1300 from dandover/waitForAlertToClose-bug  refresh the value of alert so we don't always delay, 64702345, 5, 0, 5
fix a bug where we always wait for the delay because we never refresh the value of alert, 64702345, 5, 0, 5
Android mobile :reset now uses adb uninstall/pm install  The old clean.apk approach to resetting state doesn't work well. Using instrumentation means the app is running when the data is deleted. It's better to use the standard adb install/uninstall commands.  To make this faster the apk is pushed to the device once (/data/local/tmp/) and then installed from that location on each reset. Using the regular adb install command is slow due to the file transfer speed.  Before uninstalling the app it's stopped to prevent crashes. Some apps don't like to be uninstalled while running., 64702345, 5, 0, 5
Merge pull request #1290 from jlipps/master  enable authorize on mavericks, 64702345, 5, 0, 5
enable authorize on mavericks, 64702345, 5, 0, 5
Merge pull request #1286 from jlipps/master  don't unfreezerotation it actually cancels the rotation (fix #1280), 64702345, 5, 0, 5
don't unfreezerotation it actually cancels the rotation (fix #1280), 64702345, 5, 0, 5
Merge pull request #1284 from filmaj/unlock_apk-update  Updated unlock_apk submodule, 64702345, 5, 0, 5
Updated unlock_apk submodule ref: now supports Samsung S3 and Samsung Galaxy Note2. Tested as well on Nexus 4 devices as well as 2.3.3 4.0.3 4.1.2 4.2.2 and 4.3 emulators., 64702345, 5, 0, 5
Merge pull request #1282 from jlipps/master  turn on debug transactions for instruments, 64702345, 5, 0, 5
make sure debug transactions is on (fix #1281), 64702345, 5, 0, 5
remove npm deps on hardcore reset, 64702345, 5, 0, 5
Merge pull request #1265 from paymand/android_pinch  Implemented pinch in/out on Android., 64702345, 5, 0, 5
Implemented pinch in/out on Android., 64702345, 5, 0, 5
Merge pull request #1276 from bootstraponline/master  Remove checkMissingParams when defaults are set, 64702345, 5, 0, 5
Remove checkMissingParams when defaults are set, 64702345, 5, 0, 5
iOs -> iOS, 64702345, 5, 0, 5
Merge pull request #1274 from appium/ios7_accept_alert  Fix spacing, 64702345, 5, 0, 5
Fix spacing, 64702345, 5, 0, 5
Merge pull request #1273 from bootstraponline/ios7_accept_alert  Fix acceptAlert on iOS 7, 64702345, 5, 0, 5
Merge pull request #1270 from bootstraponline/screencap_bin  Use screencap bin, 64702345, 5, 0, 5
Fix acceptAlert on iOS 7, 64702345, 5, 0, 5
Fix to create unique temporary directory to place downloaded and unzipped files ., 64702345, 5, 0, 5
Use screencap bin  Use Host GPU must not be checked or the screenshot will be grey., 64702345, 5, 0, 5
Merge pull request #1268 from bootstraponline/ios_reset  iOS mobile reset stops the emulator and removes all apps, 64702345, 5, 0, 5
iOS mobile reset stops the emulator and removes all apps  Fix #1247, 64702345, 5, 0, 5
Merge pull request #1266 from bootstraponline/screenshot  Fix screenshot, 64702345, 5, 0, 5
Fix screenshot  Use Host GPU must be checked. http://stackoverflow.com/questions/13800437/why-android-uiautomators-uidevicetakescreenshot-always-return-false-on-emulato, 64702345, 5, 0, 5
Merge pull request #1263 from penguinho/master  Checking in graphics resource, 64702345, 5, 0, 5
Checking in graphics resource, 64702345, 5, 0, 5
Merge pull request #1260 from paymand/orientation_refactor  Refactored setOrientation() for Android., 64702345, 5, 0, 5
Refactored setOrientation() for Android.  Appium throws "Set the orientation but app refused to rotate." when setting the orientation to landscape on Android which was fixed by calling the correct function. Also made the code simpler by defining portrait=(0 degree rotation) and landscape=(270 degree rotation) regardless of current display rotation. Moreover unfreeze device rotation at the end., 64702345, 5, 0, 5
Merge pull request #1257 from ritika-mish/patch-1  Update gestures.md, 64702345, 5, 0, 5
Update gestures.md, 64702345, 5, 0, 5
Merge pull request #1254 from bootstraponline/accept_alert  Don't accept the alert when we're trying to dismiss it, 64702345, 5, 0, 5
Don't accept the alert when we're trying to dismiss it  If cancelButton().isNil() that doesn't mean there isn't a cancel button. The cancel button is always button[0]. Press the dismiss button when requested instead of calling acceptAlert().  Fix #1253, 64702345, 5, 0, 5
Merge pull request #1251 from bootstraponline/master  Update Clean.apk, 64702345, 5, 0, 5
Update Clean.apk  The lib/ folder contains native libs so it must never be deleted.  https://github.com/appium/clean_apk/commit/af006af44b0c85006a8fa47c5fa3ab2cd6f40739  adb logcat -s "clean.apk" will display the debug log of clean.apk. This makes it easy to find out if it's running successfully and what files are removed.  https://github.com/appium/clean_apk/commit/0445f7d0d1286c569c06e10d86bdcc1ad950688a, 64702345, 5, 0, 5
fix for running safari launcher tests on simulator, 64702345, 5, 0, 5
Merge pull request #1241 from penguinho/gruntpaths  Cleaning up styles for paths in grunt-helpers and making all paths Windows-friendly, 64702345, 5, 0, 5
Added solution which allows you to run tests against safari without 20-30 seconds time out using appium., 64702345, 5, 0, 5
Merge pull request #1237 from mgmanikandan87/patch-6  Updated : Java code snippet for Slider, 64702345, 5, 0, 5
making paths windows friendly, 64702345, 5, 0, 5
Merge pull request #1240 from penguinho/master  Update windows docs with cleanup and links to dependencies, 64702345, 5, 0, 5
Update windows docs, 64702345, 5, 0, 5
Merge pull request #1239 from penguinho/master  Adding Selendroid (Dev) and Gappium support to reset.bat, 64702345, 5, 0, 5
Adding Selendroid (Dev) and Gappium support, 64702345, 5, 0, 5
Merge pull request #1238 from penguinho/master  Even Better reset.bat, 64702345, 5, 0, 5
Even Better reset.bat, 64702345, 5, 0, 5
Updated : Java code snippet for Slider  Java code snippet for Slider, 64702345, 5, 0, 5
Merge pull request #1236 from penguinho/master  Better reset.bat, 64702345, 5, 0, 5
Better reset.bat, 64702345, 5, 0, 5
Merge pull request #1234 from tylersnavely-wf/xcode_build_path_fix  Unable to find Xcode app path if the path contains a space, 64702345, 5, 0, 5
JSON stringify the Xcode build path, 64702345, 5, 0, 5
bump version and changelog for 0.10.1, 64702345, 5, 0, 5
Merge pull request #1230 from jlipps/master  fix some selendroid and unlock_apk issues, 64702345, 5, 0, 5
bump selendroid test app to 0.6.0-SNAPSHOT, 64702345, 5, 0, 5
update selendroid url and update selendroid itself, 64702345, 5, 0, 5
put unlock_apk in build so it gets packaged up, 64702345, 5, 0, 5
make unlock.apk work for selendroid and also take into account screenlock differences for 2.3.3, 64702345, 5, 0, 5
add android information to hybrid docs, 64702345, 5, 0, 5
make sure publish does a hard reset, 64702345, 5, 0, 5
changelog and bump version to 0.10.0 for publish, 64702345, 5, 0, 5
fix directory of iwd4.zip, 64702345, 5, 0, 5
redo iwd4 binary with one that seems a little sturdier, 64702345, 5, 0, 5
Merge pull request #1226 from mgmanikandan87/patch-3  Updated Java code snippet for tap on UI element which property is "visible : false" - iOS, 64702345, 5, 0, 5
Updated Java code snippet for tap on UI element which property is "visible : false" - iOS  In iOS app if the UI element visible property is "false".  Using element location tap on it., 64702345, 5, 0, 5
Merge pull request #1223 from jlipps/master  make running appium tests more robust, 64702345, 5, 0, 5
handle beforeEach and afterEach errors better in driverblock, 64702345, 5, 0, 5
create driverblock.it to handle async mocha errs, 64702345, 5, 0, 5
make test.sh distinguish between testfiles, 64702345, 5, 0, 5
Merge pull request #1222 from jlipps/master  don't hardcode xcode dir in getBuiltInAppDir (fix #1216), 64702345, 5, 0, 5
don't hardcode xcode dir in getBuiltInAppDir (fix #1216), 64702345, 5, 0, 5
Merge pull request #1214 from jlipps/master  ios 7 compatibility updates, 64702345, 5, 0, 5
use strings instead of arrays for args in test.sh, 64702345, 5, 0, 5
make sure test.sh knows what tests to run for what ios sdk, 64702345, 5, 0, 5
use xcode version to determine ios sdk so we can get rid of --ios-sdk flag in reset.sh, 64702345, 5, 0, 5
make 7.0 the default ios version and add docs on how to work with multiple versions, 64702345, 5, 0, 5
using && in reset.sh needs run_cmd, 64702345, 5, 0, 5
fix typo in test.sh, 64702345, 5, 0, 5
Merge pull request #1204 from jlipps/master  make chromedriver findable on windows, 64702345, 5, 0, 5
Merge pull request #1201 from penguinho/tracetemplate  XCode 5 Support, 64702345, 5, 0, 5
Merge pull request #1207 from feelobot/update-hybrid-doc  add ruby example, 64702345, 5, 0, 5
add ruby example, 64702345, 5, 0, 5
Use different versions of instruments without delay depending on Xcode version, 64702345, 5, 0, 5
make chromedriver findable on windows, 64702345, 5, 0, 5
Merge pull request #1203 from LouisStAmour/patch-1  Updated troubleshooting.md on webview iOS real-device debugging, 64702345, 5, 0, 5
Updated troubleshooting.md on webview iOS real-device debugging  Feel free to ignore this pull request and instead expand docs on what's now required to debug Webviews on real devices. You can get the gist of it from the discussion by the end but it's not all that straightforward., 64702345, 5, 0, 5
Merge pull request #1202 from penguinho/udidetect  Fixes from code review on #1161, 64702345, 5, 0, 5
Auto-detecting tracetemplate path, 64702345, 5, 0, 5
Fixes from code review on #1161, 64702345, 5, 0, 5
Merge pull request #1193 from feelobot/patch-1  Update hybrid.md, 64702345, 5, 0, 5
Update hybrid.md  Added ruby syntax, 64702345, 5, 0, 5
Merge pull request #1190 from prolificcoder/master  increasing instruments timeout, 64702345, 5, 0, 5
increasing instruments timeout, 64702345, 5, 0, 5
Merge pull request #1186 from mgmanikandan87/patch-2  Code snippet for long press in Android Touchevent (Java and Python), 64702345, 5, 0, 5
Code snippet for long press in Android Touchevent (Java and Python)  Updating python script for longclick  touchevent in android., 64702345, 5, 0, 5
Robust device-friendly unlock. Added gitsubmodule for unlock_apk. reset.sh now builds the apk. adbs unlockScreen method now invokes unlock.apk. added a new small focused module called device_state to handle determining state of emulators/devices. currently has a "isScreenLocked" function. unlockScreen in adb.js now 1) checks if screen is locked or not first before doing anything and 2) uses unlock.apk to do the unlocking., 64702345, 5, 0, 5
Merge pull request #1184 from bootstraponline/master  Fix warning, 64702345, 5, 0, 5
Fix warning, 64702345, 5, 0, 5
Merge pull request #1179 from PavithraNavaneeth/patch-1  Update troubleshooting.md, 64702345, 5, 0, 5
Merge pull request #1178 from mgmanikandan87/patch-1  Update Android Touchevent for long press, 64702345, 5, 0, 5
Update troubleshooting.md  Updated troubleshooting for 'Webview/Hybrid/Safari app support', 64702345, 5, 0, 5
Update Android Touchevent for long press  This long press code supports only for iOS application. So I am updating the Android Touchevent for long press., 64702345, 5, 0, 5
Merge pull request #1176 from bootstraponline/master  Update clean.apk, 64702345, 5, 0, 5
Update clean.apk  Fix min sdk version Fix account removal logic, 64702345, 5, 0, 5
Merge pull request #1175 from filmaj/style-guide-camelCase  Added variable camelCasing to style guide., 64702345, 5, 0, 5
Added variable camelCasing to style guide., 64702345, 5, 0, 5
Merge pull request #1170 from bootstraponline/android_ids_fix  Fix find_elements :id on Android, 64702345, 5, 0, 5
Fix find_elements :id on Android  Don't error when there are no ids. Return an empty array.  Fix #1167, 64702345, 5, 0, 5
add historical note to changelog, 64702345, 5, 0, 5
changelog and bump for publish 0.9.1, 64702345, 5, 0, 5
allow test.sh to collate all tests so we get one test count and time measurement, 64702345, 5, 0, 5
fix message, 64702345, 5, 0, 5
fix boolean logic in test.sh, 64702345, 5, 0, 5
Merge pull request #1166 from swapna-chennadi/master  Fix for Issue#1165, 64702345, 5, 0, 5
Merge pull request #1168 from jlipps/fix-1099  Fix 1099, 64702345, 5, 0, 5
Fix for Issue#1165, 64702345, 5, 0, 5
fix element tapping logic, 64702345, 5, 0, 5
enable apppium to tapping on UITableViewCell  tapping UITableViewCell using UI Automation does not work and it is a known bug with apple work around for tapping on UITableViewCell is using the element coordinates and added that to appium, 64702345, 5, 0, 5
fix another place where APPIUM_PORT is needed, 64702345, 5, 0, 5
update uicatalog tests to use APPIUM_PORT, 64702345, 5, 0, 5
Merge pull request #1163 from jlipps/master  various fixes and refactors, 64702345, 5, 0, 5
Merge pull request #1164 from paymand/fix_for_keyevent  Fix for keyevent, 64702345, 5, 0, 5
Make sure 'keyevent' works if metastate is null., 64702345, 5, 0, 5
update udidetect submodule, 64702345, 5, 0, 5
update udidetect, 64702345, 5, 0, 5
refactor ios.js to get rid of some instruments race condition bugs, 64702345, 5, 0, 5
make running one set of platform tests easier with test.sh, 64702345, 5, 0, 5
make sure app cleanup happens synchronously, 64702345, 5, 0, 5
fix apidemos alerts test to use APPIUM_PORT, 64702345, 5, 0, 5
update yiewd example again, 64702345, 5, 0, 5
update yiewd example with new yiewd syntax, 64702345, 5, 0, 5
add another yiewd example, 64702345, 5, 0, 5
Merge pull request #1161 from penguinho/udidetect  Adding automatic udid detection to iOS, 64702345, 5, 0, 5
Adding automatic udid detection to iOS, 64702345, 5, 0, 5
Merge pull request #1160 from bootstraponline/fix_activity_regex  Android packages may have underscores, 64702345, 5, 0, 5
Android packages may have underscores  var str = "mFocusedApp=AppWindowToken{41ac2030 token=Token{41797308 ActivityRecord{419b9290 u0 com.example.webviewapp_18_api/.MainActivity}}}";  // undefined /mFocusedApp.+ ([a-zA-Z0-9\.]+)\/(\.?[^\}]+)\}/.exec(str), 64702345, 5, 0, 5
Merge pull request #1158 from paymand/fix_for_keyevent  Make sure to pass the variables correctly for 'keyevent'., 64702345, 5, 0, 5
Make sure to pass the variables correctly for 'keyevent'., 64702345, 5, 0, 5
Merge pull request #1144 from bootstraponline/fix_screenshot  Fix screenshotStatus, 64702345, 5, 0, 5
Merge pull request #1155 from mutualmobile/master  Android support for meta state on key codes (i.e. long press the back ke..., 64702345, 5, 0, 5
Android support for meta state on key codes (i.e. long press the back key), 64702345, 5, 0, 5
Merge pull request #1152 from jlipps/master  fix android swipe duration, 64702345, 5, 0, 5
Fix screenshotStatus, 64702345, 5, 0, 5
Merge pull request #1145 from bootstraponline/catch_exception  Catch exception, 64702345, 5, 0, 5
fix steps and duration logic for swipe and flick, 64702345, 5, 0, 5
Catch exception  command.getElement() may return null. Appium must catch exception or it'll crash with a NullPointerException.  Fix #1140, 64702345, 5, 0, 5
Merge pull request #1136 from bootstraponline/fix_null_instruments  Fix null instruments, 64702345, 5, 0, 5
fix sauce driverblock, 64702345, 5, 0, 5
Fix null instruments, 64702345, 5, 0, 5
Fix doc format, 64702345, 5, 0, 5
Merge pull request #1133 from filmaj/caps-docs  Expanded capability documentation, 64702345, 5, 0, 5
Made explicit that `app` capability is not required to launch pre-installed Android apps., 64702345, 5, 0, 5
Expanded capabilities documentation for mobile after reviewing appium.js code., 64702345, 5, 0, 5
Merge pull request #1129 from bootstraponline/ios_id  Fix iOS id, 64702345, 5, 0, 5
Fix iOS id  Selector override must happen outside the doFind function. If it's left inside doFind then waitForCondition will cause selector to be undefined., 64702345, 5, 0, 5
Merge pull request #1127 from jlipps/master  fix android touch/click issue, 64702345, 5, 0, 5
fix issue with touch/click on android getting wrong params, 64702345, 5, 0, 5
update gappium, 64702345, 5, 0, 5
Merge pull request #1121 from penguinho/moveto_center_fix  MoveTo now moves to the center if no offsets are provided, 64702345, 5, 0, 5
MoveTo now moves to the center if no offset is provided, 64702345, 5, 0, 5
Merge pull request #1124 from penguinho/fix_real_devices  Fixing error thrown when trying to read Localizable.string off a real de..., 64702345, 5, 0, 5
Must run safari on simulator before running appium  Fix #755, 64702345, 5, 0, 5
Fixing error thrown when trying to read Localizable.string off a real device, 64702345, 5, 0, 5
Update caps.md, 64702345, 5, 0, 5
Merge pull request #1122 from penguinho/avd_fix  Fix --avd flag by removing double quotes, 64702345, 5, 0, 5
Adding desired capabilities doc, 64702345, 5, 0, 5
Fix --avd flag by removing double quotes (spawn doesn't like them only exec), 64702345, 5, 0, 5
Merge pull request #1120 from jlipps/master  more ios 7 compatibility updates, 64702345, 5, 0, 5
fix test for ios 7.0, 64702345, 5, 0, 5
change instruments timeout to something more reasonable no need to wait 300s if instruments fails to launch, 64702345, 5, 0, 5
make it easy to switch test version for ios, 64702345, 5, 0, 5
add --ios-sdk flag to reset.sh to allow building with specific ios sdk ver, 64702345, 5, 0, 5
Merge pull request #1119 from bootstraponline/protocol_fault  Try harder to find devices, 64702345, 5, 0, 5
Try harder to find devices, 64702345, 5, 0, 5
Merge pull request #1116 from bootstraponline/ios_id  Fix iOS id, 64702345, 5, 0, 5
Fix iOS id  iOS must use weighted predicates or it'll return the wrong result when multiple elements share the same id.  For example: id('sign_in_label').click currently matches a static text and a button. The static text does nothing so we'd prefer to return an element that has interactive abilities such as the button.  If someone wanted to match the static text using an id anyway they could do s_text resolve_id 'sign_in_label', 64702345, 5, 0, 5
Sync latest commits, 64702345, 5, 0, 5
fix spacing issue, 64702345, 5, 0, 5
fix reset.sh so that curl doesn't error when output is redirected, 64702345, 5, 0, 5
fix gappium reset.sh so it deals with old links etc, 64702345, 5, 0, 5
changelog and bump to 0.9.0 for publish, 64702345, 5, 0, 5
make sure gappium apps are in gitignore, 64702345, 5, 0, 5
Merge pull request #1114 from jlipps/master  clean up localized string parsing, 64702345, 5, 0, 5
clean up localized string parsing 1) fix simultaneous parsing of plist and localized strings 2) fix bug where xmlplist() was called with 'plist' var instead of 'string' var, 64702345, 5, 0, 5
Merge pull request #1113 from jlipps/master  fix slowness, 64702345, 5, 0, 5
use find instead of glob for deleting plists (fix #1110) after investigation glob was taking > 6000ms. find takes < 20 ms., 64702345, 5, 0, 5
Merge pull request #1112 from sourishkrout/gappium  First Appium + Cordova/PhoneGAP Example (= Gappium) landed, 64702345, 5, 0, 5
Updated git remote repo URL to avoid travis auth errors, 64702345, 5, 0, 5
Added example with support Apache Cordova/PhoneGap, 64702345, 5, 0, 5
New submodule io.appium.gappium.sampleapp, 64702345, 5, 0, 5
Merge pull request #1111 from jlipps/master  fix some tests and misc behavior, 64702345, 5, 0, 5
remove logging, 64702345, 5, 0, 5
fix race condition in local screenshot partially address #1082?, 64702345, 5, 0, 5
fix tests for use of api level 18 emulator, 64702345, 5, 0, 5
make sure displayed() returns bool and attribute() returns string, 64702345, 5, 0, 5
Merge pull request #1108 from jlipps/master  add a yiewd example and preliminary ios 7 support, 64702345, 5, 0, 5
Merge pull request #1109 from paymand/android_command  'android' command is 'android.bat' on Windows., 64702345, 5, 0, 5
'android' command is 'android.bat' on Windows., 64702345, 5, 0, 5
remove commented code, 64702345, 5, 0, 5
support an ios 7 tracetemplate, 64702345, 5, 0, 5
add a yiewd example for node, 64702345, 5, 0, 5
support setting value through sendKeys for more types, 64702345, 5, 0, 5
make sure we use new yiewd, 64702345, 5, 0, 5
Lint fixes., 64702345, 5, 0, 5
Merge pull request #1103 from bootstraponline/get_strings_ios  mobile: getStrings for iOS, 64702345, 5, 0, 5
Merge pull request #1105 from filmaj/android-bootstrap  Add a check for existence of `android` command in grunt-helpers.js., 64702345, 5, 0, 5
use monocle-js instead of monocle.js, 64702345, 5, 0, 5
Add a check for existence of `android` command in grunt-helpers.js. Expanded error messages in adb.js. Possibly related to #1064, 64702345, 5, 0, 5
move driverblock_harmony out of lint range, 64702345, 5, 0, 5
Merge pull request #1104 from bootstraponline/fix_click  uiautomator returns false on successful click., 64702345, 5, 0, 5
add yiewd-based example test and new driverblock to show how we are going to migrate the test codebase to something that looks a lot nicer and easier to maintain, 64702345, 5, 0, 5
uiautomator returns false on successful click.  To work around this bug always return true., 64702345, 5, 0, 5
update appium.io, 64702345, 5, 0, 5
mobile: getStrings for iOS, 64702345, 5, 0, 5
Merge pull request #1102 from bootstraponline/get_strings  mobile: getStrings, 64702345, 5, 0, 5
mobile: getStrings, 64702345, 5, 0, 5
Merge pull request #1091 from bootstraponline/compressed  mobile :enableCompressedLayoutHeirarchy, 64702345, 5, 0, 5
Merge pull request #1095 from bootstraponline/remove_methods  Remove methods for Appium 1.0, 64702345, 5, 0, 5
Request compressed xml as device cap, 64702345, 5, 0, 5
Remove methods for Appium 1.0  https://github.com/appium/appium/issues/1076  Revert "Fix #776"  This reverts commit 3db7a092474e9f5bfb64ca7d1ea6c8980fcb2b56.  Revert "Add search strings.xml value"  This reverts commit fb95cbd9531993d2949913fa0ee231cf997306f4.  Revert "Add mobile resolveId"  This reverts commit 6cb50d8edf6b9a9558a5e2af8868882b9711977f.  Revert "Add search id"  This reverts commit 55c74dbf8d62eb846ccba9d3916415b683592a17., 64702345, 5, 0, 5
update appium.io, 64702345, 5, 0, 5
Merge pull request #1077 from bootstraponline/ios_id  Add id support on iOS, 64702345, 5, 0, 5
Merge pull request #1093 from jlipps/master  wait for ios orientation to finish (fix #1074), 64702345, 5, 0, 5
Add id support on iOS  Localizable.strings is equivalent to strings.xml on Android  Find by id now works the same on iOS & Android enabling cross platform tests., 64702345, 5, 0, 5
wait for ios orientation to finish (fix #1074), 64702345, 5, 0, 5
Merge pull request #1092 from jlipps/master  update i-w-d with ios 7 support (fix #756), 64702345, 5, 0, 5
update i-w-d with ios 7 support (fix #756), 64702345, 5, 0, 5
Merge pull request #1081 from bootstraponline/ios_reset  Don't reset physical iOS devices, 64702345, 5, 0, 5
Revert setCompressedLayoutHeirarchy, 64702345, 5, 0, 5
Merge pull request #1086 from paymand/android_drag_2  Added two more tests for 'mobile: drag'., 64702345, 5, 0, 5
Merge pull request #1090 from Bogger/patch-1  Update running-on-windows.md, 64702345, 5, 0, 5
Update running-on-windows.md  Fixed some confusing language (I hope), 64702345, 5, 0, 5
Added two more tests for 'mobile: drag'., 64702345, 5, 0, 5
Merge pull request #1085 from jlipps/master  fix 1084 fix 1079, 64702345, 5, 0, 5
add chrome on sauce example, 64702345, 5, 0, 5
fix reset.sh (fix #1079), 64702345, 5, 0, 5
fix stopCapture bug (fix #1084), 64702345, 5, 0, 5
Don't reset physical iOS devices, 64702345, 5, 0, 5
Merge pull request #1080 from drpy/master  improved python sample codes, 64702345, 5, 0, 5
improved python sample codes (android + selendroid mode), 64702345, 5, 0, 5
fixed documentation (wrong access to element id in python), 64702345, 5, 0, 5
Merge pull request #1073 from jlipps/master  add javascript chrome example, 64702345, 5, 0, 5
add javascript chrome example, 64702345, 5, 0, 5
Merge pull request #1068 from angerborn/improve_scroll  Make scrollTo not only look for textview elements, 64702345, 5, 0, 5
Merge pull request #1065 from drpy/master  Fix for issue #824, 64702345, 5, 0, 5
Merge pull request #1072 from paymand/get_attribute_fix  get_attribute() should return a string value for seemingly boolean attri..., 64702345, 5, 0, 5
get_attribute() should return a string value for seemingly boolean attributes., 64702345, 5, 0, 5
Merge pull request #1063 from bootstraponline/compressed_layout  Always setCompressedLayoutHeirarchy, 64702345, 5, 0, 5
Make scrollTo not only look for textview elements, 64702345, 5, 0, 5
added a new version of unsign.jar (same build as move_manifest.jar), 64702345, 5, 0, 5
Fix for issue #824, 64702345, 5, 0, 5
Restore strings.xml support on API 18, 64702345, 5, 0, 5
Always setCompressedLayoutHeirarchy  Classes that are not useful for uiautomator such as action_bar_overlay_layout no longer appear in source output., 64702345, 5, 0, 5
Merge pull request #1059 from bootstraponline/trim  trim get package, 64702345, 5, 0, 5
Merge pull request #1061 from mutualmobile/master  [android] waitForPageLoad default should not crash bootstrap., 64702345, 5, 0, 5
[android] waitForPageLoad should default to a value that doesn't crash bootstrap., 64702345, 5, 0, 5
Add maven-android-sdk-deployer troubleshooting steps, 64702345, 5, 0, 5
Merge pull request #1060 from angerborn/make_size_available  Made previously implemented GetSize available for android, 64702345, 5, 0, 5
Made previously implemented GetSize available for android, 64702345, 5, 0, 5
trim get package, 64702345, 5, 0, 5
Merge pull request #1057 from filmaj/android-device-detection  Android device detection was wonky on my machine, 64702345, 5, 0, 5
Explain why text falls through to name, 64702345, 5, 0, 5
Merge pull request #1055 from paymand/resource_ids  Now possible to use resource-id for finding elements., 64702345, 5, 0, 5
Use resource id if API >= 18 else use the old find by id, 64702345, 5, 0, 5
Now possible to use resource-id for finding elements., 64702345, 5, 0, 5
Merge pull request #1053 from paymand/manifest_compilation_fix  Make sure manifest compilation works with API 17., 64702345, 5, 0, 5
Make sure manifest compilation works with API 17., 64702345, 5, 0, 5
Fix build, 64702345, 5, 0, 5
Merge pull request #1036 from paymand/android_drag  Support for drag/dragTo functions from Android API level 18., 64702345, 5, 0, 5
Support for drag/dragTo functions from Android API level 18., 64702345, 5, 0, 5
Merge pull request #1037 from enricostano/master  Use Selenium built in wait methods, 64702345, 5, 0, 5
Merge pull request #1039 from bootstraponline/master  Fix real device docs, 64702345, 5, 0, 5
Fix real device docs, 64702345, 5, 0, 5
Use Selenium built in wait methods, 64702345, 5, 0, 5
reset.sh no longer matches against tab character to parse output from adb., 64702345, 5, 0, 5
Merge pull request #1035 from rockbot/multiple-android-parallel  updates server arg docs to indicate device port is android only, 64702345, 5, 0, 5
updates server arg docs to indicate device port is android only, 64702345, 5, 0, 5
Merge pull request #1033 from rockbot/multiple-android-parallel  multiple real android devices running separate tests in parallel, 64702345, 5, 0, 5
Merge pull request #1034 from DylanLacey/master  Added longer timeout for http_client, 64702345, 5, 0, 5
adds the modified server args doc, 64702345, 5, 0, 5
finishes modifications for parallel testing on multiple android devices connected to the same machine, 64702345, 5, 0, 5
adds first round of modifications to get multiple real android devices using appium, 64702345, 5, 0, 5
updates device list to be an array of objects instead of an array of arrays, 64702345, 5, 0, 5
Merge pull request #1025 from snevesbarros/installApp_fix  Update and fix to installApp mobile command, 64702345, 5, 0, 5
Merge pull request #1030 from tborys/remove_unziped_files  Remove *.app/*.apk/ file and Payload folder before appium starts to unzip file., 64702345, 5, 0, 5
Added fix to remove app/apk files from zipPath before appium starts to unzip them. If this is *.app located in Payload folder then folder is being removed too. Fix is done because fruitstrap sometimes failes to install app file on the device when /var/folders/... are not cleared correctly., 64702345, 5, 0, 5
Added longer timeout for http_client  To compensate for slower boot time of Android VMs and for network issues wait longer before timing out (but only at startup)., 64702345, 5, 0, 5
Merge pull request #1026 from TadeasKriz/fix/undefined-this  Fix "Cannot read property of null/undefined"., 64702345, 5, 0, 5
Fix "Cannot read property of null/undefined"., 64702345, 5, 0, 5
fixed issue around installation where app was downloaded and unzipped twice for the installApp mobile command., 64702345, 5, 0, 5
Merge pull request #1016 from bootstraponline/mobile_proxy  mobile: localScreenshot, 64702345, 5, 0, 5
mobile: localScreenshot, 64702345, 5, 0, 5
Merge pull request #1020 from mutualmobile/master  Dynamic strategy now benifits from the classmap aliases., 64702345, 5, 0, 5
Dynamic strategy now benifits from the classmap aliases., 64702345, 5, 0, 5
Merge pull request #1018 from jlipps/master  fix isAppInstalled, 64702345, 5, 0, 5
add test and fix for isAppInstalled updated selendroid test app location, 64702345, 5, 0, 5
Merge pull request #1015 from kinghenry3/timeoutfix  Appium now responds to the last command it received when instruments exits., 64702345, 5, 0, 5
TestApp dies when sent to background.  Test added for appium responding to last command when instruments is killed., 64702345, 5, 0, 5
Appium now reponds to the last command it received when Instruments exits thus it no longer leaves the selenium driver hanging., 64702345, 5, 0, 5
Merge pull request #1012 from mutualmobile/master  Optimized waitForPageLoad and added timeout, 64702345, 5, 0, 5
Optimized looking at progress indicators and fixed a looping error.  Also added a configurable timeout parameter., 64702345, 5, 0, 5
update selendroid to track dev branch instead of master, 64702345, 5, 0, 5
Update troubleshooting.md  https://github.com/appium/appium/issues/1011, 64702345, 5, 0, 5
Merge pull request #1010 from snevesbarros/adb_fix_error  Changes to allow installApp removeApp and isAppInstalled to be called without providing a device id, 64702345, 5, 0, 5
removed checks related to udid and avd and added a check for udid only for ios., 64702345, 5, 0, 5
forgot a change, 64702345, 5, 0, 5
changelog and bump to 0.8.5 for publish, 64702345, 5, 0, 5
Merge pull request #1009 from jlipps/master  fix chrome issues, 64702345, 5, 0, 5
chrome fixes: eliminate race condition and make sure process ends, 64702345, 5, 0, 5
update appium.io and selendroid submodules, 64702345, 5, 0, 5
Merge pull request #1007 from jlipps/master  refactor and proxy fix, 64702345, 5, 0, 5
add test to make sure selendroid can proxy errors, 64702345, 5, 0, 5
factor more code out of controller into its own module this fixes an issue with proxying since proxy.js and controller.js were requiring each other and causing a bug for selendroid / chrome, 64702345, 5, 0, 5
Merge pull request #1002 from snevesbarros/release_session_fix  Minor fix to clear session before releasing the session, 64702345, 5, 0, 5
Merge pull request #1000 from snevesbarros/abd_fix  Change to allow isInstalled install uninstall to be called for Android without providing serial id, 64702345, 5, 0, 5
moved callback to release session to after we have cleared the session, 64702345, 5, 0, 5
Change to make Android requests more generic and allow install uninstall and isInstalled to be called without having serial id defined., 64702345, 5, 0, 5
Merge pull request #997 from bootstraponline/fix_ios_screenshot  Save iOS screenshots to /tmp/appium-ios-screenshots/, 64702345, 5, 0, 5
changelog and bump to 0.8.4 for npm publish, 64702345, 5, 0, 5
try out a fix for (null).tap issues hat tip to @kinghenry3, 64702345, 5, 0, 5
fix failing mobile safari test, 64702345, 5, 0, 5
Merge pull request #998 from jlipps/master  allow logcat capture for selendroid too, 64702345, 5, 0, 5
Save iOS screenshots to /tmp/appium-ios-screenshots/  Fix #983  Fix instruments dir, 64702345, 5, 0, 5
allow capturing logcat for selendroid, 64702345, 5, 0, 5
refactor session proxy code, 64702345, 5, 0, 5
Merge pull request #996 from jlipps/master  Retrieve logcat logs for android, 64702345, 5, 0, 5
add logcat support for appium android we use the selenium facility for getting log types and log entries. in this case simply ask for logs of type 'logcat' and you'll get them, 64702345, 5, 0, 5
Merge pull request #976 from jlipps/master  no need to do weird http stuff for chromedriver anymore, 64702345, 5, 0, 5
no need to do weird http stuff for chromedriver anymore this also fixes an issue with selendroid where non-ascii chars weren't proxied correctly, 64702345, 5, 0, 5
Merge pull request #974 from jlipps/master  --ipa and --app aren't actually incompatible, 64702345, 5, 0, 5
--ipa and --app aren't actually incompatible. --ipa needs --app to provide bundleId, 64702345, 5, 0, 5
Merge pull request #972 from jlipps/master  make sure chromedriver retries adb if it fails, 64702345, 5, 0, 5
make sure chromedriver retries adb if it fails fix #969, 64702345, 5, 0, 5
Merge pull request #971 from jlipps/master  give the appium server a very big http socket timeout., 64702345, 5, 0, 5
give the appium server a very big http socket timeout. sometimes it can take a very long time to start an app during which we haven't responded with a new session response yet. the server was dropping the connection to the client in these cases. the timeout prevents the connection from being dropped., 64702345, 5, 0, 5
remove mention of 'grunt appium', 64702345, 5, 0, 5
add appwaitactivity to driverblock for android, 64702345, 5, 0, 5
Merge pull request #965 from prolificcoder/patch-1  Update real-devices.md, 64702345, 5, 0, 5
Update real-devices.md, 64702345, 5, 0, 5
bump and update to v0.8.3 for npm publish, 64702345, 5, 0, 5
get rid of some commented-out debug statements, 64702345, 5, 0, 5
Merge pull request #963 from jlipps/master  misc fixes, 64702345, 5, 0, 5
fix another bind(this), 64702345, 5, 0, 5
make sure test.sh arguments are passed correctly to mocha, 64702345, 5, 0, 5
add test.sh to make it easier for devs to test important stuff, 64702345, 5, 0, 5
make sure we call back with an error and not a string, 64702345, 5, 0, 5
default tests to use chrome not chromium, 64702345, 5, 0, 5
Merge pull request #962 from jlipps/master  simplify reset.sh and gruntfile by using shell instead of node, 64702345, 5, 0, 5
don't write a bunch of node code just to do some simple platform-specific shell commands that might break with new versions of node, 64702345, 5, 0, 5
Merge pull request #954 from chrisgw/master  Change Android Bootstrap README to include SDK version for compiling, 64702345, 5, 0, 5
Change Android Bootstrap README to include SDK version flag for compiling with mvn  If version isn't specified Maven tries to compile with an older version of the Android SDK., 64702345, 5, 0, 5
Merge pull request #951 from bernii/master  All-in-one sauce connect example for python, 64702345, 5, 0, 5
all-in-one sauce connect example for python, 64702345, 5, 0, 5
Merge pull request #948 from kinghenry3/fixbindthis  Added some missing calls to bind(this)., 64702345, 5, 0, 5
Added a nessessary call to bind(this)., 64702345, 5, 0, 5
Added some nessessary calls to bind(this)., 64702345, 5, 0, 5
Merge pull request #947 from rockbot/bundleId-undefined-error  fixes #945 - bundledId of undefined, 64702345, 5, 0, 5
fixes #945 - bundledId of undefined, 64702345, 5, 0, 5
Fix code formatting, 64702345, 5, 0, 5
Merge pull request #909 from elysakohrs/elysa-update-gestures-docs  update mobile gestures documentation, 64702345, 5, 0, 5
add element id to python ex and mention element optional in gestures doc, 64702345, 5, 0, 5
Merge pull request #940 from haveahennessy/plist-fix  Issue #853: XML Info plists are now accepted., 64702345, 5, 0, 5
Style fix. JSHint now passes.  Signed-off-by: Matt Isaacs <misaacs@gilt.com>, 64702345, 5, 0, 5
Issue #853: XML Info plists are now accepted. Signed-off-by: Matt Isaacs <misaacs@gilt.com>, 64702345, 5, 0, 5
Merge pull request #939 from rockbot/fix-tests  updates failing test due to updated testApp, 64702345, 5, 0, 5
Merge pull request #933 from bootstraponline/fix_869  Native bind, 64702345, 5, 0, 5
updates failing test due to updated testApp  Fix keyevent on Selendroid, 64702345, 5, 0, 5
Merge pull request #938 from bootstraponline/keyevent_selendroid  Fix keyevent on Selendroid, 64702345, 5, 0, 5
Fix keyevent on Selendroid, 64702345, 5, 0, 5
prevent possible alert issues, 64702345, 5, 0, 5
Merge pull request #935 from mansibarodia/master  Mechanic.js - Alias for UIAEditingMenu, 64702345, 5, 0, 5
Mechanic.js - Alias for UIAEditingMenu, 64702345, 5, 0, 5
Add mobile find examples, 64702345, 5, 0, 5
Added Java sample which demonstrates how to run a test against Mobile Safari with Appium, 64702345, 5, 0, 5
Merge pull request #934 from bootstraponline/master  Update notes from @jlipps, 64702345, 5, 0, 5
Update notes from @jlipps  https://github.com/appium/appium/pull/933#issuecomment-21590274, 64702345, 5, 0, 5
Update style-guide.md, 64702345, 5, 0, 5
Merge pull request #932 from bootstraponline/pinch  Pinch, 64702345, 5, 0, 5
updates error message to account for bad address error  removes _.bind in favor of the native Object.prototype.bind, 64702345, 5, 0, 5
Merge pull request #930 from rockbot/max-buffer-const  creates a max buffer constant for ease of updating maxBuffer limits, 64702345, 5, 0, 5
Fix style, 64702345, 5, 0, 5
Add @jlipps fix, 64702345, 5, 0, 5
Squashing to pinch gesture  Squashing to PINCH GESTURE  updates error message to account for bad address error  Add Inspector Tutorial to Finding Elements  Add Inspector Images  Fixed Images  Point Images to Appium  Changes, 64702345, 5, 0, 5
Merge pull request #929 from bootstraponline/fix_screenshot  Use uiautomator screenshot, 64702345, 5, 0, 5
Merge pull request #931 from kinghenry3/AddKeyboardAndKey  Added aliases for UIAKeyboard and UIAKey., 64702345, 5, 0, 5
Added aliases for UIAKeyboard and UIAKey., 64702345, 5, 0, 5
fixes the MAX_BUFFER_SIZE to be something you know useful, 64702345, 5, 0, 5
creates a max buffer constant for ease of updating maxBuffer limits, 64702345, 5, 0, 5
Use uiautomator screenshot  uiautomator has built in support for taking screenshots. There's no need for an external jar., 64702345, 5, 0, 5
Merge pull request #925 from bootstraponline/fix_back  Use pressBack, 64702345, 5, 0, 5
Merge pull request #924 from austenke/master  Add Inspector Tutorial to Finding Elements, 64702345, 5, 0, 5
Add Inspector Tutorial to Finding Elements  Add Inspector Images  Fixed Images  Point Images to Appium, 64702345, 5, 0, 5
Use uiautomator pressKeyCode  The adb solution doesn't wait until the key has finished which causes problems in tests. uiautomator's built in pressKeyCode is much better., 64702345, 5, 0, 5
Dump without disconnecting the current session  The old way of viewing the page source broke the current uiautomator session. A lot of effort went into detecting a failed session and then restarting. It turns out we can access the source from within a session., 64702345, 5, 0, 5
Use pressBack  pressBack blocks until back is pressed. This is much better than the old implementation which returns immediately., 64702345, 5, 0, 5
Merge pull request #918 from rockbot/bad-address-error-message  updates error message to account for bad address error, 64702345, 5, 0, 5
updates error message to account for bad address error, 64702345, 5, 0, 5
Merge pull request #917 from penguinho/master  Bitbeambot is so 2012, 64702345, 5, 0, 5
Bitbeambot is so 2012, 64702345, 5, 0, 5
Merge pull request #915 from bootstraponline/fix_rotate  iOS Rotate, 64702345, 5, 0, 5
Style fixes, 64702345, 5, 0, 5
Merge pull request #916 from jlipps/master  fix bundle id issues, 64702345, 5, 0, 5
Squashing Commits  Squashing 2  Use lower case adb.  Use === not ==  create ChromeAndroid device which subclasses Android  move remote execute functionality into device common  send commands to chrome as javascript atoms via remote debugger  make chrome device proxy to chromedriver instead of using atoms  add describeForChrome in driverBlock and add webview tests for chrome  fix outstanding issue in doRequest so there's no empty body misc cleanup  use streams instead of data events for chromedriver subproc  add comment about why we're doing dumb things with chromedriver  add docs for mobile safari and mobile chrome  update grunt docs  remove unused remote debugger files  clean up callback structure  make sure to encode doRequest response to JSON if possible (fix #847)  Fix undefined  Squashing 1  allow testsuite to take port from env so ios/android tests can run simultaneously  make sure webview guinea pig runs on same port as appium  make sure to discard series info here so it doesn't get passed on  fix find element from element tests  update test to use correct appium port  Squashing  make sure fruitstrap gets into build/ for npm releases (cc @snevesbarros)  /session/:sessionId/element/:id/enabled should return a boolean value.  Signed-off-by: Matt Isaacs <misaacs@gilt.com>  Unneccessary  Removing MonkeyPinch, 64702345, 5, 0, 5
Merge pull request #902 from bootstraponline/fix_883  adding a selected method to android, 64702345, 5, 0, 5
make sure dashes are legal in bundle ids (fix #912), 64702345, 5, 0, 5
update mobile gestures documentation, 64702345, 5, 0, 5
changelog and bump for publish 0.8.2, 64702345, 5, 0, 5
just blow away build/ to make sure random stuff doesn't get published, 64702345, 5, 0, 5
Improve mobile find scroll  Mobile find scroll no longer fails if nothing is scrollable on the page. Instead if there's a match then that match is returned even if we didn't have to scroll.  Fix NPE in error reporting. The error message may be null.  Fix spacing, 64702345, 5, 0, 5
Add test, 64702345, 5, 0, 5
adding a selected method to android, 64702345, 5, 0, 5
changelog and bump for npm publish 0.8.1, 64702345, 5, 0, 5
actually fix safari alert issues, 64702345, 5, 0, 5
make sure sessions that fail to start still kill android bootstrap, 64702345, 5, 0, 5
make this scrollTo test work on canonical test device, 64702345, 5, 0, 5
Merge pull request #901 from jlipps/master  allow activities without periods in front, 64702345, 5, 0, 5
when activity launching fails try again with a ., 64702345, 5, 0, 5
make chrome tests run against chromiumtestshell since it runs on x86 emulators, 64702345, 5, 0, 5
Merge pull request #898 from jlipps/master  allow / don't allow location services for app on ios, 64702345, 5, 0, 5
enable setting of location services preference via desired capability, 64702345, 5, 0, 5
make sure app exists before trying to open it, 64702345, 5, 0, 5
Merge pull request #886 from samaitra/master  TestNG and Junit tests for Android.These tests are similar to the one available in the sample-code/examples/python, 64702345, 5, 0, 5
make chrome startup error more visible, 64702345, 5, 0, 5
Update requirements, 64702345, 5, 0, 5
TestNG and Junit tests for Android.These tests are similar to the one available in the sample-code/examples/python, 64702345, 5, 0, 5
Merge pull request #882 from alvillaflor/patch-1  return set timeout in the response, 64702345, 5, 0, 5
return set timeout in the response, 64702345, 5, 0, 5
Merge pull request #874 from bootstraponline/859  #859, 64702345, 5, 0, 5
Fix pull #859, 64702345, 5, 0, 5
update example code to use new style of android activity, 64702345, 5, 0, 5
Merge pull request #870 from alvillaflor/patch-1  add touchLongClick to the mobile cmd map to work. feature was already im..., 64702345, 5, 0, 5
change mobileCmdMap from touchLongClick to longClick, 64702345, 5, 0, 5
Merge pull request #868 from jlipps/master  misc updates, 64702345, 5, 0, 5
add touchLongClick to the mobile cmd map to work. feature was already implemented, 64702345, 5, 0, 5
fall back to adb.startApp if selendroid's instrumentation doesn't launch it in 1.8s, 64702345, 5, 0, 5
move all android tests to use new activity style, 64702345, 5, 0, 5
selendroid doesn't need to start app explicitly; instrumentation does that, 64702345, 5, 0, 5
update selendroid tests to use new activity style, 64702345, 5, 0, 5
browserName not needed for Appium tests, 64702345, 5, 0, 5
Merge pull request #867 from zijie0/master  Fix Android XPath issue., 64702345, 5, 0, 5
Fix Android XPath issue., 64702345, 5, 0, 5
Fix the Android XPath strings issue. Now it could work with XPath: android.view.View and android.widget.AdapterView., 64702345, 5, 0, 5
Merge pull request #866 from rainman-sjtu/master   Fixed an issue where 'stdout maxBuffer exceeded' throws when unzipping a lot of files., 64702345, 5, 0, 5
Fixed an issue where 'stdout maxBuffer exceeded' throws when unzipping a lot of files., 64702345, 5, 0, 5
allow http apps to end in apk instead of zip, 64702345, 5, 0, 5
Merge pull request #863 from bootstraponline/857  Fix app starting logic, 64702345, 5, 0, 5
Merge pull request #861 from samaitra/master  Fixed uncaught exception which was not allowing execution of  "mochaTest:appiumutils" (mochaTest) task. In server.js the gridRegister.registerNode(args.nodeconfig) was getting executed if args.nodeconfig is not null. In the appiumutils.js it was not set a, 64702345, 5, 0, 5
Fix app starting logic  Fix #862, 64702345, 5, 0, 5
Fixed uncaught exception which was not allowing execution of  "mochaTest:appiumutils" (mochaTest) task. In server.js the gridRegister.registerNode(args.nodeconfig) was getting executed if args.nodeconfig is not null. In the appiumutils.js it was not set as null., 64702345, 5, 0, 5
fix mobile safari alert issues (fix #850), 64702345, 5, 0, 5
Merge pull request #860 from bootstraponline/857  Fix #857, 64702345, 5, 0, 5
Fix #857, 64702345, 5, 0, 5
Merge pull request #858 from samaitra/master  Type casting the driver object with JavascriptExecutor, 64702345, 5, 0, 5
Type casting the driver object with JavascriptExecutor, 64702345, 5, 0, 5
changelog and bump for publish 0.8.0, 64702345, 5, 0, 5
Merge pull request #849 from mutualmobile/android_scrollTo_support  Added scrollTo support for Android., 64702345, 5, 0, 5
Updated Exception handling in scrollto for android, 64702345, 5, 0, 5
Merge pull request #852 from haveahennessy/iselement-fix  /session/:sessionId/element/:id/enabled should return a boolean value., 64702345, 5, 0, 5
/session/:sessionId/element/:id/enabled should return a boolean value.  Signed-off-by: Matt Isaacs <misaacs@gilt.com>, 64702345, 5, 0, 5
make sure fruitstrap gets into build/ for npm releases (cc @snevesbarros), 64702345, 5, 0, 5
Merge pull request #851 from jlipps/master  fixing misc issues with tests, 64702345, 5, 0, 5
update test to use correct appium port, 64702345, 5, 0, 5
fix find element from element tests, 64702345, 5, 0, 5
make sure to discard series info here so it doesn't get passed on, 64702345, 5, 0, 5
make sure webview guinea pig runs on same port as appium, 64702345, 5, 0, 5
allow testsuite to take port from env so ios/android tests can run simultaneously, 64702345, 5, 0, 5
Fix undefined, 64702345, 5, 0, 5
Merge pull request #848 from jlipps/master  fix selendroid response parsing, 64702345, 5, 0, 5
make sure to encode doRequest response to JSON if possible (fix #847), 64702345, 5, 0, 5
Merge pull request #833 from jlipps/chrome  Chrome automation support for Android, 64702345, 5, 0, 5
Merge pull request #843 from bootstraponline/adb  Use lower case adb., 64702345, 5, 0, 5
clean up callback structure, 64702345, 5, 0, 5
remove unused remote debugger files, 64702345, 5, 0, 5
update grunt docs, 64702345, 5, 0, 5
add docs for mobile safari and mobile chrome, 64702345, 5, 0, 5
add comment about why we're doing dumb things with chromedriver, 64702345, 5, 0, 5
use streams instead of data events for chromedriver subproc, 64702345, 5, 0, 5
fix outstanding issue in doRequest so there's no empty body misc cleanup, 64702345, 5, 0, 5
add describeForChrome in driverBlock and add webview tests for chrome, 64702345, 5, 0, 5
make chrome device proxy to chromedriver instead of using atoms, 64702345, 5, 0, 5
send commands to chrome as javascript atoms via remote debugger, 64702345, 5, 0, 5
move remote execute functionality into device common, 64702345, 5, 0, 5
Use === not ==, 64702345, 5, 0, 5
create ChromeAndroid device which subclasses Android, 64702345, 5, 0, 5
Use lower case adb., 64702345, 5, 0, 5
Fix null device id  java -classpath "/android-sdk-macosx/tools/lib/ddmlib.jar:/android-sdk-macosx/tools/lib/x86_64/swt.jar:/appium/drpy/app/android/ScreenShooter.jar" io.appium.android.screenshooter.ScreenShooter null "/var/folders/wy/1786rjcd25x358xsx14h2cjr0000gn/T/appium11361-15943-imqm46.png", 64702345, 5, 0, 5
Merge pull request #841 from drpy/master  Make Android.prototype.getScreenshot work under Windows, 64702345, 5, 0, 5
Make Android.prototype.getScreenshot work under Windows, 64702345, 5, 0, 5
Merge pull request #839 from kinghenry3/TableCellFix  Fixed broken tabelcell search due to appium pull request #838., 64702345, 5, 0, 5
Fixed broken tabelcell search due to appium pull request #838., 64702345, 5, 0, 5
Merge pull request #838 from kinghenry3/CollectionCellShortcut  Added a shortcut for UIACollectionCell and another for UIATableCell., 64702345, 5, 0, 5
Added a shortcut for UIACollectionCell and another shortcut for UIATableCell., 64702345, 5, 0, 5
Update submodules/fruitstrap before make  Fix #837, 64702345, 5, 0, 5
Merge pull request #836 from rmcloughlin/master  Fix broken link on credits page, 64702345, 5, 0, 5
Fix broken link to ios-driver, 64702345, 5, 0, 5
Merge pull request #834 from bootstraponline/832  Fix #832, 64702345, 5, 0, 5
Fix #832  Allow fully qualified activities  Fix selendroid, 64702345, 5, 0, 5
Merge pull request #791 from tborys/master  For freedom!!!! to install and uninstall the app whenever I want!, 64702345, 5, 0, 5
Update style-guide.md, 64702345, 5, 0, 5
Update style-guide.md, 64702345, 5, 0, 5
Merge pull request #831 from bootstraponline/select  Select, 64702345, 5, 0, 5
Fix lint and spacing, 64702345, 5, 0, 5
Creating an selected? method for iOS based off checking the value() of an element.  Adding tests in appium for selected, 64702345, 5, 0, 5
Fix else, 64702345, 5, 0, 5
Merge pull request #798 from herzbube/invoke-client-with-node  invoke global instruments_client script using node, 64702345, 5, 0, 5
Added changes for decoupling creating session installing launching closing and uninstalling app for iOS and Android using mobile commands, 64702345, 5, 0, 5
Decoupling installation and removal from launching the app for iOS by adding new end points to appium server., 64702345, 5, 0, 5
Merge pull request #830 from drpy/master  Make Android.prototype.getPageSource / getPageSourceXML also work under Windows, 64702345, 5, 0, 5
Quoted xmlFile in shell commands to prevent breaking the command if spaces were in the generated temporary file name, 64702345, 5, 0, 5
Make Android.prototype.getPageSource and Android.prototype.getPageSourceXML also work under Windows:  Three Changes: 1) generate the temp file name using temp.path 2) split adb shell calls in 2 functions 3) remove temporary files, 64702345, 5, 0, 5
Merge pull request #827 from tanob/android-touch-long-click  Android touch long press, 64702345, 5, 0, 5
implemented touch long press for Android., 64702345, 5, 0, 5
Merge pull request #829 from tanob/fix-screenshot-capability  Fixed WebDriver's capability name for taking screenshot, 64702345, 5, 0, 5
fixed capability name in the Android and Firefox OS drivers for taking screenshot., 64702345, 5, 0, 5
Merge pull request #826 from mutualmobile/reset_sh_uicatalog_build_fail_fix  reset.sh fails to build UICatalog app, 64702345, 5, 0, 5
reset.sh fails to build UICatalog app Adds -arch argument to xcodebuild so that it builds properly., 64702345, 5, 0, 5
Merge pull request #819 from bootstraponline/large_json  Fix large JSON, 64702345, 5, 0, 5
Fix large JSON, 64702345, 5, 0, 5
update selendroid test to use new selendroid-test-app, 64702345, 5, 0, 5
Merge pull request #797 from swapna-chennadi/master  Re-register appium with grid, 64702345, 5, 0, 5
Merge pull request #817 from bootstraponline/fix_strings  Fix strings, 64702345, 5, 0, 5
Update Selendroid, 64702345, 5, 0, 5
Fix strings for on device APK, 64702345, 5, 0, 5
Fix typo, 64702345, 5, 0, 5
fixed spacing, 64702345, 5, 0, 5
Merge pull request #812 from bootstraponline/keystore_md5  Keystore md5, 64702345, 5, 0, 5
Keystore md5, 64702345, 5, 0, 5
update test for new activity style, 64702345, 5, 0, 5
Merge pull request #811 from jlipps/master  android activity fixes, 64702345, 5, 0, 5
fix some android start activity issues, 64702345, 5, 0, 5
Merge pull request #809 from bootstraponline/master  Enable keystore on Selendroid, 64702345, 5, 0, 5
Enable keystore on Selendroid, 64702345, 5, 0, 5
fix style guide layout, 64702345, 5, 0, 5
Update style-guide.md, 64702345, 5, 0, 5
Update style-guide.md, 64702345, 5, 0, 5
Update style-guide.md, 64702345, 5, 0, 5
Update style-guide.md, 64702345, 5, 0, 5
Merge pull request #807 from bootstraponline/jarsigner  jarsigner, 64702345, 5, 0, 5
jarsigner, 64702345, 5, 0, 5
Merge pull request #799 from herzbube/use-profile-in-sysexec  look for ~/.profile in sysExec(), 64702345, 5, 0, 5
Merge pull request #800 from herzbube/macports-troubleshooting-notes  add troubleshooting note for MacPorts, 64702345, 5, 0, 5
add troubleshooting note for MacPorts, 64702345, 5, 0, 5
look for ~/.profile in sysExec(), 64702345, 5, 0, 5
invoke global instruments_client script using node, 64702345, 5, 0, 5
functionality to re-register appium with grid, 64702345, 5, 0, 5
Merge pull request #794 from mutualmobile/ios_background  Added support for backgrounding the IOS application for a # of secs, 64702345, 5, 0, 5
Added support for backgrounding the IOS application for a # of secs, 64702345, 5, 0, 5
Merge pull request #795 from mutualmobile/ios_lock  Added support for locking the IOS device for a number of seconds., 64702345, 5, 0, 5
Added support for locking the IOS device for a number of seconds.  Removed unused code, 64702345, 5, 0, 5
Merge pull request #774 from bootstraponline/max_buffer  Set max buffer to Math.pow(219), 64702345, 5, 0, 5
Set max buffer to Math.pow(219), 64702345, 5, 0, 5
Merge pull request #785 from bootstraponline/782  Fix activity detection, 64702345, 5, 0, 5
Fix selendroid start  Wrong: adb shell am instrument -e main_activity 'com.thehomedepot..Foundation.Controller.SetServicesActivity' com.thehomedepot.selendroid/io.selendroid.ServerInstrumentation  Fixed: adb shell am instrument -e main_activity 'com.thehomedepot.Foundation.Controller.SetServicesActivity' com.thehomedepot.selendroid/io.selendroid.ServerInstrumentation, 64702345, 5, 0, 5
Fix Cannot read property 'value' of undefined, 64702345, 5, 0, 5
Selendroid is unable to start some apps, 64702345, 5, 0, 5
Fix activity detection  The old logic was completely broken.  The pkg must not be prepended to the activity. This is invalid. shell am start -n com.thehomedepot/com.thehomedepot..Foundation.Controller.SetServicesActivity  The activity must not have the first bit chopped off. This is invalid: Foundation.Controller.SetServicesActivity  The correct command is adb shell am start -n com.thehomedepot/.Foundation.Controller.SetServicesActivity  Notice there's no prepended activity and that the string after the / starts with a "."  Fixes #782, 64702345, 5, 0, 5
Merge pull request #784 from bootstraponline/776  Fix #776, 64702345, 5, 0, 5
Fix #776, 64702345, 5, 0, 5
Merge pull request #781 from bootstraponline/update_selendroid  Update selendroid, 64702345, 5, 0, 5
Update selendroid, 64702345, 5, 0, 5
Merge pull request #775 from bootstraponline/search_value  Add search strings.xml value, 64702345, 5, 0, 5
Add search strings.xml value  Useful for finding all keys that contain a common string.  mobile :searchValue 'preferences_delete', 64702345, 5, 0, 5
Merge pull request #772 from bootstraponline/search_id  Add search id and resolve id., 64702345, 5, 0, 5
Add mobile resolveId  Scroll requires the text in advance so resolveId is required. Ruby example:  mobile :resolveId 'my_id', 64702345, 5, 0, 5
Add search id  Ruby example of finding all strings.xml ids that contain the value feedback.  mobile :searchId 'feedback', 64702345, 5, 0, 5
Merge pull request #768 from rorp/master  GetDeviceSize Android Handler, 64702345, 5, 0, 5
Fixed a typo in GetDeviceSize Android handler, 64702345, 5, 0, 5
Add npm package version, 64702345, 5, 0, 5
changelog and bump for publish 0.7.3, 64702345, 5, 0, 5
add shebang to authorize.js, 64702345, 5, 0, 5
changelog and bump for publish 0.7.2, 64702345, 5, 0, 5
update appium.io, 64702345, 5, 0, 5
update docs to make sure people know they need to authorize ios sim, 64702345, 5, 0, 5
add authorize_ios binary so npm users can run authorize, 64702345, 5, 0, 5
Merge pull request #766 from bootstraponline/fix_pr_760  Fix pr 760, 64702345, 5, 0, 5
fix method of looping through object keys, 64702345, 5, 0, 5
Added a settings file to instruments that it can read in for "sudo environment variables".  Structured as key=value pairs it will ignore lines that don't have a '=' in them and throw and error if the split on '=' is more then two.  The only thing using it in this pull request is the location of node.  This pull request started as https://github.com/appium/appium/pull/757 but I added the settings file.  Changed sysExec to look at .bash_profile first and failing that look at .bashrc  Now only calls /bin/test to check if files exist.  Added more logging to make it clear when some options where read in from the settings file.  Conflicts: 	app/uiauto/lib/instruments_client.js  Updated style issues., 64702345, 5, 0, 5
Merge pull request #759 from kinghenry3/UnitTestForEnabledVisible  Unit tests for enabled/visible elements., 64702345, 5, 0, 5
Merge pull request #764 from bootstraponline/master  Fix app wait activity for Selendroid, 64702345, 5, 0, 5
Fix app wait activity for Selendroid, 64702345, 5, 0, 5
Added unit tests to verify disabled/enabled and visible/invisible elements., 64702345, 5, 0, 5
Merge pull request #763 from bootstraponline/master  Add keyevent to Selendroid, 64702345, 5, 0, 5
Add keyevent to Selendroid  Fix #762, 64702345, 5, 0, 5
use .bash_profile instead of .bashrc, 64702345, 5, 0, 5
don't allow custom shell but do load user's .bashrc, 64702345, 5, 0, 5
use user shell for instruments_client allow ohai env to set node location, 64702345, 5, 0, 5
Update mobile_methods.md, 64702345, 5, 0, 5
Merge pull request #751 from jlipps/master  misc fixes, 64702345, 5, 0, 5
touch/click is same as /click for mobile, 64702345, 5, 0, 5
use cross-platform path.resolve in adb.js, 64702345, 5, 0, 5
Merge pull request #748 from kinghenry3/PageSourcePatch  Page source now retrieves source for all windows., 64702345, 5, 0, 5
Fixed broken unit tests related to having page_source return all windows (not just the main window)., 64702345, 5, 0, 5
Page source now retrieves source for all windows (not just the main window).  This means that the statusbar window keyboard window and any actionsheet/popover/alert windows will be logged., 64702345, 5, 0, 5
Merge pull request #745 from bootstraponline/fix_null  Check for null websocket, 64702345, 5, 0, 5
Check for null websocket  Fix #744, 64702345, 5, 0, 5
setting processingRemoteCmd was a bad idea it creates time for things to go wrong. just perform the one-off check for the exception to the rule in push(), 64702345, 5, 0, 5
update appium io, 64702345, 5, 0, 5
Add mobile reset docs, 64702345, 5, 0, 5
Merge pull request #740 from kinghenry3/NewGitSubmodules  Changed git to http for instruments-without-delay in .gitmodules, 64702345, 5, 0, 5
Fixed instruments-without-delay protocol from git to https so people without write permissions can clone it., 64702345, 5, 0, 5
Merge pull request #734 from snevesbarros/master  lookForAlert fix, 64702345, 5, 0, 5
removed added space when incrementing a value., 64702345, 5, 0, 5
Merge pull request #736 from bootstraponline/require_java  Require java, 64702345, 5, 0, 5
Require java, 64702345, 5, 0, 5
Merge pull request #732 from sourishkrout/master  Selendroid won't build properly without JAVA_HOME set, 64702345, 5, 0, 5
Merge pull request #733 from houlianpi/master  Update Automation file. Xcode 4.6.2 /Applications/Xcode.app/Contents/Applications/Instruments.app/Contents/PlugIns/AutomationInstrument.bundle/Contents/Resources/Automation.tracetemplate, 64702345, 5, 0, 5
minor fix for lookForAlert when calling remote command again by making timeout a parameter., 64702345, 5, 0, 5
fix on checking alerts. We had a single parameter to check if an atom was executed which was being set by multiple executions. This caused unnecessary calls to "au.alertIsPresent", 64702345, 5, 0, 5
use new Automations file, 64702345, 5, 0, 5
Display warning if JAVA_HOME isn't set properly., 64702345, 5, 0, 5
selendroid needs to use this.adbCmd, 64702345, 5, 0, 5
Merge pull request #729 from kinghenry3/master  Fixed broken isDisplayed() and isEnabled() protocol., 64702345, 5, 0, 5
Fixed broken isDisplayed() and isEnabled() protocol., 64702345, 5, 0, 5
Merge pull request #720 from snevesbarros/master  navigate to url fix which speeds up execution on real devices, 64702345, 5, 0, 5
Merge pull request #727 from bootstraponline/use_adbCmd  Use adbCmd, 64702345, 5, 0, 5
spacing., 64702345, 5, 0, 5
fixed the test as it would freeze on page 2., 64702345, 5, 0, 5
Quote adb push path, 64702345, 5, 0, 5
Use adbCmd, 64702345, 5, 0, 5
update changelog and bump for publish 0.7.1, 64702345, 5, 0, 5
fix test, 64702345, 5, 0, 5
Merge pull request #724 from jlipps/master  make selendroid port configurable, 64702345, 5, 0, 5
make selendroid port configurable, 64702345, 5, 0, 5
Merge pull request #723 from jlipps/master  update selendroid, 64702345, 5, 0, 5
update appium to reflect changes in new selendroid, 64702345, 5, 0, 5
update submodules, 64702345, 5, 0, 5
Merge pull request #719 from bootstraponline/space_in_path  Quote binary location to fix space in path, 64702345, 5, 0, 5
increased the wait between navigating and checking to 1 second (as around 1 out of 30 requests were still coming back with ready when the page had not started loading). With the wait being 1 second it's all good., 64702345, 5, 0, 5
Spawn breaks with quotes and exec breaks without them, 64702345, 5, 0, 5
code style updates, 64702345, 5, 0, 5
Update jar to fix Windows support  See https://github.com/appium/strings_from_apk/commit/4ceb067d3a0ecaa529c5ef2b2251300a60b87fa7, 64702345, 5, 0, 5
Quote make strings command, 64702345, 5, 0, 5
Quote binary location to fix space in path  Log runBootstrap command, 64702345, 5, 0, 5
added fix for switch to and get window handles. You still have to grab window handles but can switch to another window without grabbing it again., 64702345, 5, 0, 5
removed empty lines, 64702345, 5, 0, 5
navigateToPage fix for real devices., 64702345, 5, 0, 5
changelog and bump for npm publish 0.7.0, 64702345, 5, 0, 5
fix mobile: reset for ios, 64702345, 5, 0, 5
Merge pull request #716 from jlipps/master  misc fixes (including #715 #713), 64702345, 5, 0, 5
update args for test server (fix #715), 64702345, 5, 0, 5
remove deprecated flags that default to true, 64702345, 5, 0, 5
make sure grunt projects respect new exit code cb framework (fix #713), 64702345, 5, 0, 5
remove extra done() from this test, 64702345, 5, 0, 5
reconfigure alerts code so it starts after appium itself launches, 64702345, 5, 0, 5
Merge pull request #714 from bootstraponline/array_wait  Wait for activity takes an array, 64702345, 5, 0, 5
Use the same error message on iOS and Android  Fixes #689, 64702345, 5, 0, 5
Wait for activity takes an array  Fix #691, 64702345, 5, 0, 5
Merge pull request #707 from jlipps/master  android build exit status and noReset fixes, 64702345, 5, 0, 5
check arguments for conflicts before attempting to start the server, 64702345, 5, 0, 5
make noReset sound and act like what's intended (fix #651), 64702345, 5, 0, 5
make sure android build errors exit > 0 (fix #671), 64702345, 5, 0, 5
Merge pull request #706 from jlipps/master  fix source crash, 64702345, 5, 0, 5
remove resendLast capability, 64702345, 5, 0, 5
resend last command for adb not for android (fix #705), 64702345, 5, 0, 5
add test to prove screenshots doesn't crash other commands, 64702345, 5, 0, 5
add basic test for android page source, 64702345, 5, 0, 5
make sure screenshot tests discover lots of screenshot data, 64702345, 5, 0, 5
change screenshot test to use mobile find, 64702345, 5, 0, 5
add screenshot-in-sequence test, 64702345, 5, 0, 5
add basic test for android screenshot, 64702345, 5, 0, 5
Merge pull request #701 from bootstraponline/new_session_wins  New session wins, 64702345, 5, 0, 5
we don't use code so don't include it, 64702345, 5, 0, 5
add mock_ios device and rewrite session queueing unit tests, 64702345, 5, 0, 5
Add test, 64702345, 5, 0, 5
New session wins, 64702345, 5, 0, 5
Merge pull request #703 from bootstraponline/675  Fix java.lang.IllegalStateException: UiAutomationService not connected., 64702345, 5, 0, 5
java style fixes, 64702345, 5, 0, 5
Merge pull request #700 from jlipps/master  android geolocation, 64702345, 5, 0, 5
Fix java.lang.IllegalStateException: UiAutomationService not connected.  Fixes #675, 64702345, 5, 0, 5
add set geolocation support for android (fix #564), 64702345, 5, 0, 5
factor out android telnet commands for reusability, 64702345, 5, 0, 5
refactor emulator port retrieval and nodify penguinho code, 64702345, 5, 0, 5
add apidemos code to linter and lint, 64702345, 5, 0, 5
make sure device wakes up before trying to run test (fix #490), 64702345, 5, 0, 5
Merge pull request #696 from jlipps/master  make sure androidmanifest is in /tmp, 64702345, 5, 0, 5
make sure androidmanifest.xml.apk is writable (fix #690), 64702345, 5, 0, 5
Merge pull request #695 from bootstraponline/master  Fix #693, 64702345, 5, 0, 5
Fix null and undefined res., 64702345, 5, 0, 5
Merge pull request #694 from jlipps/master  uninstall app on full reset, 64702345, 5, 0, 5
make sure app is still uninstalled when not using fast reset (fix #687), 64702345, 5, 0, 5
clean up adb restart code, 64702345, 5, 0, 5
add test for find element by id, 64702345, 5, 0, 5
Merge pull request #688 from snevesbarros/patch-2  removed the "Note", 64702345, 5, 0, 5
removed the "Note"  the proxy has been fixed and tagged and can now be installed through brew. So note was not valid anymore., 64702345, 5, 0, 5
Merge pull request #668 from bootstraponline/find_by_id  Add find element by id for Android, 64702345, 5, 0, 5
Use adb push and have server load on startup, 64702345, 5, 0, 5
Updated to use Timer, 64702345, 5, 0, 5
Apply @jlipps patch, 64702345, 5, 0, 5
Wrap doRun, 64702345, 5, 0, 5
Detect not found error early., 64702345, 5, 0, 5
Fix NPE crash by using spin wait, 64702345, 5, 0, 5
Start moving find by id to server, 64702345, 5, 0, 5
Add find by id for Android, 64702345, 5, 0, 5
changelog and bump to 0.6.1 for npm publish, 64702345, 5, 0, 5
make sure reset.sh is not in npm since it won't work anyways, 64702345, 5, 0, 5
use spinWaits to make sure these tests pass, 64702345, 5, 0, 5
update tests to be a bit more robust, 64702345, 5, 0, 5
add note about hw.battery to android setup (fix #665), 64702345, 5, 0, 5
make sure to escape sendKeys values properly, 64702345, 5, 0, 5
Merge pull request #680 from snevesbarros/patch-1  additional description hybrid.md, 64702345, 5, 0, 5
additional description hybrid.md  added some additional description around turning on the web inspector and updated the note on the bugfix (as a fix was done for the proxy), 64702345, 5, 0, 5
Merge pull request #679 from bootstraponline/fix_webview  WebView is not a widget, 64702345, 5, 0, 5
WebView is not a widget, 64702345, 5, 0, 5
Merge pull request #672 from jlipps/master  getLocation for android, 64702345, 5, 0, 5
make exception check broader, 64702345, 5, 0, 5
add getLocation for android, 64702345, 5, 0, 5
Merge pull request #669 from mutualmobile/websocket_notifications_unittests_cleanup  Clean up functional tests for alert detection removing the need for, 64702345, 5, 0, 5
Clean up functional tests for alert detection removing the need for the telnetclient package.  Style change, 64702345, 5, 0, 5
Merge pull request #666 from umaar/patch-1  Use correct link for Android Prep within the readme, 64702345, 5, 0, 5
Use correct link for Android Prep within the readme  'Prepare your app for an Android test' was linking to an iOS section this commit makes the link point to the Android section., 64702345, 5, 0, 5
Merge pull request #664 from jlipps/master  put manifest src in build/, 64702345, 5, 0, 5
make the change simpler just include the file in npm, 64702345, 5, 0, 5
make android manifest xml src part of build/, 64702345, 5, 0, 5
Merge pull request #624 from mutualmobile/websocket_notifications_for_alerts  Added changes to notify websocket listeners of alert dialogs., 64702345, 5, 0, 5
Added changes to notify websocket listeners of alert dialogs.  One thing to keep in mind: iOS and Android treat dialogs differently. iOS "system" dialogs can be triggered from the application under test as well as from external sources (the system). However Android treats dialogs as any other window. So to make this work the bootstrap app looks for windows with the package name of "com.android.systemui". These are dialogs that the system has instantiated but not the app.  So for example if we had the same application written on both platforms and they both had a login screen and you click on the login button without putting in a username. On iOS you would be notified if they used a standard system dialog and you would not be notified on Android. However if the system put up a low battery dialog it would be detected on both systems.  So... The main reason for implementing this is to stop failing tests from unintentional dialogs appearing during an overnight test.  Updated call signiture to instruments., 64702345, 5, 0, 5
Merge pull request #663 from bootstraponline/fix_reset_timing  Fix fast reset race condition, 64702345, 5, 0, 5
Fix fast reset race condition  adb shell am commands return immediately not when they're finished. am instrument will close the app once it completes. It's possible for instrument to be running the am start command is issued then instrument finishes and closes the app. Appium is now waiting for an activity that will never appear and the tests fail.  The fix is to only start the app once reset has closed the app.  Fixes #662, 64702345, 5, 0, 5
Merge pull request #661 from jlipps/master  grab bag of fixes/updates, 64702345, 5, 0, 5
update uicatalog tests to work with new uicatalog app, 64702345, 5, 0, 5
update style guide, 64702345, 5, 0, 5
refactor and add more logging to instruments_client.js, 64702345, 5, 0, 5
fix isBundle regex, 64702345, 5, 0, 5
Merge pull request #657 from bootstraponline/===  Use === 1 for isVisible check, 64702345, 5, 0, 5
Use === 1 for isVisible check  Fix #653, 64702345, 5, 0, 5
Merge pull request #652 from penguinho/master  Implementing setLocation for iOS, 64702345, 5, 0, 5
Implementing setLocation for iOS, 64702345, 5, 0, 5
Updating Windows Instructions, 64702345, 5, 0, 5
Merge pull request #656 from snevesbarros/master  Local Grid setup documentation, 64702345, 5, 0, 5
cleanup  lined up the config file and removed blank lines., 64702345, 5, 0, 5
Update to the json config file  Updated the config file to make it clear about what to update., 64702345, 5, 0, 5
Updated description for local grid config  Added a link to all grid properties description and updated description., 64702345, 5, 0, 5
initial commit of the grid.md, 64702345, 5, 0, 5
Merge pull request #655 from snevesbarros/patch-1  ios-webkit-debug-proxy description, 64702345, 5, 0, 5
Updated cloning description  Tried to make it a bit clearer about what brew install does and simply installing the proxy manually., 64702345, 5, 0, 5
ios-webkit-debug-proxy description  Added description of how to install and use the ios-webkit-debug-proxy., 64702345, 5, 0, 5
Merge pull request #650 from penguinho/master  No longer restarting avd if it's already running, 64702345, 5, 0, 5
No longer restarting avd if it's already running, 64702345, 5, 0, 5
add a hardcore mode to reset.sh that will delete uicatalog and maybe other things in the future, 64702345, 5, 0, 5
Create mobile_methods.md, 64702345, 5, 0, 5
changelog and bump for publish 0.6.0, 64702345, 5, 0, 5
Merge pull request #649 from jlipps/master  fix selendroid with multiple apps, 64702345, 5, 0, 5
kill selendroid-instrumented app after test (fix #641), 64702345, 5, 0, 5
selendroid should also unlock screen before test, 64702345, 5, 0, 5
Merge pull request #648 from jlipps/master  git sha in status, 64702345, 5, 0, 5
methods for determining and setting git rev for appium; include in /status fix #612, 64702345, 5, 0, 5
update selendroid, 64702345, 5, 0, 5
Merge pull request #647 from bootstraponline/return_json  Return JSON, 64702345, 5, 0, 5
Return JSON  Fixes mobile find all search, 64702345, 5, 0, 5
add new parser options to grunt-initiated appium server (fix #646), 64702345, 5, 0, 5
add a method for getting the git revision, 64702345, 5, 0, 5
Merge pull request #645 from bootstraponline/fix_scroll  Fix Android scroll_to, 64702345, 5, 0, 5
Fix Android scroll_to, 64702345, 5, 0, 5
Merge pull request #643 from jlipps/master  fix some selendroid issues, 64702345, 5, 0, 5
make selendroid build new servers in /tmp and uniquify the modded server name, 64702345, 5, 0, 5
Merge pull request #642 from maudineormsby/master  Update credits, 64702345, 5, 0, 5
Add ios-webkit-debug-proxy to credits, 64702345, 5, 0, 5
make sure element.js gets linted too, 64702345, 5, 0, 5
revert change in e7e21577b9565d189b28a861d8f28c15d849dc72 it was right before, 64702345, 5, 0, 5
have reset.sh uninstall android apps and selendroid packages to make sure we get fresh ones on device, 64702345, 5, 0, 5
Merge pull request #639 from bootstraponline/adt_22  Fix ADT 22 path, 64702345, 5, 0, 5
Fix ADT 22 path  Fixes #638, 64702345, 5, 0, 5
Merge pull request #637 from mutualmobile/update_android_docs  Updated troubleshooting docs to reflect changes in the Android SDK 22, 64702345, 5, 0, 5
Updated troubleshooting docs to reflect changes in the Android SDK 22, 64702345, 5, 0, 5
make this test more robust, 64702345, 5, 0, 5
fix issue where we would write to remote debugger socket after destroying it, 64702345, 5, 0, 5
bump apidemos, 64702345, 5, 0, 5
fixing some android tests, 64702345, 5, 0, 5
add a test for window handles idempotence, 64702345, 5, 0, 5
fix bad use of path.resolve to make prefs test work, 64702345, 5, 0, 5
updated appium-io, 64702345, 5, 0, 5
Merge pull request #632 from bootstraponline/fix_npe  Fix NPE, 64702345, 5, 0, 5
Fix NPE  Fixes https://github.com/appium/appium/issues/628, 64702345, 5, 0, 5
fix mac version requirements and add subclassing to style guide (fix #596), 64702345, 5, 0, 5
remove commented code, 64702345, 5, 0, 5
Merge pull request #562 from snevesbarros/master  WebView Testing on a real iOS device using the ios-webkit-debug-proxy, 64702345, 5, 0, 5
Merge pull request #626 from haveahennessy/sendkeys_fix  Sendkeys fix, 64702345, 5, 0, 5
Should only tap when hasKeyboardFocus explicitly returns false.  Signed-off-by: Matt Isaacs <misaacs@gilt.com>, 64702345, 5, 0, 5
UIASearchBar text input fix.  Signed-off-by: Matt Isaacs <misaacs@gilt.com>, 64702345, 5, 0, 5
Tapping when first responder brings up "Paste" popover.  Signed-off-by: Matt Isaacs <misaacs@gilt.com>, 64702345, 5, 0, 5
Merge pull request #623 from penguinho/master  ROBOTS!!! (The robot will now intercept tap commands), 64702345, 5, 0, 5
changed 4 space indentation back to 2 for the setWindow method., 64702345, 5, 0, 5
ROBOTS!!! (The robot will now intercept tap commands), 64702345, 5, 0, 5
Merge pull request #622 from bootstraponline/ios_back  Add native back for iOS, 64702345, 5, 0, 5
Add native back for iOS, 64702345, 5, 0, 5
Merge pull request #619 from mutualmobile/wait_for_page_load_android  Added "wait for page load" support for android, 64702345, 5, 0, 5
Merge pull request #601 from swapna-chennadi/master  Functionality to register appium with the selenium grid, 64702345, 5, 0, 5
Added "wait for page load" support for android, 64702345, 5, 0, 5
Merge pull request #618 from mutualmobile/wait_for_page_load  Added "mobile: waitForPageLoad" that will gather up all the indicators a..., 64702345, 5, 0, 5
Added "mobile: waitForPageLoad" that will gather up all the indicators and wait for them to either be destroyed or is no longer visible.  Added mainWindow to the global list and changed a few lines to make jshlint happy.  camel case :), 64702345, 5, 0, 5
Merge pull request #616 from bootstraponline/adt_22  Fix SDK binary path for ADT 22, 64702345, 5, 0, 5
Fix SDK binary path for ADT 22  Fix #615, 64702345, 5, 0, 5
Merge pull request #613 from bootstraponline/fix_status  Fix status, 64702345, 5, 0, 5
removed unnecessary callback added return statement added single spaces around operators corrected indentation, 64702345, 5, 0, 5
Fix status, 64702345, 5, 0, 5
Merge pull request #609 from mutualmobile/remove_duplicate_results_xpath  Now removes any duplicates that it finds when searching using xpath., 64702345, 5, 0, 5
Now removes any duplicates that it finds when searching using xpath., 64702345, 5, 0, 5
Merge pull request #606 from bootstraponline/predicate_ios  Add custom predicate search for iOS, 64702345, 5, 0, 5
Add custom predicate search for iOS, 64702345, 5, 0, 5
changed the way the webkit remote debugger extends the remote debugger based on review feedback., 64702345, 5, 0, 5
Removed 'code' Updated 'https' to 'http', 64702345, 5, 0, 5
Fixed travis errors Updated code based on review comments Used 'request' instead of 'http', 64702345, 5, 0, 5
Merge pull request #603 from mutualmobile/find_by_desc_and_text  Find by name now checks to see if it found the UiObject (by content-desc..., 64702345, 5, 0, 5
Find by name now checks to see if it found the UiObject (by content-desc) and if it doesn't exist searches by text (i.e. visible text displayed for a widget), 64702345, 5, 0, 5
Merge pull request #573 from DylanLacey/master  Add nice error message for missing auth details, 64702345, 5, 0, 5
Merge pull request #600 from OniOni/doc-fixes  Doc fixes, 64702345, 5, 0, 5
Fix link to .app dmg, 64702345, 5, 0, 5
Fixing the docs., 64702345, 5, 0, 5
update javascript example, 64702345, 5, 0, 5
removed "Unnecessary semicolon", 64702345, 5, 0, 5
fixed minor rebase issue by adding comma., 64702345, 5, 0, 5
Merge branch 'master' of https://github.com/snevesbarros/appium  Conflicts: 	app/hybrid/ios/webkit-remote-debugger.js 	package.json, 64702345, 5, 0, 5
switch to window fix which allows you to disconnect and switch to a, 64702345, 5, 0, 5
resolved travis errors., 64702345, 5, 0, 5
example for remote debugger type flag., 64702345, 5, 0, 5
Changes made based on feedback (e.g. 2 space tabbing and formatting) and reversed a setValue change and a few other comments.  re-added removed sections in the navtourl and execute method so that we can see if they need to be overwritten., 64702345, 5, 0, 5
Added nav to url and added ws dependency after rebase, 64702345, 5, 0, 5
Code cleanup to remove unnecessary methods/comments., 64702345, 5, 0, 5
* changed handlers to be based on methods (as we don't have any WI values) * Added simple handler for Runtime.evaluate * Changed message id to be set as it was before and to add cb to array (and to add method to an array as del)., 64702345, 5, 0, 5
proof of concept; Added webkit remote debugger and web socket connection and page handling.  TODO: - Processing response - Change wrapping for atoms - see other todo's in comments., 64702345, 5, 0, 5
fix for the switch web view issue, 64702345, 5, 0, 5
Added a call to clear the framewNavigatedCbs as this wasn't empty the second time around., 64702345, 5, 0, 5
example for remote debugger type flag., 64702345, 5, 0, 5
proof of concept; Added webkit remote debugger and web socket connection and page handling.  TODO: - Processing response - Change wrapping for atoms - see other todo's in comments., 64702345, 5, 0, 5
added back the callback to make the window handles work., 64702345, 5, 0, 5
Changes made based on feedback (e.g. 2 space tabbing and formatting) and reversed a setValue change and a few other comments.  re-added removed sections in the navtourl and execute method so that we can see if they need to be overwritten., 64702345, 5, 0, 5
fixed travis errors., 64702345, 5, 0, 5
Added nav to url and added ws dependency after rebase, 64702345, 5, 0, 5
Added support for registering appium server to the selenium grid, 64702345, 5, 0, 5
Code cleanup to remove unnecessary methods/comments., 64702345, 5, 0, 5
Moved listeners to where the socket is being instantiated., 64702345, 5, 0, 5
* changed handlers to be based on methods (as we don't have any WI values) * Added simple handler for Runtime.evaluate * Changed message id to be set as it was before and to add cb to array (and to add method to an array as del)., 64702345, 5, 0, 5
incorrect version of ws supplied. updated to 0.4.25, 64702345, 5, 0, 5
proof of concept; Added webkit remote debugger and web socket connection and page handling.  TODO: - Processing response - Change wrapping for atoms - see other todo's in comments., 64702345, 5, 0, 5
Merge pull request #599 from penguinho/master  Fix Reset.bat to work without global grunt install, 64702345, 5, 0, 5
Reset.bat now works without global grunt installation, 64702345, 5, 0, 5
Adding .idea to .gitignore, 64702345, 5, 0, 5
switch to window fix which allows you to disconnect and switch to a, 64702345, 5, 0, 5
Merge pull request #591 from penguinho/master  Fixing Android fast-reset to work with Windows, 64702345, 5, 0, 5
Adding reset.bat for Windows  Fixes #580, 64702345, 5, 0, 5
Fixing Android fast-reset to work with Windows, 64702345, 5, 0, 5
Merge pull request #592 from OniOni/upstream  Updates for Selendroid web views, 64702345, 5, 0, 5
Add test suite for selendroid web views., 64702345, 5, 0, 5
Merge pull request #593 from jlipps/master  better error handling in reset.sh, 64702345, 5, 0, 5
trap reset.sh exit and provide error message if not successful, 64702345, 5, 0, 5
Update android web view example., 64702345, 5, 0, 5
Merge pull request #590 from penguinho/master  Adding Windows Documentation stub, 64702345, 5, 0, 5
Adding Windows Documentation stub, 64702345, 5, 0, 5
Merge pull request #584 from penguinho/master  Android Works on Windows (must use --no-reset), 64702345, 5, 0, 5
resolved travis errors., 64702345, 5, 0, 5
re-added ws dependency after re-base, 64702345, 5, 0, 5
Merge branch 'master' of https://github.com/snevesbarros/appium  Conflicts: 	package.json, 64702345, 5, 0, 5
fix for the switch web view issue, 64702345, 5, 0, 5
Added a call to clear the framewNavigatedCbs as this wasn't empty the second time around., 64702345, 5, 0, 5
example for remote debugger type flag., 64702345, 5, 0, 5
added back the callback to make the window handles work., 64702345, 5, 0, 5
Changes made based on feedback (e.g. 2 space tabbing and formatting) and reversed a setValue change and a few other comments.  re-added removed sections in the navtourl and execute method so that we can see if they need to be overwritten., 64702345, 5, 0, 5
fixed travis errors., 64702345, 5, 0, 5
Added nav to url and added ws dependency after rebase, 64702345, 5, 0, 5
Code cleanup to remove unnecessary methods/comments., 64702345, 5, 0, 5
Moved listeners to where the socket is being instantiated., 64702345, 5, 0, 5
* changed handlers to be based on methods (as we don't have any WI values) * Added simple handler for Runtime.evaluate * Changed message id to be set as it was before and to add cb to array (and to add method to an array as del)., 64702345, 5, 0, 5
proof of concept; Added webkit remote debugger and web socket connection and page handling.  TODO: - Processing response - Change wrapping for atoms - see other todo's in comments., 64702345, 5, 0, 5
Android Works on Windows (must use --no-reset), 64702345, 5, 0, 5
fix for the switch web view issue, 64702345, 5, 0, 5
bump to 0.5.1 and changelog for npm publish fix, 64702345, 5, 0, 5
fix user-finding logic /cc @OniOni, 64702345, 5, 0, 5
bump to 0.5.1 and changelog for npm publish, 64702345, 5, 0, 5
Merge pull request #587 from OniOni/upstream  Use HOME env variable if /Users/ + username fails while looking for safari support, 64702345, 5, 0, 5
Use HOME env variable if /Users/ + username fails, 64702345, 5, 0, 5
Merge pull request #586 from OniOni/upstream  Set android args if desired device is selendroid., 64702345, 5, 0, 5
Set android args if desired device is selendroid., 64702345, 5, 0, 5
Merge pull request #585 from OniOni/test-fixes  Remove server side testing for setOrientation, 64702345, 5, 0, 5
update appium.io, 64702345, 5, 0, 5
Check for err in tests., 64702345, 5, 0, 5
Remove server side checking caused operation to fail on some set-ups, 64702345, 5, 0, 5
Merge pull request #581 from OniOni/test-updates  getElementByXpath now returns the first visible element not the last., 64702345, 5, 0, 5
getElementByXpath returns first visible element not last.  Style fixes., 64702345, 5, 0, 5
Merge pull request #579 from penguinho/master  Windows Support for Build/Configure Android, 64702345, 5, 0, 5
Windows Support for building and installing Android Bootstrap, 64702345, 5, 0, 5
Merge pull request #575 from penguinho/master  Implement iOS ScrollTo: Fixes oldest issue #243, 64702345, 5, 0, 5
Added a call to clear the framewNavigatedCbs as this wasn't empty the second time around., 64702345, 5, 0, 5
Adding NYI stubs for android, 64702345, 5, 0, 5
Completing Android Element Class Map, 64702345, 5, 0, 5
Implement iOS ScrollTo: Fixes oldest issue #243, 64702345, 5, 0, 5
example for remote debugger type flag., 64702345, 5, 0, 5
added ws dependency after resolving conflict., 64702345, 5, 0, 5
Merge branch 'master' of https://github.com/snevesbarros/appium  Conflicts: 	package.json, 64702345, 5, 0, 5
added back the callback to make the window handles work., 64702345, 5, 0, 5
Changes made based on feedback (e.g. 2 space tabbing and formatting) and reversed a setValue change and a few other comments.  re-added removed sections in the navtourl and execute method so that we can see if they need to be overwritten., 64702345, 5, 0, 5
fixed travis errors., 64702345, 5, 0, 5
Added nav to url and added ws dependency after rebase, 64702345, 5, 0, 5
Code cleanup to remove unnecessary methods/comments., 64702345, 5, 0, 5
Moved listeners to where the socket is being instantiated., 64702345, 5, 0, 5
* changed handlers to be based on methods (as we don't have any WI values) * Added simple handler for Runtime.evaluate * Changed message id to be set as it was before and to add cb to array (and to add method to an array as del)., 64702345, 5, 0, 5
proof of concept; Added webkit remote debugger and web socket connection and page handling.  TODO: - Processing response - Change wrapping for atoms - see other todo's in comments., 64702345, 5, 0, 5
added back the callback to make the window handles work., 64702345, 5, 0, 5
Merge pull request #565 from OniOni/ios-installer  Integrate node-idevice, 64702345, 5, 0, 5
onLaunch needs to take a callback if we pass it one, 64702345, 5, 0, 5
make sure readyCb uses err as first argument, 64702345, 5, 0, 5
change polarity of this check so we don't keep adding to it, 64702345, 5, 0, 5
Changes made based on feedback (e.g. 2 space tabbing and formatting) and reversed a setValue change and a few other comments.  re-added removed sections in the navtourl and execute method so that we can see if they need to be overwritten., 64702345, 5, 0, 5
Merge pull request #572 from bootstraponline/master  Add scroll test and update submodules, 64702345, 5, 0, 5
Add scroll test and update submodules, 64702345, 5, 0, 5
Merge pull request #571 from snevesbarros/patch-1  Update hybrid.md, 64702345, 5, 0, 5
Merge pull request #570 from bootstraponline/scroll_into_view  Add scroll_into_view to mobile: find, 64702345, 5, 0, 5
Update hybrid.md  Added Java example for hybrid webview app., 64702345, 5, 0, 5
Add scroll_into_view to mobile: find  Fix #566 Example. Scroll to an element with text or name matching 'account'  text = 'account'        # scroll vertical ListView args = 'scroll'        # textContains(text)        [ [3 text] ]        # descriptionContains(text)        [ [7 text] ]  mobile :find args, 64702345, 5, 0, 5
fixed travis errors., 64702345, 5, 0, 5
Merge branch 'master' of https://github.com/snevesbarros/appium  Conflicts: 	app/hybrid/ios/webkit-remote-debugger.js 	package.json, 64702345, 5, 0, 5
Added nav to url and added ws dependency after rebase, 64702345, 5, 0, 5
Code cleanup to remove unnecessary methods/comments., 64702345, 5, 0, 5
Moved listeners to where the socket is being instantiated., 64702345, 5, 0, 5
* changed handlers to be based on methods (as we don't have any WI values) * Added simple handler for Runtime.evaluate * Changed message id to be set as it was before and to add cb to array (and to add method to an array as del)., 64702345, 5, 0, 5
proof of concept; Added webkit remote debugger and web socket connection and page handling.  TODO: - Processing response - Change wrapping for atoms - see other todo's in comments., 64702345, 5, 0, 5
better logging when adb relaunches, 64702345, 5, 0, 5
Comma-first., 64702345, 5, 0, 5
__dirname should do fine., 64702345, 5, 0, 5
Style fixes., 64702345, 5, 0, 5
Add example for real device (iOS)., 64702345, 5, 0, 5
Integrated real device installation (iOS)., 64702345, 5, 0, 5
Bumped required node-idevice to 0.1.2, 64702345, 5, 0, 5
Initial work in iOs installation., 64702345, 5, 0, 5
Merge pull request #568 from maudineormsby/master  requirements.txt for python examples, 64702345, 5, 0, 5
Add requirements.txt, 64702345, 5, 0, 5
Merge pull request #563 from jlipps/master  let android launch pre-installed apps by package name alone, 64702345, 5, 0, 5
remove commented code and re-bind this function, 64702345, 5, 0, 5
allow android to launch app already on device by package name and activity, 64702345, 5, 0, 5
refactor appium configuration code since it was long and ugly, 64702345, 5, 0, 5
improve bad app extension error, 64702345, 5, 0, 5
Code cleanup to remove unnecessary methods/comments., 64702345, 5, 0, 5
remove @author tags fix #531, 64702345, 5, 0, 5
remove short http timeout for selendroid (fix #540), 64702345, 5, 0, 5
Merge pull request #559 from jlipps/master  more robust page load checking for mobile safari, 64702345, 5, 0, 5
Merge pull request #557 from OniOni/haxm  Add HAXM docs (not much)., 64702345, 5, 0, 5
Add links to haxm page., 64702345, 5, 0, 5
Merge pull request #558 from OniOni/python-exs  Cleanup of some python examples., 64702345, 5, 0, 5
make sure safari waits for frameNavigated before checking readyState fix #454, 64702345, 5, 0, 5
Add instructions for installation., 64702345, 5, 0, 5
Make python examples runnable from anywhere (not just from script dir)., 64702345, 5, 0, 5
Pep8 treatement to android_web_view., 64702345, 5, 0, 5
Add HAXM docs (not much)., 64702345, 5, 0, 5
changelog and bump for 0.5.0, 64702345, 5, 0, 5
Merge pull request #555 from jlipps/master  make --fast-reset and --without-delay the default, 64702345, 5, 0, 5
update readme and docs with new parser args, 64702345, 5, 0, 5
update bin.js with new defaults as well, 64702345, 5, 0, 5
make our grunt commands conform to new parser spec, 64702345, 5, 0, 5
make --verbose the default option and add --quiet for the other case, 64702345, 5, 0, 5
make --without-delay the default and provide --native-instruments-lib for the other case, 64702345, 5, 0, 5
make android --fast-reset the default and provide --full-reset for the other case, 64702345, 5, 0, 5
update readme and appium.io to use correct npm install syntax, 64702345, 5, 0, 5
fix bad error exit setting for publish, 64702345, 5, 0, 5
changelog and bump to 0.4.1 for publish, 64702345, 5, 0, 5
beef up .npmignore and add docs to package.json, 64702345, 5, 0, 5
make sure things are harmonious before publishing, 64702345, 5, 0, 5
ensure working directory is clean before publishing, 64702345, 5, 0, 5
toLowerCase requires String  Update selendroid, 64702345, 5, 0, 5
default reset.sh to non-verbose mode for cleaner output, 64702345, 5, 0, 5
use bools in reset.sh update docs to know about reset.sh --dev, 64702345, 5, 0, 5
Merge pull request #549 from Shiin/master  Update more test for TestApp, 64702345, 5, 0, 5
Moved listeners to where the socket is being instantiated., 64702345, 5, 0, 5
* changed handlers to be based on methods (as we don't have any WI values) * Added simple handler for Runtime.evaluate * Changed message id to be set as it was before and to add cb to array (and to add method to an array as del)., 64702345, 5, 0, 5
move some deps around and make reset.sh not require grunt-cli to be installed globally, 64702345, 5, 0, 5
setConfigVer is not --dev only, 64702345, 5, 0, 5
Merge pull request #548 from jlipps/master  run all binaries in build/ rather than submodules, 64702345, 5, 0, 5
have appium use all external binaries/libraries in build/ rather than submodules/ this is so we can easily wrap up build/ say for an npm publish without getting all the submodule code as well, 64702345, 5, 0, 5
Merge pull request #547 from jlipps/master  add --dev to reset.sh, 64702345, 5, 0, 5
update reset.sh to include a --dev flag which gets test apps, 64702345, 5, 0, 5
update changelog and bump to 0.4.0 for npm publish, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #542 from bootstraponline/fix_mobile_find  Fix mobile find, 64702345, 5, 0, 5
Detect single find  This fixes an infinite loop where a single element is expected to be an array when using implicit wait., 64702345, 5, 0, 5
Fail nicely when UN or PW is blank, 64702345, 5, 0, 5
Fix mobile find  Return proper error when element is not found Raise runtime exception on disconnect so Appium restarts bootstrap  Fix #541, 64702345, 5, 0, 5
Update submodules, 64702345, 5, 0, 5
Update more test for SimpleTest, 64702345, 5, 0, 5
Merge pull request #535 from DylanLacey/master  Example for Ruby Android on Sauce, 64702345, 5, 0, 5
Add an example for Android and Sauce Labs, 64702345, 5, 0, 5
Merge pull request #534 from jlipps/master  android on sauce example for node, 64702345, 5, 0, 5
add appium android on sauce test for node, 64702345, 5, 0, 5
Merge pull request #533 from penguinho/master  Adding Shake() for iOS, 64702345, 5, 0, 5
Adding test for mobile: shake, 64702345, 5, 0, 5
Merge pull request #530 from jlipps/master  getName for android, 64702345, 5, 0, 5
Merge pull request #532 from maudineormsby/master  Android example for sauce, 64702345, 5, 0, 5
Adding Shake() for iOS, 64702345, 5, 0, 5
Android example for sauce., 64702345, 5, 0, 5
add getName to android, 64702345, 5, 0, 5
Merge pull request #529 from bootstraponline/fix_selendroid_reset  Fix selendroid reset, 64702345, 5, 0, 5
1k is far too low, 64702345, 5, 0, 5
Fix Selendroid error handling  Fix #508, 64702345, 5, 0, 5
Fix selendroid reset  Fixes #528, 64702345, 5, 0, 5
Merge pull request #527 from jlipps/master  update selendroid and other server fixes, 64702345, 5, 0, 5
clean selendroid before building, 64702345, 5, 0, 5
update selendroid to a version that works, 64702345, 5, 0, 5
new way of building selendroid, 64702345, 5, 0, 5
fix some js logic issues /cc @penguinho, 64702345, 5, 0, 5
update selendroid, 64702345, 5, 0, 5
Merge pull request #522 from jlipps/master  Add a configuration scheme so we fail gracefully on config errors, 64702345, 5, 0, 5
Merge pull request #523 from penguinho/master  Adding support for tools folder to checkSdkBinaryPresent in adb.js, 64702345, 5, 0, 5
fix unit tests, 64702345, 5, 0, 5
Adding support for tools folder to checkSdkBinaryPresent in adb.js, 64702345, 5, 0, 5
refactor server.js and add config functions so we fail if not configured, 64702345, 5, 0, 5
Merge pull request #518 from sah/master  improve rspec sample robustness a little, 64702345, 5, 0, 5
put a keep_trying spin around this assertion since there's a race condition where alerts might not be cleared yet if the script goes fast enough, 64702345, 5, 0, 5
Merge pull request #517 from penguinho/master  Adding --avd to server args doc, 64702345, 5, 0, 5
Adding --avd to server args doc, 64702345, 5, 0, 5
Merge pull request #515 from jlipps/master  don't rebuild selendroid, 64702345, 5, 0, 5
Merge pull request #516 from penguinho/master  Automatically Launch Emulator When --avd switch is supplied -- Fix #503, 64702345, 5, 0, 5
More lint fixes, 64702345, 5, 0, 5
Adding missing semicolon, 64702345, 5, 0, 5
Merge pull request #514 from bootstraponline/fix_reset_selendroid  Fix reset selendroid, 64702345, 5, 0, 5
Automatically Launch Emulator When --avd switch is supplied, 64702345, 5, 0, 5
Fix reset selendroid  Fixes #513, 64702345, 5, 0, 5
don't rebuild selendroid for each app (fix #434), 64702345, 5, 0, 5
add xml2js to deps, 64702345, 5, 0, 5
we can use wd.js from npm now, 64702345, 5, 0, 5
update selendroid to newer version, 64702345, 5, 0, 5
rename uiautomator/ dir to more descriptive android/, 64702345, 5, 0, 5
don't need this file anymore, 64702345, 5, 0, 5
add auto-tagging in npm publish script, 64702345, 5, 0, 5
pushed changes to appium.io, 64702345, 5, 0, 5
update README to point to new docs instead of wiki, 64702345, 5, 0, 5
move other wiki files to codebase/docs, 64702345, 5, 0, 5
better formatting, 64702345, 5, 0, 5
table fix, 64702345, 5, 0, 5
get some errors from troubleshooting wiki into troubleshooting doc, 64702345, 5, 0, 5
update README to point to the new docs, 64702345, 5, 0, 5
add troubleshooting docs and migrate finding-elements wiki page to doc, 64702345, 5, 0, 5
updated appium.io, 64702345, 5, 0, 5
update readme, 64702345, 5, 0, 5
Merge pull request #505 from bootstraponline/catch_null  Catch null, 64702345, 5, 0, 5
Catch null  Fix #504, 64702345, 5, 0, 5
add contacts android app and example test, 64702345, 5, 0, 5
update apidemos again, 64702345, 5, 0, 5
make sure not finding the app apk is a capital offense (and tested), 64702345, 5, 0, 5
update submodules including selendroid, 64702345, 5, 0, 5
doh forgot to bind, 64702345, 5, 0, 5
another android python example, 64702345, 5, 0, 5
make sure app is present and fail nicely if it's not (android), 64702345, 5, 0, 5
even more logging, 64702345, 5, 0, 5
add a bunch of logging for better debugging of android startup issues, 64702345, 5, 0, 5
make sure adb uses aapt from appropriate location, 64702345, 5, 0, 5
Merge pull request #499 from penguinho/master  Adding scroll view to AndroidElementClassMap, 64702345, 5, 0, 5
Merge pull request #498 from bootstraponline/fix_content_type  Fix content type, 64702345, 5, 0, 5
Fix content type (Fixes #497), 64702345, 5, 0, 5
Adding scroll view to AndroidElementClassMap, 64702345, 5, 0, 5
Remove ;, 64702345, 5, 0, 5
Merge pull request #495 from bootstraponline/get_name_contains  Add getNameContains, 64702345, 5, 0, 5
Add getNameContains, 64702345, 5, 0, 5
fixed previously unlinted file, 64702345, 5, 0, 5
fix reset.sh and add files to linting, 64702345, 5, 0, 5
Merge pull request #496 from jlipps/master  FirefoxOS support, 64702345, 5, 0, 5
add firefox tests to functional test suite, 64702345, 5, 0, 5
make stop() actually call deleteSession so new session can start, 64702345, 5, 0, 5
make unimplemented methods for firefoxos return not yet implemented, 64702345, 5, 0, 5
clean up some code and make async-friendly, 64702345, 5, 0, 5
make sure we can receive longer commands over tcp, 64702345, 5, 0, 5
initial support for firefoxOS, 64702345, 5, 0, 5
cb is never used, 64702345, 5, 0, 5
Merge pull request #494 from bootstraponline/fix_null_tap  Fix null tap, 64702345, 5, 0, 5
Fix null tap, 64702345, 5, 0, 5
bump to 0.3.1 for npm publish, 64702345, 5, 0, 5
Merge pull request #491 from mutualmobile/android_clear  Added support to clear an editable element (i.e. text field), 64702345, 5, 0, 5
Added support to clear an editable element (i.e. text field)  Added unit test, 64702345, 5, 0, 5
Merge pull request #493 from jlipps/master  misc fixes (including #492), 64702345, 5, 0, 5
update changelog for 0.3.1, 64702345, 5, 0, 5
make sure webviewdemo isn't added to repo, 64702345, 5, 0, 5
when building apps clean and build need to be run synchronously, 64702345, 5, 0, 5
don't run webview tests twice. once is enough in safari, 64702345, 5, 0, 5
Merge pull request #489 from bootstraponline/fix_selendroid  Fix selendroid, 64702345, 5, 0, 5
Fix selendroid  Fixes #486, 64702345, 5, 0, 5
Merge pull request #484 from mutualmobile/fix_build_ios_clean_first  Make sure to do a clean before build of the ios apps in case of an upgra..., 64702345, 5, 0, 5
Merge pull request #488 from bootstraponline/prefer_vis  Prefer visible, 64702345, 5, 0, 5
Prefer visible, 64702345, 5, 0, 5
Make sure to do a clean before build of the ios apps in case of an upgrade/downgrade to the compiler.  Fixed some lint errors, 64702345, 5, 0, 5
Merge pull request #485 from dawogfather/master  "node-bplist-creator" has become "bplist-creator" which means NPM install fails, 64702345, 5, 0, 5
The  NPM package "node-bplist-creator": "~0.0.1" has been moved/renamed to "bplist-creator": "~0.0.2" which currently kills installs done via npm. Will need NPM release, 64702345, 5, 0, 5
Merge pull request #477 from mutualmobile/android_screenshot  Added support for screenshots for Android., 64702345, 5, 0, 5
Added support for screenshots for Android.  Added support for screenshots for Android. Now uses ScreenShooter found at https://github.com/appium/screenshooter  Fixed some javascript lint issues  Removed screenshooter... again  Removed grunt buildScreenShooter and fixed string  Removed grunt build commands for Android Screen Shooter, 64702345, 5, 0, 5
Merge pull request #471 from maudineormsby/master  Update docs for running on Linux, 64702345, 5, 0, 5
Differentiate OS X and Linux., 64702345, 5, 0, 5
Docs for linux., 64702345, 5, 0, 5
Merge pull request #466 from bootstraponline/aapt_rename  Use aapt rename, 64702345, 5, 0, 5
Merge pull request #463 from OniOni/upstream  Add android web view example, 64702345, 5, 0, 5
Style fix., 64702345, 5, 0, 5
Use aapt rename  Fix #465, 64702345, 5, 0, 5
incorrect version of ws supplied. updated to 0.4.25, 64702345, 5, 0, 5
proof of concept; Added webkit remote debugger and web socket connection and page handling.  TODO: - Processing response - Change wrapping for atoms - see other todo's in comments., 64702345, 5, 0, 5
Add tasks to build WebViewDemo., 64702345, 5, 0, 5
Create new task buildSelendroidAndroidApp., 64702345, 5, 0, 5
buildAndroidProj now uses maven if no build.xml is found and pom is present., 64702345, 5, 0, 5
Add new test for android web view., 64702345, 5, 0, 5
Merge pull request #460 from OniOni/upstream  Empty body in answers causes appium to crash, 64702345, 5, 0, 5
Merge pull request #459 from jlipps/master  bunch of fixes to make appium more cross-platformy, 64702345, 5, 0, 5
Merge pull request #458 from bootstraponline/fix_source  Fix source on real device, 64702345, 5, 0, 5
Do not try doing stuff with body if undefined (ex: 500 status code)., 64702345, 5, 0, 5
Fix source on real device  /cache works on the simulator and fails on device. /data/local/tmp is used by Android's uiautomatorviewer so appium should use that as well.  Fix #457, 64702345, 5, 0, 5
make android swipe wait for swipe to complete as well, 64702345, 5, 0, 5
add collection to mechanic (changes submitted upstream as well), 64702345, 5, 0, 5
minor fixes, 64702345, 5, 0, 5
make sure swipe returns error if it doesn't execute, 64702345, 5, 0, 5
allow setText on android to press enter when it sees \n, 64702345, 5, 0, 5
add some more android aliases, 64702345, 5, 0, 5
make sure device is done swiping when we return control, 64702345, 5, 0, 5
make android not flick so fast, 64702345, 5, 0, 5
make textfield return secure for ios as well, 64702345, 5, 0, 5
alias window to frame in android, 64702345, 5, 0, 5
allow @name to refer to @text @label @value, 64702345, 5, 0, 5
better defaults here, 64702345, 5, 0, 5
when searching for @text in ios fallback to @label and @value, 64702345, 5, 0, 5
Merge pull request #453 from bootstraponline/xpath_wildcard  Fix XPath wildcard, 64702345, 5, 0, 5
Fix XPath wildcard   #451, 64702345, 5, 0, 5
Fix tag name selector   #451, 64702345, 5, 0, 5
make sure zip file exists before trying to copy it, 64702345, 5, 0, 5
fix xpath last() tests, 64702345, 5, 0, 5
Merge pull request #448 from bootstraponline/xpath_last  Parse XPath last(), 64702345, 5, 0, 5
Add broken tests for last(), 64702345, 5, 0, 5
Add last() for Android  Fixes #444, 64702345, 5, 0, 5
Add last() for iOS  find_element(:xpath '//button[last()]'), 64702345, 5, 0, 5
Merge pull request #449 from bootstraponline/dynamic_attr  Dynamic attr, 64702345, 5, 0, 5
Add all to mobile: find  For example return the name value of all edittexts.  > mobile :find [ 'all' [ [26 '(?i).*edittext.*'] [100] ] ] post session/5dc30124-994f-48e6-83a8-fb1d18a7d361/execute {"script":"mobile: find""args":[["all"[[26"(?i).*edittext.*"][100]]]]} => "[Email Address Password]", 64702345, 5, 0, 5
Add server side element methods to Dynamic  An example of finding the first button's name attr.  mobile :find [ [ [26 '(?i).*button.*'] [100] ] ] post session/d1fe1c05-3ec3-49a9-80bd-394ebf726ba6/execute {"script":"mobile: find""args":[[[[26"(?i).*button.*"][100]]]]} => "Sign In", 64702345, 5, 0, 5
Parse XPath last() #444, 64702345, 5, 0, 5
Merge pull request #446 from OniOni/master  Newline in `which` output, 64702345, 5, 0, 5
Which sometimes appends a newline strip it., 64702345, 5, 0, 5
Merge pull request #442 from jlipps/master  android xpath indices, 64702345, 5, 0, 5
android support for xpath indices (wraps up #295), 64702345, 5, 0, 5
Merge pull request #441 from jlipps/master  support for xpath indices in ios, 64702345, 5, 0, 5
actual filtering by index logic and test for ios, 64702345, 5, 0, 5
support for xpath parsing indexes, 64702345, 5, 0, 5
add tests to define xpath index spec, 64702345, 5, 0, 5
Merge pull request #440 from bootstraponline/fix_reset  Fix reset (fixes #439), 64702345, 5, 0, 5
Fix reset (fixes #439), 64702345, 5, 0, 5
Merge pull request #438 from jlipps/master  handle implicit wait + reset, 64702345, 5, 0, 5
make sure implicit wait works after ios reset (fix #437), 64702345, 5, 0, 5
linking selendroid (so it shows up on appium.io linked), 64702345, 5, 0, 5
update i-w-d (fix #432), 64702345, 5, 0, 5
bump to 0.3.0 for npm publish, 64702345, 5, 0, 5
updated appium.io, 64702345, 5, 0, 5
use namp instead of markdown to generate appium.io, 64702345, 5, 0, 5
updated appium.io, 64702345, 5, 0, 5
change appium dmg link, 64702345, 5, 0, 5
make readme more friendly and make sure we publish appium.io to gh-pages, 64702345, 5, 0, 5
pushed update to appium.io, 64702345, 5, 0, 5
add selendroid tests to grunt, 64702345, 5, 0, 5
update .npmignore so we get some submodule stuff, 64702345, 5, 0, 5
try this formatting, 64702345, 5, 0, 5
don't use '>' in readme since it prevents copy-paste, 64702345, 5, 0, 5
update readme, 64702345, 5, 0, 5
update readme, 64702345, 5, 0, 5
pull changes from appium.io, 64702345, 5, 0, 5
use regex test instead of exec, 64702345, 5, 0, 5
wd now returns element objects after execute, 64702345, 5, 0, 5
remove commented out code, 64702345, 5, 0, 5
make sure not to proxy non-proxies, 64702345, 5, 0, 5
Merge pull request #433 from jlipps/selendroid  Selendroid support and adb.js rewrite, 64702345, 5, 0, 5
we already have ncp no need for copyFile, 64702345, 5, 0, 5
better reset.sh behavior for selendroid, 64702345, 5, 0, 5
update selendroid to the real 0.3 i guess, 64702345, 5, 0, 5
make sure to rm selendroid targets in reset, 64702345, 5, 0, 5
update gitignore to track selendroid test, 64702345, 5, 0, 5
don't log long proxy responses, 64702345, 5, 0, 5
only rebuild/reinstall/remanifest selendroid in certain cases, 64702345, 5, 0, 5
add special proxy behavior for delete session, 64702345, 5, 0, 5
refactor selendroid for nicer async, 64702345, 5, 0, 5
better route proxy matching, 64702345, 5, 0, 5
reset.sh doesn't need demo selendroid build, 64702345, 5, 0, 5
check if modified selendroid server exists before rebuilding, 64702345, 5, 0, 5
proxy commands other than start/stop, 64702345, 5, 0, 5
selendroid is alive!, 64702345, 5, 0, 5
add mkdirp to deps, 64702345, 5, 0, 5
update selendroid factor out manifest stuff for selendroid, 64702345, 5, 0, 5
follow callback conventions, 64702345, 5, 0, 5
get selendroid cert signing going, 64702345, 5, 0, 5
don't run fast reset if not set and selendroid error handling, 64702345, 5, 0, 5
more series refactoring, 64702345, 5, 0, 5
oops forgot to call back here, 64702345, 5, 0, 5
more refactoring of adb, 64702345, 5, 0, 5
moar series refactorz, 64702345, 5, 0, 5
well looks like i can't get _too_ elegant, 64702345, 5, 0, 5
man were we doing it wrong with async this feels so good, 64702345, 5, 0, 5
add concept of different system vs device ports, 64702345, 5, 0, 5
wow this is the way to do async series!, 64702345, 5, 0, 5
make it even more compact, 64702345, 5, 0, 5
more async compactification, 64702345, 5, 0, 5
fix callback return error and prettify async series cb, 64702345, 5, 0, 5
factor out device preparation logic so it can be reused, 64702345, 5, 0, 5
rename adb.start to adb.startAppium because there will be other kinds, 64702345, 5, 0, 5
use camel case, 64702345, 5, 0, 5
get selendroid server built and ready to install, 64702345, 5, 0, 5
getting some of the test setup going for selendroid, 64702345, 5, 0, 5
stub out selendroid.js, 64702345, 5, 0, 5
reset.sh for selendroid, 64702345, 5, 0, 5
add selendroid submodule, 64702345, 5, 0, 5
Merge pull request #431 from bootstraponline/update_jar  Update verify.jar to work on Java 6, 64702345, 5, 0, 5
Update verify.jar to work on Java 6, 64702345, 5, 0, 5
Merge pull request #428 from jlipps/master  beefify installAndroidApp, 64702345, 5, 0, 5
update installAndroidApp to first uninstall app (fix #424), 64702345, 5, 0, 5
Merge pull request #427 from jlipps/master  android getCurrentActivity, 64702345, 5, 0, 5
enable getting current android activity (fixes #358), 64702345, 5, 0, 5
factor out package/activity detection, 64702345, 5, 0, 5
if we call startApp here we'll call it again in the main flow, 64702345, 5, 0, 5
Merge pull request #425 from jlipps/master  allow reset.sh to be called with --android or --ios if you only care about that platform, 64702345, 5, 0, 5
rewrite reset.sh so it can be run with --android or --ios flags Fix #423, 64702345, 5, 0, 5
Merge pull request #420 from mutualmobile/android_orientation_fixes  Android orientation fixes, 64702345, 5, 0, 5
Merge pull request #421 from bootstraponline/fix_reset  Add sudo fallback to reset.sh, 64702345, 5, 0, 5
Implemented orientation uiautomation support. Tested it with android settings app but both apps I tested it with was forced to an orientation so couldn't test on a user app.  Also added a mocha test., 64702345, 5, 0, 5
Add @jlipps code from #415, 64702345, 5, 0, 5
Merge pull request #422 from jlipps/master  fix some async.series bugs, 64702345, 5, 0, 5
Nota Bene: if you use async.series with default callback: you MUST pass err to that callback if you want errors to propagate. Fix #410, 64702345, 5, 0, 5
Add sudo fallback to reset.sh  Fix #415, 64702345, 5, 0, 5
test to prove you can find alert by tag name (closes #395), 64702345, 5, 0, 5
Merge pull request #413 from jlipps/master  fix grunt functional test crashes, 64702345, 5, 0, 5
Merge pull request #412 from bootstraponline/fix_quote  Fix quote, 64702345, 5, 0, 5
Fix debug comment, 64702345, 5, 0, 5
fix grunt functional behavior to not crash when a test fails, 64702345, 5, 0, 5
Fix quote, 64702345, 5, 0, 5
Merge pull request #411 from jlipps/master  fix mobile: find tests, 64702345, 5, 0, 5
update testapp project properties, 64702345, 5, 0, 5
remove stray console log, 64702345, 5, 0, 5
safe javascriptage, 64702345, 5, 0, 5
need extra brackets for these tests to pass (fixes #408), 64702345, 5, 0, 5
Merge pull request #409 from bootstraponline/sign_fix  Check that clean apk is signed, 64702345, 5, 0, 5
Check that clean apk is signed  Before we assumed that the clean apk was properly signed if it existed. Now we check that the signature is correct and resign it automatically., 64702345, 5, 0, 5
Merge pull request #398 from bootstraponline/dynamic_android  Add Android dynamic find, 64702345, 5, 0, 5
Fix find, 64702345, 5, 0, 5
Fix Eclipse warnings  Target Java 1.6 not 1.5, 64702345, 5, 0, 5
mobile: find  Fix #387, 64702345, 5, 0, 5
changelog + version bump to 0.2.3, 64702345, 5, 0, 5
comment out error checking here todo for later, 64702345, 5, 0, 5
add yet another possible number to this list, 64702345, 5, 0, 5
make sure window handles are strings except for remote debugger, 64702345, 5, 0, 5
check for null, 64702345, 5, 0, 5
minor js fixes, 64702345, 5, 0, 5
Merge pull request #406 from jlipps/master  fix misc android issues raised by testsuite, 64702345, 5, 0, 5
make speed flick test less flakey, 64702345, 5, 0, 5
update test for phone form factor, 64702345, 5, 0, 5
make sure we throw UnallowedTagNameException in that case, 64702345, 5, 0, 5
need to check regardless of case now for xpath to work, 64702345, 5, 0, 5
fix this test to correspond to new bootstrap error msg, 64702345, 5, 0, 5
addingn linting to adb.js and fixing some lint issues, 64702345, 5, 0, 5
Merge pull request #405 from jlipps/master  fix invalid apk error, 64702345, 5, 0, 5
fix a regression; when not using cli need to set device ready timeout, 64702345, 5, 0, 5
make sure fatal errors get passed to client descriptively Fix #284, 64702345, 5, 0, 5
moar space, 64702345, 5, 0, 5
make sure we get a nice error out of signing (fixes #284), 64702345, 5, 0, 5
make sure we don't hang on android shutdown, 64702345, 5, 0, 5
again let's give ourselves some more space, 64702345, 5, 0, 5
no need to short ourselves on horizontal space, 64702345, 5, 0, 5
Merge pull request #404 from jlipps/master  de-flakify, 64702345, 5, 0, 5
go easier on these swipes to make them less flakey fixes #330, 64702345, 5, 0, 5
Merge pull request #403 from jlipps/master  fix empty selector crash, 64702345, 5, 0, 5
make sure empty selector doesn't crash appium (fixes #300), 64702345, 5, 0, 5
Merge pull request #402 from mutualmobile/android_flick_fixes  Updated and fixed support for flick using touch actions., 64702345, 5, 0, 5
add android loc strat sanity test, 64702345, 5, 0, 5
Updated and fixed support for flick using touch actions., 64702345, 5, 0, 5
Merge pull request #401 from jlipps/master  better /sessions, 64702345, 5, 0, 5
make sure /sessions doesn't return false hard-coded information Fixes #400, 64702345, 5, 0, 5
Merge pull request #399 from penguinho/master  .Net now uses NuGet, 64702345, 5, 0, 5
C#.NET now uses NuGet, 64702345, 5, 0, 5
Merge pull request #397 from jlipps/master  add sauce connect example, 64702345, 5, 0, 5
add an example of using appium with sauce and sauce connect (fixes #221), 64702345, 5, 0, 5
make this test less likely to fail, 64702345, 5, 0, 5
Merge pull request #394 from mutualmobile/element_based_swipe  Added support for element based swiping., 64702345, 5, 0, 5
add tests for stringiness of window handles, 64702345, 5, 0, 5
make sure window handles are strings, 64702345, 5, 0, 5
Added support for element based swiping., 64702345, 5, 0, 5
Fix install command  Appium needs 4.2. The default install will attempt to install all versions., 64702345, 5, 0, 5
test webview implicit attributes as well, 64702345, 5, 0, 5
check js args to make sure they're not null, 64702345, 5, 0, 5
fix #392, 64702345, 5, 0, 5
Merge pull request #391 from jlipps/master  use an appium.io submodule that isn't MASSIVE, 64702345, 5, 0, 5
also log in case generation doesn't work, 64702345, 5, 0, 5
add new appium.io as a submodule (fixes #306), 64702345, 5, 0, 5
remove appium.io submodule, 64702345, 5, 0, 5
Merge pull request #390 from omireault/commit  Fixed the python UICatalog tests., 64702345, 5, 0, 5
Fixed the python UICatalog tests. Added a new test: test_frames - this will show off the web view context switching in python Made the output a bit more verbose for debugging, 64702345, 5, 0, 5
Merge pull request #389 from jlipps/master  get ApiDemos code out of appium, 64702345, 5, 0, 5
make apidemos submodule use http instead of ssh, 64702345, 5, 0, 5
get apidemos from github link to right place (fixes #388), 64702345, 5, 0, 5
add ApiDemos back as a submodule, 64702345, 5, 0, 5
delete ApiDemos from repository so we can put in a submodule, 64702345, 5, 0, 5
add iphone dev code sign identity to test app, 64702345, 5, 0, 5
bump submodule version, 64702345, 5, 0, 5
Merge pull request #381 from bootstraponline/java_bootstrap_rewrite  Java bootstrap rewrite, 64702345, 5, 0, 5
stub out sauce pass/fail reporting for node tests, 64702345, 5, 0, 5
Fixed missing enum in WDStatus and removed AndroidCommandHolder.java and AndroidCommandSelector.java, 64702345, 5, 0, 5
Fix formatting  Enable on/off tags, 64702345, 5, 0, 5
Large refactoring of the Java code in bootstrap.  Broke off each of the action commands into there own handlers. AndroidCommandSelector has been rewritten and integrated into Find and other places.  Added java doc to all classes and formatting changes based on bootstraponline's settings.  Conflicts: 	uiautomator/bootstrap/src/io/appium/android/bootstrap/AndroidCommandSelector.java, 64702345, 5, 0, 5
Updated Java code to make it easier to extend and improved memory usage  Now uses a hash to store the command classes and doesn't have to create a new instance each time a command comes in. Also the AndroidCommandExecutor is created only once. There is now a map of available actions to handlers.  Conflicts: 	uiautomator/bootstrap/src/io/appium/android/bootstrap/AndroidCommandHolder.java, 64702345, 5, 0, 5
Rewrote the java layer to make it easier to extend and add new commands.  The main idea is that the AndroidCommandExecutor calls the execute method on classes that know how to implement that specific action. Each "handler" will have methods to determine if it's for an element or the device., 64702345, 5, 0, 5
Merge pull request #385 from jlipps/master  fix orientation bug, 64702345, 5, 0, 5
actually check screen dims to determine successful rotation (fixes #383), 64702345, 5, 0, 5
Merge pull request #384 from jlipps/master  get node path from appium.app too, 64702345, 5, 0, 5
make sure we don't blow up in the applescript, 64702345, 5, 0, 5
look for node in Appium.app as well (fixes #315), 64702345, 5, 0, 5
accept macports as well as brew node locations, 64702345, 5, 0, 5
bump version to 0.2.2 for npm publish, 64702345, 5, 0, 5
changelog and minor fixes, 64702345, 5, 0, 5
Merge pull request #380 from jlipps/master  rotate screenshots in landscape mode, 64702345, 5, 0, 5
it's in git history forever. no need to keep it commented, 64702345, 5, 0, 5
new screenshot tests to make sure rotation works, 64702345, 5, 0, 5
image rotation applescript, 64702345, 5, 0, 5
take screenshot test out of testapp so we can move it to safari, 64702345, 5, 0, 5
track orientation and rotate screenshot if in landscape, 64702345, 5, 0, 5
add image rotation helper function, 64702345, 5, 0, 5
make sure we're not logging huge amounts of data, 64702345, 5, 0, 5
back/forward tests should be just for safari, 64702345, 5, 0, 5
Merge pull request #378 from bootstraponline/sign_once  Sign once, 64702345, 5, 0, 5
Sign once  Fix #372, 64702345, 5, 0, 5
Revert "One more try for getting a mac"  This reverts commit 1bd78f172149665be87eb0256dc0b86a3574f7ca., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
One more try for getting a mac, 64702345, 5, 0, 5
Merge pull request #377 from jlipps/master  get/set/delete cookies in webviews, 64702345, 5, 0, 5
handle cookie edge case, 64702345, 5, 0, 5
delete cookie(s), 64702345, 5, 0, 5
allow setting of cookie with expiry, 64702345, 5, 0, 5
fix edge case, 64702345, 5, 0, 5
fixed set cookie test, 64702345, 5, 0, 5
write setCookie function, 64702345, 5, 0, 5
make it harder for previous test to pass and write test for setting cookie, 64702345, 5, 0, 5
get cookies and add a test, 64702345, 5, 0, 5
fix cb logic error in equalsWebElement, 64702345, 5, 0, 5
stub out getCookies method, 64702345, 5, 0, 5
Revert "Trying to get appium to run it's build on a mac"  This reverts commit 7defef1a9e65b779aaa1ab2717939554af44547c., 64702345, 5, 0, 5
Trying to get appium to run it's build on a mac, 64702345, 5, 0, 5
Merge pull request #376 from bootstraponline/adb_cmd  Use adbCmd, 64702345, 5, 0, 5
Add -U for Android  Fix #375, 64702345, 5, 0, 5
Use adbCmd, 64702345, 5, 0, 5
Merge pull request #373 from bootstraponline/fail_on_no_activity  Stop when activity fails to show up, 64702345, 5, 0, 5
Make content desc case insensitive and partial, 64702345, 5, 0, 5
Stop when activity fails to show up  Fix targetActivity name in debug message Log when an object is found Update gitignore Fix #371, 64702345, 5, 0, 5
Add null check  Fix Cannot read property '0' of null, 64702345, 5, 0, 5
add binary-cookies dep, 64702345, 5, 0, 5
Merge pull request #364 from maudineormsby/master  Async javascript + some refactoring, 64702345, 5, 0, 5
increment looks, 64702345, 5, 0, 5
Merge pull request #370 from jlipps/master  allow launching with bundle id instead of app path, 64702345, 5, 0, 5
Log statement, 64702345, 5, 0, 5
Remove looks from ios object., 64702345, 5, 0, 5
Make these tests better., 64702345, 5, 0, 5
Don't call this callback twice., 64702345, 5, 0, 5
Condensed logic, 64702345, 5, 0, 5
allow bundleIDs and not just app paths, 64702345, 5, 0, 5
Add logging in event we get async response we didn't ask for., 64702345, 5, 0, 5
Rename this.returned to this.returnedFromExecuteAtom, 64702345, 5, 0, 5
Better formatting, 64702345, 5, 0, 5
Update tests to work correctly., 64702345, 5, 0, 5
Lint, 64702345, 5, 0, 5
Let's go ahead and execute async js in frames too., 64702345, 5, 0, 5
Fix merge issue., 64702345, 5, 0, 5
Test for multiple webelements returned as array from js, 64702345, 5, 0, 5
Last bit of refactoring., 64702345, 5, 0, 5
More DRY refactoring., 64702345, 5, 0, 5
Stray log statement., 64702345, 5, 0, 5
Make lookForAlert work., 64702345, 5, 0, 5
Refactor lookForAlert into it's own function., 64702345, 5, 0, 5
Tests for asyncJS, 64702345, 5, 0, 5
Handle if lookForAlert goes null, 64702345, 5, 0, 5
No need to callback here either., 64702345, 5, 0, 5
Don't callback., 64702345, 5, 0, 5
Handle invalid async js., 64702345, 5, 0, 5
Not implemented routes for android., 64702345, 5, 0, 5
Response can be null., 64702345, 5, 0, 5
Convert async js wdc elements to wd elements., 64702345, 5, 0, 5
First pass at Async js execution., 64702345, 5, 0, 5
Allow cross domain middleware and handling for OPTIONS requests., 64702345, 5, 0, 5
Fix name of async wait., 64702345, 5, 0, 5
Placeholder for android for asyncTimeoutMs., 64702345, 5, 0, 5
Add async script timeout., 64702345, 5, 0, 5
Merge pull request #367 from jlipps/master  mobile safari updates (better close() be in spec for title()), 64702345, 5, 0, 5
Merge pull request #368 from bootstraponline/auto_clean_format  Auto format and clean, 64702345, 5, 0, 5
Auto format and clean, 64702345, 5, 0, 5
title() should always execute in default context for webviews, 64702345, 5, 0, 5
use javascript close() rather than clicking native buttons for safari, 64702345, 5, 0, 5
fix dependencies and bump for npm publish, 64702345, 5, 0, 5
Merge pull request #363 from jlipps/master  reset safari cookies tabs history cache in between sessions, 64702345, 5, 0, 5
fix scope bug, 64702345, 5, 0, 5
clean up mobile safari data in between test runs for clean sessions, 64702345, 5, 0, 5
Merge pull request #362 from jlipps/master  get rid of warp drive in favor of instruments-without-delay, 64702345, 5, 0, 5
instruments-without-delay pwnz warp drive, 64702345, 5, 0, 5
updated changelog for v0.2.0, 64702345, 5, 0, 5
bump appium.io submodule, 64702345, 5, 0, 5
bump to v0.2.0 for npm publish, 64702345, 5, 0, 5
only update one submodule in reset.sh some readme mods, 64702345, 5, 0, 5
test 'hardening', 64702345, 5, 0, 5
log first version of safari version, 64702345, 5, 0, 5
Merge pull request #361 from jlipps/master  flick() for android and some misc test fixes, 64702345, 5, 0, 5
make selenium flick() also work and respect differences in x/y aspect in android, 64702345, 5, 0, 5
Merge pull request #356 from bootstraponline/reconnect_2  Reconnect after bootstrap disconnect, 64702345, 5, 0, 5
fix test for new error message container, 64702345, 5, 0, 5
fix this test ui can die at different points of lifecycle, 64702345, 5, 0, 5
enable flick() as a sort of alias for swipe(), 64702345, 5, 0, 5
Store lastCmd after return, 64702345, 5, 0, 5
Merge pull request #359 from rossrowe/pom_change  Added initial pom file for boostrap project, 64702345, 5, 0, 5
Added initial pom file for boostrap project, 64702345, 5, 0, 5
Must resend on adb crash, 64702345, 5, 0, 5
Relaunch on failure, 64702345, 5, 0, 5
Reconnect after bootstrap disconnect  We don't know if the bootstrap has disconnected until a command is issued and the uiautomator runtest command crashes. The crash is detected uiautomator is restarted and the command that detected the crash is resent., 64702345, 5, 0, 5
Merge pull request #355 from sourishkrout/master  Page.loadEventFired not fired for #anchors, 64702345, 5, 0, 5
Make sure we call the callback if remote debugger doesn't trigger a page loaded event., 64702345, 5, 0, 5
Test to check if navigating to an anchor works properly., 64702345, 5, 0, 5
Refactored to cache objs vs ids only., 64702345, 5, 0, 5
change max size of log file, 64702345, 5, 0, 5
playing with timeouts again, 64702345, 5, 0, 5
no need to reset timeout if prelaunched, 64702345, 5, 0, 5
make default timeout 1 hour to handle long web-only tests, 64702345, 5, 0, 5
new error message reporting structure, 64702345, 5, 0, 5
don't try to stop remote unless it exists, 64702345, 5, 0, 5
clear out safariness in between sessions, 64702345, 5, 0, 5
better failure behavior, 64702345, 5, 0, 5
allow alert handling to happen even in midst of remote command, 64702345, 5, 0, 5
allow .only() for safari's describe(), 64702345, 5, 0, 5
mute some of this log spew, 64702345, 5, 0, 5
don't allow processing of native commands if remote commands in progress, 64702345, 5, 0, 5
Updated Java Appium examples and documentation, 64702345, 5, 0, 5
add --orientation cli param, 64702345, 5, 0, 5
allow overloading of this selenium desired cap, 64702345, 5, 0, 5
enable setting device orientation in desired caps, 64702345, 5, 0, 5
don't set type of real device and add instruments launch logging, 64702345, 5, 0, 5
Merge pull request #350 from bootstraponline/source_xml  Add mobile 'source' getPageSourceXML, 64702345, 5, 0, 5
Add mobile 'source' getPageSourceXML  Example Ruby use:  mobile :source type: :json mobile :source type: :xml  Fix #349, 64702345, 5, 0, 5
don't be so eager to find alerts, 64702345, 5, 0, 5
make atoms elements work if selenium proxy is in front, 64702345, 5, 0, 5
Merge pull request #346 from jlipps/master  fireEvent() for web, 64702345, 5, 0, 5
add fireEvent() function for mobile web, 64702345, 5, 0, 5
Merge pull request #345 from penguinho/master  Objective C is now a supported selenium language, 64702345, 5, 0, 5
Objective C is now a supported selenium language, 64702345, 5, 0, 5
make error message returned as part of value, 64702345, 5, 0, 5
Merge pull request #340 from bootstraponline/fix_apk  APK fixes, 64702345, 5, 0, 5
Merge pull request #341 from mutualmobile/device_ready_timeout  Added configurable timeout for device ready state, 64702345, 5, 0, 5
Updated per request  Added base 10 for parseInt and generated docs for server arguments., 64702345, 5, 0, 5
Merge pull request #342 from jlipps/master  webview refresh(), 64702345, 5, 0, 5
add refresh() and a weak test for it, 64702345, 5, 0, 5
Added configurable timeout for device ready state  I found that 5 seconds was too short for our app and so I made it configurable with the option:  device-ready-timeout in seconds., 64702345, 5, 0, 5
Merge pull request #339 from bootstraponline/xuru  Squashed #335, 64702345, 5, 0, 5
Install clean.apk before fast reset  Quote apk path, 64702345, 5, 0, 5
try both safari versions for mobile safari pre-launch, 64702345, 5, 0, 5
Changed the regular expression in ADB.prototype.waitForActivity to make the period optional at the begining of the activity.  At least for API 17 I don't see it.  Here is the line for mFocusedApp for my app: mFocusedApp=AppWindowToken{b52c36d0 token=Token{b524e338 ActivityRecord{b528ae18 u0 com.xxxxx.android.root/com.xxxxx.android.activity.LoginScreenActivity}}}  Removed backup file and added ignore, 64702345, 5, 0, 5
allow back() and forward() through actually clicking on safari buttons, 64702345, 5, 0, 5
make it 3 times instead of 10, 64702345, 5, 0, 5
limit number of times whackamole runs, 64702345, 5, 0, 5
Merge pull request #336 from sourishkrout/master  Added elements equals elements support., 64702345, 5, 0, 5
Removed lonely only., 64702345, 5, 0, 5
Use should properly., 64702345, 5, 0, 5
Let the browser decide if object are equal if id's are different., 64702345, 5, 0, 5
Added element equals element test to webview suite., 64702345, 5, 0, 5
Equals element is no longer a not implemented method., 64702345, 5, 0, 5
Added RemoteDebugger logic to compare element ids., 64702345, 5, 0, 5
New controller to handle equalsElement route., 64702345, 5, 0, 5
Merge pull request #334 from bootstraponline/wait_for_act  Add wait for activity., 64702345, 5, 0, 5
Add wait for activity.  Fix #332, 64702345, 5, 0, 5
Merge pull request #333 from jlipps/master  webview frame switching and better alert handling, 64702345, 5, 0, 5
update example to use new hybrid exit strategy, 64702345, 5, 0, 5
don't let whackamole start for a while, 64702345, 5, 0, 5
catch alerts that pop up before test commands and close them, 64702345, 5, 0, 5
allow finding frames within frames, 64702345, 5, 0, 5
add ability to switch to frame by element, 64702345, 5, 0, 5
better error handling and clear out webframe on new url, 64702345, 5, 0, 5
add tests for iframe switching too, 64702345, 5, 0, 5
allow switching back to default frame, 64702345, 5, 0, 5
basic web frame setting and tests, 64702345, 5, 0, 5
don't use frame(null) for clearing webview use mobile: leaveWebView, 64702345, 5, 0, 5
scope all atom commands to some window object, 64702345, 5, 0, 5
bump safari default version to 6.1, 64702345, 5, 0, 5
make sure server quits if it's pre-launch and doesn't work, 64702345, 5, 0, 5
allow pre-launching local zips/apps/safari from command line, 64702345, 5, 0, 5
add frame guineas and ability of executeAtom to run in frame context, 64702345, 5, 0, 5
Merge pull request #329 from jlipps/master  even moar alert awesomeness, 64702345, 5, 0, 5
betterify alert closing wait logic, 64702345, 5, 0, 5
make sure you can't get text of a dismissed alert, 64702345, 5, 0, 5
make sure setAlertText fails on non-prompts, 64702345, 5, 0, 5
allow setting of alert text, 64702345, 5, 0, 5
allow dismissing of alerts that only have OK buttons, 64702345, 5, 0, 5
enable getting of text in webview alert, 64702345, 5, 0, 5
Merge pull request #328 from maudineormsby/master  Find Element from Element in webviews + test, 64702345, 5, 0, 5
Find Element from element in webviews., 64702345, 5, 0, 5
Merge pull request #327 from jlipps/master  handle webview alerts somewhat, 64702345, 5, 0, 5
Merge pull request #326 from bootstraponline/fix_button  [Android] Fix button finding, 64702345, 5, 0, 5
Merge pull request #323 from bootstraponline/fix_dot  [Android] Fix selectors with dots, 64702345, 5, 0, 5
wrap executeAtom so it is aware of blocking alerts; some other rearch, 64702345, 5, 0, 5
Fix button finding  Fix #325, 64702345, 5, 0, 5
Fix selectors with dots  Fix #318, 64702345, 5, 0, 5
Merge pull request #321 from bootstraponline/overflow_button  [Android] Match overflow menu button, 64702345, 5, 0, 5
Merge pull request #320 from bootstraponline/act_not_found  [Android] Improve activity not found error, 64702345, 5, 0, 5
Merge pull request #316 from bootstraponline/rm_skip_install  [Android] Remove skipInstall, 64702345, 5, 0, 5
Add custom class name matches, 64702345, 5, 0, 5
Match overflow menu button and button, 64702345, 5, 0, 5
Improve activity not found error  Fix #319, 64702345, 5, 0, 5
Remove skipInstall  Install is now able to detect if the APK exists on device or not. This removes the need for a skipInstall flag.  Fix #313, 64702345, 5, 0, 5
Merge pull request #312 from bootstraponline/skip_on_reset  Skip uninstall on fastReset, 64702345, 5, 0, 5
Skip uninstall on fastReset, 64702345, 5, 0, 5
Merge pull request #314 from bootstraponline/adb_cmd  Move keyevent to adb.js, 64702345, 5, 0, 5
Merge pull request #308 from bootstraponline/text_contains  Add text contains, 64702345, 5, 0, 5
Move to adb.js, 64702345, 5, 0, 5
Add * XPath unit test, 64702345, 5, 0, 5
Merge pull request #309 from bootstraponline/android_back  Add back button for Android, 64702345, 5, 0, 5
Add text contains  Fix #301, 64702345, 5, 0, 5
Add back button for Android, 64702345, 5, 0, 5
Merge pull request #311 from jlipps/master  window close() and various fixes, 64702345, 5, 0, 5
fixing weird multi-callback and object cleanup issues, 64702345, 5, 0, 5
tests for close() for ipad too, 64702345, 5, 0, 5
close() window for mobile safari iphone, 64702345, 5, 0, 5
test noSuchWindow, 64702345, 5, 0, 5
Merge pull request #298 from bootstraponline/round  [Android] Steps must be int or Java will crash, 64702345, 5, 0, 5
Merge pull request #303 from jlipps/master  host our own selenium guinea pig, 64702345, 5, 0, 5
Merge pull request #310 from bootstraponline/mobile_keyevent  mobile: keyevent for Android, 64702345, 5, 0, 5
Add keyevent for Android, 64702345, 5, 0, 5
test hardening, 64702345, 5, 0, 5
host our own guinea pig, 64702345, 5, 0, 5
Steps must be int or Java will crash  Fix #291, 64702345, 5, 0, 5
Merge pull request #297 from jlipps/master  window maneuvering magic in safari, 64702345, 5, 0, 5
make sure new safari windows get driver focus, 64702345, 5, 0, 5
Merge pull request #296 from maudineormsby/master  Add getWindowSize and test., 64702345, 5, 0, 5
Broken merge, 64702345, 5, 0, 5
Webview sizes too., 64702345, 5, 0, 5
getWindowSize for webviews and test., 64702345, 5, 0, 5
Merge pull request #293 from jlipps/master  misc fixes, 64702345, 5, 0, 5
fix #290, 64702345, 5, 0, 5
harden this test a bit, 64702345, 5, 0, 5
make sure fast reset doesn't try to work on ios, 64702345, 5, 0, 5
Merge pull request #292 from jlipps/master  moveTo() and click() for webview and native, 64702345, 5, 0, 5
make withoutDelay false for build, 64702345, 5, 0, 5
add moveTo() and click() for webview and native, 64702345, 5, 0, 5
tap instead of click on mobile, 64702345, 5, 0, 5
beginning work on moveTo, 64702345, 5, 0, 5
Merge pull request #289 from jlipps/master  implicitWait() getLocation() and getName() for web elements, 64702345, 5, 0, 5
add getName() method for web and native elements, 64702345, 5, 0, 5
added getLocation for web elements, 64702345, 5, 0, 5
implement implicit wait for web elements, 64702345, 5, 0, 5
Merge pull request #288 from jlipps/master  get css for webviews, 64702345, 5, 0, 5
get css properties for webview elements, 64702345, 5, 0, 5
Merge pull request #287 from jlipps/master  even moar webview methods, 64702345, 5, 0, 5
add selected() webview method, 64702345, 5, 0, 5
add clear() to webview support, 64702345, 5, 0, 5
Merge pull request #286 from maudineormsby/master  Support and test for submit() method in webviews., 64702345, 5, 0, 5
Whitespace, 64702345, 5, 0, 5
Support and test for submit() method in webviews., 64702345, 5, 0, 5
Merge pull request #285 from jlipps/master  more webview selenium support, 64702345, 5, 0, 5
driver-level sendKeys command for mobile safari, 64702345, 5, 0, 5
add mobile safari 'active' support, 64702345, 5, 0, 5
add changelog template, 64702345, 5, 0, 5
gitignore, 64702345, 5, 0, 5
add some more stuff to reset.sh, 64702345, 5, 0, 5
update readme, 64702345, 5, 0, 5
remove publish script, 64702345, 5, 0, 5
add .npmignore, 64702345, 5, 0, 5
update for npm publish, 64702345, 5, 0, 5
use correct working directory, 64702345, 5, 0, 5
updating getting-started via grunt, 64702345, 5, 0, 5
add markdown parser to deps, 64702345, 5, 0, 5
add appium.io as a submodule so we can generate stuff from it, 64702345, 5, 0, 5
Merge pull request #282 from bootstraponline/clear_install  Clear app if it already exists, 64702345, 5, 0, 5
Merge pull request #283 from jlipps/master  try to restart adb if device can't be found, 64702345, 5, 0, 5
facility for restarting adb if we aren't able to connect to a device, 64702345, 5, 0, 5
Merge pull request #281 from bootstraponline/android42  Fall back to android-4.2, 64702345, 5, 0, 5
Clear app if it already exists  Fix #280, 64702345, 5, 0, 5
Fall back to android-4.2  Fix .clean uninstall Fix #275, 64702345, 5, 0, 5
Merge pull request #279 from jlipps/master  wait for app to start, 64702345, 5, 0, 5
wait for app's activity to start automating not just process started, 64702345, 5, 0, 5
better error logging in sendResultAndGetNext, 64702345, 5, 0, 5
allow textboxes to take typing, 64702345, 5, 0, 5
Merge pull request #277 from bootstraponline/ruby_link  Add Ruby documentation link, 64702345, 5, 0, 5
Add Ruby documentation link, 64702345, 5, 0, 5
Merge pull request #276 from bootstraponline/page_source  Page source, 64702345, 5, 0, 5
Merge pull request #267 from bootstraponline/master  Improve fast reset, 64702345, 5, 0, 5
Add page_source for Android, 64702345, 5, 0, 5
Use adbCmd instead of 'adb', 64702345, 5, 0, 5
Fix case, 64702345, 5, 0, 5
Use rgx.test, 64702345, 5, 0, 5
Fast reset rewrite  Fix #263, 64702345, 5, 0, 5
Merge pull request #272 from tokunbo/master  Fixed for Selenium Grid 2.31.0... Good times for all!, 64702345, 5, 0, 5
Merge pull request #274 from maudineormsby/master  Add getUrl and test, 64702345, 5, 0, 5
Add getUrl and test, 64702345, 5, 0, 5
Because it's not origin when you connect to appium without selenium-grid =/, 64702345, 5, 0, 5
Oops! Typo broke the tests! fixing!, 64702345, 5, 0, 5
I'm told camelCase is better!, 64702345, 5, 0, 5
I gotta believe! Fixing createSession for Selenium grid 2.31.0., 64702345, 5, 0, 5
Merge pull request #270 from jlipps/master  add mobile: findAndAct method, 64702345, 5, 0, 5
add findAndAct method to get around ios ui invalidation issue, 64702345, 5, 0, 5
Merge pull request #265 from Rorosha/master  Updated sauce.py example to include pass/fail reporting., 64702345, 5, 0, 5
allow secure text fields to be sent keys to, 64702345, 5, 0, 5
allow x/y values to be independent, 64702345, 5, 0, 5
Merge pull request #266 from maudineormsby/master  Make appium accept selenium's args for execute script, 64702345, 5, 0, 5
Run all the tests not just one, 64702345, 5, 0, 5
Actually catch issues with bad elements, 64702345, 5, 0, 5
Test should use el.value not hardcoded numbers., 64702345, 5, 0, 5
Make execute script compatible with the selenium server args that are passed with execute script calls., 64702345, 5, 0, 5
Added sauce pass/fail reporting to the python example., 64702345, 5, 0, 5
Merge pull request #264 from jlipps/master  fixing some fast-reset and pickerwheel support, 64702345, 5, 0, 5
add pickerwheel support, 64702345, 5, 0, 5
remove orientation test in appiumutils it's redundant, 64702345, 5, 0, 5
these callbacks need to conform to node error handling convention, 64702345, 5, 0, 5
Merge pull request #262 from maudineormsby/master  Add isEnabled and isDisplayed for the remote protocol plus tests, 64702345, 5, 0, 5
Semicolons. Aaaaaah., 64702345, 5, 0, 5
isEnabled and test for remote., 64702345, 5, 0, 5
Add elementDisplayed and test for remote debugger., 64702345, 5, 0, 5
Merge pull request #261 from jlipps/master  misc fixes, 64702345, 5, 0, 5
use fast reset by default in tests, 64702345, 5, 0, 5
make android describeForApp work, 64702345, 5, 0, 5
use spinWait for this test that now goes faster, 64702345, 5, 0, 5
stub out spin helpers, 64702345, 5, 0, 5
fix text with correct displayed behavior, 64702345, 5, 0, 5
Merge pull request #259 from bootstraponline/master  Fast reset, 64702345, 5, 0, 5
Add return, 64702345, 5, 0, 5
Return onReady so cb isn't called, 64702345, 5, 0, 5
Use one line for onReady, 64702345, 5, 0, 5
Use async, 64702345, 5, 0, 5
Add async, 64702345, 5, 0, 5
Clean up debug logging, 64702345, 5, 0, 5
Update grunt docs, 64702345, 5, 0, 5
Check that aapt is on path, 64702345, 5, 0, 5
Remove dash, 64702345, 5, 0, 5
Update help text, 64702345, 5, 0, 5
Remove console.log, 64702345, 5, 0, 5
--fast-reset  Fix #245, 64702345, 5, 0, 5
Merge pull request #257 from sah/master  switch to the main instruments-without-delay repo, 64702345, 5, 0, 5
switch to the main instruments-without-delay repo now that the fix for appium is merged, 64702345, 5, 0, 5
Merge pull request #256 from sah/without-delay  adding --without-delay to use the awesome instruments-without-delay!, 64702345, 5, 0, 5
oops export needs the new parameter, 64702345, 5, 0, 5
resolve paths relative to __dirname so we don't depend on the cwd, 64702345, 5, 0, 5
a better way to clone the environment, 64702345, 5, 0, 5
oops use the public git URL, 64702345, 5, 0, 5
adding --without-delay to use the awesome instruments-without-delay!, 64702345, 5, 0, 5
Merge pull request #255 from maudineormsby/master  Android example, 64702345, 5, 0, 5
Android python example, 64702345, 5, 0, 5
version bump for npm publish, 64702345, 5, 0, 5
Merge pull request #248 from penguinho/master  I believe this fixes #247, 64702345, 5, 0, 5
Merge pull request #252 from jlipps/master  choose between iphone / ipad simulator, 64702345, 5, 0, 5
Fixing #247 the correct way this time, 64702345, 5, 0, 5
fixing tests, 64702345, 5, 0, 5
command-line params for forcing iphone/ipad, 64702345, 5, 0, 5
launch iphone/ipad depending on desired cap plus tests, 64702345, 5, 0, 5
force instruments to launch app by iphone/ipad, 64702345, 5, 0, 5
move ios args into an object for sanity, 64702345, 5, 0, 5
don't need mobileSafari grunt command now that it's built in to appium, 64702345, 5, 0, 5
Merge pull request #251 from sah/master  README updates re: Android support, 64702345, 5, 0, 5
updated iOS-specific text to mention Android support, 64702345, 5, 0, 5
Merge pull request #250 from jlipps/master  example of automating preferences.app, 64702345, 5, 0, 5
remove timeouts, 64702345, 5, 0, 5
note to warn people about this test, 64702345, 5, 0, 5
add test and example of automating Preferences.app, 64702345, 5, 0, 5
add function to get built in app dir, 64702345, 5, 0, 5
Merge pull request #249 from jlipps/master  sendKeys for hybrid, 64702345, 5, 0, 5
make sendKeys method work for mobile safari, 64702345, 5, 0, 5
fix misuse of argparse with nargs=1, 64702345, 5, 0, 5
I believe this fixed #247, 64702345, 5, 0, 5
working on getting new iosatom working, 64702345, 5, 0, 5
support pre-launching safari, 64702345, 5, 0, 5
Merge pull request #246 from jlipps/master  Mobile Safari as a first-class citizen, 64702345, 5, 0, 5
add safari tests to grunt test, 64702345, 5, 0, 5
small fixes and add safari example, 64702345, 5, 0, 5
unquarantine click, 64702345, 5, 0, 5
update docs, 64702345, 5, 0, 5
make safari tests pass, 64702345, 5, 0, 5
fix logic bug that called invoke() 2x per session, 64702345, 5, 0, 5
add --safari to parser, 64702345, 5, 0, 5
allow starting safari as a special 'app' with special launch behavior, 64702345, 5, 0, 5
add android app rebuilding and uicatalog downloading to reset.sh, 64702345, 5, 0, 5
Merge pull request #239 from jlipps/master  allow custom activity string for android, 64702345, 5, 0, 5
allow custom activity string, 64702345, 5, 0, 5
Merge pull request #237 from bootstraponline/reset_android  Add Android to reset, 64702345, 5, 0, 5
Add Android to reset, 64702345, 5, 0, 5
Merge pull request #234 from jlipps/master  better error messages for unsupported tag names, 64702345, 5, 0, 5
don't let people find secure tags give an error instead, 64702345, 5, 0, 5
Merge pull request #233 from bootstraponline/e  Map textfield to EditText, 64702345, 5, 0, 5
Map textfield to EditText  Fix #228, 64702345, 5, 0, 5
Merge pull request #232 from jlipps/master  attributes for android, 64702345, 5, 0, 5
tests for more attributes, 64702345, 5, 0, 5
get attributes for android, 64702345, 5, 0, 5
pass not yet implemented through to client, 64702345, 5, 0, 5
Merge pull request #225 from jlipps/master  fix port typecasting issue, 64702345, 5, 0, 5
make sure alternative ports get converted to int, 64702345, 5, 0, 5
make sure alternative ports get converted to int, 64702345, 5, 0, 5
bump to v0.1.0 for npm publish, 64702345, 5, 0, 5
return actual boolean values here, 64702345, 5, 0, 5
Merge pull request #223 from jlipps/master  Android, 64702345, 5, 0, 5
don't need this anymore, 64702345, 5, 0, 5
better error message, 64702345, 5, 0, 5
fix merge conflict for android pull request, 64702345, 5, 0, 5
Merge pull request #222 from bootstraponline/https  HTTPS for REST API, 64702345, 5, 0, 5
update text test to use new field name, 64702345, 5, 0, 5
don't accept commands if we know we're shutting down, 64702345, 5, 0, 5
update android docs, 64702345, 5, 0, 5
allow running of just ios or just android functional tests, 64702345, 5, 0, 5
fix webview getsize test, 64702345, 5, 0, 5
move a lot of webview execute code into webview.js testfile, 64702345, 5, 0, 5
add android app building to test, 64702345, 5, 0, 5
move context rewriting out of loop context so implicit wait works, 64702345, 5, 0, 5
comment out this superfluous logging, 64702345, 5, 0, 5
update bin with new server args, 64702345, 5, 0, 5
migrate tests to use new appium params, 64702345, 5, 0, 5
fix appium queueing behavior and unit tests, 64702345, 5, 0, 5
HTTPS for rest API, 64702345, 5, 0, 5
docs for new server args, 64702345, 5, 0, 5
use new server args, 64702345, 5, 0, 5
lint fix, 64702345, 5, 0, 5
Merge pull request #218 from DylanLacey/master  Added correct pass/failure for Sauce Ruby Example, 64702345, 5, 0, 5
bring docs into line with reality, 64702345, 5, 0, 5
don't forget about command timeout, 64702345, 5, 0, 5
pre-launching reset and skip-install for android, 64702345, 5, 0, 5
update android test and system docs, 64702345, 5, 0, 5
update android test instructions, 64702345, 5, 0, 5
updated readme, 64702345, 5, 0, 5
update grunt docs, 64702345, 5, 0, 5
update grunt docs, 64702345, 5, 0, 5
update grund docs, 64702345, 5, 0, 5
break out readme info into different docs, 64702345, 5, 0, 5
docs formatting, 64702345, 5, 0, 5
docs formatting, 64702345, 5, 0, 5
docs formatting, 64702345, 5, 0, 5
docs formatting, 64702345, 5, 0, 5
added a doc generator for parser and new docs, 64702345, 5, 0, 5
indicate we don't require -V 1 anymore, 64702345, 5, 0, 5
clean up parser, 64702345, 5, 0, 5
readme updates, 64702345, 5, 0, 5
implement sendkeys/value, 64702345, 5, 0, 5
swipe and tap by pct as well as pixels, 64702345, 5, 0, 5
remove .only, 64702345, 5, 0, 5
find element by name (id), 64702345, 5, 0, 5
add ids to first level of apidemos app, 64702345, 5, 0, 5
add project files for android test app, 64702345, 5, 0, 5
test for partial text xpath finding, 64702345, 5, 0, 5
xpath finding by text working, 64702345, 5, 0, 5
beginnings of xpath support, 64702345, 5, 0, 5
fix tests for nexus s and make command timeout correct, 64702345, 5, 0, 5
need to reset timeout on command, 64702345, 5, 0, 5
grunt task for installing the demo app if it's not there, 64702345, 5, 0, 5
Pulled out groady Net::HTTP replaced with rest-client\nUpdated Gemfile or rubygems freaks out and can't find RestClient, 64702345, 5, 0, 5
readme fix, 64702345, 5, 0, 5
readme formatting, 64702345, 5, 0, 5
readme formatting, 64702345, 5, 0, 5
move readme, 64702345, 5, 0, 5
readme updates and unlock screen if it's locked, 64702345, 5, 0, 5
institute command timeouts so adb dies if it sits forever, 64702345, 5, 0, 5
better error handling if device never starts, 64702345, 5, 0, 5
ignore appium bootstrap jar, 64702345, 5, 0, 5
let's not keep this in repo for now, 64702345, 5, 0, 5
bump version for publish, 64702345, 5, 0, 5
error handling if device is powered off, 64702345, 5, 0, 5
fix window size method reorg test files, 64702345, 5, 0, 5
respond with not implemented while android catches up to ios, 64702345, 5, 0, 5
remove debug logging, 64702345, 5, 0, 5
implicit waits find elements from elements moar tests, 64702345, 5, 0, 5
find multiple elements by tag name, 64702345, 5, 0, 5
more object orientation and el.getText(), 64702345, 5, 0, 5
uninstall app after test instead of before, 64702345, 5, 0, 5
break out element tests, 64702345, 5, 0, 5
add basic find element logic, 64702345, 5, 0, 5
Send is more lovely then @instance_variable_get, 64702345, 5, 0, 5
Added Sauce Labs API for passes and failures, 64702345, 5, 0, 5
starting to build out find element logic, 64702345, 5, 0, 5
gitignore, 64702345, 5, 0, 5
this probably shouldn't be in repo, 64702345, 5, 0, 5
bring android apidemos into appium with config/build helpers, 64702345, 5, 0, 5
add android apidemo app, 64702345, 5, 0, 5
enable full flow of selenium command to device and back, 64702345, 5, 0, 5
combine methods for convenience, 64702345, 5, 0, 5
add app package / activity options to server, 64702345, 5, 0, 5
generalize notion of device and kind of app, 64702345, 5, 0, 5
Merge pull request #216 from maudineormsby/master  Timing fix for proxying through selenium, 64702345, 5, 0, 5
update driverblock with android support, 64702345, 5, 0, 5
Merge pull request #217 from bootstraponline/fix_loop  Fix #215 escape loop, 64702345, 5, 0, 5
factor out some commonly used device methods, 64702345, 5, 0, 5
stub out android interface, 64702345, 5, 0, 5
add first real methods: click and getDeviceSize, 64702345, 5, 0, 5
Fix #215 escape loop, 64702345, 5, 0, 5
Semicolons. Fml., 64702345, 5, 0, 5
Timing hack to make orientation changes work with selenium proxy., 64702345, 5, 0, 5
uninstall/install app and go to home screen, 64702345, 5, 0, 5
got some simple commands going back and forth!, 64702345, 5, 0, 5
parse out android logging, 64702345, 5, 0, 5
get adb talking to bootstrap, 64702345, 5, 0, 5
added adb controller in node and some grunt utilities, 64702345, 5, 0, 5
socket connection is now 2-way talking to node, 64702345, 5, 0, 5
got socket server running on device, 64702345, 5, 0, 5
guess we want to store the binary so we can use it, 64702345, 5, 0, 5
guess we want to hide everything in bin, 64702345, 5, 0, 5
add build file, 64702345, 5, 0, 5
don't think this should be in src, 64702345, 5, 0, 5
add skeleton for android bootstrap, 64702345, 5, 0, 5
start test for find+action, 64702345, 5, 0, 5
Merge pull request #211 from jlipps/fix-find-context  Fix find context, 64702345, 5, 0, 5
enable orientation tests in webview app which supports them, 64702345, 5, 0, 5
move webview tests to use webview app, 64702345, 5, 0, 5
use mainApp for context instead of mainWindow, 64702345, 5, 0, 5
Merge pull request #209 from jlipps/master  real implicit wait, 64702345, 5, 0, 5
make implicit wait do what it should, 64702345, 5, 0, 5
Merge pull request #208 from jlipps/master  make xpath contains search case insensitive, 64702345, 5, 0, 5
make xpath contains search case insensitive, 64702345, 5, 0, 5
version bump for npm publish, 64702345, 5, 0, 5
Merge pull request #204 from jlipps/master  mid-session app resetting refactoring server flag, 64702345, 5, 0, 5
we want to reset in our own tests, 64702345, 5, 0, 5
make plist resetting a server flag, 64702345, 5, 0, 5
separating concerns a bit here for reset app, 64702345, 5, 0, 5
Merge pull request #203 from bootstraponline/reset  mobile: reset, 64702345, 5, 0, 5
mobile: reset, 64702345, 5, 0, 5
update what grunt tasks travis runs it's not a mac!, 64702345, 5, 0, 5
add grunt-cli to packages.json for travis, 64702345, 5, 0, 5
update readme to reflect change in grunt version, 64702345, 5, 0, 5
Merge pull request #201 from jlipps/master  migrate to grunt 0.4, 64702345, 5, 0, 5
add webview app to reset.sh, 64702345, 5, 0, 5
fix to follow grunt 0.4 api, 64702345, 5, 0, 5
use newer grunt-mocha-test for grunt 0.4 compat, 64702345, 5, 0, 5
upgrade to grunt 0.4 and begin migration (starting with lint), 64702345, 5, 0, 5
grunt helper for code signing an app, 64702345, 5, 0, 5
more logging about UDID, 64702345, 5, 0, 5
update bundle id for app, 64702345, 5, 0, 5
Merge pull request #200 from bootstraponline/fix_undefined  Fix undefined issues, 64702345, 5, 0, 5
Fix undefined issues  TypeError: Cannot read property 'name' of undefined TypeError: Cannot read property 'code' of undefined, 64702345, 5, 0, 5
Merge pull request #196 from bootstraponline/fix_null  Fix null value, 64702345, 5, 0, 5
Fix null value  getElementsByXpath returns value: null when xpObj === false, 64702345, 5, 0, 5
Merge pull request #195 from bootstraponline/fix_null  Fix null check, 64702345, 5, 0, 5
Fix null check  Selenium::WebDriver::Error::JavascriptError: 'null' is not an object (evaluating 'el[key]().indexOf')  This happens when an element exists that doesn't have the proper value.  > execute_script "[$('text')[0].name()]" => [nil], 64702345, 5, 0, 5
Merge pull request #194 from jlipps/master  add xpath support, 64702345, 5, 0, 5
round out xpath finding logic, 64702345, 5, 0, 5
initial searching by xpath logic, 64702345, 5, 0, 5
initial searching by xpath logic, 64702345, 5, 0, 5
no difference between 'all' and 'desc' in root context, 64702345, 5, 0, 5
rewrite xpath parsing to return kind of descendance, 64702345, 5, 0, 5
test organization, 64702345, 5, 0, 5
more xpath parsing and unit tests for it, 64702345, 5, 0, 5
initial work getting xpath regexes working, 64702345, 5, 0, 5
Merge pull request #190 from gaige/fdfix  Fix #148 leaving domain sockets open, 64702345, 5, 0, 5
Fix #148 leaving domain sockets open  In order to make sure the domain socket closes we need to close() the socket server itself which requires paying attention to its creation and, 64702345, 5, 0, 5
Fix #148 leaving domain sockets open  In order to make sure the domain socket closes we need to close() the socket server itself which requires paying attention to its creation and, 64702345, 5, 0, 5
Merge pull request #189 from bootstraponline/comment  Remove commented code, 64702345, 5, 0, 5
backwards compatibility fix for pyappium, 64702345, 5, 0, 5
Remove commented code, 64702345, 5, 0, 5
Merge pull request #187 from bootstraponline/fix_186  Fix 186, 64702345, 5, 0, 5
Merge pull request #188 from jlipps/master  handle when app can't be built better, 64702345, 5, 0, 5
better handling of building app that doesn't exist, 64702345, 5, 0, 5
Fix style, 64702345, 5, 0, 5
add style guide link to README, 64702345, 5, 0, 5
Add support for setValueImmediate  This new mobile: command restores the ability to manually set the value of all objects including UITextField using the direct setValue() JS in UIAutomation.  By default POST /value will generate keypress events in a UITextView as is in line with the webdriver specification.  With this additon you can now use the 'old' appium method of setting directly with setValue by using:    mobile:setvalue  [{ element: elementID value: value }], 64702345, 5, 0, 5
Object leak removal and some work at removing the file descriptor leaks coming from the unix domain sockets., 64702345, 5, 0, 5
Change /value to send keys as per spec when used with text fields, 64702345, 5, 0, 5
bump version for npm publish, 64702345, 5, 0, 5
make sure no logs ever show up in git, 64702345, 5, 0, 5
Merge pull request #185 from jlipps/master  hideKeyboard method, 64702345, 5, 0, 5
add mobile: hideKeyboard method for hiding keyboard based on key name, 64702345, 5, 0, 5
Merge pull request #184 from jlipps/master  basic 'reset' script, 64702345, 5, 0, 5
add reset to README, 64702345, 5, 0, 5
first stab at a 'reset everything' shell script, 64702345, 5, 0, 5
Merge pull request #183 from jlipps/master  hide error logging that's meaningless, 64702345, 5, 0, 5
fix this test no need to escape anymore, 64702345, 5, 0, 5
don't show errors from debugger if they're meaningless, 64702345, 5, 0, 5
Merge pull request #181 from bootstraponline/fix_wrap  Status is never undefined, 64702345, 5, 0, 5
Merge pull request #182 from jlipps/master  more helpful error handling for find strategies, 64702345, 5, 0, 5
better messages when we try to use a strategy that doesn't exist, 64702345, 5, 0, 5
Status is never undefined, 64702345, 5, 0, 5
Fix: Don't just execute a single test, 64702345, 5, 0, 5
log some more info to figure out what's going on with these messages, 64702345, 5, 0, 5
Merge pull request #178 from sourishkrout/master  Added getElementsByName support., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Added test for getElementsByName., 64702345, 5, 0, 5
Added elements with same accessiblity label for multi elem lookup., 64702345, 5, 0, 5
Internally we won't need this method any longer., 64702345, 5, 0, 5
Merge pull request #177 from jlipps/master  fix keyboard action-triggering behavior, 64702345, 5, 0, 5
actually we need to escape special chars sent to keyboard, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
easiest fix ever: instruments likes newline for keyboard action, 64702345, 5, 0, 5
Get multiple elements by name., 64702345, 5, 0, 5
Made getElementsByName available., 64702345, 5, 0, 5
Merge branch 'master' of github.com:sourishkrout/appium  Conflicts: 	package.json, 64702345, 5, 0, 5
bump package json for npm publish, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
remove legacy test, 64702345, 5, 0, 5
Merge pull request #171 from jlipps/master  better cleanup less crashing, 64702345, 5, 0, 5
update this test to use the new hotness behavior, 64702345, 5, 0, 5
be much more eager about cleaning up extraneous files, 64702345, 5, 0, 5
add global error handling for appium controller methods, 64702345, 5, 0, 5
Merge pull request #168 from penguinho/master  Making App Finder more forgiving so it will find apps already installed in the iOS simulator, 64702345, 5, 0, 5
Merge pull request #167 from jlipps/master  add ability to get screen size through WebDriver window command, 64702345, 5, 0, 5
Fixing issue with line separations, 64702345, 5, 0, 5
allow getting screen size through selenium /window/size, 64702345, 5, 0, 5
Making .NET app finder for forgiving so it can use an app already installed in the simulator, 64702345, 5, 0, 5
Merge pull request #166 from jlipps/master  more flexibility in alert handling and getting text of buttons, 64702345, 5, 0, 5
Merge pull request #165 from penguinho/master  Adding example Appium Code for .NET, 64702345, 5, 0, 5
special-case getting the text of a button, 64702345, 5, 0, 5
Adding example for .NET, 64702345, 5, 0, 5
allow finding of alerts, 64702345, 5, 0, 5
Merge pull request #164 from jlipps/master  ruby examples for dealing with alerts, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
update gitignore to include Gemfile.lock, 64702345, 5, 0, 5
this file shouldn't be in the repo, 64702345, 5, 0, 5
update ruby example to show how alerts work, 64702345, 5, 0, 5
Merge pull request #162 from jlipps/master  make functional tests all pass, 64702345, 5, 0, 5
remove stray 'only', 64702345, 5, 0, 5
fix test which had wrong expectation, 64702345, 5, 0, 5
Merge pull request #159 from jlipps/master  updating assets to reflect sdk version, 64702345, 5, 0, 5
update example files to clarify what sdk is used, 64702345, 5, 0, 5
distinguish test app zips by build sdk, 64702345, 5, 0, 5
move stuff into grunt helpers for max clean, 64702345, 5, 0, 5
version bump for npm publish, 64702345, 5, 0, 5
Version bump, 64702345, 5, 0, 5
add a test with strange quoting, 64702345, 5, 0, 5
add a try/catch to bootstrap so instruments doesn't crash on js errors, 64702345, 5, 0, 5
don't let asking for non-existent attributes crash appium, 64702345, 5, 0, 5
better logging from appium about request and response data, 64702345, 5, 0, 5
better logging, 64702345, 5, 0, 5
version bump for npm publish, 64702345, 5, 0, 5
Version bump, 64702345, 5, 0, 5
Merge pull request #158 from jlipps/master  better logging and fewer instruments crashes, 64702345, 5, 0, 5
add a test with strange quoting, 64702345, 5, 0, 5
add a try/catch to bootstrap so instruments doesn't crash on js errors, 64702345, 5, 0, 5
don't let asking for non-existent attributes crash appium, 64702345, 5, 0, 5
better logging from appium about request and response data, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
better logging, 64702345, 5, 0, 5
Merge pull request #156 from santiycr/master  Code cleanup + some more commands for webviews, 64702345, 5, 0, 5
rewriting page load/unload handling now with sleep in, 64702345, 5, 0, 5
adding support for getting elements' size, 64702345, 5, 0, 5
adding support for getting the source of a web view, 64702345, 5, 0, 5
Merge pull request #155 from jlipps/master  execute() for proxying UIAutomation commands, 64702345, 5, 0, 5
Merge pull request #153 from rossrowe/upstream  Updated Java tests to use correct DesiredCapabilities when connecting to Sauce, 64702345, 5, 0, 5
allow execute() to proxy raw UIAutomation commands, 64702345, 5, 0, 5
Updated Sauce appium tests, 64702345, 5, 0, 5
Merge pull request #150 from bootstraponline/remove_dir_check  App can be zip file or directory #149, 64702345, 5, 0, 5
App can be zip file or directory #149, 64702345, 5, 0, 5
Merge pull request #149 from jlipps/master  allow local zipped apps, 64702345, 5, 0, 5
add capability to use local version of zipped app & test, 64702345, 5, 0, 5
Merge pull request #147 from jlipps/master  turned gestures into a jsonwp extension, 64702345, 5, 0, 5
add appium jsonwp extensions to routing, 64702345, 5, 0, 5
Merge pull request #146 from bootstraponline/check_app_path  Add error detection to absolute_app_path, 64702345, 5, 0, 5
enable complextap in both absolute and relative units, 64702345, 5, 0, 5
rename elementId to element to match JSONWP, 64702345, 5, 0, 5
Add error detection to absolute_app_path  A specific error message is better than the current "Timeout::Error:" when the app doesn't exist or isn't a directory., 64702345, 5, 0, 5
Merge pull request #145 from jlipps/master  better native swipe actions and a bit of cleanup, 64702345, 5, 0, 5
add mobile-specific swipe and swipe-element methods and tests, 64702345, 5, 0, 5
Merge pull request #143 from DylanLacey/master  Created a README for examples, 64702345, 5, 0, 5
Lets try to use secure rubygems.org, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium  Conflicts: 	sample-code/examples/ruby/cucumber/features/support/env.rb 	sample-code/examples/ruby/simple_test.rb, 64702345, 5, 0, 5
Merge pull request #144 from jlipps/master  readme update, 64702345, 5, 0, 5
move tap into gestures, 64702345, 5, 0, 5
rename this file to something more appropriate, 64702345, 5, 0, 5
update readme to reflect info about using wd dev, 64702345, 5, 0, 5
Added additional details to the simple test.  Added a Readme., 64702345, 5, 0, 5
Merge pull request #142 from bootstraponline/exit_cucumber  Exit after scenario, 64702345, 5, 0, 5
Exit after scenario  Instruments never exits if quit isn't called., 64702345, 5, 0, 5
Merge pull request #141 from jlipps/master  fixes to ruby examples and execute.js, 64702345, 5, 0, 5
fix driver.quit fail in node sauce example too, 64702345, 5, 0, 5
make execute.js tests less brittle, 64702345, 5, 0, 5
fix ruby examples to use driver.quit, 64702345, 5, 0, 5
Merge pull request #140 from bootstraponline/patch-1  Fix gem name, 64702345, 5, 0, 5
Add run command  ruby sauce_example.rb does nothing because the example uses rspec., 64702345, 5, 0, 5
Fix gem name  $ gem install webdriver ERROR:  Could not find a valid gem 'webdriver' (>= 0) in any repository, 64702345, 5, 0, 5
Merge pull request #139 from jlipps/master  better access to native flick methods through "mobile: flick", 64702345, 5, 0, 5
provide access through mobile methods to native flick behavior, 64702345, 5, 0, 5
Merge pull request #138 from jlipps/master  more work on flick/swipe, 64702345, 5, 0, 5
allow flick/swipe to take either relative units or pixels, 64702345, 5, 0, 5
Merge pull request #137 from jlipps/master  update hosted example app location, 64702345, 5, 0, 5
change hosted location of example apps, 64702345, 5, 0, 5
Merge pull request #136 from jlipps/master  use better uiauto functions for flick and swipe, 64702345, 5, 0, 5
flick and swipe were using the wrong methods. let's use target methods instead!, 64702345, 5, 0, 5
Merge pull request #135 from jlipps/master  update mobile command framework make complexTap work as expected, 64702345, 5, 0, 5
make complexTap work as expected with tests too, 64702345, 5, 0, 5
move to a hash-based parameter list for mobile commands, 64702345, 5, 0, 5
Merge pull request #134 from jlipps/master  add ability to set/get command timeout, 64702345, 5, 0, 5
add special mobile function for setting command timeout, 64702345, 5, 0, 5
john carmack would not approve of all of this useless whitespace, 64702345, 5, 0, 5
Merge pull request #133 from jlipps/master  Refactor uiautomation code and adjust tests, 64702345, 5, 0, 5
add more js files to linting, 64702345, 5, 0, 5
Merge pull request #132 from santiycr/master  Some code cleanup, 64702345, 5, 0, 5
keyboard is a dynamic thing need to re-get every time, 64702345, 5, 0, 5
bring back element.getPageSource guess we need it, 64702345, 5, 0, 5
use push/pop timeout instead of setting back to a constant value, 64702345, 5, 0, 5
some code cleanup on webview hadling, 64702345, 5, 0, 5
undo change in this test, 64702345, 5, 0, 5
actually these need to be strict prototype methods, 64702345, 5, 0, 5
clean up / move / refactor everything else out of base.js, 64702345, 5, 0, 5
move keyboard functions to app.js, 64702345, 5, 0, 5
don't keep track of web frames in uiautomation but remote debugger, 64702345, 5, 0, 5
move element-related functions from base into element, 64702345, 5, 0, 5
rename this file so we can put other tests in it, 64702345, 5, 0, 5
Merge pull request #130 from sourishkrout/master  Whooops. This won't ever honor custom ports for webhooks., 64702345, 5, 0, 5
Merge pull request #131 from jlipps/master  better complexTap behavior, 64702345, 5, 0, 5
use mainApp for complexTap to hopefully allow clicking on header, 64702345, 5, 0, 5
Whooops. Let's swap these two., 64702345, 5, 0, 5
Merge pull request #129 from satchit/patch-1  Update README.md. Thank you @satchit., 64702345, 5, 0, 5
Update README.md  updated based on comments from @hugs, 64702345, 5, 0, 5
Merge pull request #128 from DylanLacey/master  Cuke Example, 64702345, 5, 0, 5
Update README.md  Updated with a missing step (required to run simplest.js)., 64702345, 5, 0, 5
Added additional explaination., 64702345, 5, 0, 5
Created a cucumber example along with documentation about what it means., 64702345, 5, 0, 5
make this tap test actually assert things, 64702345, 5, 0, 5
Merge pull request #127 from jlipps/master  framework for supporting non-selenium commands via execute(), 64702345, 5, 0, 5
add framework for supporting non-selenium commands and add complex tap action as an example, 64702345, 5, 0, 5
reformatting execute.js, 64702345, 5, 0, 5
Merge pull request #125 from bernii/master  Adding UIANavigationBar, 64702345, 5, 0, 5
Merge pull request #124 from DylanLacey/master  Additional examples, 64702345, 5, 0, 5
adding UIANavigatonBar element, 64702345, 5, 0, 5
Added in flicks rather then scrolls (Which aren't working), 64702345, 5, 0, 5
Merge pull request #123 from santiycr/master  fixing the last test, 64702345, 5, 0, 5
fixing the last tests, 64702345, 5, 0, 5
Merge pull request #122 from santiycr/master  making a pull request for things, 64702345, 5, 0, 5
fixing the tests, 64702345, 5, 0, 5
parse response only when needed, 64702345, 5, 0, 5
Version bump, 64702345, 5, 0, 5
Merge pull request #121 from sourishkrout/master  Handle global npm install properly, 64702345, 5, 0, 5
Handle global npm install properly., 64702345, 5, 0, 5
Adding automatic waits when the DOM in the Web View is not ready  Also: - Getting rid of all static pauses and adding more tests - Potential bugs cuz it's 3am, 64702345, 5, 0, 5
Merge pull request #120 from jlipps/master  hybrid examples and webview app, 64702345, 5, 0, 5
update hybrid example, 64702345, 5, 0, 5
update webview app, 64702345, 5, 0, 5
test showing how to hybrid it up, 64702345, 5, 0, 5
add zip file for WebViewApp, 64702345, 5, 0, 5
update hybrid app, 64702345, 5, 0, 5
Added size analysis, 64702345, 5, 0, 5
add webview app, 64702345, 5, 0, 5
Verion bump, 64702345, 5, 0, 5
Merge pull request #119 from sourishkrout/master  Hardcoded path to node if which lookup fails, 64702345, 5, 0, 5
Hardcoded batman as fall back., 64702345, 5, 0, 5
Merge pull request #118 from jlipps/master  readme update, 64702345, 5, 0, 5
update readme to point to hybrid apps in wiki, 64702345, 5, 0, 5
Version bump., 64702345, 5, 0, 5
Merge pull request #117 from sourishkrout/master  Logical mistake, 64702345, 5, 0, 5
Do OR instead of AND here., 64702345, 5, 0, 5
Added a Gemfile Gemfile.lock to allow for easier dep management  Added sessions to u_i_catalog, 64702345, 5, 0, 5
Merge pull request #116 from santiycr/master  more hybrid commands, 64702345, 5, 0, 5
Added details for scrolling -- Not yet functional, 64702345, 5, 0, 5
getAttribute boom!, 64702345, 5, 0, 5
improved findElement handling + an attempt to make the click test actually test stuff. Need more solid driver.get, 64702345, 5, 0, 5
Version bump., 64702345, 5, 0, 5
Merge pull request #115 from sourishkrout/master  Be less cryptic in case Appium couldn't start up., 64702345, 5, 0, 5
Be friendlier in case Appium is already running., 64702345, 5, 0, 5
Merge pull request #114 from sourishkrout/master  Check ENV for Appium.app, 64702345, 5, 0, 5
Check ENV for Appium.app., 64702345, 5, 0, 5
Merge pull request #113 from sourishkrout/master  Added more info to exception., 64702345, 5, 0, 5
Added more info to exception., 64702345, 5, 0, 5
testfix, 64702345, 5, 0, 5
Merge pull request #111 from santiycr/master  Support for more hybrid commands, 64702345, 5, 0, 5
getText and click in webviews working  Also: - Refactoring error and result handling for executeAtom (soon to be moved out of   remote debugger). - Tests, 64702345, 5, 0, 5
Merge pull request #112 from jlipps/master  better keys for urls, 64702345, 5, 0, 5
use keys() instead of sendKeys() because sendKeys doesn't use keyboard (dumbly), 64702345, 5, 0, 5
Merge pull request #110 from sourishkrout/master  Give modules directory a shot before failing, 64702345, 5, 0, 5
Merge pull request #109 from jmathes/master  hey pull this, 64702345, 5, 0, 5
Check for instruments client in modules folder if not available at first., 64702345, 5, 0, 5
Merge pull request #108 from rossrowe/master  Resolved test failures in Java tests, 64702345, 5, 0, 5
here's a test, 64702345, 5, 0, 5
this code was almost definitely not written by jlipps, 64702345, 5, 0, 5
Resolve test failures, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Bumping version for a publish of 0.0.5, 64702345, 5, 0, 5
Merge pull request #107 from admc/master  Show the actual version number from the cmd line, 64702345, 5, 0, 5
Printing out the actual version number, 64702345, 5, 0, 5
Changed from sauce-labs/appium to appium/appium, 64702345, 5, 0, 5
Adding java, 64702345, 5, 0, 5
Merge pull request #105 from rossrowe/master  Ported Python tests to Java, 64702345, 5, 0, 5
Merge pull request #106 from jlipps/master  nav to url for webview, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
add nav to url function for web view, 64702345, 5, 0, 5
Merge pull request #104 from maudineormsby/master  Ruby sauce example, 64702345, 5, 0, 5
Updated path of app, 64702345, 5, 0, 5
Merge pull request #103 from santiycr/master  squashing the bugs, 64702345, 5, 0, 5
fixing all the bugs in jlipps code, 64702345, 5, 0, 5
Ruby example for Sauce., 64702345, 5, 0, 5
Ported tests to TestNG, 64702345, 5, 0, 5
Initial Java port of tests, 64702345, 5, 0, 5
Merge pull request #102 from jlipps/master  fix some things with remote debugging, 64702345, 5, 0, 5
Merge pull request #101 from sourishkrout/master  Added web hook support for logging., 64702345, 5, 0, 5
fixing remote debugger connections and relax webview app requirements and refactor all the things, 64702345, 5, 0, 5
Added optional webhook for logging., 64702345, 5, 0, 5
Initial Java port of tests, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #100 from santiycr/master  let the hybrid magic begin, 64702345, 5, 0, 5
first iteration on findElement/s, 64702345, 5, 0, 5
wording, 64702345, 5, 0, 5
Adding links to credits, 64702345, 5, 0, 5
Merge pull request #99 from admc/master  README needs to match appium.io data, 64702345, 5, 0, 5
Merge remote-tracking branch 'upstream/master', 64702345, 5, 0, 5
adding support for GET title on web view, 64702345, 5, 0, 5
Making the readme match appium.io, 64702345, 5, 0, 5
Merge pull request #96 from maudineormsby/master  Use environment variables for raw.js, 64702345, 5, 0, 5
Merge pull request #97 from jlipps/master  more PHP example love, 64702345, 5, 0, 5
Merge pull request #98 from DylanLacey/master  Sample codes for Rubys, 64702345, 5, 0, 5
Merge branch 'master' of github.com:DylanLacey/appium-1, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
It helps to add things to the right repository.  Added a simple complex test., 64702345, 5, 0, 5
update php example and add sauce php example, 64702345, 5, 0, 5
Bump version for npm publish., 64702345, 5, 0, 5
Merge pull request #95 from sourishkrout/master  Bin for instruments socket client (for 'npm install -g appium'), 64702345, 5, 0, 5
Fixing all the lintz!, 64702345, 5, 0, 5
Python example on Sauce., 64702345, 5, 0, 5
Use environment variables for raw.js, 64702345, 5, 0, 5
Merge pull request #94 from maudineormsby/master  Sauce example for python, 64702345, 5, 0, 5
Added bin (npm install -g) for instruments socket client., 64702345, 5, 0, 5
Merge pull request #93 from santiycr/master  executeScript yay!, 64702345, 5, 0, 5
Wrapping up execute script with jlipps, 64702345, 5, 0, 5
Python example on Sauce., 64702345, 5, 0, 5
Adding Apache2 license file, 64702345, 5, 0, 5
Starting work on execute script with jlipps, 64702345, 5, 0, 5
Merge pull request #92 from sah/master  mention we're open source in the README, 64702345, 5, 0, 5
mention appium is open source just to be clear, 64702345, 5, 0, 5
Merge pull request #90 from jlipps/master  more remote debugger functionality, 64702345, 5, 0, 5
linting, 64702345, 5, 0, 5
getting routing/controller/device hooked up to remote debugger via JSONWP, 64702345, 5, 0, 5
Adding a very simple local test for the appium.io examples, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
initial work on listing web frames/windows via remote debugger, 64702345, 5, 0, 5
keep track of bundle ID when we start up, 64702345, 5, 0, 5
make grunt buildApp handle more SDKs update readme, 64702345, 5, 0, 5
add callFunctionOn capability to remote debugger, 64702345, 5, 0, 5
Merge pull request #89 from jlipps/master  bring remote debugger into our codebase in a nice way, 64702345, 5, 0, 5
fixing lint!, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
refactor remote debugger, 64702345, 5, 0, 5
Adding some node examples in other formats, 64702345, 5, 0, 5
Bumping version to publish, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Fixing the require issue, 64702345, 5, 0, 5
Added initial Java testing code, 64702345, 5, 0, 5
Now require('appium') works again., 64702345, 5, 0, 5
Merge pull request #87 from jlipps/master  misc stuff pulling in some remote webkit debugging code, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #88 from sourishkrout/master  Swap flick/swipe, 64702345, 5, 0, 5
Switch to swipe as default., 64702345, 5, 0, 5
playing around with remote debugger for automating webviews, 64702345, 5, 0, 5
tell uiauto how to keep track of whether we're in a web frame, 64702345, 5, 0, 5
misc fixes, 64702345, 5, 0, 5
Merge pull request #86 from bernii/master  Fixing merge conflicts of another pull request, 64702345, 5, 0, 5
fixing merge conflicts, 64702345, 5, 0, 5
give sauce example test a name, 64702345, 5, 0, 5
Refactored element look up., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #85 from sourishkrout/master  Make flick work reliably, 64702345, 5, 0, 5
Another flick fix to deal with the value of zero., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #84 from sourishkrout/master  Logging for element look up matching, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
More logging will proof to be helpful here., 64702345, 5, 0, 5
Merge pull request #83 from jlipps/master  misc screenshot/flick fixes, 64702345, 5, 0, 5
be more accepting in cases we take for flick, 64702345, 5, 0, 5
fix screenshot reading behavior, 64702345, 5, 0, 5
updated with Jason's feedback, 64702345, 5, 0, 5
oops i lied let's make sure this isn't always on, 64702345, 5, 0, 5
Merge pull request #82 from jlipps/master  fix issues with flick(), 64702345, 5, 0, 5
fix flick parameter issues and institute standard missing param response, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #79 from bernii/master  Adding getPageIndex to make UIAPageIndicator work, 64702345, 5, 0, 5
Merge pull request #81 from jlipps/master  fix flick/flickElement decision tree, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
fix to allow flickElement to be called via same url as flick, 64702345, 5, 0, 5
Merge pull request #80 from jlipps/master  Make tests run faster with system clock hack, 64702345, 5, 0, 5
ability to warp time and visit the future, 64702345, 5, 0, 5
adding getPageIndex to make UIAPageIndicator work, 64702345, 5, 0, 5
various edits including Android shoutout, 64702345, 5, 0, 5
Shout out for Android., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #77 from sourishkrout/master  Various improvements. Especially to make java bindings work properly., 64702345, 5, 0, 5
Fixed flick (non-element bound)., 64702345, 5, 0, 5
Parse string to JSON obj before checking assert's., 64702345, 5, 0, 5
Java bindings won't accept plain JSON object. Needs to be serialized to not make it blow up., 64702345, 5, 0, 5
add sauce driverblock and example test, 64702345, 5, 0, 5
Made java client bindings' quit happy., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #76 from jlipps/master  moar examples this time a sauce integration one, 64702345, 5, 0, 5
add sauce driverblock and example test, 64702345, 5, 0, 5
Merge pull request #75 from jlipps/master  various test and bug fixes, 64702345, 5, 0, 5
fixing tests to use new style of element finding, 64702345, 5, 0, 5
if we run a bunch of tests in a row sometimes log file handles collide, 64702345, 5, 0, 5
result might be null sometimes but we don't want to pass that on, 64702345, 5, 0, 5
be smarter about what cases might occur here, 64702345, 5, 0, 5
more edits, 64702345, 5, 0, 5
fixing this test doesn't work with new pre-launch behavior, 64702345, 5, 0, 5
Merge pull request #74 from jlipps/master  make pre-launching handle the first session, 64702345, 5, 0, 5
make grunt appium:XXX pre-launch, 64702345, 5, 0, 5
allow pre-launched app to be the first session, 64702345, 5, 0, 5
Merge pull request #73 from jlipps/master  make getPageSource return nice JSON, 64702345, 5, 0, 5
return nice json for getPageSource rather than non-standard format, 64702345, 5, 0, 5
removing console.log file that snuck in, 64702345, 5, 0, 5
Merge pull request #72 from sourishkrout/master  Rewrite to allow transparent ID generation., 64702345, 5, 0, 5
Made contextual lookup work again., 64702345, 5, 0, 5
Create ids on the fly rewrite., 64702345, 5, 0, 5
Merge pull request #70 from admc/master  bump version, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #71 from jlipps/master  fix some logging issues, 64702345, 5, 0, 5
make instruments use same logger as appium, 64702345, 5, 0, 5
Bumping version to push current code to npm, 64702345, 5, 0, 5
Merge pull request #69 from jlipps/master  more robust logging options, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
allow winston to log to file by starting server with --log also can tail log by running 'grunt log', 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #68 from jlipps/master  Standardization/defensive coding for JSONWP compatibility, 64702345, 5, 0, 5
Merge pull request #67 from sourishkrout/master  Stash it all in cache for subsequent use. + Test, 64702345, 5, 0, 5
Cleaner copy part 2., 64702345, 5, 0, 5
Cleaner copy., 64702345, 5, 0, 5
also handle case where an Error object is passed into handler, 64702345, 5, 0, 5
standardize ways of generating appium responses to conform to jsonwp, 64702345, 5, 0, 5
Add test for internally generated identifiers., 64702345, 5, 0, 5
create middleware file to make things clean, 64702345, 5, 0, 5
Merge pull request #65 from sourishkrout/master  Some elements just don't have names. Need to generate internal identifiers for them., 64702345, 5, 0, 5
Turns out we need internal identifiers in some cases., 64702345, 5, 0, 5
Merge pull request #64 from jlipps/master  pre-launch mode, 64702345, 5, 0, 5
add a pre-launch mode that doesn't listen until sim is running, 64702345, 5, 0, 5
Merge pull request #63 from jlipps/master  conform better to JSONWP spec, 64702345, 5, 0, 5
fix this appium test using the wrong finder logic, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
remove .only, 64702345, 5, 0, 5
handle pre-stopped edge case better, 64702345, 5, 0, 5
fix unit tests and instruments exit behavior, 64702345, 5, 0, 5
tests of 500 server error behavior, 64702345, 5, 0, 5
Merge pull request #62 from penguinho/master  Moving Over Robot Calibration App first part of Robot Code Port, 64702345, 5, 0, 5
Moving Robot Calibration App to better location, 64702345, 5, 0, 5
Copying over Robot Calibration Code, 64702345, 5, 0, 5
send 500s on internal errors to conform with JSONWP, 64702345, 5, 0, 5
a bit of cleanup, 64702345, 5, 0, 5
follow JSONWP in allowing not implemented methods and responding with 501, 64702345, 5, 0, 5
starting on on some jsonwp compatibility fixes and tests, 64702345, 5, 0, 5
move appiumutils tests into tests/functional/appium/, 64702345, 5, 0, 5
multiple edits, 64702345, 5, 0, 5
Merge pull request #61 from jlipps/master  up socket client timeout, 64702345, 5, 0, 5
up socket client timeout, 64702345, 5, 0, 5
Merge pull request #60 from santiycr/master  Location header thingie, 64702345, 5, 0, 5
sending location through Location header like http says, 64702345, 5, 0, 5
Merge pull request #59 from jlipps/master  JSONWP compatibility fixes, 64702345, 5, 0, 5
updates to correspond to JSONWP, 64702345, 5, 0, 5
Merge pull request #58 from sourishkrout/master  Fix for the one remaining functional UICatalog test, 64702345, 5, 0, 5
Changed test to emphasis contextual lookup testing., 64702345, 5, 0, 5
Made sure all tests execute., 64702345, 5, 0, 5
Merge pull request #57 from jlipps/master  fail gracefully on bad http requests, 64702345, 5, 0, 5
Merge pull request #56 from sourishkrout/master  Fixes for context sensitive lookup; doesn't fix the UICatalog tests yet, 64702345, 5, 0, 5
fail gracefully if someone sends in a bad http request, 64702345, 5, 0, 5
Fixes for context based look up., 64702345, 5, 0, 5
move delay() from its own file into helpers, 64702345, 5, 0, 5
Merge pull request #55 from sourishkrout/master  Major refactoring and made element lookup by name available, 64702345, 5, 0, 5
Code quality changes., 64702345, 5, 0, 5
Added note, 64702345, 5, 0, 5
Tests all pass using new mechanic.js abstraction layer., 64702345, 5, 0, 5
Migrated getActiveElement to use mechanic.js abstraction., 64702345, 5, 0, 5
Added plumbing to make custom UIAElement methods available., 64702345, 5, 0, 5
Final touches for lookup by name., 64702345, 5, 0, 5
Changes necessary to make tests pass., 64702345, 5, 0, 5
More migration to mechanic.js. Get elements by name available now., 64702345, 5, 0, 5
Green on black is much easier to read., 64702345, 5, 0, 5
Migrated element by tag name / name to use abstraction., 64702345, 5, 0, 5
Added lookup cache., 64702345, 5, 0, 5
Added accessibility labels to be able to test look up by name., 64702345, 5, 0, 5
Made elementByName available (more refactoring/migration to be done soon)., 64702345, 5, 0, 5
Merge pull request #54 from jlipps/master  small fixes, 64702345, 5, 0, 5
some small fixes, 64702345, 5, 0, 5
Merge pull request #53 from jlipps/master  use github to serve static test zip, 64702345, 5, 0, 5
download test zipped apps from repo instead of jlipps site cleanup, 64702345, 5, 0, 5
Merge pull request #52 from jlipps/master  Adding some downloadable assets, 64702345, 5, 0, 5
add app zip files for use in tests, 64702345, 5, 0, 5
Merge pull request #48 from sourishkrout/master  Let's catch up with communication protocol changes., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
update readme and example tests to use new way of starting app, 64702345, 5, 0, 5
fix various tests based on new structure, 64702345, 5, 0, 5
fix unit test, 64702345, 5, 0, 5
create better test organization say which tests need --app and which don't, 64702345, 5, 0, 5
update tests to use desired caps app rather than relying on server, 64702345, 5, 0, 5
don't run tests by starting server with app anymore let's do it all from desired caps, 64702345, 5, 0, 5
test url unzipping and make sure we don't cache app accidentally, 64702345, 5, 0, 5
allow loading of app by path or url from desired capabilities also a lot of stability improvements and error handling, 64702345, 5, 0, 5
beautiful curly braces for Sebastian, 64702345, 5, 0, 5
Merge pull request #51 from jlipps/master  docs and examples update, 64702345, 5, 0, 5
update readme and example tests to use new way of starting app, 64702345, 5, 0, 5
Merge pull request #50 from jlipps/master  No longer require --app to start appium; support desiredCaps method, 64702345, 5, 0, 5
fix various tests based on new structure, 64702345, 5, 0, 5
fix unit test, 64702345, 5, 0, 5
create better test organization say which tests need --app and which don't, 64702345, 5, 0, 5
update tests to use desired caps app rather than relying on server, 64702345, 5, 0, 5
don't run tests by starting server with app anymore let's do it all from desired caps, 64702345, 5, 0, 5
test url unzipping and make sure we don't cache app accidentally, 64702345, 5, 0, 5
allow loading of app by path or url from desired capabilities also a lot of stability improvements and error handling, 64702345, 5, 0, 5
Merge pull request #49 from bernii/master  beautiful curly braces for Sebastian, 64702345, 5, 0, 5
beautiful curly braces for Sebastian, 64702345, 5, 0, 5
Better debugging: Output the contents of the object instead of the type., 64702345, 5, 0, 5
Minor improvement., 64702345, 5, 0, 5
Merge pull request #47 from jlipps/master  update page source schema/tests, 64702345, 5, 0, 5
update page source tests to reflect new schema, 64702345, 5, 0, 5
Merge pull request #46 from jlipps/master  better instruments more appiumutils refactoring, 64702345, 5, 0, 5
update appiumutils with getTree and better pageSource, 64702345, 5, 0, 5
allow instruments to handle data transmissions larger than buffer size, 64702345, 5, 0, 5
Merge pull request #45 from jlipps/master  replace deactivateApp and takeScreenshot with mechanic, 64702345, 5, 0, 5
reorganize screen orientation appiumutils commands, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
replace deactivateApp and takeScreenshot functions with mechanic equivalents, 64702345, 5, 0, 5
Merge pull request #44 from jlipps/master  set stage for rearchitecture of appiumutils.js, 64702345, 5, 0, 5
beginning reorganization of appiumutils and starting tests, 64702345, 5, 0, 5
Merge pull request #43 from jlipps/master  don't hardcode node binary path, 64702345, 5, 0, 5
get node binary from path more flexibly, 64702345, 5, 0, 5
Merge pull request #42 from jlipps/master  grunt update, 64702345, 5, 0, 5
make sure all uicatalog tests get run, 64702345, 5, 0, 5
Merge pull request #41 from bernii/master  Flick element - make flick work with sliders, 64702345, 5, 0, 5
flick element - work with sliders etc., 64702345, 5, 0, 5
Merge pull request #40 from jlipps/master  make appium+instruments connection more robust, 64702345, 5, 0, 5
Merge pull request #39 from bernii/master  Flick implementation and typo fix, 64702345, 5, 0, 5
update unit tests with desiredCaps, 64702345, 5, 0, 5
move session management into controllers where it belongs, 64702345, 5, 0, 5
fixing merge conflicts, 64702345, 5, 0, 5
downgrade instruments stderr output so it doesn't clutter test output, 64702345, 5, 0, 5
allow appium to recover from surprise instruments exits and tests, 64702345, 5, 0, 5
flick test (using UICatalog app) fix: use camelcase in flick, 64702345, 5, 0, 5
Merge pull request #38 from lukeis/master  ignoreing intellij files, 64702345, 5, 0, 5
ignoring intellij files, 64702345, 5, 0, 5
Merge pull request #37 from santiycr/master  Improved error handling, 64702345, 5, 0, 5
ohai this is js not python, 64702345, 5, 0, 5
a bit nicer code put multiple it inside describes, 64702345, 5, 0, 5
adding test to prove correct error handling, 64702345, 5, 0, 5
final fixes and compliance with the new error handling pattern, 64702345, 5, 0, 5
fixing sessions test to comply to JSONWP, 64702345, 5, 0, 5
fixing unit test, 64702345, 5, 0, 5
Improving error handling:  - The device now replies with a partially valid JSONWireProtocol response (no sessionId). - Controller methods now automatically inject things like the sessionId and check the response from the device - All status codes used come from status.js, 64702345, 5, 0, 5
Merge pull request #32 from bernii/master  Updated appium to make python example work, 64702345, 5, 0, 5
new style of returning responses test methods for getAttribute clear and active fix for active in appiumutils return empty string if UIATextField has no value, 64702345, 5, 0, 5
cleanup, 64702345, 5, 0, 5
example python tests update, 64702345, 5, 0, 5
added getAttribute clear and active @sourishkrout please review clear (in ios.js) and active (as I had to modify appiumutils.js to make that work), 64702345, 5, 0, 5
Merge pull request #36 from jlipps/master  Add php example test with various fixes, 64702345, 5, 0, 5
update php example test, 64702345, 5, 0, 5
better handling of content-length variations, 64702345, 5, 0, 5
stub out POST url method so some libraries e.g. phpunit work, 64702345, 5, 0, 5
Merge pull request #35 from sourishkrout/master  Cleaning up after myself, 64702345, 5, 0, 5
Didn't realize I broke these tests. Here's a fix! Sorry!, 64702345, 5, 0, 5
add simple php test example, 64702345, 5, 0, 5
add sausage for php example, 64702345, 5, 0, 5
Merge pull request #34 from jlipps/master  update authors, 64702345, 5, 0, 5
add self to authors fix spelling, 64702345, 5, 0, 5
Differentiate dev instructions from users, 64702345, 5, 0, 5
Merge pull request #31 from sourishkrout/master  Cleaner interfaces for error handling, 64702345, 5, 0, 5
Merge pull request #30 from bernii/master  Python Unit Test, 64702345, 5, 0, 5
Error codes live in app/status.js now., 64702345, 5, 0, 5
Refactoring for more error handling., 64702345, 5, 0, 5
use the latest selenium version notice, 64702345, 5, 0, 5
python unit test example using appium, 64702345, 5, 0, 5
Adding software reqs, 64702345, 5, 0, 5
Merge pull request #29 from penguinho/master  Copying over official release signed by Zoosk VP permitting Appium to have full rights to the original Appium code, 64702345, 5, 0, 5
Copying over release of rights from Zoosk for ios automation code used in Appium, 64702345, 5, 0, 5
Update README.md, 64702345, 5, 0, 5
Merge pull request #28 from penguinho/master  Moving AUTHORS file from old python appium project, 64702345, 5, 0, 5
Moving AUTHORS over from python appium project, 64702345, 5, 0, 5
Merge pull request #27 from admc/master  Getting the shell working and system binary, 64702345, 5, 0, 5
LINTING MY BIN CI!, 64702345, 5, 0, 5
Binary + shell + prep for publish to npm, 64702345, 5, 0, 5
Merge pull request #26 from sourishkrout/master  Basis for improved error handling., 64702345, 5, 0, 5
First stab at improved error handling., 64702345, 5, 0, 5
Merge pull request #25 from jlipps/master  some doc changes, 64702345, 5, 0, 5
updated readme with more instructions for different kinds of people, 64702345, 5, 0, 5
Merge pull request #24 from jmathes/master  code cleanup, 64702345, 5, 0, 5
don't need 3 trailing lines, 64702345, 5, 0, 5
update list of completed methods, 64702345, 5, 0, 5
Merge pull request #23 from jlipps/master  minor correction, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Merge pull request #22 from sourishkrout/master  Getting flick to do its work., 64702345, 5, 0, 5
Getting flick straight., 64702345, 5, 0, 5
correct attribution, 64702345, 5, 0, 5
Fixed udid parser arg., 64702345, 5, 0, 5
Merge pull request #21 from jlipps/master  Use node instead of python for "authorize.py", 64702345, 5, 0, 5
nodeify the authorization script and update readme, 64702345, 5, 0, 5
Fixed spacing., 64702345, 5, 0, 5
Merge pull request #20 from jlipps/master  fix for merging different types of appium servers into tests, 64702345, 5, 0, 5
to reuse the server we need to rescope these variables, 64702345, 5, 0, 5
Merge pull request #19 from jlipps/master  findElementFromElement methods and grunt running uicatalog tests side-by-side, 64702345, 5, 0, 5
update lint and run during tests, 64702345, 5, 0, 5
merge admc pull request #17 and fix conflict, 64702345, 5, 0, 5
update grunt to run both testapp and uicatalog tests, 64702345, 5, 0, 5
Merge pull request #18 from sourishkrout/master  Rmvd trailing white space, 64702345, 5, 0, 5
add uicatalog tests, 64702345, 5, 0, 5
need to access the element array, 64702345, 5, 0, 5
Removed trailing whitespaces., 64702345, 5, 0, 5
Merge pull request #17 from admc/master  Adding flick like woah without a test :-(, 64702345, 5, 0, 5
convert findElement.js to shoulds, 64702345, 5, 0, 5
add element/:id/element(s) methods, 64702345, 5, 0, 5
Adding flick without a test :(, 64702345, 5, 0, 5
Merge pull request #16 from sourishkrout/master  One more unit test to verify the inner Appium machinery is working properly., 64702345, 5, 0, 5
Merge pull request #15 from jmathes/master  hey here's a pull request, 64702345, 5, 0, 5
Fixed linter issues., 64702345, 5, 0, 5
sweep up some unnecessary codez, 64702345, 5, 0, 5
Added unit test for appium http request queue., 64702345, 5, 0, 5
Make appium mocking easier., 64702345, 5, 0, 5
unclaim'd, 64702345, 5, 0, 5
claim'd, 64702345, 5, 0, 5
this is done also too also, 64702345, 5, 0, 5
already moved, 64702345, 5, 0, 5
keep docs freshy, 64702345, 5, 0, 5
Merge pull request #14 from santiycr/master  Sorting the list of TODO APIs for better coordination of work, 64702345, 5, 0, 5
let's prioritize the PyAppium API in our TODO, 64702345, 5, 0, 5
moving test to should, 64702345, 5, 0, 5
Merge pull request #13 from jlipps/master  Ported more things to use the nice testing framework, 64702345, 5, 0, 5
ported timeouts.js to use describeWd, 64702345, 5, 0, 5
ported source.js to use describeWd, 64702345, 5, 0, 5
ported size.js to use describeWd, 64702345, 5, 0, 5
Merge pull request #12 from jlipps/master  grunt logging driverBlock, 64702345, 5, 0, 5
ported sessions.js to use describeWd, 64702345, 5, 0, 5
use a better interface: describeWd() instead of describe() + driverBlock(), 64702345, 5, 0, 5
ported frames.js to use driverBlock, 64702345, 5, 0, 5
ported findElement.js to use driverBlock, 64702345, 5, 0, 5
updated basic.js to use driverBlock for setup/teardown of wd, 64702345, 5, 0, 5
added driverblock.js and a demo of its use in simple.js, 64702345, 5, 0, 5
fixing weird conflict, 64702345, 5, 0, 5
Merge pull request #11 from santiycr/master  Adding support for frame switching, 64702345, 5, 0, 5
still allow appium logging if you run 'grunt test:log', 64702345, 5, 0, 5
Used this method to verify whether refactoring was successful. No longer needed., 64702345, 5, 0, 5
adding support for getting element's size, 64702345, 5, 0, 5
moving location test to new location API + moving assertions inside driver.quit callback, 64702345, 5, 0, 5
adding support for frame switching will need an app with frames to test properly, 64702345, 5, 0, 5
Merge pull request #10 from santiycr/master  getSize support, 64702345, 5, 0, 5
Used this method to verify whether refactoring was successful. No longer needed., 64702345, 5, 0, 5
don't show appium logging in console during tests, 64702345, 5, 0, 5
adding support for getting element's size, 64702345, 5, 0, 5
moving location test to new location API + moving assertions inside driver.quit callback, 64702345, 5, 0, 5
Plural :), 64702345, 5, 0, 5
Helping contributors getting boot-strapped., 64702345, 5, 0, 5
adding mobileSafari task to easily launch MobileSafari, 64702345, 5, 0, 5
spawn mocha as a subprocess to enable single-command test running, 64702345, 5, 0, 5
add should to deps, 64702345, 5, 0, 5
Merge pull request #9 from lukeis/master  two things: adding info to README + authorize.py & allowing to specify an arbitrary app, 64702345, 5, 0, 5
make the python command block 'pretty', 64702345, 5, 0, 5
be able to specify absolute path to app to pass in., 64702345, 5, 0, 5
adding 'prerequisites' to readme  adding info about security dialog too adding authorize.py from hugs/appium, 64702345, 5, 0, 5
Merge pull request #8 from brainsik/master  test driver.source, 64702345, 5, 0, 5
move assertion inside driver.quit(), 64702345, 5, 0, 5
Test for driver.source, 64702345, 5, 0, 5
implemented above, 64702345, 5, 0, 5
oops this doesn't need 'only', 64702345, 5, 0, 5
Merge pull request #7 from santiycr/master  Added support for getting element's location, 64702345, 5, 0, 5
missing location test, 64702345, 5, 0, 5
spin for screenshot so file i/o doesn't cause errors. this should be abstracted for other use cases!, 64702345, 5, 0, 5
Adding support for getting an element's location, 64702345, 5, 0, 5
Using dev WD, 64702345, 5, 0, 5
fixing some test assertion styles, 64702345, 5, 0, 5
Chngd default mocha test reporter., 64702345, 5, 0, 5
make these tests use mocha best practices, 64702345, 5, 0, 5
allow 'grunt test' to spin up and shutdown server before/after tests, 64702345, 5, 0, 5
i think this person meant to check for typeof undefined?, 64702345, 5, 0, 5
Merge pull request #4 from bernii/master  porting GET and POST '/session/:sessionId/orientation', 64702345, 5, 0, 5
porting '/wd/hub/session/:sessionId/screenshot' update in instruments - creating unique temp dir that is used by UIAutomation to store screenshots there is some problem with test - socket times out waiting for new command, 64702345, 5, 0, 5
UDID to udid fix as this is how arg is called in grunt.js, 64702345, 5, 0, 5
Merge pull request #6 from santiycr/master  Nailed findElement and added tests for both findElements and findElement, 64702345, 5, 0, 5
Merge branch 'master' of github.com:bernii/appium  Conflicts: 	app/controller.js, 64702345, 5, 0, 5
getting rid of python-style variable name, 64702345, 5, 0, 5
porting GET and POST '/session/:sessionId/orientation' submitted pull request to wd.js (setOrientation getOrientation), 64702345, 5, 0, 5
porting '/session/:sessionId/timeouts/implicit_wait' WE NEED A TEST FOR THAT, 64702345, 5, 0, 5
getting rid of python-style variable name, 64702345, 5, 0, 5
findElement + tests yay!, 64702345, 5, 0, 5
Merge pull request #5 from santiycr/master  Implicit wait support, 64702345, 5, 0, 5
disabling the test until we decide to fix implicit waits in appium both python and js, 64702345, 5, 0, 5
test for implicit wait, 64702345, 5, 0, 5
adding support for implicit waits, 64702345, 5, 0, 5
porting GET and POST '/session/:sessionId/orientation' submitted pull request to wd.js (setOrientation getOrientation), 64702345, 5, 0, 5
No more plain console.log across node js code., 64702345, 5, 0, 5
Added winston to dependencies., 64702345, 5, 0, 5
Added canonical home for loggers. More config work need to be done here., 64702345, 5, 0, 5
Made sure it works either way: The cl interface won't be able to supply a callback., 64702345, 5, 0, 5
Queue concurrent sessions and handle them one by one., 64702345, 5, 0, 5
comment out that test for now it doesn't play nice in the current system, 64702345, 5, 0, 5
added an example of how to run server along with tests in the test file, 64702345, 5, 0, 5
Build app before running functional tests., 64702345, 5, 0, 5
we don't need these python reference files anymore, 64702345, 5, 0, 5
enable downloading and building of UICatalog app from Apple, 64702345, 5, 0, 5
moving capabilities to the device to keep responsibilities clear, 64702345, 5, 0, 5
Made it all work., 64702345, 5, 0, 5
adding support for getSessions + test, 64702345, 5, 0, 5
porting '/session/:sessionId/timeouts/implicit_wait' WE NEED A TEST FOR THAT, 64702345, 5, 0, 5
No more plain console.log across node js code., 64702345, 5, 0, 5
Added winston to dependencies., 64702345, 5, 0, 5
Added canonical home for loggers. More config work need to be done here., 64702345, 5, 0, 5
Made sure it works either way: The cl interface won't be able to supply a callback., 64702345, 5, 0, 5
Queue concurrent sessions and handle them one by one., 64702345, 5, 0, 5
comment out that test for now it doesn't play nice in the current system, 64702345, 5, 0, 5
added an example of how to run server along with tests in the test file, 64702345, 5, 0, 5
Build app before running functional tests., 64702345, 5, 0, 5
we don't need these python reference files anymore, 64702345, 5, 0, 5
enable downloading and building of UICatalog app from Apple, 64702345, 5, 0, 5
Merge pull request #3 from santiycr/master  Adding getSessions, 64702345, 5, 0, 5
moving capabilities to the device to keep responsibilities clear, 64702345, 5, 0, 5
Merge pull request #1 from bernii/master  /session/:sessionId/key implementation and test, 64702345, 5, 0, 5
Made it all work., 64702345, 5, 0, 5
fix: removing merge conflict leftovers, 64702345, 5, 0, 5
} else if { discussion consensus, 64702345, 5, 0, 5
fixing the build: syntax err, 64702345, 5, 0, 5
fixint the build: dependency got lost during merge, 64702345, 5, 0, 5
merge conflicts, 64702345, 5, 0, 5
adding support for getSessions + test, 64702345, 5, 0, 5
moving other tests to basic.js, 64702345, 5, 0, 5
updating sample project to contain alert triggering button porting '/wd/hub/session/<session_id>/alert_text' '/wd/hub/session/<session_id>/accept_alert'  '/wd/hub/session/<session_id>/dismiss_alert', 64702345, 5, 0, 5
porting '/wd/hub/session/<session_id>/source', 64702345, 5, 0, 5
porting /wd/hub/session/<session_id>/element/<element_id>/enabled, 64702345, 5, 0, 5
porting /wd/hub/session/<session_id>/element/<element_id>/displayed, 64702345, 5, 0, 5
/session/:sessionId/key implementation and test, 64702345, 5, 0, 5
fixing the build: have to make a pre-commit hook to run lint for me, 64702345, 5, 0, 5
TODO, 64702345, 5, 0, 5
let appium start as many new sessions in a row as we want, 64702345, 5, 0, 5
better js? who knows, 64702345, 5, 0, 5
add better log information about what it means when there's a socket timeout, 64702345, 5, 0, 5
clean up and refactor instruments, 64702345, 5, 0, 5
modularize instruments client, 64702345, 5, 0, 5
cleaned up instruments socket client, 64702345, 5, 0, 5
Update README.md  Adding & to send appium server to the bg, 64702345, 5, 0, 5
Added linter options in head of file., 64702345, 5, 0, 5
Added unit test for routing., 64702345, 5, 0, 5
Rmvd obsolete route., 64702345, 5, 0, 5
Merge pull request #2 from brainsik/master  Moved us to strict mode, 64702345, 5, 0, 5
add use strict to client.js (inside the function), 64702345, 5, 0, 5
have grunt lint use js strict mode and fix up the codebase to pass, 64702345, 5, 0, 5
This was a translation from the Python. Removing it until we write the real function., 64702345, 5, 0, 5
unused requires, 64702345, 5, 0, 5
That setting gives other unhelpful errors, 64702345, 5, 0, 5
catch trailing whitespace during lint test, 64702345, 5, 0, 5
Ignore SublimeText 2 project files, 64702345, 5, 0, 5
JSHint config, 64702345, 5, 0, 5
fixing lint errors, 64702345, 5, 0, 5
Made jshint and travis happy., 64702345, 5, 0, 5
modify appium so it uses the new cleaner exit interface with socket-based instruments server, 64702345, 5, 0, 5
rewrite of instruments to use sockets rather than HTTP, 64702345, 5, 0, 5
need to wait for instruments to exit shutdown just gives us tracedir, 64702345, 5, 0, 5
updating sample project to contain alert triggering button porting '/wd/hub/session/<session_id>/alert_text' '/wd/hub/session/<session_id>/accept_alert'  '/wd/hub/session/<session_id>/dismiss_alert', 64702345, 5, 0, 5
porting '/wd/hub/session/<session_id>/source', 64702345, 5, 0, 5
porting /wd/hub/session/<session_id>/element/<element_id>/enabled, 64702345, 5, 0, 5
porting /wd/hub/session/<session_id>/element/<element_id>/displayed, 64702345, 5, 0, 5
/session/:sessionId/key implementation and test, 64702345, 5, 0, 5
Subsequent changes due to server.js refactoring., 64702345, 5, 0, 5
Moved iOS specific stuff into ios.js., 64702345, 5, 0, 5
The queue lives in ios.js now., 64702345, 5, 0, 5
Added new layer for iOS abstraction., 64702345, 5, 0, 5
Lint js files before running tests., 64702345, 5, 0, 5
added missing semicolons, 64702345, 5, 0, 5
better grunt app building error reporting, 64702345, 5, 0, 5
fix build app grunt task, 64702345, 5, 0, 5
remove trace dir by default in appium, 64702345, 5, 0, 5
use mechanic, 64702345, 5, 0, 5
update README, 64702345, 5, 0, 5
added grunt task for building test app, 64702345, 5, 0, 5
add grunt task for running appium, 64702345, 5, 0, 5
add a debug mode to instruments, 64702345, 5, 0, 5
Added build status., 64702345, 5, 0, 5
instruments organization; add shutdown handler for dealing with trace dirs; more cleanup, 64702345, 5, 0, 5
Only execute unit tests for now (travis-ci)., 64702345, 5, 0, 5
Added .travis.yml, 64702345, 5, 0, 5
it's markdown not html!, 64702345, 5, 0, 5
update readme with better info building info, 64702345, 5, 0, 5
send UDID to instruments; it's optional; it's UDID not UUID, 64702345, 5, 0, 5
update instruments example with new paths, 64702345, 5, 0, 5
update instruments example with new paths, 64702345, 5, 0, 5
get wd_frame back in, 64702345, 5, 0, 5
rename helpers lib, 64702345, 5, 0, 5
move appiumutils inside helpers, 64702345, 5, 0, 5
moving instruments js files to appium, 64702345, 5, 0, 5
various instruments cleanup; also don't think we need artificial delay, 64702345, 5, 0, 5
Made test more BDD style., 64702345, 5, 0, 5
Made this a real icon file., 64702345, 5, 0, 5
Follow naming conventions., 64702345, 5, 0, 5
Note for functional tests, 64702345, 5, 0, 5
Make sure npm picks up on the right tests., 64702345, 5, 0, 5
Use grunt for everything., 64702345, 5, 0, 5
Run all tests on 'grunt test'., 64702345, 5, 0, 5
Use grunt tasks for tests., 64702345, 5, 0, 5
Lint changes to maintain high level of code quality., 64702345, 5, 0, 5
Unit test the queue implementation., 64702345, 5, 0, 5
updating the readme directions, 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium, 64702345, 5, 0, 5
Darn! Glad I caught this typo. Yay testing!, 64702345, 5, 0, 5
Darn! Glad I caught that typo. Yay testing!, 64702345, 5, 0, 5
Whitespace clean up., 64702345, 5, 0, 5
Keep appium instruments js files where they belong., 64702345, 5, 0, 5
Use default port 4723., 64702345, 5, 0, 5
UIAutomation re-organization., 64702345, 5, 0, 5
Added some doc., 64702345, 5, 0, 5
First simple functional test. Basically port of webdriver-test.py., 64702345, 5, 0, 5
Added some dev dependencies., 64702345, 5, 0, 5
Deal with invalid http POST more gracefully., 64702345, 5, 0, 5
Knock knock... housekeeping., 64702345, 5, 0, 5
more instruments organization, 64702345, 5, 0, 5
move bootstrap helpers into own dir, 64702345, 5, 0, 5
better logging, 64702345, 5, 0, 5
get POST working better, 64702345, 5, 0, 5
handle instruments logging better, 64702345, 5, 0, 5
handle instruments logging better, 64702345, 5, 0, 5
working more on cleaning up instruments, 64702345, 5, 0, 5
I can haz POST., 64702345, 5, 0, 5
Small logging improvement., 64702345, 5, 0, 5
POST results in the body seems to be cleaner., 64702345, 5, 0, 5
Ooooops missing semicolon;, 64702345, 5, 0, 5
Better logging., 64702345, 5, 0, 5
Added /click and /text., 64702345, 5, 0, 5
Not all the results returned from instruments are valid json., 64702345, 5, 0, 5
Added setValue like a boss., 64702345, 5, 0, 5
First stab at element discovery., 64702345, 5, 0, 5
Added command queue., 64702345, 5, 0, 5
WebDriver clients expect sessionId here., 64702345, 5, 0, 5
Handle multiple non-concurrent sessions. Restart instruments per session., 64702345, 5, 0, 5
Merge branch 'master' of github.com:appium/appium  Conflicts: 	grunt.js, 64702345, 5, 0, 5
Subsequent changes to make it work with REST api., 64702345, 5, 0, 5
Stab add hooking up REST http interface with instruments api., 64702345, 5, 0, 5
Added instruments to linting., 64702345, 5, 0, 5
linting instruments directory now, 64702345, 5, 0, 5
use a more test-like example, 64702345, 5, 0, 5
break app building into its own file, 64702345, 5, 0, 5
clean up bootstrap example, 64702345, 5, 0, 5
fix spacing clean up a bit, 64702345, 5, 0, 5
better error handling in result parsing, 64702345, 5, 0, 5
don't put jlipps absolute paths in example, 64702345, 5, 0, 5
rename instruments files for more clarity, 64702345, 5, 0, 5
gitignore, 64702345, 5, 0, 5
get instrument module talking back and forth over http, 64702345, 5, 0, 5
Command line arg parsing lives in its own file now., 64702345, 5, 0, 5
Massive refactor: Mostly to remove ambiguity of the term 'app'., 64702345, 5, 0, 5
add instruments module, 64702345, 5, 0, 5
add gitignore, 64702345, 5, 0, 5
Moving the argument parsing out of server.js for clarity, 64702345, 5, 0, 5
Unified terminal examples, 64702345, 5, 0, 5
Additional doc for grunt., 64702345, 5, 0, 5
Use grunt to lint/jshint files., 64702345, 5, 0, 5
Make sure we don't add certain files/dirs to the repo., 64702345, 5, 0, 5
Adding the test apps and sample code, 64702345, 5, 0, 5
More re-org adding some new commands, 64702345, 5, 0, 5
Keep conventions for function vs. ctor straight., 64702345, 5, 0, 5
Adding the deps, 64702345, 5, 0, 5
More boilerplating of the things, 64702345, 5, 0, 5
wget can haz issues, 64702345, 5, 0, 5
More boiler, 64702345, 5, 0, 5
More boiler plate, 64702345, 5, 0, 5
Getting the initial server and routing working, 64702345, 5, 0, 5
Starting in on boiler, 64702345, 5, 0, 5
Obviously needs to be updated for the node., 64702345, 5, 0, 5
Initial commit, 64702345, 5, 0, 5
remove extraneous word from testsuite, 68631690, 1, 0, 1
remove unnecessary dependency appium-express, 68631690, 1, 0, 1
yargs is a real dep not a dev dep, 68631690, 1, 0, 1
0.1.1, 68631690, 1, 0, 1
have install script not even wait if we're not on windows, 68631690, 1, 0, 1
update winappdriver link to pull from github, 68631690, 1, 0, 1
Merge pull request #4 from appium/isaac-eslint  Fix eslint deps, 68631690, 1, 0, 1
a bit of refactor linting fixing tests etc..., 68631690, 1, 0, 1
Fix eslint deps, 68631690, 1, 0, 1
Merge pull request #3 from jlipps/master  misc fixes and tests, 68631690, 1, 0, 1
update wad md5 to current version  this will of course break download verification but the downloadable version is wrong anyway, 68631690, 1, 0, 1
clean up style remove unnecessary methods fix session creation bug, 68631690, 1, 0, 1
fix encoding issues and test calculator instead of desktop, 68631690, 1, 0, 1
add basic e2e test of driver, 68631690, 1, 0, 1
handle winappdriver output more gracefully, 68631690, 1, 0, 1
change logger name, 68631690, 1, 0, 1
fix startdetector, 68631690, 1, 0, 1
clean up package.json, 68631690, 1, 0, 1
Merge pull request #2 from yodurr/master  launch WinAppDriver process, 68631690, 1, 0, 1
Merge branch 'master' of https://github.com/appium/appium-windows-driver, 68631690, 1, 0, 1
moving a comment, 68631690, 1, 0, 1
fixing startDetector code cleanup & formatting, 68631690, 1, 0, 1
First commit to launch WinAppDriver process using code from  chromedriver as an example on how to do it.  This checkin has open TODO's but the basics work., 68631690, 1, 0, 1
Update README.md, 68631690, 1, 0, 1
Merge pull request #1 from jlipps/master  download/install plus other changes, 68631690, 1, 0, 1
actually add eslintrc, 68631690, 1, 0, 1
add eslint and fix initialization of WindowsDriver, 68631690, 1, 0, 1
move platform check to the right place, 68631690, 1, 0, 1
factor out and export GUID, 68631690, 1, 0, 1
add hook to download and install winappdriver msi on npm install, 68631690, 1, 0, 1
Update README.md, 68631690, 1, 0, 1
Merge pull request #2 from yodurr/master  getting windows-driver working with Appium master, 68631690, 1, 0, 1
getting windows-driver working with Appium master, 68631690, 1, 0, 1
Fix winappdriver start session tests, 68631690, 1, 0, 1
driver/winappdriver unit tests driver proxying, 68631690, 1, 0, 1
copy appium-selenium-driver, 68631690, 1, 0, 1
Update readme, 68631690, 1, 0, 1
Basic WindowsDriver with an instantiation unit test, 68631690, 1, 0, 1
appium-package-master boilerplate, 68631690, 1, 0, 1
Initial commit, 68631690, 1, 0, 1
